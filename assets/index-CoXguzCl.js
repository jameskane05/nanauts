(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();const OM="modulepreload",GM=function(n){return"/nanauts/"+n},DI={},Rd=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){let l=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=l(t.map(c=>{if(c=GM(c),c in DI)return;DI[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":OM,d||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),d)return new Promise((f,A)=>{h.addEventListener("load",f),h.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})};var de;(function(n){n.Int8="Int8",n.Int16="Int16",n.Entity="Entity",n.Float32="Float32",n.Float64="Float64",n.Boolean="Boolean",n.String="String",n.Object="Object",n.Vec2="Vec2",n.Vec3="Vec3",n.Vec4="Vec4",n.Color="Color",n.Enum="Enum"})(de||(de={}));const tp={Int8:{arrayConstructor:Int8Array,length:1},Int16:{arrayConstructor:Int16Array,length:1},Entity:{arrayConstructor:Int32Array,length:1},Float32:{arrayConstructor:Float32Array,length:1},Float64:{arrayConstructor:Float64Array,length:1},Boolean:{arrayConstructor:Uint8Array,length:1},String:{arrayConstructor:Array,length:1},Object:{arrayConstructor:Array,length:1},Vec2:{arrayConstructor:Float32Array,length:2},Vec3:{arrayConstructor:Float32Array,length:3},Vec4:{arrayConstructor:Float32Array,length:4},Color:{arrayConstructor:Float32Array,length:4},Enum:{arrayConstructor:Array,length:1}};let cg=!0;function HM(n){cg=n}var ba;(function(n){n.TypeNotSupported="Type not supported",n.InvalidDefaultValue="Invalid default value",n.InvalidEnumValue="Invalid enum value",n.InvalidRangeValue="Value out of range"})(ba||(ba={}));function qg(n,e,t){if(cg&&!n)throw new Error(`${e}: ${t}`)}function _w(n,e,t){if(!cg)return;if(!Object.values(e).includes(n))throw new Error(`${ba.InvalidEnumValue}: ${n} is not a valid value for enum ${t}`)}function Iw(n,e,t,s){if(cg){if(e!==void 0&&n<e)throw new Error(`${ba.InvalidRangeValue}: ${n} is below minimum ${e} for field ${s}`);if(t!==void 0&&n>t)throw new Error(`${ba.InvalidRangeValue}: ${n} is above maximum ${t} for field ${s}`)}}class wa{constructor(e=0){typeof e=="number"?(this.words=new Uint32Array(1),this.words[0]=e>>>0):(this.words=new Uint32Array(e.length),this.words.set(e))}get bits(){return this.words[0]>>>0}ensure(e){if(e<this.words.length)return;const t=Math.max(this.words.length<<1,e+1),s=new Uint32Array(t);s.set(this.words),this.words=s}set(e,t){const s=e/32|0,i=e&31;this.ensure(s);const r=1<<i;t?this.words[s]|=r:this.words[s]&=~r}or(e){var t,s;const i=new wa(new Uint32Array(Math.max(this.words.length,e.words.length))),r=this.words,o=e.words,a=i.words,l=a.length;for(let c=0;c<l;c++)a[c]=((t=r[c])!==null&&t!==void 0?t:0)|((s=o[c])!==null&&s!==void 0?s:0);return i}and(e){var t,s;const i=new wa(new Uint32Array(Math.max(this.words.length,e.words.length))),r=this.words,o=e.words,a=i.words,l=a.length;for(let c=0;c<l;c++)a[c]=((t=r[c])!==null&&t!==void 0?t:0)&((s=o[c])!==null&&s!==void 0?s:0);return i}andNot(e){var t,s;const i=new wa(new Uint32Array(Math.max(this.words.length,e.words.length))),r=this.words,o=e.words,a=i.words,l=a.length;for(let c=0;c<l;c++)a[c]=((t=r[c])!==null&&t!==void 0?t:0)&~((s=o[c])!==null&&s!==void 0?s:0);return i}orInPlace(e){this.ensure(e.words.length-1);const t=this.words,s=e.words;for(let i=0;i<s.length;i++)t[i]|=s[i]}andNotInPlace(e){const t=this.words,s=e.words,i=Math.min(t.length,s.length);for(let r=0;r<i;r++)t[r]&=~s[r]}equals(e){var t,s;const i=Math.max(this.words.length,e.words.length);for(let r=0;r<i;r++){const o=(t=this.words[r])!==null&&t!==void 0?t:0,a=(s=e.words[r])!==null&&s!==void 0?s:0;if(o!==a)return!1}return!0}isEmpty(){const e=this.words;for(let t=0;t<e.length;t++)if(e[t]!==0)return!1;return!0}clear(){this.words.fill(0)}toArray(){const e=[],t=this.words;for(let s=0;s<t.length;s++){let i=t[s];for(;i;){const r=i&-i,o=31-Math.clz32(r);e.push((s<<5)+o),i&=i-1}}return e}toString(){if(this.words.length===1)return this.words[0].toString();let e="";for(let t=this.words.length-1;t>=0;t--){const s=this.words[t].toString(16);e+=t===this.words.length-1?s:"-"+s}return e}contains(e){var t;const s=this.words,i=e.words,r=i.length;for(let o=0;o<r;o++){const a=((t=s[o])!==null&&t!==void 0?t:0)>>>0,l=i[o]>>>0;if((a&l)>>>0!==l)return!1}return!0}intersects(e){const t=this.words,s=e.words,i=Math.min(t.length,s.length);for(let r=0;r<i;r++)if((t[r]&s[r])>>>0)return!0;return!1}}class vw{constructor(e,t,s,i){this.entityManager=e,this.queryManager=t,this.componentManager=s,this.index=i,this.bitmask=new wa,this.active=!0,this.vectorViews=new Map}addComponent(e,t={}){return this.active?(e.bitmask===null&&this.componentManager.registerComponent(e),this.bitmask.orInPlace(e.bitmask),this.componentManager.attachComponentToEntity(this.index,e,t),this.queryManager.updateEntity(this,e)):console.warn(`Entity ${this.index} is destroyed, cannot add component ${e.schema}`),this}removeComponent(e){return this.active?e.bitmask&&(this.bitmask.andNotInPlace(e.bitmask),this.vectorViews.delete(e),this.queryManager.updateEntity(this,e)):console.warn(`Entity ${this.index} is destroyed, cannot remove component ${e.schema}`),this}hasComponent(e){return this.bitmask.intersects(e.bitmask)}getComponents(){return this.bitmask.toArray().map(t=>this.componentManager.getComponentByTypeId(t))}getValue(e,t){const s=e.schema[t];if(!s)return null;const r=e.data[t],o=r?r[this.index]:void 0;switch(s.type){case de.Vec2:case de.Vec3:case de.Vec4:case de.Color:throw new Error("Array/vector types must be read via getVectorView(component, key).");case de.Boolean:return!!o;case de.Entity:return o===-1?null:this.entityManager.getEntityByIndex(o);default:return o}}setValue(e,t,s){const i=e.data[t],r=e.schema[t];switch(r.type){case de.Vec2:case de.Vec3:case de.Vec4:case de.Color:throw new Error("Array/vector types must be written via getVectorView(component, key).");case de.Enum:_w(s,r.enum,t),i[this.index]=s;break;case de.Int8:case de.Int16:case de.Float32:case de.Float64:("min"in r||"max"in r)&&Iw(s,r.min,r.max,t),i[this.index]=s;break;case de.Entity:i[this.index]=s===null?-1:s.index;break;default:i[this.index]=s;break}this.queryManager.updateEntityValue(this,e)}getVectorView(e,t){var s;const i=t,r=(s=this.vectorViews.get(e))===null||s===void 0?void 0:s.get(i);if(r)return r;{const o=e.data[t],a=e.schema[t].type,l=tp[a].length,c=this.index*l,d=o.subarray(c,c+l);return this.vectorViews.has(e)||this.vectorViews.set(e,new Map),this.vectorViews.get(e).set(i,d),d}}destroy(){this.active&&(this.active=!1,this.bitmask.clear(),this.vectorViews.clear(),this.queryManager.resetEntity(this),this.entityManager.releaseEntityInstance(this))}}class dg{static record(e){if(this.components.has(e.id))throw new Error(`Component with id '${e.id}' already exists. Each component must have a unique identifier.`);this.components.set(e.id,e)}static getById(e){return this.components.get(e)}static getAllComponents(){return Array.from(this.components.values())}static has(e){return this.components.has(e)}static clear(){this.components.clear()}}dg.components=new Map;function Es(n,e,t){const s={id:n,description:t,schema:e,data:{},bitmask:null,typeId:-1};return dg.record(s),s}function zM(n,e){const t=n.schema;n.data={};for(const s in t){const i=t[s],{type:r,default:o}=i;let{arrayConstructor:a,length:l}=tp[r];r===de.Enum&&qg("enum"in i,ba.InvalidDefaultValue,`Enum type requires 'enum' property for field ${s}`),qg(!!a,ba.TypeNotSupported,r),n.data[s]=new a(e*l),qg(l===1||Array.isArray(o)&&o.length===l,ba.InvalidDefaultValue,s)}}function VM(n,e,t){var s,i,r;const o=n.schema;for(const a in o){const l=o[a],{type:c,default:d}=l,u=tp[c].length,h=n.data[a],f=(s=t[a])!==null&&s!==void 0?s:d;switch(c){case de.Entity:h[e]=f?f.index:-1;break;case de.Enum:_w(f,l.enum,a),h[e]=f;break;case de.Int8:case de.Int16:case de.Float32:case de.Float64:("min"in l||"max"in l)&&Iw(f,l.min,l.max,a),h[e]=f;break;case de.String:h[e]=f;break;case de.Object:h[e]=f;break;case de.Color:{const A=tp[c].length,p=(i=f)!==null&&i!==void 0?i:[1,1,1,1];let g=!1;for(let m=0;m<4;m++){let y=(r=p[m])!==null&&r!==void 0?r:1;y<0?(y=0,g=!0):y>1&&(y=1,g=!0),h[e*A+m]=y}g&&console.warn(`Color values out of range for ${n.id}.${a}; clamped to [0,1].`);break}default:u===1?h[e]=f:h.set(f,e*u);break}}}class qM{constructor(e){this.entityCapacity=e,this.nextComponentTypeId=0,this.componentsByTypeId=[]}hasComponent(e){return e.typeId!==-1&&this.componentsByTypeId[e.typeId]===e}registerComponent(e){if(this.hasComponent(e))return;const t=this.nextComponentTypeId++;e.bitmask=new wa,e.bitmask.set(t,1),e.typeId=t,zM(e,this.entityCapacity),this.componentsByTypeId[t]=e}attachComponentToEntity(e,t,s){VM(t,e,s)}getComponentByTypeId(e){var t;return(t=this.componentsByTypeId[e])!==null&&t!==void 0?t:null}}class WM{constructor(e,t,s){this.queryManager=e,this.componentManager=t,this.entityReleaseCallback=s,this.pool=[],this.entityIndex=0,this.indexLookup=[],this.poolSize=0}requestEntityInstance(){let e;return this.poolSize>0?(e=this.pool[--this.poolSize],e.active=!0):e=new vw(this,this.queryManager,this.componentManager,this.entityIndex++),this.indexLookup[e.index]=e,e}releaseEntityInstance(e){var t;(t=this.entityReleaseCallback)===null||t===void 0||t.call(this,e),this.indexLookup[e.index]=null,this.pool[this.poolSize++]=e}getEntityByIndex(e){var t;return e===-1?null:(t=this.indexLookup[e])!==null&&t!==void 0?t:null}}class LI{constructor(e,t,s,i=[]){this.requiredMask=e,this.excludedMask=t,this.queryId=s,this.subscribers={qualify:new Set,disqualify:new Set},this.entities=new Set,this.valuePredicates=[],this.valuePredicates=i}matches(e){if(!this.excludedMask.isEmpty()&&this.excludedMask.intersects(e.bitmask)||!e.bitmask.contains(this.requiredMask))return!1;if(this.valuePredicates.length>0)for(const t of this.valuePredicates){const s=e.getValue(t.component,t.key);switch(t.op){case"eq":if(s!==t.value)return!1;break;case"ne":if(s===t.value)return!1;break;case"lt":if(!(typeof s=="number"&&typeof t.value=="number"&&s<t.value))return!1;break;case"le":if(!(typeof s=="number"&&typeof t.value=="number"&&s<=t.value))return!1;break;case"gt":if(!(typeof s=="number"&&typeof t.value=="number"&&s>t.value))return!1;break;case"ge":if(!(typeof s=="number"&&typeof t.value=="number"&&s>=t.value))return!1;break;case"in":if(!t.valueSet||!t.valueSet.has(s))return!1;break;case"nin":if(t.valueSet&&t.valueSet.has(s))return!1;break}}return!0}subscribe(e,t,s=!1){if(this.subscribers[e].add(t),e==="qualify"&&s)for(const i of this.entities)t(i);return()=>{this.subscribers[e].delete(t)}}static generateQueryInfo(e){var t;const s=new wa,i=new wa;for(const l of e.required)s.orInPlace(l.bitmask);if(e.excluded)for(const l of e.excluded)i.orInPlace(l.bitmask);const o=((t=e.where)!==null&&t!==void 0?t:[]).map(l=>{const c=l.component.schema[l.key];if(!c)throw new Error(`Predicate key '${l.key}' not found on component ${l.component.id}`);const d=c.type;switch(l.op){case"lt":case"le":case"gt":case"ge":if(!(d===de.Int8||d===de.Int16||d===de.Float32||d===de.Float64))throw new Error(`Operator '${l.op}' only valid for numeric fields: ${l.component.id}.${l.key}`);break;case"in":case"nin":if(!Array.isArray(l.value))throw new Error(`Operator '${l.op}' requires array value for ${l.component.id}.${l.key}`);break}const u={...l};return(l.op==="in"||l.op==="nin")&&(u.valueSet=new Set(l.value)),u});for(const l of o)s.orInPlace(l.component.bitmask);const a=o.map(l=>`${l.component.typeId}:${l.key}:${l.op}=${Array.isArray(l.value)?"arr":String(l.value)}`).join(",");return{requiredMask:s,excludedMask:i,queryId:`required:${s.toString()}|excluded:${i.toString()}|where:${a}`,valuePredicates:o}}}class XM{constructor(e){this.componentManager=e,this.queries=new Map,this.trackedEntities=new Set,this.queriesByComponent=new Map,this.queriesByValueComponent=new Map}registerQuery(e){var t,s,i;for(const c of e.required)c.bitmask===null&&this.componentManager.registerComponent(c);if(e.excluded)for(const c of e.excluded)c.bitmask===null&&this.componentManager.registerComponent(c);if(e.where)for(const c of e.where)c.component.bitmask===null&&this.componentManager.registerComponent(c.component);const{requiredMask:r,excludedMask:o,queryId:a,valuePredicates:l}=LI.generateQueryInfo(e);if(!this.queries.has(a)){const c=new LI(r,o,a,l);for(const u of this.trackedEntities)c.matches(u)&&c.entities.add(u);const d=[...e.required,...(t=e.excluded)!==null&&t!==void 0?t:[],...((s=e.where)!==null&&s!==void 0?s:[]).map(u=>u.component)];for(const u of d){let h=this.queriesByComponent.get(u);h||(h=new Set,this.queriesByComponent.set(u,h)),h.add(c)}for(const u of(i=e.where)!==null&&i!==void 0?i:[]){let h=this.queriesByValueComponent.get(u.component);h||(h=new Set,this.queriesByValueComponent.set(u.component,h)),h.add(c)}this.queries.set(a,c)}return this.queries.get(a)}updateEntity(e,t){var s;if(this.trackedEntities.add(e),e.bitmask.isEmpty()){for(const r of this.queries.values())if(r.entities.delete(e))for(const o of r.subscribers.disqualify)o(e);return}const i=t?(s=this.queriesByComponent.get(t))!==null&&s!==void 0?s:[]:this.queries.values();for(const r of i){const o=r.matches(e),a=r.entities.has(e);if(o&&!a){r.entities.add(e);for(const l of r.subscribers.qualify)l(e)}else if(!o&&a){r.entities.delete(e);for(const l of r.subscribers.disqualify)l(e)}}}updateEntityValue(e,t){this.trackedEntities.add(e);const s=this.queriesByValueComponent.get(t);if(!(!s||s.size===0))for(const i of s){const r=i.matches(e),o=i.entities.has(e);if(r&&!o){i.entities.add(e);for(const a of i.subscribers.qualify)a(e)}else if(!r&&o){i.entities.delete(e);for(const a of i.subscribers.disqualify)a(e)}}}resetEntity(e){if(this.trackedEntities.delete(e),e.bitmask.isEmpty()){for(const s of this.queries.values())if(s.entities.delete(e))for(const i of s.subscribers.disqualify)i(e);return}const t=new Set;for(const s of e.bitmask.toArray()){const i=this.componentManager.getComponentByTypeId(s),r=this.queriesByComponent.get(i);if(r){for(const o of r)if(!t.has(o)){if(o.entities.delete(e))for(const a of o.subscribers.disqualify)a(e);t.add(o)}}}}}let YM=class{constructor({entityCapacity:e=1e3,checksOn:t=!0,entityReleaseCallback:s}={}){this.systems=[],this.globals={},this.componentManager=new qM(e),this.queryManager=new XM(this.componentManager),this.entityManager=new WM(this.queryManager,this.componentManager,s),HM(t)}registerComponent(e){return this.componentManager.registerComponent(e),this}hasComponent(e){return this.componentManager.hasComponent(e)}createEntity(){return this.entityManager.requestEntityInstance()}registerSystem(e,t={}){if(this.hasSystem(e))return console.warn(`System ${e.name} is already registered, skipping registration.`),this;const{configData:s={},priority:i=0}=t,r={};Object.entries(e.queries).forEach(([l,c])=>{r[l]=this.queryManager.registerQuery(c)});const o=new e(this,this.queryManager,i);o.queries=r,Object.entries(s).forEach(([l,c])=>{if(l in o.config){const d=o.config;d[l].value=c}}),o.init();const a=this.systems.findIndex(l=>l.priority>o.priority);return a===-1?this.systems.push(o):this.systems.splice(a,0,o),this}unregisterSystem(e){const t=this.getSystem(e);t&&(t.destroy(),this.systems=this.systems.filter(s=>!(s instanceof e)))}registerQuery(e){return this.queryManager.registerQuery(e),this}update(e,t){for(const s of this.systems)s.isPaused||s.update(e,t)}getSystem(e){for(const t of this.systems)if(t instanceof e)return t}getSystems(){return this.systems}hasSystem(e){return this.systems.some(t=>t instanceof e)}};var JM=Symbol.for("preact-signals");function ug(){if(Ba>1)Ba--;else{for(var n,e=!1;Zu!==void 0;){var t=Zu;for(Zu=void 0,Nx++;t!==void 0;){var s=t.o;if(t.o=void 0,t.f&=-3,!(8&t.f)&&Cw(t))try{t.c()}catch(i){e||(n=i,e=!0)}t=s}}if(Nx=0,Ba--,e)throw n}}function hh(n){if(Ba>0)return n();Ba++;try{return n()}finally{ug()}}var Is=void 0;function Hy(n){var e=Is;Is=void 0;try{return n()}finally{Is=e}}var Zu=void 0,Ba=0,Nx=0,sp=0;function Ew(n){if(Is!==void 0){var e=n.n;if(e===void 0||e.t!==Is)return e={i:0,S:n,p:Is.s,n:void 0,t:Is,e:void 0,x:void 0,r:e},Is.s!==void 0&&(Is.s.n=e),Is.s=e,n.n=e,32&Is.f&&n.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=Is.s,e.n=void 0,Is.s.n=e,Is.s=e),e}}function $s(n,e){this.v=n,this.i=0,this.n=void 0,this.t=void 0,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}$s.prototype.brand=JM;$s.prototype.h=function(){return!0};$s.prototype.S=function(n){var e=this,t=this.t;t!==n&&n.e===void 0&&(n.x=t,this.t=n,t!==void 0?t.e=n:Hy(function(){var s;(s=e.W)==null||s.call(e)}))};$s.prototype.U=function(n){var e=this;if(this.t!==void 0){var t=n.e,s=n.x;t!==void 0&&(t.x=s,n.e=void 0),s!==void 0&&(s.e=t,n.x=void 0),n===this.t&&(this.t=s,s===void 0&&Hy(function(){var i;(i=e.Z)==null||i.call(e)}))}};$s.prototype.subscribe=function(n){var e=this;return Gi(function(){var t=e.value,s=Is;Is=void 0;try{n(t)}finally{Is=s}},{name:"sub"})};$s.prototype.valueOf=function(){return this.value};$s.prototype.toString=function(){return this.value+""};$s.prototype.toJSON=function(){return this.value};$s.prototype.peek=function(){var n=Is;Is=void 0;try{return this.value}finally{Is=n}};Object.defineProperty($s.prototype,"value",{get:function(){var n=Ew(this);return n!==void 0&&(n.i=this.i),this.v},set:function(n){if(n!==this.v){if(Nx>100)throw new Error("Cycle detected");this.v=n,this.i++,sp++,Ba++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{ug()}}}});function bt(n,e){return new $s(n,e)}function Cw(n){for(var e=n.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function bw(n){for(var e=n.s;e!==void 0;e=e.n){var t=e.S.n;if(t!==void 0&&(e.r=t),e.S.n=e,e.i=-1,e.n===void 0){n.s=e;break}}}function ww(n){for(var e=n.s,t=void 0;e!==void 0;){var s=e.p;e.i===-1?(e.S.U(e),s!==void 0&&(s.n=e.n),e.n!==void 0&&(e.n.p=s)):t=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=s}n.s=t}function tc(n,e){$s.call(this,void 0),this.x=n,this.s=void 0,this.g=sp-1,this.f=4,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}tc.prototype=new $s;tc.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===sp))return!0;if(this.g=sp,this.f|=1,this.i>0&&!Cw(this))return this.f&=-2,!0;var n=Is;try{bw(this),Is=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return Is=n,ww(this),this.f&=-2,!0};tc.prototype.S=function(n){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}$s.prototype.S.call(this,n)};tc.prototype.U=function(n){if(this.t!==void 0&&($s.prototype.U.call(this,n),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};tc.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var n=this.t;n!==void 0;n=n.x)n.t.N()}};Object.defineProperty(tc.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var n=Ew(this);if(this.h(),n!==void 0&&(n.i=this.i),16&this.f)throw this.v;return this.v}});function be(n,e){return new tc(n,e)}function Bw(n){var e=n.u;if(n.u=void 0,typeof e=="function"){Ba++;var t=Is;Is=void 0;try{e()}catch(s){throw n.f&=-2,n.f|=8,zy(n),s}finally{Is=t,ug()}}}function zy(n){for(var e=n.s;e!==void 0;e=e.n)e.S.U(e);n.x=void 0,n.s=void 0,Bw(n)}function KM(n){if(Is!==this)throw new Error("Out-of-order effect");ww(this),Is=n,this.f&=-2,8&this.f&&zy(this),ug()}function Kd(n,e){this.x=n,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e?.name}Kd.prototype.c=function(){var n=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{n()}};Kd.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Bw(this),bw(this),Ba++;var n=Is;return Is=this,KM.bind(this,n)};Kd.prototype.N=function(){2&this.f||(this.f|=2,this.o=Zu,Zu=this)};Kd.prototype.d=function(){this.f|=8,1&this.f||zy(this)};Kd.prototype.dispose=function(){this.d()};function Gi(n,e){var t=new Kd(n,e);try{t.c()}catch(i){throw t.d(),i}var s=t.d.bind(t);return s[Symbol.dispose]=s,s}const jM="3.3.0";function Vy(n,e,t){return{component:n,key:e,op:"eq",value:t}}function Nw(n,e,t){return{component:n,key:e,op:"ne",value:t}}const Fo="177",Sw=0,Sx=1,Mw=2,qy=1,Tw=2,Ur=3,In=0,Ls=1,js=2,Co=0,wl=1,Ts=2,Mx=3,Tx=4,Pw=5,fa=100,Rw=101,Qw=102,Dw=103,Lw=104,kw=200,Fw=201,Uw=202,Ow=203,np=204,ip=205,Gw=206,Hw=207,zw=208,Vw=209,qw=210,Ww=211,Xw=212,Yw=213,Jw=214,rp=0,op=1,ap=2,Ll=3,lp=4,cp=5,dp=6,up=7,hg=0,Kw=1,jw=2,bo=0,Zw=1,$w=2,eB=3,tB=4,sB=5,nB=6,iB=7,Px="attached",rB="detached",Wy=300,Ua=301,kl=302,Fl=303,hp=304,Rh=306,Ul=1e3,fi=1001,fh=1002,Fn=1003,Xy=1004,ad=1005,Ot=1006,$u=1007,Ii=1008,Js=1009,Yy=1010,Jy=1011,Qd=1012,fg=1013,So=1014,Qs=1015,cn=1016,Ag=1017,pg=1018,Bl=1020,Ky=35902,jy=1021,Zy=1022,Zs=1023,Ol=1026,Nl=1027,Jr=1028,Qh=1029,ma=1030,gg=1031,mg=1033,Sl=33776,Na=33777,Ml=33778,Sa=33779,Ah=35840,fp=35841,ph=35842,Ap=35843,gh=36196,Dd=37492,Ld=37496,Ma=37808,pp=37809,gp=37810,mp=37811,kd=37812,xp=37813,yp=37814,_p=37815,Ip=37816,vp=37817,Ep=37818,Cp=37819,bp=37820,wp=37821,Ta=36492,Bp=36494,mh=36495,$y=36283,Np=36284,Sp=36285,Mp=36286,Fd=2300,Ud=2301,FA=2302,Rx=2400,Qx=2401,Dx=2402,oB=2500,aB=0,e_=1,Tp=2,lB=3200,t_=3201,Dh=0,cB=1,Hi="",cs="srgb",rn="srgb-linear",xh="linear",Cs="srgb",zr=7680,dB=514,Lx=519,uB=512,hB=513,fB=514,s_=515,AB=516,pB=517,gB=518,mB=519,Pp=35044,xa=35048,kx="300 es",Ir=2e3,yh=2001;class sc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(t)===-1&&s[e].push(t)}hasEventListener(e,t){const s=this._listeners;return s===void 0?!1:s[e]!==void 0&&s[e].indexOf(t)!==-1}removeEventListener(e,t){const s=this._listeners;if(s===void 0)return;const i=s[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const s=t[e.type];if(s!==void 0){e.target=this;const i=s.slice(0);for(let r=0,o=i.length;r<o;r++)i[r].call(this,e);e.target=null}}}const Pn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let kI=1234567;const yd=Math.PI/180,Od=180/Math.PI;function ji(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Pn[n&255]+Pn[n>>8&255]+Pn[n>>16&255]+Pn[n>>24&255]+"-"+Pn[e&255]+Pn[e>>8&255]+"-"+Pn[e>>16&15|64]+Pn[e>>24&255]+"-"+Pn[t&63|128]+Pn[t>>8&255]+"-"+Pn[t>>16&255]+Pn[t>>24&255]+Pn[s&255]+Pn[s>>8&255]+Pn[s>>16&255]+Pn[s>>24&255]).toLowerCase()}function qt(n,e,t){return Math.max(e,Math.min(t,n))}function n_(n,e){return(n%e+e)%e}function ZM(n,e,t,s,i){return s+(n-e)*(i-s)/(t-e)}function $M(n,e,t){return n!==e?(t-n)/(e-n):0}function eh(n,e,t){return(1-t)*n+t*e}function eT(n,e,t,s){return eh(n,e,1-Math.exp(-t*s))}function tT(n,e=1){return e-Math.abs(n_(n,e*2)-e)}function sT(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function nT(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function iT(n,e){return n+Math.floor(Math.random()*(e-n+1))}function rT(n,e){return n+Math.random()*(e-n)}function oT(n){return n*(.5-Math.random())}function aT(n){n!==void 0&&(kI=n);let e=kI+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function lT(n){return n*yd}function cT(n){return n*Od}function dT(n){return(n&n-1)===0&&n!==0}function uT(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function hT(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function fT(n,e,t,s,i){const r=Math.cos,o=Math.sin,a=r(t/2),l=o(t/2),c=r((e+s)/2),d=o((e+s)/2),u=r((e-s)/2),h=o((e-s)/2),f=r((s-e)/2),A=o((s-e)/2);switch(i){case"XYX":n.set(a*d,l*u,l*h,a*c);break;case"YZY":n.set(l*h,a*d,l*u,a*c);break;case"ZXZ":n.set(l*u,l*h,a*d,a*c);break;case"XZX":n.set(a*d,l*A,l*f,a*c);break;case"YXY":n.set(l*f,a*d,l*A,a*c);break;case"ZYZ":n.set(l*A,l*f,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function _r(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function bs(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const $t={DEG2RAD:yd,RAD2DEG:Od,generateUUID:ji,clamp:qt,euclideanModulo:n_,mapLinear:ZM,inverseLerp:$M,lerp:eh,damp:eT,pingpong:tT,smoothstep:sT,smootherstep:nT,randInt:iT,randFloat:rT,randFloatSpread:oT,seededRandom:aT,degToRad:lT,radToDeg:cT,isPowerOfTwo:dT,ceilPowerOfTwo:uT,floorPowerOfTwo:hT,setQuaternionFromProperEuler:fT,normalize:bs,denormalize:_r};class Be{constructor(e=0,t=0){Be.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,s=this.y,i=e.elements;return this.x=i[0]*t+i[3]*s+i[6],this.y=i[1]*t+i[4]*s+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=qt(this.x,e.x,t.x),this.y=qt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=qt(this.x,e,t),this.y=qt(this.y,e,t),this}clampLength(e,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(qt(s,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const s=this.dot(e)/t;return Math.acos(qt(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,s=this.y-e.y;return t*t+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,s){return this.x=e.x+(t.x-e.x)*s,this.y=e.y+(t.y-e.y)*s,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const s=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*s-o*i+e.x,this.y=r*i+o*s+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ge{constructor(e=0,t=0,s=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=s,this._w=i}static slerpFlat(e,t,s,i,r,o,a){let l=s[i+0],c=s[i+1],d=s[i+2],u=s[i+3];const h=r[o+0],f=r[o+1],A=r[o+2],p=r[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=u;return}if(a===1){e[t+0]=h,e[t+1]=f,e[t+2]=A,e[t+3]=p;return}if(u!==p||l!==h||c!==f||d!==A){let g=1-a;const m=l*h+c*f+d*A+u*p,y=m>=0?1:-1,_=1-m*m;if(_>Number.EPSILON){const v=Math.sqrt(_),E=Math.atan2(v,m*y);g=Math.sin(g*E)/v,a=Math.sin(a*E)/v}const I=a*y;if(l=l*g+h*I,c=c*g+f*I,d=d*g+A*I,u=u*g+p*I,g===1-a){const v=1/Math.sqrt(l*l+c*c+d*d+u*u);l*=v,c*=v,d*=v,u*=v}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=u}static multiplyQuaternionsFlat(e,t,s,i,r,o){const a=s[i],l=s[i+1],c=s[i+2],d=s[i+3],u=r[o],h=r[o+1],f=r[o+2],A=r[o+3];return e[t]=a*A+d*u+l*f-c*h,e[t+1]=l*A+d*h+c*u-a*f,e[t+2]=c*A+d*f+a*h-l*u,e[t+3]=d*A-a*u-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,s,i){return this._x=e,this._y=t,this._z=s,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const s=e._x,i=e._y,r=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(s/2),d=a(i/2),u=a(r/2),h=l(s/2),f=l(i/2),A=l(r/2);switch(o){case"XYZ":this._x=h*d*u+c*f*A,this._y=c*f*u-h*d*A,this._z=c*d*A+h*f*u,this._w=c*d*u-h*f*A;break;case"YXZ":this._x=h*d*u+c*f*A,this._y=c*f*u-h*d*A,this._z=c*d*A-h*f*u,this._w=c*d*u+h*f*A;break;case"ZXY":this._x=h*d*u-c*f*A,this._y=c*f*u+h*d*A,this._z=c*d*A+h*f*u,this._w=c*d*u-h*f*A;break;case"ZYX":this._x=h*d*u-c*f*A,this._y=c*f*u+h*d*A,this._z=c*d*A-h*f*u,this._w=c*d*u+h*f*A;break;case"YZX":this._x=h*d*u+c*f*A,this._y=c*f*u+h*d*A,this._z=c*d*A-h*f*u,this._w=c*d*u-h*f*A;break;case"XZY":this._x=h*d*u-c*f*A,this._y=c*f*u-h*d*A,this._z=c*d*A+h*f*u,this._w=c*d*u+h*f*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const s=t/2,i=Math.sin(s);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,s=t[0],i=t[4],r=t[8],o=t[1],a=t[5],l=t[9],c=t[2],d=t[6],u=t[10],h=s+a+u;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(d-l)*f,this._y=(r-c)*f,this._z=(o-i)*f}else if(s>a&&s>u){const f=2*Math.sqrt(1+s-a-u);this._w=(d-l)/f,this._x=.25*f,this._y=(i+o)/f,this._z=(r+c)/f}else if(a>u){const f=2*Math.sqrt(1+a-s-u);this._w=(r-c)/f,this._x=(i+o)/f,this._y=.25*f,this._z=(l+d)/f}else{const f=2*Math.sqrt(1+u-s-a);this._w=(o-i)/f,this._x=(r+c)/f,this._y=(l+d)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let s=e.dot(t)+1;return s<Number.EPSILON?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(qt(this.dot(e),-1,1)))}rotateTowards(e,t){const s=this.angleTo(e);if(s===0)return this;const i=Math.min(1,t/s);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const s=e._x,i=e._y,r=e._z,o=e._w,a=t._x,l=t._y,c=t._z,d=t._w;return this._x=s*d+o*a+i*c-r*l,this._y=i*d+o*l+r*a-s*c,this._z=r*d+o*c+s*l-i*a,this._w=o*d-s*a-i*l-r*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const s=this._x,i=this._y,r=this._z,o=this._w;let a=o*e._w+s*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=s,this._y=i,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*s+t*this._x,this._y=f*i+t*this._y,this._z=f*r+t*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),u=Math.sin((1-t)*d)/c,h=Math.sin(t*d)/c;return this._w=o*u+this._w*h,this._x=s*u+this._x*h,this._y=i*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,s){return this.copy(e).slerp(t,s)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),s=Math.random(),i=Math.sqrt(1-s),r=Math.sqrt(s);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class w{constructor(e=0,t=0,s=0){w.prototype.isVector3=!0,this.x=e,this.y=t,this.z=s}set(e,t,s){return s===void 0&&(s=this.z),this.x=e,this.y=t,this.z=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(FI.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(FI.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,s=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*s+r[6]*i,this.y=r[1]*t+r[4]*s+r[7]*i,this.z=r[2]*t+r[5]*s+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,s=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*s+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*s+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*s+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*s+r[10]*i+r[14])*o,this}applyQuaternion(e){const t=this.x,s=this.y,i=this.z,r=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*s),d=2*(a*t-r*i),u=2*(r*s-o*t);return this.x=t+l*c+o*u-a*d,this.y=s+l*d+a*c-r*u,this.z=i+l*u+r*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,s=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*s+r[8]*i,this.y=r[1]*t+r[5]*s+r[9]*i,this.z=r[2]*t+r[6]*s+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=qt(this.x,e.x,t.x),this.y=qt(this.y,e.y,t.y),this.z=qt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=qt(this.x,e,t),this.y=qt(this.y,e,t),this.z=qt(this.z,e,t),this}clampLength(e,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(qt(s,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,s){return this.x=e.x+(t.x-e.x)*s,this.y=e.y+(t.y-e.y)*s,this.z=e.z+(t.z-e.z)*s,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const s=e.x,i=e.y,r=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-r*a,this.y=r*o-s*l,this.z=s*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const s=e.dot(this)/t;return this.copy(e).multiplyScalar(s)}projectOnPlane(e){return Wg.copy(this).projectOnVector(e),this.sub(Wg)}reflect(e){return this.sub(Wg.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const s=this.dot(e)/t;return Math.acos(qt(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,s=this.y-e.y,i=this.z-e.z;return t*t+s*s+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,s){const i=Math.sin(t)*e;return this.x=i*Math.sin(s),this.y=Math.cos(t)*e,this.z=i*Math.cos(s),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,s){return this.x=e*Math.sin(t),this.y=s,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),s=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=s,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,s=Math.sqrt(1-t*t);return this.x=s*Math.cos(e),this.y=t,this.z=s*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Wg=new w,FI=new Ge;class Dt{constructor(e,t,s,i,r,o,a,l,c){Dt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,s,i,r,o,a,l,c)}set(e,t,s,i,r,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=t,d[4]=r,d[5]=l,d[6]=s,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,s=e.elements;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],this}extractBasis(e,t,s){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const s=e.elements,i=t.elements,r=this.elements,o=s[0],a=s[3],l=s[6],c=s[1],d=s[4],u=s[7],h=s[2],f=s[5],A=s[8],p=i[0],g=i[3],m=i[6],y=i[1],_=i[4],I=i[7],v=i[2],E=i[5],b=i[8];return r[0]=o*p+a*y+l*v,r[3]=o*g+a*_+l*E,r[6]=o*m+a*I+l*b,r[1]=c*p+d*y+u*v,r[4]=c*g+d*_+u*E,r[7]=c*m+d*I+u*b,r[2]=h*p+f*y+A*v,r[5]=h*g+f*_+A*E,r[8]=h*m+f*I+A*b,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*a*c-s*r*d+s*a*l+i*r*c-i*o*l}invert(){const e=this.elements,t=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=d*o-a*c,h=a*l-d*r,f=c*r-o*l,A=t*u+s*h+i*f;if(A===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/A;return e[0]=u*p,e[1]=(i*c-d*s)*p,e[2]=(a*s-i*o)*p,e[3]=h*p,e[4]=(d*t-i*l)*p,e[5]=(i*r-a*t)*p,e[6]=f*p,e[7]=(s*l-c*t)*p,e[8]=(o*t-s*r)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,s,i,r,o,a){const l=Math.cos(r),c=Math.sin(r);return this.set(s*l,s*c,-s*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Xg.makeScale(e,t)),this}rotate(e){return this.premultiply(Xg.makeRotation(-e)),this}translate(e,t){return this.premultiply(Xg.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),s=Math.sin(e);return this.set(t,-s,0,s,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,s=e.elements;for(let i=0;i<9;i++)if(t[i]!==s[i])return!1;return!0}fromArray(e,t=0){for(let s=0;s<9;s++)this.elements[s]=e[s+t];return this}toArray(e=[],t=0){const s=this.elements;return e[t]=s[0],e[t+1]=s[1],e[t+2]=s[2],e[t+3]=s[3],e[t+4]=s[4],e[t+5]=s[5],e[t+6]=s[6],e[t+7]=s[7],e[t+8]=s[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Xg=new Dt;function xB(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function _h(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function yB(){const n=_h("canvas");return n.style.display="block",n}const UI={};function _d(n){n in UI||(UI[n]=!0,console.warn(n))}function AT(n,e,t){return new Promise(function(s,i){function r(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:s()}}setTimeout(r,t)})}function pT(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function gT(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const OI=new Dt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),GI=new Dt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function mT(){const n={enabled:!0,workingColorSpace:rn,spaces:{},convert:function(i,r,o){return this.enabled===!1||r===o||!r||!o||(this.spaces[r].transfer===Cs&&(i.r=wo(i.r),i.g=wo(i.g),i.b=wo(i.b)),this.spaces[r].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[r].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Cs&&(i.r=Id(i.r),i.g=Id(i.g),i.b=Id(i.b))),i},workingToColorSpace:function(i,r){return this.convert(i,this.workingColorSpace,r)},colorSpaceToWorking:function(i,r){return this.convert(i,r,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Hi?xh:this.spaces[i].transfer},getLuminanceCoefficients:function(i,r=this.workingColorSpace){return i.fromArray(this.spaces[r].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,r,o){return i.copy(this.spaces[r].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,r){return _d("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(i,r)},toWorkingColorSpace:function(i,r){return _d("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(i,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],s=[.3127,.329];return n.define({[rn]:{primaries:e,whitePoint:s,transfer:xh,toXYZ:OI,fromXYZ:GI,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:cs},outputColorSpaceConfig:{drawingBufferColorSpace:cs}},[cs]:{primaries:e,whitePoint:s,transfer:Cs,toXYZ:OI,fromXYZ:GI,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:cs}}}),n}const ts=mT();function wo(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Id(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let dc;class _B{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let s;if(e instanceof HTMLCanvasElement)s=e;else{dc===void 0&&(dc=_h("canvas")),dc.width=e.width,dc.height=e.height;const i=dc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),s=dc}return s.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=_h("canvas");t.width=e.width,t.height=e.height;const s=t.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const i=s.getImageData(0,0,e.width,e.height),r=i.data;for(let o=0;o<r.length;o++)r[o]=wo(r[o]/255)*255;return s.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let s=0;s<t.length;s++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[s]=Math.floor(wo(t[s]/255)*255):t[s]=wo(t[s]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let xT=0;class xg{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:xT++}),this.uuid=ji(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const s={uuid:this.uuid,url:""},i=this.data;if(i!==null){let r;if(Array.isArray(i)){r=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?r.push(Yg(i[o].image)):r.push(Yg(i[o]))}else r=Yg(i);s.url=r}return t||(e.images[this.uuid]=s),s}}function Yg(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?_B.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yT=0;const Jg=new w;class Ws extends sc{constructor(e=Ws.DEFAULT_IMAGE,t=Ws.DEFAULT_MAPPING,s=fi,i=fi,r=Ot,o=Ii,a=Zs,l=Js,c=Ws.DEFAULT_ANISOTROPY,d=Hi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yT++}),this.uuid=ji(),this.name="",this.source=new xg(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=s,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Be(0,0),this.repeat=new Be(1,1),this.center=new Be(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Jg).x}get height(){return this.source.getSize(Jg).y}get depth(){return this.source.getSize(Jg).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const s=e[t];if(s===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}i&&s&&i.isVector2&&s.isVector2||i&&s&&i.isVector3&&s.isVector3||i&&s&&i.isMatrix3&&s.isMatrix3?i.copy(s):this[t]=s}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const s={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),t||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Wy)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ul:e.x=e.x-Math.floor(e.x);break;case fi:e.x=e.x<0?0:1;break;case fh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ul:e.y=e.y-Math.floor(e.y);break;case fi:e.y=e.y<0?0:1;break;case fh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ws.DEFAULT_IMAGE=null;Ws.DEFAULT_MAPPING=Wy;Ws.DEFAULT_ANISOTROPY=1;class ns{constructor(e=0,t=0,s=0,i=1){ns.prototype.isVector4=!0,this.x=e,this.y=t,this.z=s,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,s,i){return this.x=e,this.y=t,this.z=s,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,s=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*s+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*s+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*s+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*s+o[11]*i+o[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,s,i,r;const l=e.elements,c=l[0],d=l[4],u=l[8],h=l[1],f=l[5],A=l[9],p=l[2],g=l[6],m=l[10];if(Math.abs(d-h)<.01&&Math.abs(u-p)<.01&&Math.abs(A-g)<.01){if(Math.abs(d+h)<.1&&Math.abs(u+p)<.1&&Math.abs(A+g)<.1&&Math.abs(c+f+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(c+1)/2,I=(f+1)/2,v=(m+1)/2,E=(d+h)/4,b=(u+p)/4,N=(A+g)/4;return _>I&&_>v?_<.01?(s=0,i=.707106781,r=.707106781):(s=Math.sqrt(_),i=E/s,r=b/s):I>v?I<.01?(s=.707106781,i=0,r=.707106781):(i=Math.sqrt(I),s=E/i,r=N/i):v<.01?(s=.707106781,i=.707106781,r=0):(r=Math.sqrt(v),s=b/r,i=N/r),this.set(s,i,r,t),this}let y=Math.sqrt((g-A)*(g-A)+(u-p)*(u-p)+(h-d)*(h-d));return Math.abs(y)<.001&&(y=1),this.x=(g-A)/y,this.y=(u-p)/y,this.z=(h-d)/y,this.w=Math.acos((c+f+m-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=qt(this.x,e.x,t.x),this.y=qt(this.y,e.y,t.y),this.z=qt(this.z,e.z,t.z),this.w=qt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=qt(this.x,e,t),this.y=qt(this.y,e,t),this.z=qt(this.z,e,t),this.w=qt(this.w,e,t),this}clampLength(e,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(qt(s,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,s){return this.x=e.x+(t.x-e.x)*s,this.y=e.y+(t.y-e.y)*s,this.z=e.z+(t.z-e.z)*s,this.w=e.w+(t.w-e.w)*s,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class IB extends sc{constructor(e=1,t=1,s={}){super(),s=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ot,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},s),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=s.depth,this.scissor=new ns(0,0,e,t),this.scissorTest=!1,this.viewport=new ns(0,0,e,t);const i={width:e,height:t,depth:s.depth},r=new Ws(i);this.textures=[];const o=s.count;for(let a=0;a<o;a++)this.textures[a]=r.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(s),this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,this.resolveDepthBuffer=s.resolveDepthBuffer,this.resolveStencilBuffer=s.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=s.depthTexture,this.samples=s.samples,this.multiview=s.multiview}_setTextureOptions(e={}){const t={minFilter:Ot,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let s=0;s<this.textures.length;s++)this.textures[s].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,s=1){if(this.width!==e||this.height!==t||this.depth!==s){this.width=e,this.height=t,this.depth=s;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=s,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,s=e.textures.length;t<s;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new xg(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Mo extends IB{constructor(e=1,t=1,s={}){super(e,t,s),this.isWebGLRenderTarget=!0}}class i_ extends Ws{constructor(e=null,t=1,s=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:s,depth:i},this.magFilter=Fn,this.minFilter=Fn,this.wrapR=fi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class r_ extends Ws{constructor(e=null,t=1,s=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:s,depth:i},this.magFilter=Fn,this.minFilter=Fn,this.wrapR=fi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Jt{constructor(e=new w(1/0,1/0,1/0),t=new w(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,s=e.length;t<s;t+=3)this.expandByPoint(ir.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,s=e.count;t<s;t++)this.expandByPoint(ir.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,s=e.length;t<s;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const s=ir.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(s),this.max.copy(e).add(s),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const s=e.geometry;if(s!==void 0){const r=s.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=r.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,ir):ir.fromBufferAttribute(r,o),ir.applyMatrix4(e.matrixWorld),this.expandByPoint(ir);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Hh.copy(e.boundingBox)):(s.boundingBox===null&&s.computeBoundingBox(),Hh.copy(s.boundingBox)),Hh.applyMatrix4(e.matrixWorld),this.union(Hh)}const i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ir),ir.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,s;return e.normal.x>0?(t=e.normal.x*this.min.x,s=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,s=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),t<=-e.constant&&s>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(au),zh.subVectors(this.max,au),uc.subVectors(e.a,au),hc.subVectors(e.b,au),fc.subVectors(e.c,au),Go.subVectors(hc,uc),Ho.subVectors(fc,hc),Xa.subVectors(uc,fc);let t=[0,-Go.z,Go.y,0,-Ho.z,Ho.y,0,-Xa.z,Xa.y,Go.z,0,-Go.x,Ho.z,0,-Ho.x,Xa.z,0,-Xa.x,-Go.y,Go.x,0,-Ho.y,Ho.x,0,-Xa.y,Xa.x,0];return!Kg(t,uc,hc,fc,zh)||(t=[1,0,0,0,1,0,0,0,1],!Kg(t,uc,hc,fc,zh))?!1:(Vh.crossVectors(Go,Ho),t=[Vh.x,Vh.y,Vh.z],Kg(t,uc,hc,fc,zh))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ir).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ir).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ro[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ro[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ro[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ro[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ro[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ro[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ro[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ro[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ro),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const ro=[new w,new w,new w,new w,new w,new w,new w,new w],ir=new w,Hh=new Jt,uc=new w,hc=new w,fc=new w,Go=new w,Ho=new w,Xa=new w,au=new w,zh=new w,Vh=new w,Ya=new w;function Kg(n,e,t,s,i){for(let r=0,o=n.length-3;r<=o;r+=3){Ya.fromArray(n,r);const a=i.x*Math.abs(Ya.x)+i.y*Math.abs(Ya.y)+i.z*Math.abs(Ya.z),l=e.dot(Ya),c=t.dot(Ya),d=s.dot(Ya);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const _T=new Jt,lu=new w,jg=new w;class Ps{constructor(e=new w,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const s=this.center;t!==void 0?s.copy(t):_T.setFromPoints(e).getCenter(s);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,s.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const s=this.center.distanceToSquared(e);return t.copy(e),s>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;lu.subVectors(e,this.center);const t=lu.lengthSq();if(t>this.radius*this.radius){const s=Math.sqrt(t),i=(s-this.radius)*.5;this.center.addScaledVector(lu,i/s),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(jg.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(lu.copy(e.center).add(jg)),this.expandByPoint(lu.copy(e.center).sub(jg))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const oo=new w,Zg=new w,qh=new w,zo=new w,$g=new w,Wh=new w,em=new w;class Ci{constructor(e=new w,t=new w(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,oo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const s=t.dot(this.direction);return s<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,s)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=oo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(oo.copy(this.origin).addScaledVector(this.direction,t),oo.distanceToSquared(e))}distanceSqToSegment(e,t,s,i){Zg.copy(e).add(t).multiplyScalar(.5),qh.copy(t).sub(e).normalize(),zo.copy(this.origin).sub(Zg);const r=e.distanceTo(t)*.5,o=-this.direction.dot(qh),a=zo.dot(this.direction),l=-zo.dot(qh),c=zo.lengthSq(),d=Math.abs(1-o*o);let u,h,f,A;if(d>0)if(u=o*l-a,h=o*a-l,A=r*d,u>=0)if(h>=-A)if(h<=A){const p=1/d;u*=p,h*=p,f=u*(u+o*h+2*a)+h*(o*u+h+2*l)+c}else h=r,u=Math.max(0,-(o*h+a)),f=-u*u+h*(h+2*l)+c;else h=-r,u=Math.max(0,-(o*h+a)),f=-u*u+h*(h+2*l)+c;else h<=-A?(u=Math.max(0,-(-o*r+a)),h=u>0?-r:Math.min(Math.max(-r,-l),r),f=-u*u+h*(h+2*l)+c):h<=A?(u=0,h=Math.min(Math.max(-r,-l),r),f=h*(h+2*l)+c):(u=Math.max(0,-(o*r+a)),h=u>0?r:Math.min(Math.max(-r,-l),r),f=-u*u+h*(h+2*l)+c);else h=o>0?-r:r,u=Math.max(0,-(o*h+a)),f=-u*u+h*(h+2*l)+c;return s&&s.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(Zg).addScaledVector(qh,h),f}intersectSphere(e,t){oo.subVectors(e.center,this.origin);const s=oo.dot(this.direction),i=oo.dot(oo)-s*s,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),a=s-o,l=s+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(e.normal)+e.constant)/t;return s>=0?s:null}intersectPlane(e,t){const s=this.distanceToPlane(e);return s===null?null:this.at(s,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let s,i,r,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(s=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(s=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),d>=0?(r=(e.min.y-h.y)*d,o=(e.max.y-h.y)*d):(r=(e.max.y-h.y)*d,o=(e.min.y-h.y)*d),s>o||r>i||((r>s||isNaN(s))&&(s=r),(o<i||isNaN(i))&&(i=o),u>=0?(a=(e.min.z-h.z)*u,l=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,l=(e.min.z-h.z)*u),s>l||a>i)||((a>s||s!==s)&&(s=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(s>=0?s:i,t)}intersectsBox(e){return this.intersectBox(e,oo)!==null}intersectTriangle(e,t,s,i,r){$g.subVectors(t,e),Wh.subVectors(s,e),em.crossVectors($g,Wh);let o=this.direction.dot(em),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;zo.subVectors(this.origin,e);const l=a*this.direction.dot(Wh.crossVectors(zo,Wh));if(l<0)return null;const c=a*this.direction.dot($g.cross(zo));if(c<0||l+c>o)return null;const d=-a*zo.dot(em);return d<0?null:this.at(d/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Je{constructor(e,t,s,i,r,o,a,l,c,d,u,h,f,A,p,g){Je.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,s,i,r,o,a,l,c,d,u,h,f,A,p,g)}set(e,t,s,i,r,o,a,l,c,d,u,h,f,A,p,g){const m=this.elements;return m[0]=e,m[4]=t,m[8]=s,m[12]=i,m[1]=r,m[5]=o,m[9]=a,m[13]=l,m[2]=c,m[6]=d,m[10]=u,m[14]=h,m[3]=f,m[7]=A,m[11]=p,m[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Je().fromArray(this.elements)}copy(e){const t=this.elements,s=e.elements;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],this}copyPosition(e){const t=this.elements,s=e.elements;return t[12]=s[12],t[13]=s[13],t[14]=s[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,s){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(e,t,s){return this.set(e.x,t.x,s.x,0,e.y,t.y,s.y,0,e.z,t.z,s.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,s=e.elements,i=1/Ac.setFromMatrixColumn(e,0).length(),r=1/Ac.setFromMatrixColumn(e,1).length(),o=1/Ac.setFromMatrixColumn(e,2).length();return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=0,t[4]=s[4]*r,t[5]=s[5]*r,t[6]=s[6]*r,t[7]=0,t[8]=s[8]*o,t[9]=s[9]*o,t[10]=s[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,s=e.x,i=e.y,r=e.z,o=Math.cos(s),a=Math.sin(s),l=Math.cos(i),c=Math.sin(i),d=Math.cos(r),u=Math.sin(r);if(e.order==="XYZ"){const h=o*d,f=o*u,A=a*d,p=a*u;t[0]=l*d,t[4]=-l*u,t[8]=c,t[1]=f+A*c,t[5]=h-p*c,t[9]=-a*l,t[2]=p-h*c,t[6]=A+f*c,t[10]=o*l}else if(e.order==="YXZ"){const h=l*d,f=l*u,A=c*d,p=c*u;t[0]=h+p*a,t[4]=A*a-f,t[8]=o*c,t[1]=o*u,t[5]=o*d,t[9]=-a,t[2]=f*a-A,t[6]=p+h*a,t[10]=o*l}else if(e.order==="ZXY"){const h=l*d,f=l*u,A=c*d,p=c*u;t[0]=h-p*a,t[4]=-o*u,t[8]=A+f*a,t[1]=f+A*a,t[5]=o*d,t[9]=p-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const h=o*d,f=o*u,A=a*d,p=a*u;t[0]=l*d,t[4]=A*c-f,t[8]=h*c+p,t[1]=l*u,t[5]=p*c+h,t[9]=f*c-A,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,f=o*c,A=a*l,p=a*c;t[0]=l*d,t[4]=p-h*u,t[8]=A*u+f,t[1]=u,t[5]=o*d,t[9]=-a*d,t[2]=-c*d,t[6]=f*u+A,t[10]=h-p*u}else if(e.order==="XZY"){const h=o*l,f=o*c,A=a*l,p=a*c;t[0]=l*d,t[4]=-u,t[8]=c*d,t[1]=h*u+p,t[5]=o*d,t[9]=f*u-A,t[2]=A*u-f,t[6]=a*d,t[10]=p*u+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(IT,e,vT)}lookAt(e,t,s){const i=this.elements;return gi.subVectors(e,t),gi.lengthSq()===0&&(gi.z=1),gi.normalize(),Vo.crossVectors(s,gi),Vo.lengthSq()===0&&(Math.abs(s.z)===1?gi.x+=1e-4:gi.z+=1e-4,gi.normalize(),Vo.crossVectors(s,gi)),Vo.normalize(),Xh.crossVectors(gi,Vo),i[0]=Vo.x,i[4]=Xh.x,i[8]=gi.x,i[1]=Vo.y,i[5]=Xh.y,i[9]=gi.y,i[2]=Vo.z,i[6]=Xh.z,i[10]=gi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const s=e.elements,i=t.elements,r=this.elements,o=s[0],a=s[4],l=s[8],c=s[12],d=s[1],u=s[5],h=s[9],f=s[13],A=s[2],p=s[6],g=s[10],m=s[14],y=s[3],_=s[7],I=s[11],v=s[15],E=i[0],b=i[4],N=i[8],C=i[12],B=i[1],S=i[5],T=i[9],D=i[13],L=i[2],z=i[6],V=i[10],se=i[14],q=i[3],Ae=i[7],pe=i[11],Ye=i[15];return r[0]=o*E+a*B+l*L+c*q,r[4]=o*b+a*S+l*z+c*Ae,r[8]=o*N+a*T+l*V+c*pe,r[12]=o*C+a*D+l*se+c*Ye,r[1]=d*E+u*B+h*L+f*q,r[5]=d*b+u*S+h*z+f*Ae,r[9]=d*N+u*T+h*V+f*pe,r[13]=d*C+u*D+h*se+f*Ye,r[2]=A*E+p*B+g*L+m*q,r[6]=A*b+p*S+g*z+m*Ae,r[10]=A*N+p*T+g*V+m*pe,r[14]=A*C+p*D+g*se+m*Ye,r[3]=y*E+_*B+I*L+v*q,r[7]=y*b+_*S+I*z+v*Ae,r[11]=y*N+_*T+I*V+v*pe,r[15]=y*C+_*D+I*se+v*Ye,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],s=e[4],i=e[8],r=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],u=e[6],h=e[10],f=e[14],A=e[3],p=e[7],g=e[11],m=e[15];return A*(+r*l*u-i*c*u-r*a*h+s*c*h+i*a*f-s*l*f)+p*(+t*l*f-t*c*h+r*o*h-i*o*f+i*c*d-r*l*d)+g*(+t*c*u-t*a*f-r*o*u+s*o*f+r*a*d-s*c*d)+m*(-i*a*d-t*l*u+t*a*h+i*o*u-s*o*h+s*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,s){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=s),this}invert(){const e=this.elements,t=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=e[9],h=e[10],f=e[11],A=e[12],p=e[13],g=e[14],m=e[15],y=u*g*c-p*h*c+p*l*f-a*g*f-u*l*m+a*h*m,_=A*h*c-d*g*c-A*l*f+o*g*f+d*l*m-o*h*m,I=d*p*c-A*u*c+A*a*f-o*p*f-d*a*m+o*u*m,v=A*u*l-d*p*l-A*a*h+o*p*h+d*a*g-o*u*g,E=t*y+s*_+i*I+r*v;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/E;return e[0]=y*b,e[1]=(p*h*r-u*g*r-p*i*f+s*g*f+u*i*m-s*h*m)*b,e[2]=(a*g*r-p*l*r+p*i*c-s*g*c-a*i*m+s*l*m)*b,e[3]=(u*l*r-a*h*r-u*i*c+s*h*c+a*i*f-s*l*f)*b,e[4]=_*b,e[5]=(d*g*r-A*h*r+A*i*f-t*g*f-d*i*m+t*h*m)*b,e[6]=(A*l*r-o*g*r-A*i*c+t*g*c+o*i*m-t*l*m)*b,e[7]=(o*h*r-d*l*r+d*i*c-t*h*c-o*i*f+t*l*f)*b,e[8]=I*b,e[9]=(A*u*r-d*p*r-A*s*f+t*p*f+d*s*m-t*u*m)*b,e[10]=(o*p*r-A*a*r+A*s*c-t*p*c-o*s*m+t*a*m)*b,e[11]=(d*a*r-o*u*r-d*s*c+t*u*c+o*s*f-t*a*f)*b,e[12]=v*b,e[13]=(d*p*i-A*u*i+A*s*h-t*p*h-d*s*g+t*u*g)*b,e[14]=(A*a*i-o*p*i-A*s*l+t*p*l+o*s*g-t*a*g)*b,e[15]=(o*u*i-d*a*i+d*s*l-t*u*l-o*s*h+t*a*h)*b,this}scale(e){const t=this.elements,s=e.x,i=e.y,r=e.z;return t[0]*=s,t[4]*=i,t[8]*=r,t[1]*=s,t[5]*=i,t[9]*=r,t[2]*=s,t[6]*=i,t[10]*=r,t[3]*=s,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],s=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,s,i))}makeTranslation(e,t,s){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,s,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),s=Math.sin(e);return this.set(1,0,0,0,0,t,-s,0,0,s,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),s=Math.sin(e);return this.set(t,0,s,0,0,1,0,0,-s,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),s=Math.sin(e);return this.set(t,-s,0,0,s,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const s=Math.cos(t),i=Math.sin(t),r=1-s,o=e.x,a=e.y,l=e.z,c=r*o,d=r*a;return this.set(c*o+s,c*a-i*l,c*l+i*a,0,c*a+i*l,d*a+s,d*l-i*o,0,c*l-i*a,d*l+i*o,r*l*l+s,0,0,0,0,1),this}makeScale(e,t,s){return this.set(e,0,0,0,0,t,0,0,0,0,s,0,0,0,0,1),this}makeShear(e,t,s,i,r,o){return this.set(1,s,r,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,s){const i=this.elements,r=t._x,o=t._y,a=t._z,l=t._w,c=r+r,d=o+o,u=a+a,h=r*c,f=r*d,A=r*u,p=o*d,g=o*u,m=a*u,y=l*c,_=l*d,I=l*u,v=s.x,E=s.y,b=s.z;return i[0]=(1-(p+m))*v,i[1]=(f+I)*v,i[2]=(A-_)*v,i[3]=0,i[4]=(f-I)*E,i[5]=(1-(h+m))*E,i[6]=(g+y)*E,i[7]=0,i[8]=(A+_)*b,i[9]=(g-y)*b,i[10]=(1-(h+p))*b,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,s){const i=this.elements;let r=Ac.set(i[0],i[1],i[2]).length();const o=Ac.set(i[4],i[5],i[6]).length(),a=Ac.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],rr.copy(this);const c=1/r,d=1/o,u=1/a;return rr.elements[0]*=c,rr.elements[1]*=c,rr.elements[2]*=c,rr.elements[4]*=d,rr.elements[5]*=d,rr.elements[6]*=d,rr.elements[8]*=u,rr.elements[9]*=u,rr.elements[10]*=u,t.setFromRotationMatrix(rr),s.x=r,s.y=o,s.z=a,this}makePerspective(e,t,s,i,r,o,a=Ir){const l=this.elements,c=2*r/(t-e),d=2*r/(s-i),u=(t+e)/(t-e),h=(s+i)/(s-i);let f,A;if(a===Ir)f=-(o+r)/(o-r),A=-2*o*r/(o-r);else if(a===yh)f=-o/(o-r),A=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=u,l[12]=0,l[1]=0,l[5]=d,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=A,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,s,i,r,o,a=Ir){const l=this.elements,c=1/(t-e),d=1/(s-i),u=1/(o-r),h=(t+e)*c,f=(s+i)*d;let A,p;if(a===Ir)A=(o+r)*u,p=-2*u;else if(a===yh)A=r*u,p=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=p,l[14]=-A,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,s=e.elements;for(let i=0;i<16;i++)if(t[i]!==s[i])return!1;return!0}fromArray(e,t=0){for(let s=0;s<16;s++)this.elements[s]=e[s+t];return this}toArray(e=[],t=0){const s=this.elements;return e[t]=s[0],e[t+1]=s[1],e[t+2]=s[2],e[t+3]=s[3],e[t+4]=s[4],e[t+5]=s[5],e[t+6]=s[6],e[t+7]=s[7],e[t+8]=s[8],e[t+9]=s[9],e[t+10]=s[10],e[t+11]=s[11],e[t+12]=s[12],e[t+13]=s[13],e[t+14]=s[14],e[t+15]=s[15],e}}const Ac=new w,rr=new Je,IT=new w(0,0,0),vT=new w(1,1,1),Vo=new w,Xh=new w,gi=new w,HI=new Je,zI=new Ge;class gs{constructor(e=0,t=0,s=0,i=gs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=s,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,s,i=this._order){return this._x=e,this._y=t,this._z=s,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,s=!0){const i=e.elements,r=i[0],o=i[4],a=i[8],l=i[1],c=i[5],d=i[9],u=i[2],h=i[6],f=i[10];switch(t){case"XYZ":this._y=Math.asin(qt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,f),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-qt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(qt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-qt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(qt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-qt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-d,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,s===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,s){return HI.makeRotationFromQuaternion(e),this.setFromRotationMatrix(HI,t,s)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return zI.setFromEuler(this),this.setFromQuaternion(zI,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}gs.DEFAULT_ORDER="XYZ";class yg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let ET=0;const VI=new w,pc=new Ge,ao=new Je,Yh=new w,cu=new w,CT=new w,bT=new Ge,qI=new w(1,0,0),WI=new w(0,1,0),XI=new w(0,0,1),YI={type:"added"},wT={type:"removed"},gc={type:"childadded",child:null},tm={type:"childremoved",child:null};class is extends sc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ET++}),this.uuid=ji(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=is.DEFAULT_UP.clone();const e=new w,t=new gs,s=new Ge,i=new w(1,1,1);function r(){s.setFromEuler(t,!1)}function o(){t.setFromQuaternion(s,void 0,!1)}t._onChange(r),s._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Je},normalMatrix:{value:new Dt}}),this.matrix=new Je,this.matrixWorld=new Je,this.matrixAutoUpdate=is.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=is.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new yg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return pc.setFromAxisAngle(e,t),this.quaternion.multiply(pc),this}rotateOnWorldAxis(e,t){return pc.setFromAxisAngle(e,t),this.quaternion.premultiply(pc),this}rotateX(e){return this.rotateOnAxis(qI,e)}rotateY(e){return this.rotateOnAxis(WI,e)}rotateZ(e){return this.rotateOnAxis(XI,e)}translateOnAxis(e,t){return VI.copy(e).applyQuaternion(this.quaternion),this.position.add(VI.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(qI,e)}translateY(e){return this.translateOnAxis(WI,e)}translateZ(e){return this.translateOnAxis(XI,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ao.copy(this.matrixWorld).invert())}lookAt(e,t,s){e.isVector3?Yh.copy(e):Yh.set(e,t,s);const i=this.parent;this.updateWorldMatrix(!0,!1),cu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ao.lookAt(cu,Yh,this.up):ao.lookAt(Yh,cu,this.up),this.quaternion.setFromRotationMatrix(ao),i&&(ao.extractRotation(i.matrixWorld),pc.setFromRotationMatrix(ao),this.quaternion.premultiply(pc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(YI),gc.child=e,this.dispatchEvent(gc),gc.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(wT),tm.child=e,this.dispatchEvent(tm),tm.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ao.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ao.multiply(e.parent.matrixWorld)),e.applyMatrix4(ao),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(YI),gc.child=e,this.dispatchEvent(gc),gc.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let s=0,i=this.children.length;s<i;s++){const o=this.children[s].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,s=[]){this[e]===t&&s.push(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].getObjectsByProperty(e,t,s);return s}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cu,e,CT),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cu,bT,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let s=0,i=t.length;s<i;s++)t[s].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let s=0,i=t.length;s<i;s++)t[s].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let s=0,i=t.length;s<i;s++)t[s].updateMatrixWorld(e)}updateWorldMatrix(e,t){const s=this.parent;if(e===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",s={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function r(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const u=l[c];r(e.shapes,u)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(r(e.materials,this.material[l]));i.material=a}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(r(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),u=o(e.shapes),h=o(e.skeletons),f=o(e.animations),A=o(e.nodes);a.length>0&&(s.geometries=a),l.length>0&&(s.materials=l),c.length>0&&(s.textures=c),d.length>0&&(s.images=d),u.length>0&&(s.shapes=u),h.length>0&&(s.skeletons=h),f.length>0&&(s.animations=f),A.length>0&&(s.nodes=A)}return s.object=i,s;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let s=0;s<e.children.length;s++){const i=e.children[s];this.add(i.clone())}return this}}is.DEFAULT_UP=new w(0,1,0);is.DEFAULT_MATRIX_AUTO_UPDATE=!0;is.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const or=new w,lo=new w,sm=new w,co=new w,mc=new w,xc=new w,JI=new w,nm=new w,im=new w,rm=new w,om=new ns,am=new ns,lm=new ns;class sn{constructor(e=new w,t=new w,s=new w){this.a=e,this.b=t,this.c=s}static getNormal(e,t,s,i){i.subVectors(s,t),or.subVectors(e,t),i.cross(or);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,s,i,r){or.subVectors(i,t),lo.subVectors(s,t),sm.subVectors(e,t);const o=or.dot(or),a=or.dot(lo),l=or.dot(sm),c=lo.dot(lo),d=lo.dot(sm),u=o*c-a*a;if(u===0)return r.set(0,0,0),null;const h=1/u,f=(c*l-a*d)*h,A=(o*d-a*l)*h;return r.set(1-f-A,A,f)}static containsPoint(e,t,s,i){return this.getBarycoord(e,t,s,i,co)===null?!1:co.x>=0&&co.y>=0&&co.x+co.y<=1}static getInterpolation(e,t,s,i,r,o,a,l){return this.getBarycoord(e,t,s,i,co)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(r,co.x),l.addScaledVector(o,co.y),l.addScaledVector(a,co.z),l)}static getInterpolatedAttribute(e,t,s,i,r,o){return om.setScalar(0),am.setScalar(0),lm.setScalar(0),om.fromBufferAttribute(e,t),am.fromBufferAttribute(e,s),lm.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(om,r.x),o.addScaledVector(am,r.y),o.addScaledVector(lm,r.z),o}static isFrontFacing(e,t,s,i){return or.subVectors(s,t),lo.subVectors(e,t),or.cross(lo).dot(i)<0}set(e,t,s){return this.a.copy(e),this.b.copy(t),this.c.copy(s),this}setFromPointsAndIndices(e,t,s,i){return this.a.copy(e[t]),this.b.copy(e[s]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,s,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,s),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return or.subVectors(this.c,this.b),lo.subVectors(this.a,this.b),or.cross(lo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return sn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return sn.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,s,i,r){return sn.getInterpolation(e,this.a,this.b,this.c,t,s,i,r)}containsPoint(e){return sn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return sn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const s=this.a,i=this.b,r=this.c;let o,a;mc.subVectors(i,s),xc.subVectors(r,s),nm.subVectors(e,s);const l=mc.dot(nm),c=xc.dot(nm);if(l<=0&&c<=0)return t.copy(s);im.subVectors(e,i);const d=mc.dot(im),u=xc.dot(im);if(d>=0&&u<=d)return t.copy(i);const h=l*u-d*c;if(h<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(s).addScaledVector(mc,o);rm.subVectors(e,r);const f=mc.dot(rm),A=xc.dot(rm);if(A>=0&&f<=A)return t.copy(r);const p=f*c-l*A;if(p<=0&&c>=0&&A<=0)return a=c/(c-A),t.copy(s).addScaledVector(xc,a);const g=d*A-f*u;if(g<=0&&u-d>=0&&f-A>=0)return JI.subVectors(r,i),a=(u-d)/(u-d+(f-A)),t.copy(i).addScaledVector(JI,a);const m=1/(g+p+h);return o=p*m,a=h*m,t.copy(s).addScaledVector(mc,o).addScaledVector(xc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const vB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},qo={h:0,s:0,l:0},Jh={h:0,s:0,l:0};function cm(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class st{constructor(e,t,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,s)}set(e,t,s){if(t===void 0&&s===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,s);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=cs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ts.colorSpaceToWorking(this,t),this}setRGB(e,t,s,i=ts.workingColorSpace){return this.r=e,this.g=t,this.b=s,ts.colorSpaceToWorking(this,i),this}setHSL(e,t,s,i=ts.workingColorSpace){if(e=n_(e,1),t=qt(t,0,1),s=qt(s,0,1),t===0)this.r=this.g=this.b=s;else{const r=s<=.5?s*(1+t):s+t-s*t,o=2*s-r;this.r=cm(o,r,e+1/3),this.g=cm(o,r,e),this.b=cm(o,r,e-1/3)}return ts.colorSpaceToWorking(this,i),this}setStyle(e,t=cs){function s(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=cs){const s=vB[e.toLowerCase()];return s!==void 0?this.setHex(s,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=wo(e.r),this.g=wo(e.g),this.b=wo(e.b),this}copyLinearToSRGB(e){return this.r=Id(e.r),this.g=Id(e.g),this.b=Id(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=cs){return ts.workingToColorSpace(Rn.copy(this),e),Math.round(qt(Rn.r*255,0,255))*65536+Math.round(qt(Rn.g*255,0,255))*256+Math.round(qt(Rn.b*255,0,255))}getHexString(e=cs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ts.workingColorSpace){ts.workingToColorSpace(Rn.copy(this),t);const s=Rn.r,i=Rn.g,r=Rn.b,o=Math.max(s,i,r),a=Math.min(s,i,r);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const u=o-a;switch(c=d<=.5?u/(o+a):u/(2-o-a),o){case s:l=(i-r)/u+(i<r?6:0);break;case i:l=(r-s)/u+2;break;case r:l=(s-i)/u+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=ts.workingColorSpace){return ts.workingToColorSpace(Rn.copy(this),t),e.r=Rn.r,e.g=Rn.g,e.b=Rn.b,e}getStyle(e=cs){ts.workingToColorSpace(Rn.copy(this),e);const t=Rn.r,s=Rn.g,i=Rn.b;return e!==cs?`color(${e} ${t.toFixed(3)} ${s.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(s*255)},${Math.round(i*255)})`}offsetHSL(e,t,s){return this.getHSL(qo),this.setHSL(qo.h+e,qo.s+t,qo.l+s)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,s){return this.r=e.r+(t.r-e.r)*s,this.g=e.g+(t.g-e.g)*s,this.b=e.b+(t.b-e.b)*s,this}lerpHSL(e,t){this.getHSL(qo),e.getHSL(Jh);const s=eh(qo.h,Jh.h,t),i=eh(qo.s,Jh.s,t),r=eh(qo.l,Jh.l,t);return this.setHSL(s,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,s=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*s+r[6]*i,this.g=r[1]*t+r[4]*s+r[7]*i,this.b=r[2]*t+r[5]*s+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Rn=new st;st.NAMES=vB;let BT=0;class Ai extends sc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:BT++}),this.uuid=ji(),this.name="",this.type="Material",this.blending=wl,this.side=In,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=np,this.blendDst=ip,this.blendEquation=fa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new st(0,0,0),this.blendAlpha=0,this.depthFunc=Ll,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Lx,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=zr,this.stencilZFail=zr,this.stencilZPass=zr,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const s=e[t];if(s===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(s):i&&i.isVector3&&s&&s.isVector3?i.copy(s):this[t]=s}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const s={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(s.dispersion=this.dispersion),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(s.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(s.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(s.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(e).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(e).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(e).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(e).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(e).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapRotation!==void 0&&(s.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==wl&&(s.blending=this.blending),this.side!==In&&(s.side=this.side),this.vertexColors===!0&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=!0),this.blendSrc!==np&&(s.blendSrc=this.blendSrc),this.blendDst!==ip&&(s.blendDst=this.blendDst),this.blendEquation!==fa&&(s.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(s.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(s.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(s.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(s.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(s.blendAlpha=this.blendAlpha),this.depthFunc!==Ll&&(s.depthFunc=this.depthFunc),this.depthTest===!1&&(s.depthTest=this.depthTest),this.depthWrite===!1&&(s.depthWrite=this.depthWrite),this.colorWrite===!1&&(s.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(s.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Lx&&(s.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(s.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(s.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==zr&&(s.stencilFail=this.stencilFail),this.stencilZFail!==zr&&(s.stencilZFail=this.stencilZFail),this.stencilZPass!==zr&&(s.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(s.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaHash===!0&&(s.alphaHash=!0),this.alphaToCoverage===!0&&(s.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=!0),this.forceSinglePass===!0&&(s.forceSinglePass=!0),this.wireframe===!0&&(s.wireframe=!0),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=!0),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData);function i(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(t){const r=i(e.textures),o=i(e.images);r.length>0&&(s.textures=r),o.length>0&&(s.images=o)}return s}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let s=null;if(t!==null){const i=t.length;s=new Array(i);for(let r=0;r!==i;++r)s[r]=t[r].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Nt extends Ai{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new st(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new gs,this.combine=hg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _o=NT();function NT(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),s=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(s[l]=0,s[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(s[l]=1024>>-c-14,s[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(s[l]=c+15<<10,s[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(s[l]=31744,s[l|256]=64512,i[l]=24,i[l|256]=24):(s[l]=31744,s[l|256]=64512,i[l]=13,i[l|256]=13)}const r=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;(c&8388608)===0;)c<<=1,d-=8388608;c&=-8388609,d+=947912704,r[l]=c|d}for(let l=1024;l<2048;++l)r[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:s,shiftTable:i,mantissaTable:r,exponentTable:o,offsetTable:a}}function ST(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=qt(n,-65504,65504),_o.floatView[0]=n;const e=_o.uint32View[0],t=e>>23&511;return _o.baseTable[t]+((e&8388607)>>_o.shiftTable[t])}function MT(n){const e=n>>10;return _o.uint32View[0]=_o.mantissaTable[_o.offsetTable[e]+(n&1023)]+_o.exponentTable[e],_o.floatView[0]}class yl{static toHalfFloat(e){return ST(e)}static fromHalfFloat(e){return MT(e)}}const on=new w,Kh=new Be;let TT=0;class rs{constructor(e,t,s=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:TT++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=s,this.usage=Pp,this.updateRanges=[],this.gpuType=Qs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,s){e*=this.itemSize,s*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[s+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,s=this.count;t<s;t++)Kh.fromBufferAttribute(this,t),Kh.applyMatrix3(e),this.setXY(t,Kh.x,Kh.y);else if(this.itemSize===3)for(let t=0,s=this.count;t<s;t++)on.fromBufferAttribute(this,t),on.applyMatrix3(e),this.setXYZ(t,on.x,on.y,on.z);return this}applyMatrix4(e){for(let t=0,s=this.count;t<s;t++)on.fromBufferAttribute(this,t),on.applyMatrix4(e),this.setXYZ(t,on.x,on.y,on.z);return this}applyNormalMatrix(e){for(let t=0,s=this.count;t<s;t++)on.fromBufferAttribute(this,t),on.applyNormalMatrix(e),this.setXYZ(t,on.x,on.y,on.z);return this}transformDirection(e){for(let t=0,s=this.count;t<s;t++)on.fromBufferAttribute(this,t),on.transformDirection(e),this.setXYZ(t,on.x,on.y,on.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let s=this.array[e*this.itemSize+t];return this.normalized&&(s=_r(s,this.array)),s}setComponent(e,t,s){return this.normalized&&(s=bs(s,this.array)),this.array[e*this.itemSize+t]=s,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=_r(t,this.array)),t}setX(e,t){return this.normalized&&(t=bs(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=_r(t,this.array)),t}setY(e,t){return this.normalized&&(t=bs(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=_r(t,this.array)),t}setZ(e,t){return this.normalized&&(t=bs(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=_r(t,this.array)),t}setW(e,t){return this.normalized&&(t=bs(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,s){return e*=this.itemSize,this.normalized&&(t=bs(t,this.array),s=bs(s,this.array)),this.array[e+0]=t,this.array[e+1]=s,this}setXYZ(e,t,s,i){return e*=this.itemSize,this.normalized&&(t=bs(t,this.array),s=bs(s,this.array),i=bs(i,this.array)),this.array[e+0]=t,this.array[e+1]=s,this.array[e+2]=i,this}setXYZW(e,t,s,i,r){return e*=this.itemSize,this.normalized&&(t=bs(t,this.array),s=bs(s,this.array),i=bs(i,this.array),r=bs(r,this.array)),this.array[e+0]=t,this.array[e+1]=s,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Pp&&(e.usage=this.usage),e}}class o_ extends rs{constructor(e,t,s){super(new Uint16Array(e),t,s)}}class a_ extends rs{constructor(e,t,s){super(new Uint32Array(e),t,s)}}class yt extends rs{constructor(e,t,s){super(new Float32Array(e),t,s)}}let PT=0;const Mi=new Je,dm=new is,yc=new w,mi=new Jt,du=new Jt,yn=new w;class Qt extends sc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:PT++}),this.uuid=ji(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(xB(e)?a_:o_)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,s=0){this.groups.push({start:e,count:t,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const r=new Dt().getNormalMatrix(e);s.applyNormalMatrix(r),s.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mi.makeRotationFromQuaternion(e),this.applyMatrix4(Mi),this}rotateX(e){return Mi.makeRotationX(e),this.applyMatrix4(Mi),this}rotateY(e){return Mi.makeRotationY(e),this.applyMatrix4(Mi),this}rotateZ(e){return Mi.makeRotationZ(e),this.applyMatrix4(Mi),this}translate(e,t,s){return Mi.makeTranslation(e,t,s),this.applyMatrix4(Mi),this}scale(e,t,s){return Mi.makeScale(e,t,s),this.applyMatrix4(Mi),this}lookAt(e){return dm.lookAt(e),dm.updateMatrix(),this.applyMatrix4(dm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(yc).negate(),this.translate(yc.x,yc.y,yc.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const s=[];for(let i=0,r=e.length;i<r;i++){const o=e[i];s.push(o.x,o.y,o.z||0)}this.setAttribute("position",new yt(s,3))}else{const s=Math.min(e.length,t.count);for(let i=0;i<s;i++){const r=e[i];t.setXYZ(i,r.x,r.y,r.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Jt);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new w(-1/0,-1/0,-1/0),new w(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let s=0,i=t.length;s<i;s++){const r=t[s];mi.setFromBufferAttribute(r),this.morphTargetsRelative?(yn.addVectors(this.boundingBox.min,mi.min),this.boundingBox.expandByPoint(yn),yn.addVectors(this.boundingBox.max,mi.max),this.boundingBox.expandByPoint(yn)):(this.boundingBox.expandByPoint(mi.min),this.boundingBox.expandByPoint(mi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ps);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new w,1/0);return}if(e){const s=this.boundingSphere.center;if(mi.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const a=t[r];du.setFromBufferAttribute(a),this.morphTargetsRelative?(yn.addVectors(mi.min,du.min),mi.expandByPoint(yn),yn.addVectors(mi.max,du.max),mi.expandByPoint(yn)):(mi.expandByPoint(du.min),mi.expandByPoint(du.max))}mi.getCenter(s);let i=0;for(let r=0,o=e.count;r<o;r++)yn.fromBufferAttribute(e,r),i=Math.max(i,s.distanceToSquared(yn));if(t)for(let r=0,o=t.length;r<o;r++){const a=t[r],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)yn.fromBufferAttribute(a,c),l&&(yc.fromBufferAttribute(e,c),yn.add(yc)),i=Math.max(i,s.distanceToSquared(yn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=t.position,i=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new rs(new Float32Array(4*s.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let N=0;N<s.count;N++)a[N]=new w,l[N]=new w;const c=new w,d=new w,u=new w,h=new Be,f=new Be,A=new Be,p=new w,g=new w;function m(N,C,B){c.fromBufferAttribute(s,N),d.fromBufferAttribute(s,C),u.fromBufferAttribute(s,B),h.fromBufferAttribute(r,N),f.fromBufferAttribute(r,C),A.fromBufferAttribute(r,B),d.sub(c),u.sub(c),f.sub(h),A.sub(h);const S=1/(f.x*A.y-A.x*f.y);isFinite(S)&&(p.copy(d).multiplyScalar(A.y).addScaledVector(u,-f.y).multiplyScalar(S),g.copy(u).multiplyScalar(f.x).addScaledVector(d,-A.x).multiplyScalar(S),a[N].add(p),a[C].add(p),a[B].add(p),l[N].add(g),l[C].add(g),l[B].add(g))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let N=0,C=y.length;N<C;++N){const B=y[N],S=B.start,T=B.count;for(let D=S,L=S+T;D<L;D+=3)m(e.getX(D+0),e.getX(D+1),e.getX(D+2))}const _=new w,I=new w,v=new w,E=new w;function b(N){v.fromBufferAttribute(i,N),E.copy(v);const C=a[N];_.copy(C),_.sub(v.multiplyScalar(v.dot(C))).normalize(),I.crossVectors(E,C);const S=I.dot(l[N])<0?-1:1;o.setXYZW(N,_.x,_.y,_.z,S)}for(let N=0,C=y.length;N<C;++N){const B=y[N],S=B.start,T=B.count;for(let D=S,L=S+T;D<L;D+=3)b(e.getX(D+0)),b(e.getX(D+1)),b(e.getX(D+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new rs(new Float32Array(t.count*3),3),this.setAttribute("normal",s);else for(let h=0,f=s.count;h<f;h++)s.setXYZ(h,0,0,0);const i=new w,r=new w,o=new w,a=new w,l=new w,c=new w,d=new w,u=new w;if(e)for(let h=0,f=e.count;h<f;h+=3){const A=e.getX(h+0),p=e.getX(h+1),g=e.getX(h+2);i.fromBufferAttribute(t,A),r.fromBufferAttribute(t,p),o.fromBufferAttribute(t,g),d.subVectors(o,r),u.subVectors(i,r),d.cross(u),a.fromBufferAttribute(s,A),l.fromBufferAttribute(s,p),c.fromBufferAttribute(s,g),a.add(d),l.add(d),c.add(d),s.setXYZ(A,a.x,a.y,a.z),s.setXYZ(p,l.x,l.y,l.z),s.setXYZ(g,c.x,c.y,c.z)}else for(let h=0,f=t.count;h<f;h+=3)i.fromBufferAttribute(t,h+0),r.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),d.subVectors(o,r),u.subVectors(i,r),d.cross(u),s.setXYZ(h+0,d.x,d.y,d.z),s.setXYZ(h+1,d.x,d.y,d.z),s.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),s.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,s=e.count;t<s;t++)yn.fromBufferAttribute(e,t),yn.normalize(),e.setXYZ(t,yn.x,yn.y,yn.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,u=a.normalized,h=new c.constructor(l.length*d);let f=0,A=0;for(let p=0,g=l.length;p<g;p++){a.isInterleavedBufferAttribute?f=l[p]*a.data.stride+a.offset:f=l[p]*d;for(let m=0;m<d;m++)h[A++]=c[f++]}return new rs(h,d,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Qt,s=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,s);t.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const l=[],c=r[a];for(let d=0,u=c.length;d<u;d++){const h=c[d],f=e(h,s);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const s=this.attributes;for(const l in s){const c=s[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let u=0,h=c.length;u<h;u++){const f=c[u];d.push(f.toJSON(e.data))}d.length>0&&(i[l]=d,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const s=e.index;s!==null&&this.setIndex(s.clone());const i=e.attributes;for(const c in i){const d=i[c];this.setAttribute(c,d.clone(t))}const r=e.morphAttributes;for(const c in r){const d=[],u=r[c];for(let h=0,f=u.length;h<f;h++)d.push(u[h].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const u=o[c];this.addGroup(u.start,u.count,u.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const KI=new Je,Ja=new Ci,jh=new Ps,jI=new w,Zh=new w,$h=new w,ef=new w,um=new w,tf=new w,ZI=new w,sf=new w;class it extends is{constructor(e=new Qt,t=new Nt){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,s=Object.keys(t);if(s.length>0){const i=t[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(e,t){const s=this.geometry,i=s.attributes.position,r=s.morphAttributes.position,o=s.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(r&&a){tf.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const d=a[l],u=r[l];d!==0&&(um.fromBufferAttribute(u,e),o?tf.addScaledVector(um,d):tf.addScaledVector(um.sub(t),d))}t.add(tf)}return t}raycast(e,t){const s=this.geometry,i=this.material,r=this.matrixWorld;i!==void 0&&(s.boundingSphere===null&&s.computeBoundingSphere(),jh.copy(s.boundingSphere),jh.applyMatrix4(r),Ja.copy(e.ray).recast(e.near),!(jh.containsPoint(Ja.origin)===!1&&(Ja.intersectSphere(jh,jI)===null||Ja.origin.distanceToSquared(jI)>(e.far-e.near)**2))&&(KI.copy(r).invert(),Ja.copy(e.ray).applyMatrix4(KI),!(s.boundingBox!==null&&Ja.intersectsBox(s.boundingBox)===!1)&&this._computeIntersections(e,t,Ja)))}_computeIntersections(e,t,s){let i;const r=this.geometry,o=this.material,a=r.index,l=r.attributes.position,c=r.attributes.uv,d=r.attributes.uv1,u=r.attributes.normal,h=r.groups,f=r.drawRange;if(a!==null)if(Array.isArray(o))for(let A=0,p=h.length;A<p;A++){const g=h[A],m=o[g.materialIndex],y=Math.max(g.start,f.start),_=Math.min(a.count,Math.min(g.start+g.count,f.start+f.count));for(let I=y,v=_;I<v;I+=3){const E=a.getX(I),b=a.getX(I+1),N=a.getX(I+2);i=nf(this,m,e,s,c,d,u,E,b,N),i&&(i.faceIndex=Math.floor(I/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const A=Math.max(0,f.start),p=Math.min(a.count,f.start+f.count);for(let g=A,m=p;g<m;g+=3){const y=a.getX(g),_=a.getX(g+1),I=a.getX(g+2);i=nf(this,o,e,s,c,d,u,y,_,I),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let A=0,p=h.length;A<p;A++){const g=h[A],m=o[g.materialIndex],y=Math.max(g.start,f.start),_=Math.min(l.count,Math.min(g.start+g.count,f.start+f.count));for(let I=y,v=_;I<v;I+=3){const E=I,b=I+1,N=I+2;i=nf(this,m,e,s,c,d,u,E,b,N),i&&(i.faceIndex=Math.floor(I/3),i.face.materialIndex=g.materialIndex,t.push(i))}}else{const A=Math.max(0,f.start),p=Math.min(l.count,f.start+f.count);for(let g=A,m=p;g<m;g+=3){const y=g,_=g+1,I=g+2;i=nf(this,o,e,s,c,d,u,y,_,I),i&&(i.faceIndex=Math.floor(g/3),t.push(i))}}}}function RT(n,e,t,s,i,r,o,a){let l;if(e.side===Ls?l=s.intersectTriangle(o,r,i,!0,a):l=s.intersectTriangle(i,r,o,e.side===In,a),l===null)return null;sf.copy(a),sf.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(sf);return c<t.near||c>t.far?null:{distance:c,point:sf.clone(),object:n}}function nf(n,e,t,s,i,r,o,a,l,c){n.getVertexPosition(a,Zh),n.getVertexPosition(l,$h),n.getVertexPosition(c,ef);const d=RT(n,e,t,s,Zh,$h,ef,ZI);if(d){const u=new w;sn.getBarycoord(ZI,Zh,$h,ef,u),i&&(d.uv=sn.getInterpolatedAttribute(i,a,l,c,u,new Be)),r&&(d.uv1=sn.getInterpolatedAttribute(r,a,l,c,u,new Be)),o&&(d.normal=sn.getInterpolatedAttribute(o,a,l,c,u,new w),d.normal.dot(s.direction)>0&&d.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new w,materialIndex:0};sn.getNormal(Zh,$h,ef,h.normal),d.face=h,d.barycoord=u}return d}class ei extends Qt{constructor(e=1,t=1,s=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:s,widthSegments:i,heightSegments:r,depthSegments:o};const a=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],d=[],u=[];let h=0,f=0;A("z","y","x",-1,-1,s,t,e,o,r,0),A("z","y","x",1,-1,s,t,-e,o,r,1),A("x","z","y",1,1,e,s,t,i,o,2),A("x","z","y",1,-1,e,s,-t,i,o,3),A("x","y","z",1,-1,e,t,s,i,r,4),A("x","y","z",-1,-1,e,t,-s,i,r,5),this.setIndex(l),this.setAttribute("position",new yt(c,3)),this.setAttribute("normal",new yt(d,3)),this.setAttribute("uv",new yt(u,2));function A(p,g,m,y,_,I,v,E,b,N,C){const B=I/b,S=v/N,T=I/2,D=v/2,L=E/2,z=b+1,V=N+1;let se=0,q=0;const Ae=new w;for(let pe=0;pe<V;pe++){const Ye=pe*S-D;for(let Me=0;Me<z;Me++){const We=Me*B-T;Ae[p]=We*y,Ae[g]=Ye*_,Ae[m]=L,c.push(Ae.x,Ae.y,Ae.z),Ae[p]=0,Ae[g]=0,Ae[m]=E>0?1:-1,d.push(Ae.x,Ae.y,Ae.z),u.push(Me/b),u.push(1-pe/N),se+=1}}for(let pe=0;pe<N;pe++)for(let Ye=0;Ye<b;Ye++){const Me=h+Ye+z*pe,We=h+Ye+z*(pe+1),ce=h+(Ye+1)+z*(pe+1),j=h+(Ye+1)+z*pe;l.push(Me,We,j),l.push(We,ce,j),q+=6}a.addGroup(f,q,C),f+=q,h+=se}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ei(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Gd(n){const e={};for(const t in n){e[t]={};for(const s in n[t]){const i=n[t][s];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][s]=null):e[t][s]=i.clone():Array.isArray(i)?e[t][s]=i.slice():e[t][s]=i}}return e}function Xn(n){const e={};for(let t=0;t<n.length;t++){const s=Gd(n[t]);for(const i in s)e[i]=s[i]}return e}function QT(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function EB(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ts.workingColorSpace}const jd={clone:Gd,merge:Xn};var DT=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,LT=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ds extends Ai{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=DT,this.fragmentShader=LT,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gd(e.uniforms),this.uniformsGroups=QT(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const s={};for(const i in this.extensions)this.extensions[i]===!0&&(s[i]=!0);return Object.keys(s).length>0&&(t.extensions=s),t}}class l_ extends is{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Je,this.projectionMatrix=new Je,this.projectionMatrixInverse=new Je,this.coordinateSystem=Ir}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Wo=new w,$I=new Be,ev=new Be;class Dn extends l_{constructor(e=50,t=1,s=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=s,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Od*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(yd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Od*2*Math.atan(Math.tan(yd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,s){Wo.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Wo.x,Wo.y).multiplyScalar(-e/Wo.z),Wo.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(Wo.x,Wo.y).multiplyScalar(-e/Wo.z)}getViewSize(e,t){return this.getViewBounds(e,$I,ev),t.subVectors(ev,$I)}setViewOffset(e,t,s,i,r,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(yd*.5*this.fov)/this.zoom,s=2*t,i=this.aspect*s,r=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*i/l,t-=o.offsetY*s/c,i*=o.width/l,s*=o.height/c}const a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-s,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const _c=-90,Ic=1;class CB extends is{constructor(e,t,s){super(),this.type="CubeCamera",this.renderTarget=s,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Dn(_c,Ic,e,t);i.layers=this.layers,this.add(i);const r=new Dn(_c,Ic,e,t);r.layers=this.layers,this.add(r);const o=new Dn(_c,Ic,e,t);o.layers=this.layers,this.add(o);const a=new Dn(_c,Ic,e,t);a.layers=this.layers,this.add(a);const l=new Dn(_c,Ic,e,t);l.layers=this.layers,this.add(l);const c=new Dn(_c,Ic,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[s,i,r,o,a,l]=t;for(const c of t)this.remove(c);if(e===Ir)s.up.set(0,1,0),s.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===yh)s.up.set(0,-1,0),s.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:s,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,a,l,c,d]=this.children,u=e.getRenderTarget(),h=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),A=e.xr.enabled;e.xr.enabled=!1;const p=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,e.setRenderTarget(s,0,i),e.render(t,r),e.setRenderTarget(s,1,i),e.render(t,o),e.setRenderTarget(s,2,i),e.render(t,a),e.setRenderTarget(s,3,i),e.render(t,l),e.setRenderTarget(s,4,i),e.render(t,c),s.texture.generateMipmaps=p,e.setRenderTarget(s,5,i),e.render(t,d),e.setRenderTarget(u,h,f),e.xr.enabled=A,s.texture.needsPMREMUpdate=!0}}class c_ extends Ws{constructor(e=[],t=Ua,s,i,r,o,a,l,c,d){super(e,t,s,i,r,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class bB extends Mo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const s={width:e,height:e,depth:1},i=[s,s,s,s,s,s];this.texture=new c_(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ei(5,5,5),r=new Ds({name:"CubemapFromEquirect",uniforms:Gd(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:Ls,blending:Co});r.uniforms.tEquirect.value=t;const o=new it(i,r),a=t.minFilter;return t.minFilter===Ii&&(t.minFilter=Ot),new CB(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,s=!0,i=!0){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,s,i);e.setRenderTarget(r)}}class Tt extends is{constructor(){super(),this.isGroup=!0,this.type="Group"}}const kT={type:"move"};class UA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Tt,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Tt,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new w,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new w),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Tt,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new w,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new w),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const s of e.hand.values())this._getHandJoint(t,s)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,s){let i=null,r=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const p of e.hand.values()){const g=t.getJointPose(p,s),m=this._getHandJoint(c,p);g!==null&&(m.matrix.fromArray(g.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=g.radius),m.visible=g!==null}const d=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],h=d.position.distanceTo(u.position),f=.02,A=.005;c.inputState.pinching&&h>f+A?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-A&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,s),i===null&&r!==null&&(i=r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(kT)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const s=new Tt;s.matrixAutoUpdate=!1,s.visible=!1,e.joints[t.jointName]=s,e.add(s)}return e.joints[t.jointName]}}class _g extends is{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new gs,this.environmentIntensity=1,this.environmentRotation=new gs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class d_{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Pp,this.updateRanges=[],this.version=0,this.uuid=ji()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,s){e*=this.stride,s*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[s+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ji()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(t,this.stride);return s.setUsage(this.usage),s}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ji()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const zn=new w;class Kr{constructor(e,t,s,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=s,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,s=this.data.count;t<s;t++)zn.fromBufferAttribute(this,t),zn.applyMatrix4(e),this.setXYZ(t,zn.x,zn.y,zn.z);return this}applyNormalMatrix(e){for(let t=0,s=this.count;t<s;t++)zn.fromBufferAttribute(this,t),zn.applyNormalMatrix(e),this.setXYZ(t,zn.x,zn.y,zn.z);return this}transformDirection(e){for(let t=0,s=this.count;t<s;t++)zn.fromBufferAttribute(this,t),zn.transformDirection(e),this.setXYZ(t,zn.x,zn.y,zn.z);return this}getComponent(e,t){let s=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(s=_r(s,this.array)),s}setComponent(e,t,s){return this.normalized&&(s=bs(s,this.array)),this.data.array[e*this.data.stride+this.offset+t]=s,this}setX(e,t){return this.normalized&&(t=bs(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=bs(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=bs(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=bs(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=_r(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=_r(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=_r(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=_r(t,this.array)),t}setXY(e,t,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=bs(t,this.array),s=bs(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=s,this}setXYZ(e,t,s,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=bs(t,this.array),s=bs(s,this.array),i=bs(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=s,this.data.array[e+2]=i,this}setXYZW(e,t,s,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=bs(t,this.array),s=bs(s,this.array),i=bs(i,this.array),r=bs(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=s,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new rs(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Kr(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const tv=new w,sv=new ns,nv=new ns,FT=new w,iv=new Je,rf=new w,hm=new Ps,rv=new Je,fm=new Ci;class wB extends it{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Px,this.bindMatrix=new Je,this.bindMatrixInverse=new Je,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Jt),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let s=0;s<t.count;s++)this.getVertexPosition(s,rf),this.boundingBox.expandByPoint(rf)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ps),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let s=0;s<t.count;s++)this.getVertexPosition(s,rf),this.boundingSphere.expandByPoint(rf)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const s=this.material,i=this.matrixWorld;s!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),hm.copy(this.boundingSphere),hm.applyMatrix4(i),e.ray.intersectsSphere(hm)!==!1&&(rv.copy(i).invert(),fm.copy(e.ray).applyMatrix4(rv),!(this.boundingBox!==null&&fm.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,fm)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ns,t=this.geometry.attributes.skinWeight;for(let s=0,i=t.count;s<i;s++){e.fromBufferAttribute(t,s);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(s,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Px?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===rB?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const s=this.skeleton,i=this.geometry;sv.fromBufferAttribute(i.attributes.skinIndex,e),nv.fromBufferAttribute(i.attributes.skinWeight,e),tv.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const o=nv.getComponent(r);if(o!==0){const a=sv.getComponent(r);iv.multiplyMatrices(s.bones[a].matrixWorld,s.boneInverses[a]),t.addScaledVector(FT.copy(tv).applyMatrix4(iv),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class u_ extends is{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Pa extends Ws{constructor(e=null,t=1,s=1,i,r,o,a,l,c=Fn,d=Fn,u,h){super(null,o,a,l,c,d,i,r,u,h),this.isDataTexture=!0,this.image={data:e,width:t,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ov=new Je,UT=new Je;class Ig{constructor(e=[],t=[]){this.uuid=ji(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let s=0,i=this.bones.length;s<i;s++)this.boneInverses.push(new Je)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const s=new Je;this.bones[e]&&s.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(s)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const s=this.bones[e];s&&s.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const s=this.bones[e];s&&(s.parent&&s.parent.isBone?(s.matrix.copy(s.parent.matrixWorld).invert(),s.matrix.multiply(s.matrixWorld)):s.matrix.copy(s.matrixWorld),s.matrix.decompose(s.position,s.quaternion,s.scale))}}update(){const e=this.bones,t=this.boneInverses,s=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const a=e[r]?e[r].matrixWorld:UT;ov.multiplyMatrices(a,t[r]),ov.toArray(s,r*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Ig(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const s=new Pa(t,e,e,Zs,Qs);return s.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=s,this}getBoneByName(e){for(let t=0,s=this.bones.length;t<s;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let s=0,i=e.bones.length;s<i;s++){const r=e.bones[s];let o=t[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new u_),this.bones.push(o),this.boneInverses.push(new Je().fromArray(e.boneInverses[s]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,s=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const o=t[i];e.bones.push(o.uuid);const a=s[i];e.boneInverses.push(a.toArray())}return e}}class vr extends rs{constructor(e,t,s,i=1){super(e,t,s),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const vc=new Je,av=new Je,of=[],lv=new Jt,OT=new Je,uu=new it,hu=new Ps;class Gl extends it{constructor(e,t,s){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new vr(new Float32Array(s*16),16),this.instanceColor=null,this.morphTexture=null,this.count=s,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<s;i++)this.setMatrixAt(i,OT)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Jt),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let s=0;s<t;s++)this.getMatrixAt(s,vc),lv.copy(e.boundingBox).applyMatrix4(vc),this.boundingBox.union(lv)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ps),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let s=0;s<t;s++)this.getMatrixAt(s,vc),hu.copy(e.boundingSphere).applyMatrix4(vc),this.boundingSphere.union(hu)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const s=t.morphTargetInfluences,i=this.morphTexture.source.data.data,r=s.length+1,o=e*r+1;for(let a=0;a<s.length;a++)s[a]=i[o+a]}raycast(e,t){const s=this.matrixWorld,i=this.count;if(uu.geometry=this.geometry,uu.material=this.material,uu.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),hu.copy(this.boundingSphere),hu.applyMatrix4(s),e.ray.intersectsSphere(hu)!==!1))for(let r=0;r<i;r++){this.getMatrixAt(r,vc),av.multiplyMatrices(s,vc),uu.matrixWorld=av,uu.raycast(e,of);for(let o=0,a=of.length;o<a;o++){const l=of[o];l.instanceId=r,l.object=this,t.push(l)}of.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new vr(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const s=t.morphTargetInfluences,i=s.length+1;this.morphTexture===null&&(this.morphTexture=new Pa(new Float32Array(i*this.count),i,this.count,Jr,Qs));const r=this.morphTexture.source.data.data;let o=0;for(let c=0;c<s.length;c++)o+=s[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;r[l]=a,r.set(s,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const Am=new w,GT=new w,HT=new Dt;class ps{constructor(e=new w(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,s,i){return this.normal.set(e,t,s),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,s){const i=Am.subVectors(s,t).cross(GT.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const s=e.delta(Am),i=this.normal.dot(s);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(s,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),s=this.distanceToPoint(e.end);return t<0&&s>0||s<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const s=t||HT.getNormalMatrix(e),i=this.coplanarPoint(Am).applyMatrix4(e),r=this.normal.applyMatrix3(s).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ka=new Ps,af=new w;class Zd{constructor(e=new ps,t=new ps,s=new ps,i=new ps,r=new ps,o=new ps){this.planes=[e,t,s,i,r,o]}set(e,t,s,i,r,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(s),a[3].copy(i),a[4].copy(r),a[5].copy(o),this}copy(e){const t=this.planes;for(let s=0;s<6;s++)t[s].copy(e.planes[s]);return this}setFromProjectionMatrix(e,t=Ir){const s=this.planes,i=e.elements,r=i[0],o=i[1],a=i[2],l=i[3],c=i[4],d=i[5],u=i[6],h=i[7],f=i[8],A=i[9],p=i[10],g=i[11],m=i[12],y=i[13],_=i[14],I=i[15];if(s[0].setComponents(l-r,h-c,g-f,I-m).normalize(),s[1].setComponents(l+r,h+c,g+f,I+m).normalize(),s[2].setComponents(l+o,h+d,g+A,I+y).normalize(),s[3].setComponents(l-o,h-d,g-A,I-y).normalize(),s[4].setComponents(l-a,h-u,g-p,I-_).normalize(),t===Ir)s[5].setComponents(l+a,h+u,g+p,I+_).normalize();else if(t===yh)s[5].setComponents(a,u,p,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ka.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ka.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ka)}intersectsSprite(e){return Ka.center.set(0,0,0),Ka.radius=.7071067811865476,Ka.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ka)}intersectsSphere(e){const t=this.planes,s=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(s)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let s=0;s<6;s++){const i=t[s];if(af.x=i.normal.x>0?e.max.x:e.min.x,af.y=i.normal.y>0?e.max.y:e.min.y,af.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(af)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let s=0;s<6;s++)if(t[s].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Mr=new Je,Tr=new Zd;class vg{constructor(){this.coordinateSystem=Ir}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let s=0;s<t.cameras.length;s++){const i=t.cameras[s];if(Mr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Tr.setFromProjectionMatrix(Mr,this.coordinateSystem),Tr.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let s=0;s<t.cameras.length;s++){const i=t.cameras[s];if(Mr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Tr.setFromProjectionMatrix(Mr,this.coordinateSystem),Tr.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let s=0;s<t.cameras.length;s++){const i=t.cameras[s];if(Mr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Tr.setFromProjectionMatrix(Mr,this.coordinateSystem),Tr.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let s=0;s<t.cameras.length;s++){const i=t.cameras[s];if(Mr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Tr.setFromProjectionMatrix(Mr,this.coordinateSystem),Tr.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let s=0;s<t.cameras.length;s++){const i=t.cameras[s];if(Mr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Tr.setFromProjectionMatrix(Mr,this.coordinateSystem),Tr.containsPoint(e))return!0}return!1}clone(){return new vg}}function pm(n,e){return n-e}function zT(n,e){return n.z-e.z}function VT(n,e){return e.z-n.z}class qT{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,s,i){const r=this.pool,o=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const a=r[this.index];o.push(a),this.index++,a.start=e,a.count=t,a.z=s,a.index=i}reset(){this.list.length=0,this.index=0}}const ii=new Je,WT=new st(1,1,1),cv=new Zd,XT=new vg,lf=new Jt,ja=new Ps,fu=new w,dv=new w,YT=new w,gm=new qT,Qn=new it,cf=[];function JT(n,e,t=0){const s=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let r=0;r<i;r++)for(let o=0;o<s;o++)e.setComponent(r+t,o,n.getComponent(r,o))}else e.array.set(n.array,t*s);e.needsUpdate=!0}function Za(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++)e[s]=n[s]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class $d extends it{constructor(e,t,s=t*2,i){super(new Qt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=s,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),s=new Pa(t,e,e,Zs,Qs);this._matricesTexture=s}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),s=new Pa(t,e,e,Qh,So);this._indirectTexture=s}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),s=new Pa(t,e,e,Zs,Qs);s.colorSpace=ts.workingColorSpace,this._colorsTexture=s}_initializeGeometry(e){const t=this.geometry,s=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const o=e.getAttribute(r),{array:a,itemSize:l,normalized:c}=o,d=new a.constructor(s*l),u=new rs(d,l,c);t.setAttribute(r,u)}if(e.getIndex()!==null){const r=s>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new rs(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const s in t.attributes){if(!e.hasAttribute(s))throw new Error(`THREE.BatchedMesh: Added geometry missing "${s}". All geometries must have consistent attributes.`);const i=e.getAttribute(s),r=t.getAttribute(s);if(i.itemSize!==r.itemSize||i.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Jt);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let s=0,i=t.length;s<i;s++){if(t[s].active===!1)continue;const r=t[s].geometryIndex;this.getMatrixAt(s,ii),this.getBoundingBoxAt(r,lf).applyMatrix4(ii),e.union(lf)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ps);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let s=0,i=t.length;s<i;s++){if(t[s].active===!1)continue;const r=t[s].geometryIndex;this.getMatrixAt(s,ii),this.getBoundingSphereAt(r,ja).applyMatrix4(ii),e.union(ja)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const s={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(pm),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=s):(i=this._instanceInfo.length,this._instanceInfo.push(s));const r=this._matricesTexture;ii.identity().toArray(r.image.data,i*16),r.needsUpdate=!0;const o=this._colorsTexture;return o&&(WT.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,s=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=s===-1?o.count:s),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(pm),l=this._availableGeometryIds.shift(),r[l]=i):(l=this._geometryCount,this._geometryCount++,r.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const s=this.geometry,i=s.getIndex()!==null,r=s.getIndex(),o=t.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const d in s.attributes){const u=t.getAttribute(d),h=s.getAttribute(d);JT(u,h,l);const f=u.itemSize;for(let A=u.count,p=c;A<p;A++){const g=l+A;for(let m=0;m<f;m++)h.setComponent(g,m,0)}h.needsUpdate=!0,h.addUpdateRange(l*f,c*f)}if(i){const d=a.indexStart,u=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let h=0;h<o.count;h++)r.setX(d+h,l+o.getX(h));for(let h=o.count,f=u;h<f;h++)r.setX(d+h,l);r.needsUpdate=!0,r.addUpdateRange(d,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,t.boundingBox!==null&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,t.boundingSphere!==null&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const s=this._instanceInfo;for(let i=0,r=s.length;i<r;i++)s[i].active&&s[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const s=this._geometryInfo,i=s.map((o,a)=>a).sort((o,a)=>s[o].vertexStart-s[a].vertexStart),r=this.geometry;for(let o=0,a=s.length;o<a;o++){const l=i[o],c=s[l];if(c.active!==!1){if(r.index!==null){if(c.indexStart!==t){const{indexStart:d,vertexStart:u,reservedIndexCount:h}=c,f=r.index,A=f.array,p=e-u;for(let g=d;g<d+h;g++)A[g]=A[g]+p;f.array.copyWithin(t,d,d+h),f.addUpdateRange(t,h),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:d,reservedVertexCount:u}=c,h=r.attributes;for(const f in h){const A=h[f],{array:p,itemSize:g}=A;p.copyWithin(e*g,d*g,(d+u)*g),A.addUpdateRange(e*g,u*g)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=r.index?c.indexStart:c.vertexStart,this._nextIndexStart=r.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const s=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const r=new Jt,o=s.index,a=s.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let d=l;o&&(d=o.getX(d)),r.expandByPoint(fu.fromBufferAttribute(a,d))}i.boundingBox=r}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const s=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const r=new Ps;this.getBoundingBoxAt(e,lf),lf.getCenter(r.center);const o=s.index,a=s.attributes.position;let l=0;for(let c=i.start,d=i.start+i.count;c<d;c++){let u=c;o&&(u=o.getX(u)),fu.fromBufferAttribute(a,u),l=Math.max(l,r.center.distanceToSquared(fu))}r.radius=Math.sqrt(l),i.boundingSphere=r}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const s=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),s.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const s=this._geometryInfo[e];return t.vertexStart=s.vertexStart,t.vertexCount=s.vertexCount,t.reservedVertexCount=s.reservedVertexCount,t.indexStart=s.indexStart,t.indexCount=s.indexCount,t.reservedIndexCount=s.reservedIndexCount,t.start=s.start,t.count=s.count,t}setInstanceCount(e){const t=this._availableInstanceIds,s=this._instanceInfo;for(t.sort(pm);t[t.length-1]===s.length;)s.pop(),t.pop();if(e<s.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),r=new Int32Array(e);Za(this._multiDrawCounts,i),Za(this._multiDrawStarts,r),this._multiDrawCounts=i,this._multiDrawStarts=r,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Za(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),Za(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Za(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const s=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...s.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...s.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Qt,this._initializeGeometry(r));const o=this.geometry;r.index&&Za(r.index.array,o.index.array);for(const a in r.attributes)Za(r.attributes[a].array,o.attributes[a].array)}raycast(e,t){const s=this._instanceInfo,i=this._geometryInfo,r=this.matrixWorld,o=this.geometry;Qn.material=this.material,Qn.geometry.index=o.index,Qn.geometry.attributes=o.attributes,Qn.geometry.boundingBox===null&&(Qn.geometry.boundingBox=new Jt),Qn.geometry.boundingSphere===null&&(Qn.geometry.boundingSphere=new Ps);for(let a=0,l=s.length;a<l;a++){if(!s[a].visible||!s[a].active)continue;const c=s[a].geometryIndex,d=i[c];Qn.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(a,Qn.matrixWorld).premultiply(r),this.getBoundingBoxAt(c,Qn.geometry.boundingBox),this.getBoundingSphereAt(c,Qn.geometry.boundingSphere),Qn.raycast(e,cf);for(let u=0,h=cf.length;u<h;u++){const f=cf[u];f.object=this,f.batchId=a,t.push(f)}cf.length=0}Qn.material=null,Qn.geometry.index=null,Qn.geometry.attributes={},Qn.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,s,i,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,d=this._multiDrawCounts,u=this._geometryInfo,h=this.perObjectFrustumCulled,f=this._indirectTexture,A=f.image.data,p=s.isArrayCamera?XT:cv;h&&!s.isArrayCamera&&(ii.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse).multiply(this.matrixWorld),cv.setFromProjectionMatrix(ii,e.coordinateSystem));let g=0;if(this.sortObjects){ii.copy(this.matrixWorld).invert(),fu.setFromMatrixPosition(s.matrixWorld).applyMatrix4(ii),dv.set(0,0,-1).transformDirection(s.matrixWorld).transformDirection(ii);for(let _=0,I=l.length;_<I;_++)if(l[_].visible&&l[_].active){const v=l[_].geometryIndex;this.getMatrixAt(_,ii),this.getBoundingSphereAt(v,ja).applyMatrix4(ii);let E=!1;if(h&&(E=!p.intersectsSphere(ja,s)),!E){const b=u[v],N=YT.subVectors(ja.center,fu).dot(dv);gm.push(b.start,b.count,N,_)}}const m=gm.list,y=this.customSort;y===null?m.sort(r.transparent?VT:zT):y.call(this,m,s);for(let _=0,I=m.length;_<I;_++){const v=m[_];c[g]=v.start*a,d[g]=v.count,A[g]=v.index,g++}gm.reset()}else for(let m=0,y=l.length;m<y;m++)if(l[m].visible&&l[m].active){const _=l[m].geometryIndex;let I=!1;if(h&&(this.getMatrixAt(m,ii),this.getBoundingSphereAt(_,ja).applyMatrix4(ii),I=!p.intersectsSphere(ja,s)),!I){const v=u[_];c[g]=v.start*a,d[g]=v.count,A[g]=m,g++}}f.needsUpdate=!0,this._multiDrawCount=g,this._visibilityChanged=!1}onBeforeShadow(e,t,s,i,r,o){this.onBeforeRender(e,null,i,r,o)}}class To extends Ai{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new st(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Rp=new w,Qp=new w,uv=new Je,Au=new Ci,df=new Ps,mm=new w,hv=new w;class br extends is{constructor(e=new Qt,t=new To){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,s=[0];for(let i=1,r=t.count;i<r;i++)Rp.fromBufferAttribute(t,i-1),Qp.fromBufferAttribute(t,i),s[i]=s[i-1],s[i]+=Rp.distanceTo(Qp);e.setAttribute("lineDistance",new yt(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const s=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),df.copy(s.boundingSphere),df.applyMatrix4(i),df.radius+=r,e.ray.intersectsSphere(df)===!1)return;uv.copy(i).invert(),Au.copy(e.ray).applyMatrix4(uv);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,d=s.index,h=s.attributes.position;if(d!==null){const f=Math.max(0,o.start),A=Math.min(d.count,o.start+o.count);for(let p=f,g=A-1;p<g;p+=c){const m=d.getX(p),y=d.getX(p+1),_=uf(this,e,Au,l,m,y,p);_&&t.push(_)}if(this.isLineLoop){const p=d.getX(A-1),g=d.getX(f),m=uf(this,e,Au,l,p,g,A-1);m&&t.push(m)}}else{const f=Math.max(0,o.start),A=Math.min(h.count,o.start+o.count);for(let p=f,g=A-1;p<g;p+=c){const m=uf(this,e,Au,l,p,p+1,p);m&&t.push(m)}if(this.isLineLoop){const p=uf(this,e,Au,l,A-1,f,A-1);p&&t.push(p)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,s=Object.keys(t);if(s.length>0){const i=t[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function uf(n,e,t,s,i,r,o){const a=n.geometry.attributes.position;if(Rp.fromBufferAttribute(a,i),Qp.fromBufferAttribute(a,r),t.distanceSqToSegment(Rp,Qp,mm,hv)>s)return;mm.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(mm);if(!(c<e.near||c>e.far))return{distance:c,point:hv.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const fv=new w,Av=new w;class eu extends br{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,s=[];for(let i=0,r=t.count;i<r;i+=2)fv.fromBufferAttribute(t,i),Av.fromBufferAttribute(t,i+1),s[i]=i===0?0:s[i-1],s[i+1]=s[i]+fv.distanceTo(Av);e.setAttribute("lineDistance",new yt(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class BB extends br{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class pi extends Ai{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new st(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const pv=new Je,Fx=new Ci,hf=new Ps,ff=new w;class bi extends is{constructor(e=new Qt,t=new pi){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const s=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,o=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),hf.copy(s.boundingSphere),hf.applyMatrix4(i),hf.radius+=r,e.ray.intersectsSphere(hf)===!1)return;pv.copy(i).invert(),Fx.copy(e.ray).applyMatrix4(pv);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=s.index,u=s.attributes.position;if(c!==null){const h=Math.max(0,o.start),f=Math.min(c.count,o.start+o.count);for(let A=h,p=f;A<p;A++){const g=c.getX(A);ff.fromBufferAttribute(u,g),gv(ff,g,l,i,e,t,this)}}else{const h=Math.max(0,o.start),f=Math.min(u.count,o.start+o.count);for(let A=h,p=f;A<p;A++)ff.fromBufferAttribute(u,A),gv(ff,A,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,s=Object.keys(t);if(s.length>0){const i=t[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function gv(n,e,t,s,i,r,o){const a=Fx.distanceSqToPoint(n);if(a<t){const l=new w;Fx.closestPointToPoint(n,l),l.applyMatrix4(s);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;r.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class h_ extends Ws{constructor(e,t,s,i,r=Ot,o=Ot,a,l,c){super(e,t,s,i,r,o,a,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1;const d=this;function u(){d.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Lh extends Ws{constructor(e,t,s,i,r,o,a,l,c,d,u,h){super(null,o,a,l,c,d,i,r,u,h),this.isCompressedTexture=!0,this.image={width:t,height:s},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class NB extends Lh{constructor(e,t,s,i,r,o){super(e,t,s,r,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=fi,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class SB extends Lh{constructor(e,t,s){super(void 0,e[0].width,e[0].height,t,s,Ua),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class vn extends Ws{constructor(e,t,s,i,r,o,a,l,c){super(e,t,s,i,r,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class f_ extends Ws{constructor(e,t,s=So,i,r,o,a=Fn,l=Fn,c,d=Ol,u=1){if(d!==Ol&&d!==Nl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:t,depth:u};super(h,i,r,o,a,l,d,s,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new xg(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Hl extends Qt{constructor(e=1,t=32,s=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:s,thetaLength:i},t=Math.max(3,t);const r=[],o=[],a=[],l=[],c=new w,d=new Be;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let u=0,h=3;u<=t;u++,h+=3){const f=s+u/t*i;c.x=e*Math.cos(f),c.y=e*Math.sin(f),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[h]/e+1)/2,d.y=(o[h+1]/e+1)/2,l.push(d.x,d.y)}for(let u=1;u<=t;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new yt(o,3)),this.setAttribute("normal",new yt(a,3)),this.setAttribute("uv",new yt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hl(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Zi extends Qt{constructor(e=1,t=1,s=1,i=32,r=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:s,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),r=Math.floor(r);const d=[],u=[],h=[],f=[];let A=0;const p=[],g=s/2;let m=0;y(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(d),this.setAttribute("position",new yt(u,3)),this.setAttribute("normal",new yt(h,3)),this.setAttribute("uv",new yt(f,2));function y(){const I=new w,v=new w;let E=0;const b=(t-e)/s;for(let N=0;N<=r;N++){const C=[],B=N/r,S=B*(t-e)+e;for(let T=0;T<=i;T++){const D=T/i,L=D*l+a,z=Math.sin(L),V=Math.cos(L);v.x=S*z,v.y=-B*s+g,v.z=S*V,u.push(v.x,v.y,v.z),I.set(z,b,V).normalize(),h.push(I.x,I.y,I.z),f.push(D,1-B),C.push(A++)}p.push(C)}for(let N=0;N<i;N++)for(let C=0;C<r;C++){const B=p[C][N],S=p[C+1][N],T=p[C+1][N+1],D=p[C][N+1];(e>0||C!==0)&&(d.push(B,S,D),E+=3),(t>0||C!==r-1)&&(d.push(S,T,D),E+=3)}c.addGroup(m,E,0),m+=E}function _(I){const v=A,E=new Be,b=new w;let N=0;const C=I===!0?e:t,B=I===!0?1:-1;for(let T=1;T<=i;T++)u.push(0,g*B,0),h.push(0,B,0),f.push(.5,.5),A++;const S=A;for(let T=0;T<=i;T++){const L=T/i*l+a,z=Math.cos(L),V=Math.sin(L);b.x=C*V,b.y=g*B,b.z=C*z,u.push(b.x,b.y,b.z),h.push(0,B,0),E.x=z*.5+.5,E.y=V*.5*B+.5,f.push(E.x,E.y),A++}for(let T=0;T<i;T++){const D=v+T,L=S+T;I===!0?d.push(L,L+1,D):d.push(L+1,L,D),N+=3}c.addGroup(m,N,I===!0?1:2),m+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zi(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}const Af=new w,pf=new w,xm=new w,gf=new sn;class A_ extends Qt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),r=Math.cos(yd*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],u=new Array(3),h={},f=[];for(let A=0;A<l;A+=3){o?(c[0]=o.getX(A),c[1]=o.getX(A+1),c[2]=o.getX(A+2)):(c[0]=A,c[1]=A+1,c[2]=A+2);const{a:p,b:g,c:m}=gf;if(p.fromBufferAttribute(a,c[0]),g.fromBufferAttribute(a,c[1]),m.fromBufferAttribute(a,c[2]),gf.getNormal(xm),u[0]=`${Math.round(p.x*i)},${Math.round(p.y*i)},${Math.round(p.z*i)}`,u[1]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,u[2]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let y=0;y<3;y++){const _=(y+1)%3,I=u[y],v=u[_],E=gf[d[y]],b=gf[d[_]],N=`${I}_${v}`,C=`${v}_${I}`;C in h&&h[C]?(xm.dot(h[C].normal)<=r&&(f.push(E.x,E.y,E.z),f.push(b.x,b.y,b.z)),h[C]=null):N in h||(h[N]={index0:c[y],index1:c[_],normal:xm.clone()})}}for(const A in h)if(h[A]){const{index0:p,index1:g}=h[A];Af.fromBufferAttribute(a,p),pf.fromBufferAttribute(a,g),f.push(Af.x,Af.y,Af.z),f.push(pf.x,pf.y,pf.z)}this.setAttribute("position",new yt(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Nr{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const s=this.getUtoTmapping(e);return this.getPoint(s,t)}getPoints(e=5){const t=[];for(let s=0;s<=e;s++)t.push(this.getPoint(s/e));return t}getSpacedPoints(e=5){const t=[];for(let s=0;s<=e;s++)t.push(this.getPointAt(s/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let s,i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)s=this.getPoint(o/e),r+=s.distanceTo(i),t.push(r),i=s;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const s=this.getLengths();let i=0;const r=s.length;let o;t?o=t:o=e*s[r-1];let a=0,l=r-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=s[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,s[i]===o)return i/(r-1);const d=s[i],h=s[i+1]-d,f=(o-d)/h;return(i+f)/(r-1)}getTangent(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),a=this.getPoint(r),l=t||(o.isVector2?new Be:new w);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const s=this.getUtoTmapping(e);return this.getTangent(s,t)}computeFrenetFrames(e,t=!1){const s=new w,i=[],r=[],o=[],a=new w,l=new Je;for(let f=0;f<=e;f++){const A=f/e;i[f]=this.getTangentAt(A,new w)}r[0]=new w,o[0]=new w;let c=Number.MAX_VALUE;const d=Math.abs(i[0].x),u=Math.abs(i[0].y),h=Math.abs(i[0].z);d<=c&&(c=d,s.set(1,0,0)),u<=c&&(c=u,s.set(0,1,0)),h<=c&&s.set(0,0,1),a.crossVectors(i[0],s).normalize(),r[0].crossVectors(i[0],a),o[0].crossVectors(i[0],r[0]);for(let f=1;f<=e;f++){if(r[f]=r[f-1].clone(),o[f]=o[f-1].clone(),a.crossVectors(i[f-1],i[f]),a.length()>Number.EPSILON){a.normalize();const A=Math.acos(qt(i[f-1].dot(i[f]),-1,1));r[f].applyMatrix4(l.makeRotationAxis(a,A))}o[f].crossVectors(i[f],r[f])}if(t===!0){let f=Math.acos(qt(r[0].dot(r[e]),-1,1));f/=e,i[0].dot(a.crossVectors(r[0],r[e]))>0&&(f=-f);for(let A=1;A<=e;A++)r[A].applyMatrix4(l.makeRotationAxis(i[A],f*A)),o[A].crossVectors(i[A],r[A])}return{tangents:i,normals:r,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Eg extends Nr{constructor(e=0,t=0,s=1,i=1,r=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=s,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new Be){const s=t,i=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(o?r=0:r=i),this.aClockwise===!0&&!o&&(r===i?r=-i:r=r-i);const a=this.aStartAngle+e*r;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=l-this.aX,f=c-this.aY;l=h*d-f*u+this.aX,c=h*u+f*d+this.aY}return s.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class MB extends Eg{constructor(e,t,s,i,r,o){super(e,t,s,s,i,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function p_(){let n=0,e=0,t=0,s=0;function i(r,o,a,l){n=r,e=a,t=-3*r+3*o-2*a-l,s=2*r-2*o+a+l}return{initCatmullRom:function(r,o,a,l,c){i(o,a,c*(a-r),c*(l-o))},initNonuniformCatmullRom:function(r,o,a,l,c,d,u){let h=(o-r)/c-(a-r)/(c+d)+(a-o)/d,f=(a-o)/d-(l-o)/(d+u)+(l-a)/u;h*=d,f*=d,i(o,a,h,f)},calc:function(r){const o=r*r,a=o*r;return n+e*r+t*o+s*a}}}const mf=new w,ym=new p_,_m=new p_,Im=new p_;class zl extends Nr{constructor(e=[],t=!1,s="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=s,this.tension=i}getPoint(e,t=new w){const s=t,i=this.points,r=i.length,o=(r-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:l===0&&a===r-1&&(a=r-2,l=1);let c,d;this.closed||a>0?c=i[(a-1)%r]:(mf.subVectors(i[0],i[1]).add(i[0]),c=mf);const u=i[a%r],h=i[(a+1)%r];if(this.closed||a+2<r?d=i[(a+2)%r]:(mf.subVectors(i[r-1],i[r-2]).add(i[r-1]),d=mf),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let A=Math.pow(c.distanceToSquared(u),f),p=Math.pow(u.distanceToSquared(h),f),g=Math.pow(h.distanceToSquared(d),f);p<1e-4&&(p=1),A<1e-4&&(A=p),g<1e-4&&(g=p),ym.initNonuniformCatmullRom(c.x,u.x,h.x,d.x,A,p,g),_m.initNonuniformCatmullRom(c.y,u.y,h.y,d.y,A,p,g),Im.initNonuniformCatmullRom(c.z,u.z,h.z,d.z,A,p,g)}else this.curveType==="catmullrom"&&(ym.initCatmullRom(c.x,u.x,h.x,d.x,this.tension),_m.initCatmullRom(c.y,u.y,h.y,d.y,this.tension),Im.initCatmullRom(c.z,u.z,h.z,d.z,this.tension));return s.set(ym.calc(l),_m.calc(l),Im.calc(l)),s}copy(e){super.copy(e),this.points=[];for(let t=0,s=e.points.length;t<s;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,s=this.points.length;t<s;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,s=e.points.length;t<s;t++){const i=e.points[t];this.points.push(new w().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function mv(n,e,t,s,i){const r=(s-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*s+r+o)*l+(-3*t+3*s-2*r-o)*a+r*n+t}function KT(n,e){const t=1-n;return t*t*e}function jT(n,e){return 2*(1-n)*n*e}function ZT(n,e){return n*n*e}function th(n,e,t,s){return KT(n,e)+jT(n,t)+ZT(n,s)}function $T(n,e){const t=1-n;return t*t*t*e}function eP(n,e){const t=1-n;return 3*t*t*n*e}function tP(n,e){return 3*(1-n)*n*n*e}function sP(n,e){return n*n*n*e}function sh(n,e,t,s,i){return $T(n,e)+eP(n,t)+tP(n,s)+sP(n,i)}class g_ extends Nr{constructor(e=new Be,t=new Be,s=new Be,i=new Be){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=s,this.v3=i}getPoint(e,t=new Be){const s=t,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return s.set(sh(e,i.x,r.x,o.x,a.x),sh(e,i.y,r.y,o.y,a.y)),s}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class TB extends Nr{constructor(e=new w,t=new w,s=new w,i=new w){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=s,this.v3=i}getPoint(e,t=new w){const s=t,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return s.set(sh(e,i.x,r.x,o.x,a.x),sh(e,i.y,r.y,o.y,a.y),sh(e,i.z,r.z,o.z,a.z)),s}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class m_ extends Nr{constructor(e=new Be,t=new Be){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Be){const s=t;return e===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(e).add(this.v1)),s}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Be){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class PB extends Nr{constructor(e=new w,t=new w){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new w){const s=t;return e===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(e).add(this.v1)),s}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new w){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class x_ extends Nr{constructor(e=new Be,t=new Be,s=new Be){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=s}getPoint(e,t=new Be){const s=t,i=this.v0,r=this.v1,o=this.v2;return s.set(th(e,i.x,r.x,o.x),th(e,i.y,r.y,o.y)),s}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RB extends Nr{constructor(e=new w,t=new w,s=new w){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=s}getPoint(e,t=new w){const s=t,i=this.v0,r=this.v1,o=this.v2;return s.set(th(e,i.x,r.x,o.x),th(e,i.y,r.y,o.y),th(e,i.z,r.z,o.z)),s}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class y_ extends Nr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Be){const s=t,i=this.points,r=(i.length-1)*e,o=Math.floor(r),a=r-o,l=i[o===0?o:o-1],c=i[o],d=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return s.set(mv(a,l.x,c.x,d.x,u.x),mv(a,l.y,c.y,d.y,u.y)),s}copy(e){super.copy(e),this.points=[];for(let t=0,s=e.points.length;t<s;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,s=this.points.length;t<s;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,s=e.points.length;t<s;t++){const i=e.points[t];this.points.push(new Be().fromArray(i))}return this}}var xv=Object.freeze({__proto__:null,ArcCurve:MB,CatmullRomCurve3:zl,CubicBezierCurve:g_,CubicBezierCurve3:TB,EllipseCurve:Eg,LineCurve:m_,LineCurve3:PB,QuadraticBezierCurve:x_,QuadraticBezierCurve3:RB,SplineCurve:y_});class QB extends Nr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const s=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new xv[s](t,e))}return this}getPoint(e,t){const s=e*this.getLength(),i=this.getCurveLengths();let r=0;for(;r<i.length;){if(i[r]>=s){const o=i[r]-s,a=this.curves[r],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let s=0,i=this.curves.length;s<i;s++)t+=this.curves[s].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let s=0;s<=e;s++)t.push(this.getPoint(s/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let s;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];s&&s.equals(d)||(t.push(d),s=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,s=e.curves.length;t<s;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,s=this.curves.length;t<s;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,s=e.curves.length;t<s;t++){const i=e.curves[t];this.curves.push(new xv[i.type]().fromJSON(i))}return this}}class Tl extends QB{constructor(e){super(),this.type="Path",this.currentPoint=new Be,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,s=e.length;t<s;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const s=new m_(this.currentPoint.clone(),new Be(e,t));return this.curves.push(s),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,s,i){const r=new x_(this.currentPoint.clone(),new Be(e,t),new Be(s,i));return this.curves.push(r),this.currentPoint.set(s,i),this}bezierCurveTo(e,t,s,i,r,o){const a=new g_(this.currentPoint.clone(),new Be(e,t),new Be(s,i),new Be(r,o));return this.curves.push(a),this.currentPoint.set(r,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),s=new y_(t);return this.curves.push(s),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,s,i,r,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,s,i,r,o),this}absarc(e,t,s,i,r,o){return this.absellipse(e,t,s,s,i,r,o),this}ellipse(e,t,s,i,r,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,s,i,r,o,a,l),this}absellipse(e,t,s,i,r,o,a,l){const c=new Eg(e,t,s,i,r,o,a,l);if(this.curves.length>0){const u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class vd extends Tl{constructor(e){super(e),this.uuid=ji(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let s=0,i=this.holes.length;s<i;s++)t[s]=this.holes[s].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,s=e.holes.length;t<s;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,s=this.holes.length;t<s;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,s=e.holes.length;t<s;t++){const i=e.holes[t];this.holes.push(new Tl().fromJSON(i))}return this}}function nP(n,e,t=2){const s=e&&e.length,i=s?e[0]*t:n.length;let r=DB(n,0,i,t,!0);const o=[];if(!r||r.next===r.prev)return o;let a,l,c;if(s&&(r=lP(n,e,r,t)),n.length>80*t){a=1/0,l=1/0;let d=-1/0,u=-1/0;for(let h=t;h<i;h+=t){const f=n[h],A=n[h+1];f<a&&(a=f),A<l&&(l=A),f>d&&(d=f),A>u&&(u=A)}c=Math.max(d-a,u-l),c=c!==0?32767/c:0}return Ih(r,o,t,a,l,c,0),o}function DB(n,e,t,s,i){let r;if(i===yP(n,e,t,s)>0)for(let o=e;o<t;o+=s)r=yv(o/s|0,n[o],n[o+1],r);else for(let o=t-s;o>=e;o-=s)r=yv(o/s|0,n[o],n[o+1],r);return r&&Hd(r,r.next)&&(Eh(r),r=r.next),r}function Vl(n,e){if(!n)return n;e||(e=n);let t=n,s;do if(s=!1,!t.steiner&&(Hd(t,t.next)||qs(t.prev,t,t.next)===0)){if(Eh(t),t=e=t.prev,t===t.next)break;s=!0}else t=t.next;while(s||t!==e);return e}function Ih(n,e,t,s,i,r,o){if(!n)return;!o&&r&&fP(n,s,i,r);let a=n;for(;n.prev!==n.next;){const l=n.prev,c=n.next;if(r?rP(n,s,i,r):iP(n)){e.push(l.i,n.i,c.i),Eh(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=oP(Vl(n),e),Ih(n,e,t,s,i,r,2)):o===2&&aP(n,e,t,s,i,r):Ih(Vl(n),e,t,s,i,r,1);break}}}function iP(n){const e=n.prev,t=n,s=n.next;if(qs(e,t,s)>=0)return!1;const i=e.x,r=t.x,o=s.x,a=e.y,l=t.y,c=s.y,d=Math.min(i,r,o),u=Math.min(a,l,c),h=Math.max(i,r,o),f=Math.max(a,l,c);let A=s.next;for(;A!==e;){if(A.x>=d&&A.x<=h&&A.y>=u&&A.y<=f&&Ou(i,a,r,l,o,c,A.x,A.y)&&qs(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function rP(n,e,t,s){const i=n.prev,r=n,o=n.next;if(qs(i,r,o)>=0)return!1;const a=i.x,l=r.x,c=o.x,d=i.y,u=r.y,h=o.y,f=Math.min(a,l,c),A=Math.min(d,u,h),p=Math.max(a,l,c),g=Math.max(d,u,h),m=Ux(f,A,e,t,s),y=Ux(p,g,e,t,s);let _=n.prevZ,I=n.nextZ;for(;_&&_.z>=m&&I&&I.z<=y;){if(_.x>=f&&_.x<=p&&_.y>=A&&_.y<=g&&_!==i&&_!==o&&Ou(a,d,l,u,c,h,_.x,_.y)&&qs(_.prev,_,_.next)>=0||(_=_.prevZ,I.x>=f&&I.x<=p&&I.y>=A&&I.y<=g&&I!==i&&I!==o&&Ou(a,d,l,u,c,h,I.x,I.y)&&qs(I.prev,I,I.next)>=0))return!1;I=I.nextZ}for(;_&&_.z>=m;){if(_.x>=f&&_.x<=p&&_.y>=A&&_.y<=g&&_!==i&&_!==o&&Ou(a,d,l,u,c,h,_.x,_.y)&&qs(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;I&&I.z<=y;){if(I.x>=f&&I.x<=p&&I.y>=A&&I.y<=g&&I!==i&&I!==o&&Ou(a,d,l,u,c,h,I.x,I.y)&&qs(I.prev,I,I.next)>=0)return!1;I=I.nextZ}return!0}function oP(n,e){let t=n;do{const s=t.prev,i=t.next.next;!Hd(s,i)&&kB(s,t,t.next,i)&&vh(s,i)&&vh(i,s)&&(e.push(s.i,t.i,i.i),Eh(t),Eh(t.next),t=n=i),t=t.next}while(t!==n);return Vl(t)}function aP(n,e,t,s,i,r){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&gP(o,a)){let l=FB(o,a);o=Vl(o,o.next),l=Vl(l,l.next),Ih(o,e,t,s,i,r,0),Ih(l,e,t,s,i,r,0);return}a=a.next}o=o.next}while(o!==n)}function lP(n,e,t,s){const i=[];for(let r=0,o=e.length;r<o;r++){const a=e[r]*s,l=r<o-1?e[r+1]*s:n.length,c=DB(n,a,l,s,!1);c===c.next&&(c.steiner=!0),i.push(pP(c))}i.sort(cP);for(let r=0;r<i.length;r++)t=dP(i[r],t);return t}function cP(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const s=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=s-i}return t}function dP(n,e){const t=uP(n,e);if(!t)return e;const s=FB(t,n);return Vl(s,s.next),Vl(t,t.next)}function uP(n,e){let t=e;const s=n.x,i=n.y;let r=-1/0,o;if(Hd(n,t))return t;do{if(Hd(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const u=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(u<=s&&u>r&&(r=u,o=t.x<t.next.x?t:t.next,u===s))return o}t=t.next}while(t!==e);if(!o)return null;const a=o,l=o.x,c=o.y;let d=1/0;t=o;do{if(s>=t.x&&t.x>=l&&s!==t.x&&LB(i<c?s:r,i,l,c,i<c?r:s,i,t.x,t.y)){const u=Math.abs(i-t.y)/(s-t.x);vh(t,n)&&(u<d||u===d&&(t.x>o.x||t.x===o.x&&hP(o,t)))&&(o=t,d=u)}t=t.next}while(t!==a);return o}function hP(n,e){return qs(n.prev,n,e.prev)<0&&qs(e.next,n,n.next)<0}function fP(n,e,t,s){let i=n;do i.z===0&&(i.z=Ux(i.x,i.y,e,t,s)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,AP(i)}function AP(n){let e,t=1;do{let s=n,i;n=null;let r=null;for(e=0;s;){e++;let o=s,a=0;for(let c=0;c<t&&(a++,o=o.nextZ,!!o);c++);let l=t;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||s.z<=o.z)?(i=s,s=s.nextZ,a--):(i=o,o=o.nextZ,l--),r?r.nextZ=i:n=i,i.prevZ=r,r=i;s=o}r.nextZ=null,t*=2}while(e>1);return n}function Ux(n,e,t,s,i){return n=(n-t)*i|0,e=(e-s)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function pP(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function LB(n,e,t,s,i,r,o,a){return(i-o)*(e-a)>=(n-o)*(r-a)&&(n-o)*(s-a)>=(t-o)*(e-a)&&(t-o)*(r-a)>=(i-o)*(s-a)}function Ou(n,e,t,s,i,r,o,a){return!(n===o&&e===a)&&LB(n,e,t,s,i,r,o,a)}function gP(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!mP(n,e)&&(vh(n,e)&&vh(e,n)&&xP(n,e)&&(qs(n.prev,n,e.prev)||qs(n,e.prev,e))||Hd(n,e)&&qs(n.prev,n,n.next)>0&&qs(e.prev,e,e.next)>0)}function qs(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Hd(n,e){return n.x===e.x&&n.y===e.y}function kB(n,e,t,s){const i=yf(qs(n,e,t)),r=yf(qs(n,e,s)),o=yf(qs(t,s,n)),a=yf(qs(t,s,e));return!!(i!==r&&o!==a||i===0&&xf(n,t,e)||r===0&&xf(n,s,e)||o===0&&xf(t,n,s)||a===0&&xf(t,e,s))}function xf(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function yf(n){return n>0?1:n<0?-1:0}function mP(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&kB(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function vh(n,e){return qs(n.prev,n,n.next)<0?qs(n,e,n.next)>=0&&qs(n,n.prev,e)>=0:qs(n,e,n.prev)<0||qs(n,n.next,e)<0}function xP(n,e){let t=n,s=!1;const i=(n.x+e.x)/2,r=(n.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&i<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(s=!s),t=t.next;while(t!==n);return s}function FB(n,e){const t=Ox(n.i,n.x,n.y),s=Ox(e.i,e.x,e.y),i=n.next,r=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,s.next=t,t.prev=s,r.next=s,s.prev=r,s}function yv(n,e,t,s){const i=Ox(n,e,t);return s?(i.next=s.next,i.prev=s,s.next.prev=i,s.next=i):(i.prev=i,i.next=i),i}function Eh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Ox(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function yP(n,e,t,s){let i=0;for(let r=e,o=t-s;r<t;r+=s)i+=(n[o]-n[r])*(n[r+1]+n[o+1]),o=r;return i}class _P{static triangulate(e,t,s=2){return nP(e,t,s)}}class Ra{static area(e){const t=e.length;let s=0;for(let i=t-1,r=0;r<t;i=r++)s+=e[i].x*e[r].y-e[r].x*e[i].y;return s*.5}static isClockWise(e){return Ra.area(e)<0}static triangulateShape(e,t){const s=[],i=[],r=[];_v(e),Iv(s,e);let o=e.length;t.forEach(_v);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,Iv(s,t[l]);const a=_P.triangulate(s,i);for(let l=0;l<a.length;l+=3)r.push(a.slice(l,l+3));return r}}function _v(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Iv(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Cg extends Qt{constructor(e=[new Be(0,-.5),new Be(.5,0),new Be(0,.5)],t=12,s=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:s,phiLength:i},t=Math.floor(t),i=qt(i,0,Math.PI*2);const r=[],o=[],a=[],l=[],c=[],d=1/t,u=new w,h=new Be,f=new w,A=new w,p=new w;let g=0,m=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:g=e[y+1].x-e[y].x,m=e[y+1].y-e[y].y,f.x=m*1,f.y=-g,f.z=m*0,p.copy(f),f.normalize(),l.push(f.x,f.y,f.z);break;case e.length-1:l.push(p.x,p.y,p.z);break;default:g=e[y+1].x-e[y].x,m=e[y+1].y-e[y].y,f.x=m*1,f.y=-g,f.z=m*0,A.copy(f),f.x+=p.x,f.y+=p.y,f.z+=p.z,f.normalize(),l.push(f.x,f.y,f.z),p.copy(A)}for(let y=0;y<=t;y++){const _=s+y*d*i,I=Math.sin(_),v=Math.cos(_);for(let E=0;E<=e.length-1;E++){u.x=e[E].x*I,u.y=e[E].y,u.z=e[E].x*v,o.push(u.x,u.y,u.z),h.x=y/t,h.y=E/(e.length-1),a.push(h.x,h.y);const b=l[3*E+0]*I,N=l[3*E+1],C=l[3*E+0]*v;c.push(b,N,C)}}for(let y=0;y<t;y++)for(let _=0;_<e.length-1;_++){const I=_+y*e.length,v=I,E=I+e.length,b=I+e.length+1,N=I+1;r.push(v,E,N),r.push(b,N,E)}this.setIndex(r),this.setAttribute("position",new yt(o,3)),this.setAttribute("uv",new yt(a,2)),this.setAttribute("normal",new yt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cg(e.points,e.segments,e.phiStart,e.phiLength)}}class Us extends Qt{constructor(e=1,t=1,s=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:s,heightSegments:i};const r=e/2,o=t/2,a=Math.floor(s),l=Math.floor(i),c=a+1,d=l+1,u=e/a,h=t/l,f=[],A=[],p=[],g=[];for(let m=0;m<d;m++){const y=m*h-o;for(let _=0;_<c;_++){const I=_*u-r;A.push(I,-y,0),p.push(0,0,1),g.push(_/a),g.push(1-m/l)}}for(let m=0;m<l;m++)for(let y=0;y<a;y++){const _=y+c*m,I=y+c*(m+1),v=y+1+c*(m+1),E=y+1+c*m;f.push(_,I,E),f.push(I,v,E)}this.setIndex(f),this.setAttribute("position",new yt(A,3)),this.setAttribute("normal",new yt(p,3)),this.setAttribute("uv",new yt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Us(e.width,e.height,e.widthSegments,e.heightSegments)}}class ql extends Qt{constructor(e=.5,t=1,s=32,i=1,r=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:s,phiSegments:i,thetaStart:r,thetaLength:o},s=Math.max(3,s),i=Math.max(1,i);const a=[],l=[],c=[],d=[];let u=e;const h=(t-e)/i,f=new w,A=new Be;for(let p=0;p<=i;p++){for(let g=0;g<=s;g++){const m=r+g/s*o;f.x=u*Math.cos(m),f.y=u*Math.sin(m),l.push(f.x,f.y,f.z),c.push(0,0,1),A.x=(f.x/t+1)/2,A.y=(f.y/t+1)/2,d.push(A.x,A.y)}u+=h}for(let p=0;p<i;p++){const g=p*(s+1);for(let m=0;m<s;m++){const y=m+g,_=y,I=y+s+1,v=y+s+2,E=y+1;a.push(_,I,E),a.push(I,v,E)}}this.setIndex(a),this.setAttribute("position",new yt(l,3)),this.setAttribute("normal",new yt(c,3)),this.setAttribute("uv",new yt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ql(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class bg extends Qt{constructor(e=new vd([new Be(0,.5),new Be(-.5,-.5),new Be(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const s=[],i=[],r=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(s),this.setAttribute("position",new yt(i,3)),this.setAttribute("normal",new yt(r,3)),this.setAttribute("uv",new yt(o,2));function c(d){const u=i.length/3,h=d.extractPoints(t);let f=h.shape;const A=h.holes;Ra.isClockWise(f)===!1&&(f=f.reverse());for(let g=0,m=A.length;g<m;g++){const y=A[g];Ra.isClockWise(y)===!0&&(A[g]=y.reverse())}const p=Ra.triangulateShape(f,A);for(let g=0,m=A.length;g<m;g++){const y=A[g];f=f.concat(y)}for(let g=0,m=f.length;g<m;g++){const y=f[g];i.push(y.x,y.y,0),r.push(0,0,1),o.push(y.x,y.y)}for(let g=0,m=p.length;g<m;g++){const y=p[g],_=y[0]+u,I=y[1]+u,v=y[2]+u;s.push(_,I,v),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return IP(t,e)}static fromJSON(e,t){const s=[];for(let i=0,r=e.shapes.length;i<r;i++){const o=t[e.shapes[i]];s.push(o)}return new bg(s,e.curveSegments)}}function IP(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,s=n.length;t<s;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Un extends Qt{constructor(e=1,t=32,s=16,i=0,r=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:s,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),s=Math.max(2,Math.floor(s));const l=Math.min(o+a,Math.PI);let c=0;const d=[],u=new w,h=new w,f=[],A=[],p=[],g=[];for(let m=0;m<=s;m++){const y=[],_=m/s;let I=0;m===0&&o===0?I=.5/t:m===s&&l===Math.PI&&(I=-.5/t);for(let v=0;v<=t;v++){const E=v/t;u.x=-e*Math.cos(i+E*r)*Math.sin(o+_*a),u.y=e*Math.cos(o+_*a),u.z=e*Math.sin(i+E*r)*Math.sin(o+_*a),A.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),g.push(E+I,1-_),y.push(c++)}d.push(y)}for(let m=0;m<s;m++)for(let y=0;y<t;y++){const _=d[m][y+1],I=d[m][y],v=d[m+1][y],E=d[m+1][y+1];(m!==0||o>0)&&f.push(_,I,E),(m!==s-1||l<Math.PI)&&f.push(I,v,E)}this.setIndex(f),this.setAttribute("position",new yt(A,3)),this.setAttribute("normal",new yt(p,3)),this.setAttribute("uv",new yt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Un(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class __ extends Qt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],s=new Set,i=new w,r=new w;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const u=l[c],h=u.start,f=u.count;for(let A=h,p=h+f;A<p;A+=3)for(let g=0;g<3;g++){const m=a.getX(A+g),y=a.getX(A+(g+1)%3);i.fromBufferAttribute(o,m),r.fromBufferAttribute(o,y),vv(i,r,s)===!0&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,u=3*a+(c+1)%3;i.fromBufferAttribute(o,d),r.fromBufferAttribute(o,u),vv(i,r,s)===!0&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new yt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function vv(n,e,t){const s=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(s)===!0||t.has(i)===!0?!1:(t.add(s),t.add(i),!0)}class Wl extends Ai{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new st(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new st(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dh,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new gs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wi extends Wl{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Be(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return qt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new st(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new st(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new st(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class UB extends Ai{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new st(16777215),this.specular=new st(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new st(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dh,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new gs,this.combine=hg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class I_ extends Ai{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=lB,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class v_ extends Ai{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class OB extends Ai{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new st(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dh,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}function _f(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function vP(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function EP(n){function e(i,r){return n[i]-n[r]}const t=n.length,s=new Array(t);for(let i=0;i!==t;++i)s[i]=i;return s.sort(e),s}function Ev(n,e,t){const s=n.length,i=new n.constructor(s);for(let r=0,o=0;o!==s;++r){const a=t[r]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function GB(n,e,t,s){let i=1,r=n[0];for(;r!==void 0&&r[s]===void 0;)r=n[i++];if(r===void 0)return;let o=r[s];if(o!==void 0)if(Array.isArray(o))do o=r[s],o!==void 0&&(e.push(r.time),t.push(...o)),r=n[i++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[s],o!==void 0&&(e.push(r.time),o.toArray(t,t.length)),r=n[i++];while(r!==void 0);else do o=r[s],o!==void 0&&(e.push(r.time),t.push(o)),r=n[i++];while(r!==void 0)}class tu{constructor(e,t,s,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(s),this.sampleValues=t,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let s=this._cachedIndex,i=t[s],r=t[s-1];e:{t:{let o;s:{n:if(!(e<i)){for(let a=s+2;;){if(i===void 0){if(e<r)break n;return s=t.length,this._cachedIndex=s,this.copySampleValue_(s-1)}if(s===a)break;if(r=i,i=t[++s],e<i)break t}o=t.length;break s}if(!(e>=r)){const a=t[1];e<a&&(s=2,r=a);for(let l=s-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===l)break;if(i=r,r=t[--s-1],e>=r)break t}o=s,s=0;break s}break e}for(;s<o;){const a=s+o>>>1;e<t[a]?o=a:s=a+1}if(i=t[s],r=t[s-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return s=t.length,this._cachedIndex=s,this.copySampleValue_(s-1)}this._cachedIndex=s,this.intervalChanged_(s,r,i)}return this.interpolate_(s,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,s=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=s[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class HB extends tu{constructor(e,t,s,i){super(e,t,s,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Rx,endingEnd:Rx}}intervalChanged_(e,t,s){const i=this.parameterPositions;let r=e-2,o=e+1,a=i[r],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Qx:r=e,a=2*t-s;break;case Dx:r=i.length-2,a=t+i[r]-i[r+1];break;default:r=e,a=s}if(l===void 0)switch(this.getSettings_().endingEnd){case Qx:o=e,l=2*s-t;break;case Dx:o=1,l=s+i[1]-i[0];break;default:o=e-1,l=t}const c=(s-t)*.5,d=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-s),this._offsetPrev=r*d,this._offsetNext=o*d}interpolate_(e,t,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,A=(s-t)/(i-t),p=A*A,g=p*A,m=-h*g+2*h*p-h*A,y=(1+h)*g+(-1.5-2*h)*p+(-.5+h)*A+1,_=(-1-f)*g+(1.5+f)*p+.5*A,I=f*g-f*p;for(let v=0;v!==a;++v)r[v]=m*o[d+v]+y*o[c+v]+_*o[l+v]+I*o[u+v];return r}}class zB extends tu{constructor(e,t,s,i){super(e,t,s,i)}interpolate_(e,t,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(s-t)/(i-t),u=1-d;for(let h=0;h!==a;++h)r[h]=o[c+h]*u+o[l+h]*d;return r}}class VB extends tu{constructor(e,t,s,i){super(e,t,s,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class sr{constructor(e,t,s,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=_f(t,this.TimeBufferType),this.values=_f(s,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let s;if(t.toJSON!==this.toJSON)s=t.toJSON(e);else{s={name:e.name,times:_f(e.times,Array),values:_f(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(s.interpolation=i)}return s.type=e.ValueTypeName,s}InterpolantFactoryMethodDiscrete(e){return new VB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new HB(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Fd:t=this.InterpolantFactoryMethodDiscrete;break;case Ud:t=this.InterpolantFactoryMethodLinear;break;case FA:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(s);return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Fd;case this.InterpolantFactoryMethodLinear:return Ud;case this.InterpolantFactoryMethodSmooth:return FA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let s=0,i=t.length;s!==i;++s)t[s]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let s=0,i=t.length;s!==i;++s)t[s]*=e}return this}trim(e,t){const s=this.times,i=s.length;let r=0,o=i-1;for(;r!==i&&s[r]<e;)++r;for(;o!==-1&&s[o]>t;)--o;if(++o,r!==0||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=s.slice(r,o),this.values=this.values.slice(r*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const s=this.times,i=this.values,r=s.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==r;a++){const l=s[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&vP(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),s=this.getValueSize(),i=this.getInterpolation()===FA,r=e.length-1;let o=1;for(let a=1;a<r;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(i)l=!0;else{const u=a*s,h=u-s,f=u+s;for(let A=0;A!==s;++A){const p=t[u+A];if(p!==t[h+A]||p!==t[f+A]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const u=a*s,h=o*s;for(let f=0;f!==s;++f)t[h+f]=t[u+f]}++o}}if(r>0){e[o]=e[r];for(let a=r*s,l=o*s,c=0;c!==s;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*s)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),s=this.constructor,i=new s(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}sr.prototype.ValueTypeName="";sr.prototype.TimeBufferType=Float32Array;sr.prototype.ValueBufferType=Float32Array;sr.prototype.DefaultInterpolation=Ud;class nc extends sr{constructor(e,t,s){super(e,t,s)}}nc.prototype.ValueTypeName="bool";nc.prototype.ValueBufferType=Array;nc.prototype.DefaultInterpolation=Fd;nc.prototype.InterpolantFactoryMethodLinear=void 0;nc.prototype.InterpolantFactoryMethodSmooth=void 0;class E_ extends sr{constructor(e,t,s,i){super(e,t,s,i)}}E_.prototype.ValueTypeName="color";class Xl extends sr{constructor(e,t,s,i){super(e,t,s,i)}}Xl.prototype.ValueTypeName="number";class qB extends tu{constructor(e,t,s,i){super(e,t,s,i)}interpolate_(e,t,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(s-t)/(i-t);let c=e*a;for(let d=c+a;c!==d;c+=4)Ge.slerpFlat(r,0,o,c-a,o,c,l);return r}}class Yl extends sr{constructor(e,t,s,i){super(e,t,s,i)}InterpolantFactoryMethodLinear(e){return new qB(this.times,this.values,this.getValueSize(),e)}}Yl.prototype.ValueTypeName="quaternion";Yl.prototype.InterpolantFactoryMethodSmooth=void 0;class ic extends sr{constructor(e,t,s){super(e,t,s)}}ic.prototype.ValueTypeName="string";ic.prototype.ValueBufferType=Array;ic.prototype.DefaultInterpolation=Fd;ic.prototype.InterpolantFactoryMethodLinear=void 0;ic.prototype.InterpolantFactoryMethodSmooth=void 0;class Jl extends sr{constructor(e,t,s,i){super(e,t,s,i)}}Jl.prototype.ValueTypeName="vector";class WB{constructor(e="",t=-1,s=[],i=oB){this.name=e,this.tracks=s,this.duration=t,this.blendMode=i,this.uuid=ji(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],s=e.tracks,i=1/(e.fps||1);for(let o=0,a=s.length;o!==a;++o)t.push(bP(s[o]).scale(i));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],s=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=s.length;r!==o;++r)t.push(sr.toJSON(s[r]));return i}static CreateFromMorphTargetSequence(e,t,s,i){const r=t.length,o=[];for(let a=0;a<r;a++){let l=[],c=[];l.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);const d=EP(l);l=Ev(l,1,d),c=Ev(c,1,d),!i&&l[0]===0&&(l.push(r),c.push(c[0])),o.push(new Xl(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/s))}return new this(e,-1,o)}static findByName(e,t){let s=e;if(!Array.isArray(e)){const i=e;s=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<s.length;i++)if(s[i].name===t)return s[i];return null}static CreateClipsFromMorphTargetSequences(e,t,s){const i={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(r);if(d&&d.length>1){const u=d[1];let h=i[u];h||(i[u]=h=[]),h.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,s));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(u,h,f,A,p){if(f.length!==0){const g=[],m=[];GB(f,g,m,A),g.length!==0&&p.push(new u(h,g,m))}},i=[],r=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let u=0;u<c.length;u++){const h=c[u].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const f={};let A;for(A=0;A<h.length;A++)if(h[A].morphTargets)for(let p=0;p<h[A].morphTargets.length;p++)f[h[A].morphTargets[p]]=-1;for(const p in f){const g=[],m=[];for(let y=0;y!==h[A].morphTargets.length;++y){const _=h[A];g.push(_.time),m.push(_.morphTarget===p?1:0)}i.push(new Xl(".morphTargetInfluence["+p+"]",g,m))}l=f.length*o}else{const f=".bones["+t[u].name+"]";s(Jl,f+".position",h,"pos",i),s(Yl,f+".quaternion",h,"rot",i),s(Jl,f+".scale",h,"scl",i)}}return i.length===0?null:new this(r,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let s=0,i=e.length;s!==i;++s){const r=this.tracks[s];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function CP(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xl;case"vector":case"vector2":case"vector3":case"vector4":return Jl;case"color":return E_;case"quaternion":return Yl;case"bool":case"boolean":return nc;case"string":return ic}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function bP(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=CP(n.type);if(n.times===void 0){const t=[],s=[];GB(n.keys,t,s,"value"),n.times=t,n.values=s}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Io={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class C_{constructor(e,t,s){const i=this;let r=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=s,this.itemStart=function(d){a++,r===!1&&i.onStart!==void 0&&i.onStart(d,o,a),r=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,u){return c.push(d,u),this},this.removeHandler=function(d){const u=c.indexOf(d);return u!==-1&&c.splice(u,2),this},this.getHandler=function(d){for(let u=0,h=c.length;u<h;u+=2){const f=c[u],A=c[u+1];if(f.global&&(f.lastIndex=0),f.test(d))return A}return null}}}const XB=new C_;class Bi{constructor(e){this.manager=e!==void 0?e:XB,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const s=this;return new Promise(function(i,r){s.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Bi.DEFAULT_MATERIAL_NAME="__DEFAULT";const uo={};class wP extends Error{constructor(e,t){super(e),this.response=t}}class $i extends Bi{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,s,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=Io.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(uo[e]!==void 0){uo[e].push({onLoad:t,onProgress:s,onError:i});return}uo[e]=[],uo[e].push({onLoad:t,onProgress:s,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=uo[e],u=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),f=h?parseInt(h):0,A=f!==0;let p=0;const g=new ReadableStream({start(m){y();function y(){u.read().then(({done:_,value:I})=>{if(_)m.close();else{p+=I.byteLength;const v=new ProgressEvent("progress",{lengthComputable:A,loaded:p,total:f});for(let E=0,b=d.length;E<b;E++){const N=d[E];N.onProgress&&N.onProgress(v)}m.enqueue(I),y()}},_=>{m.error(_)})}}});return new Response(g)}else throw new wP(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a==="")return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),h=u&&u[1]?u[1].toLowerCase():void 0,f=new TextDecoder(h);return c.arrayBuffer().then(A=>f.decode(A))}}}).then(c=>{Io.add(e,c);const d=uo[e];delete uo[e];for(let u=0,h=d.length;u<h;u++){const f=d[u];f.onLoad&&f.onLoad(c)}}).catch(c=>{const d=uo[e];if(d===void 0)throw this.manager.itemError(e),c;delete uo[e];for(let u=0,h=d.length;u<h;u++){const f=d[u];f.onError&&f.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class YB extends Bi{constructor(e){super(e)}load(e,t,s,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Io.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;const a=_h("img");function l(){d(),Io.add(e,this),t&&t(this),r.manager.itemEnd(e)}function c(u){d(),i&&i(u),r.manager.itemError(e),r.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}class b_ extends Bi{constructor(e){super(e)}load(e,t,s,i){const r=this,o=new Pa,a=new $i(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(e,function(l){let c;try{c=r.parse(l)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:fi,o.wrapT=c.wrapT!==void 0?c.wrapT:fi,o.magFilter=c.magFilter!==void 0?c.magFilter:Ot,o.minFilter=c.minFilter!==void 0?c.minFilter:Ot,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ii),c.mipmapCount===1&&(o.minFilter=Ot),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},s,i),o}}class nr extends Bi{constructor(e){super(e)}load(e,t,s,i){const r=new Ws,o=new YB(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){r.image=a,r.needsUpdate=!0,t!==void 0&&t(r)},s,i),r}}class wg extends is{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new st(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}const vm=new Je,Cv=new w,bv=new w;class w_{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Be(512,512),this.mapType=Js,this.map=null,this.mapPass=null,this.matrix=new Je,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Zd,this._frameExtents=new Be(1,1),this._viewportCount=1,this._viewports=[new ns(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,s=this.matrix;Cv.setFromMatrixPosition(e.matrixWorld),t.position.copy(Cv),bv.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(bv),t.updateMatrixWorld(),vm.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vm),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(vm)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class BP extends w_{constructor(){super(new Dn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,s=Od*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(s!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=s,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class JB extends wg{constructor(e,t,s=0,i=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(is.DEFAULT_UP),this.updateMatrix(),this.target=new is,this.distance=s,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new BP}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const wv=new Je,pu=new w,Em=new w;class NP extends w_{constructor(){super(new Dn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Be(4,2),this._viewportCount=6,this._viewports=[new ns(2,1,1,1),new ns(0,1,1,1),new ns(3,1,1,1),new ns(1,1,1,1),new ns(3,0,1,1),new ns(1,0,1,1)],this._cubeDirections=[new w(1,0,0),new w(-1,0,0),new w(0,0,1),new w(0,0,-1),new w(0,1,0),new w(0,-1,0)],this._cubeUps=[new w(0,1,0),new w(0,1,0),new w(0,1,0),new w(0,1,0),new w(0,0,1),new w(0,0,-1)]}updateMatrices(e,t=0){const s=this.camera,i=this.matrix,r=e.distance||s.far;r!==s.far&&(s.far=r,s.updateProjectionMatrix()),pu.setFromMatrixPosition(e.matrixWorld),s.position.copy(pu),Em.copy(s.position),Em.add(this._cubeDirections[t]),s.up.copy(this._cubeUps[t]),s.lookAt(Em),s.updateMatrixWorld(),i.makeTranslation(-pu.x,-pu.y,-pu.z),wv.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wv)}}class B_ extends wg{constructor(e,t,s=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=s,this.decay=i,this.shadow=new NP}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Bg extends l_{constructor(e=-1,t=1,s=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=s,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,s,i,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=s-e,o=s+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class SP extends w_{constructor(){super(new Bg(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class KB extends wg{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(is.DEFAULT_UP),this.updateMatrix(),this.target=new is,this.shadow=new SP}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Qa{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class jB extends Qt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}const Cm=new WeakMap;class ZB extends Bi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,s,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Io.get(e);if(o!==void 0){if(r.manager.itemStart(e),o.then){o.then(c=>{if(Cm.has(o)===!0)i&&i(Cm.get(o)),r.manager.itemError(e),r.manager.itemEnd(e);else return t&&t(c),r.manager.itemEnd(e),c});return}return setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(c){return Io.add(e,c),t&&t(c),r.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Cm.set(l,c),Io.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});Io.add(e,l),r.manager.itemStart(e)}}let If;class N_{static getContext(){return If===void 0&&(If=new(window.AudioContext||window.webkitAudioContext)),If}static setContext(e){If=e}}class $B extends Bi{constructor(e){super(e)}load(e,t,s,i){const r=this,o=new $i(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);N_.getContext().decodeAudioData(c,function(u){t(u)}).catch(a)}catch(c){a(c)}},s,i);function a(l){i?i(l):console.error(l),r.manager.itemError(e)}}}class eN extends Dn{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class S_{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Bv(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Bv();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Bv(){return performance.now()}const $a=new w,bm=new Ge,MP=new w,el=new w,tl=new w;class tN extends is{constructor(){super(),this.type="AudioListener",this.context=N_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new S_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose($a,bm,MP),el.set(0,0,-1).applyQuaternion(bm),tl.set(0,1,0).applyQuaternion(bm),t.positionX){const s=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime($a.x,s),t.positionY.linearRampToValueAtTime($a.y,s),t.positionZ.linearRampToValueAtTime($a.z,s),t.forwardX.linearRampToValueAtTime(el.x,s),t.forwardY.linearRampToValueAtTime(el.y,s),t.forwardZ.linearRampToValueAtTime(el.z,s),t.upX.linearRampToValueAtTime(tl.x,s),t.upY.linearRampToValueAtTime(tl.y,s),t.upZ.linearRampToValueAtTime(tl.z,s)}else t.setPosition($a.x,$a.y,$a.z),t.setOrientation(el.x,el.y,el.z,tl.x,tl.y,tl.z)}}let M_=class extends is{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}};const sl=new w,Nv=new Ge,TP=new w,nl=new w;class T_ extends M_{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,s){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=s,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(sl,Nv,TP),nl.set(0,0,1).applyQuaternion(Nv);const t=this.panner;if(t.positionX){const s=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(sl.x,s),t.positionY.linearRampToValueAtTime(sl.y,s),t.positionZ.linearRampToValueAtTime(sl.z,s),t.orientationX.linearRampToValueAtTime(nl.x,s),t.orientationY.linearRampToValueAtTime(nl.y,s),t.orientationZ.linearRampToValueAtTime(nl.z,s)}else t.setPosition(sl.x,sl.y,sl.z),t.setOrientation(nl.x,nl.y,nl.z)}}const P_="\\[\\]\\.:\\/",PP=new RegExp("["+P_+"]","g"),R_="[^"+P_+"]",RP="[^"+P_.replace("\\.","")+"]",QP=/((?:WC+[\/:])*)/.source.replace("WC",R_),DP=/(WCOD+)?/.source.replace("WCOD",RP),LP=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",R_),kP=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",R_),FP=new RegExp("^"+QP+DP+LP+kP+"$"),UP=["material","materials","bones","map"];class OP{constructor(e,t,s){const i=s||_s.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const s=this._targetGroup.nCachedObjects_,i=this._bindings[s];i!==void 0&&i.getValue(e,t)}setValue(e,t){const s=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=s.length;i!==r;++i)s[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,s=e.length;t!==s;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,s=e.length;t!==s;++t)e[t].unbind()}}class _s{constructor(e,t,s){this.path=t,this.parsedPath=s||_s.parseTrackName(t),this.node=_s.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,s){return e&&e.isAnimationObjectGroup?new _s.Composite(e,t,s):new _s(e,t,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(PP,"")}static parseTrackName(e){const t=FP.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=s.nodeName&&s.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=s.nodeName.substring(i+1);UP.indexOf(r)!==-1&&(s.nodeName=s.nodeName.substring(0,i),s.objectName=r)}if(s.propertyName===null||s.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(t);if(s!==void 0)return s}if(e.children){const s=function(r){for(let o=0;o<r.length;o++){const a=r[o];if(a.name===t||a.uuid===t)return a;const l=s(a.children);if(l)return l}return null},i=s(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)e[t++]=s[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,s=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=_s.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(s){let c=t.objectIndex;switch(s){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[s]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}_s.Composite=OP;_s.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};_s.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};_s.prototype.GetterByBindingType=[_s.prototype._getValue_direct,_s.prototype._getValue_array,_s.prototype._getValue_arrayElement,_s.prototype._getValue_toArray];_s.prototype.SetterByBindingTypeAndVersioning=[[_s.prototype._setValue_direct,_s.prototype._setValue_direct_setNeedsUpdate,_s.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_s.prototype._setValue_array,_s.prototype._setValue_array_setNeedsUpdate,_s.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_s.prototype._setValue_arrayElement,_s.prototype._setValue_arrayElement_setNeedsUpdate,_s.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_s.prototype._setValue_fromArray,_s.prototype._setValue_fromArray_setNeedsUpdate,_s.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Dp extends d_{constructor(e,t,s=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}const Sv=new Je;class kh{constructor(e,t,s=0,i=1/0){this.ray=new Ci(e,t),this.near=s,this.far=i,this.camera=null,this.layers=new yg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Sv.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Sv),this}intersectObject(e,t=!0,s=[]){return Gx(e,this,s,t),s.sort(Mv),s}intersectObjects(e,t=!0,s=[]){for(let i=0,r=e.length;i<r;i++)Gx(e[i],this,s,t);return s.sort(Mv),s}}function Mv(n,e){return n.distance-e.distance}function Gx(n,e,t,s){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&s===!0){const r=n.children;for(let o=0,a=r.length;o<a;o++)Gx(r[o],e,t,!0)}}const Tv=new Be;class Q_{constructor(e=new Be(1/0,1/0),t=new Be(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,s=e.length;t<s;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const s=Tv.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(s),this.max.copy(e).add(s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Tv).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Pv=new w,vf=new w;class ti{constructor(e=new w,t=new w){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Pv.subVectors(e,this.start),vf.subVectors(this.end,this.start);const s=vf.dot(vf);let r=vf.dot(Pv)/s;return t&&(r=qt(r,0,1)),r}closestPointToPoint(e,t,s){const i=this.closestPointToPointParameter(e,t);return this.delta(s).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}class aa{constructor(){this.type="ShapePath",this.color=new st,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Tl,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,s,i){return this.currentPath.quadraticCurveTo(e,t,s,i),this}bezierCurveTo(e,t,s,i,r,o){return this.currentPath.bezierCurveTo(e,t,s,i,r,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(m){const y=[];for(let _=0,I=m.length;_<I;_++){const v=m[_],E=new vd;E.curves=v.curves,y.push(E)}return y}function s(m,y){const _=y.length;let I=!1;for(let v=_-1,E=0;E<_;v=E++){let b=y[v],N=y[E],C=N.x-b.x,B=N.y-b.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(b=y[E],C=-C,N=y[v],B=-B),m.y<b.y||m.y>N.y)continue;if(m.y===b.y){if(m.x===b.x)return!0}else{const S=B*(m.x-b.x)-C*(m.y-b.y);if(S===0)return!0;if(S<0)continue;I=!I}}else{if(m.y!==b.y)continue;if(N.x<=m.x&&m.x<=b.x||b.x<=m.x&&m.x<=N.x)return!0}}return I}const i=Ra.isClockWise,r=this.subPaths;if(r.length===0)return[];let o,a,l;const c=[];if(r.length===1)return a=r[0],l=new vd,l.curves=a.curves,c.push(l),c;let d=!i(r[0].getPoints());d=e?!d:d;const u=[],h=[];let f=[],A=0,p;h[A]=void 0,f[A]=[];for(let m=0,y=r.length;m<y;m++)a=r[m],p=a.getPoints(),o=i(p),o=e?!o:o,o?(!d&&h[A]&&A++,h[A]={s:new vd,p},h[A].s.curves=a.curves,d&&A++,f[A]=[]):f[A].push({h:a,p:p[0]});if(!h[0])return t(r);if(h.length>1){let m=!1,y=0;for(let _=0,I=h.length;_<I;_++)u[_]=[];for(let _=0,I=h.length;_<I;_++){const v=f[_];for(let E=0;E<v.length;E++){const b=v[E];let N=!0;for(let C=0;C<h.length;C++)s(b.p,h[C].p)&&(_!==C&&y++,N?(N=!1,u[C].push(b)):m=!0);N&&u[_].push(b)}}y>0&&m===!1&&(f=u)}let g;for(let m=0,y=h.length;m<y;m++){l=h[m].s,c.push(l),g=f[m];for(let _=0,I=g.length;_<I;_++)l.holes.push(g[_].h)}return c}}function Rv(n,e,t,s){const i=GP(s);switch(t){case jy:return n*e;case Jr:return n*e/i.components*i.byteLength;case Qh:return n*e/i.components*i.byteLength;case ma:return n*e*2/i.components*i.byteLength;case gg:return n*e*2/i.components*i.byteLength;case Zy:return n*e*3/i.components*i.byteLength;case Zs:return n*e*4/i.components*i.byteLength;case mg:return n*e*4/i.components*i.byteLength;case Sl:case Na:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Ml:case Sa:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case fp:case Ap:return Math.max(n,16)*Math.max(e,8)/4;case Ah:case ph:return Math.max(n,8)*Math.max(e,8)/2;case gh:case Dd:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Ld:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Ma:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case pp:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case gp:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case mp:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case kd:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case xp:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case yp:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case _p:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Ip:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case vp:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case Ep:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Cp:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case bp:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case wp:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Ta:case Bp:case mh:return Math.ceil(n/4)*Math.ceil(e/4)*16;case $y:case Np:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Sp:case Mp:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function GP(n){switch(n){case Js:case Yy:return{byteLength:1,components:1};case Qd:case Jy:case cn:return{byteLength:2,components:1};case Ag:case pg:return{byteLength:2,components:4};case So:case fg:case Qs:return{byteLength:4,components:1};case Ky:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Fo}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Fo);function sN(){let n=null,e=!1,t=null,s=null;function i(r,o){t(r,o),s=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(s=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(s),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){n=r}}}function HP(n){const e=new WeakMap;function t(a,l){const c=a.array,d=a.usage,u=c.byteLength,h=n.createBuffer();n.bindBuffer(l,h),n.bufferData(l,c,d),a.onUploadCallback();let f;if(c instanceof Float32Array)f=n.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?f=n.HALF_FLOAT:f=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)f=n.SHORT;else if(c instanceof Uint32Array)f=n.UNSIGNED_INT;else if(c instanceof Int32Array)f=n.INT;else if(c instanceof Int8Array)f=n.BYTE;else if(c instanceof Uint8Array)f=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)f=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:f,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:u}}function s(a,l,c){const d=l.array,u=l.updateRanges;if(n.bindBuffer(c,a),u.length===0)n.bufferSubData(c,0,d);else{u.sort((f,A)=>f.start-A.start);let h=0;for(let f=1;f<u.length;f++){const A=u[h],p=u[f];p.start<=A.start+A.count+1?A.count=Math.max(A.count,p.start+p.count-A.start):(++h,u[h]=p)}u.length=h+1;for(let f=0,A=u.length;f<A;f++){const p=u[f];n.bufferSubData(c,p.start*d.BYTES_PER_ELEMENT,d,p.start,p.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function r(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(c.buffer,a,l),c.version=a.version}}return{get:i,remove:r,update:o}}var zP=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,VP=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,qP=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,WP=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,XP=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,YP=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,JP=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,KP=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,jP=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,ZP=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,$P=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,eR=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tR=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,sR=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,nR=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,iR=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,rR=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,oR=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,aR=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lR=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cR=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,dR=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,uR=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,hR=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,fR=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,AR=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,pR=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,gR=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,mR=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,xR=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,yR="gl_FragColor = linearToOutputTexel( gl_FragColor );",_R=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,IR=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,vR=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,ER=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,CR=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,bR=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,wR=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,BR=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,NR=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,SR=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,MR=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,TR=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,PR=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,RR=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,QR=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,DR=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,LR=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,kR=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,FR=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,UR=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,OR=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,GR=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,HR=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,zR=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,VR=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,qR=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,WR=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,XR=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,YR=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,JR=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,KR=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,jR=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ZR=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,$R=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,eQ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,tQ=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,sQ=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,nQ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,iQ=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,rQ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,oQ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,aQ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,dQ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,uQ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,hQ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,fQ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,AQ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,pQ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gQ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,mQ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,xQ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,yQ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,_Q=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,IQ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,vQ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,EQ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,CQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,bQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,wQ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,BQ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,NQ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,SQ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,MQ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,TQ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,PQ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,RQ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,QQ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,DQ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,LQ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,kQ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,FQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,UQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,OQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,GQ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const HQ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,zQ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,VQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qQ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,WQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,XQ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,YQ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,JQ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,KQ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,jQ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ZQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,$Q=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eD=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tD=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sD=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,nD=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iD=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rD=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oD=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,aD=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lD=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cD=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,dD=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uD=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hD=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fD=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AD=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pD=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gD=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,mD=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xD=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yD=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,_D=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ID=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Xt={alphahash_fragment:zP,alphahash_pars_fragment:VP,alphamap_fragment:qP,alphamap_pars_fragment:WP,alphatest_fragment:XP,alphatest_pars_fragment:YP,aomap_fragment:JP,aomap_pars_fragment:KP,batching_pars_vertex:jP,batching_vertex:ZP,begin_vertex:$P,beginnormal_vertex:eR,bsdfs:tR,iridescence_fragment:sR,bumpmap_pars_fragment:nR,clipping_planes_fragment:iR,clipping_planes_pars_fragment:rR,clipping_planes_pars_vertex:oR,clipping_planes_vertex:aR,color_fragment:lR,color_pars_fragment:cR,color_pars_vertex:dR,color_vertex:uR,common:hR,cube_uv_reflection_fragment:fR,defaultnormal_vertex:AR,displacementmap_pars_vertex:pR,displacementmap_vertex:gR,emissivemap_fragment:mR,emissivemap_pars_fragment:xR,colorspace_fragment:yR,colorspace_pars_fragment:_R,envmap_fragment:IR,envmap_common_pars_fragment:vR,envmap_pars_fragment:ER,envmap_pars_vertex:CR,envmap_physical_pars_fragment:DR,envmap_vertex:bR,fog_vertex:wR,fog_pars_vertex:BR,fog_fragment:NR,fog_pars_fragment:SR,gradientmap_pars_fragment:MR,lightmap_pars_fragment:TR,lights_lambert_fragment:PR,lights_lambert_pars_fragment:RR,lights_pars_begin:QR,lights_toon_fragment:LR,lights_toon_pars_fragment:kR,lights_phong_fragment:FR,lights_phong_pars_fragment:UR,lights_physical_fragment:OR,lights_physical_pars_fragment:GR,lights_fragment_begin:HR,lights_fragment_maps:zR,lights_fragment_end:VR,logdepthbuf_fragment:qR,logdepthbuf_pars_fragment:WR,logdepthbuf_pars_vertex:XR,logdepthbuf_vertex:YR,map_fragment:JR,map_pars_fragment:KR,map_particle_fragment:jR,map_particle_pars_fragment:ZR,metalnessmap_fragment:$R,metalnessmap_pars_fragment:eQ,morphinstance_vertex:tQ,morphcolor_vertex:sQ,morphnormal_vertex:nQ,morphtarget_pars_vertex:iQ,morphtarget_vertex:rQ,normal_fragment_begin:oQ,normal_fragment_maps:aQ,normal_pars_fragment:lQ,normal_pars_vertex:cQ,normal_vertex:dQ,normalmap_pars_fragment:uQ,clearcoat_normal_fragment_begin:hQ,clearcoat_normal_fragment_maps:fQ,clearcoat_pars_fragment:AQ,iridescence_pars_fragment:pQ,opaque_fragment:gQ,packing:mQ,premultiplied_alpha_fragment:xQ,project_vertex:yQ,dithering_fragment:_Q,dithering_pars_fragment:IQ,roughnessmap_fragment:vQ,roughnessmap_pars_fragment:EQ,shadowmap_pars_fragment:CQ,shadowmap_pars_vertex:bQ,shadowmap_vertex:wQ,shadowmask_pars_fragment:BQ,skinbase_vertex:NQ,skinning_pars_vertex:SQ,skinning_vertex:MQ,skinnormal_vertex:TQ,specularmap_fragment:PQ,specularmap_pars_fragment:RQ,tonemapping_fragment:QQ,tonemapping_pars_fragment:DQ,transmission_fragment:LQ,transmission_pars_fragment:kQ,uv_pars_fragment:FQ,uv_pars_vertex:UQ,uv_vertex:OQ,worldpos_vertex:GQ,background_vert:HQ,background_frag:zQ,backgroundCube_vert:VQ,backgroundCube_frag:qQ,cube_vert:WQ,cube_frag:XQ,depth_vert:YQ,depth_frag:JQ,distanceRGBA_vert:KQ,distanceRGBA_frag:jQ,equirect_vert:ZQ,equirect_frag:$Q,linedashed_vert:eD,linedashed_frag:tD,meshbasic_vert:sD,meshbasic_frag:nD,meshlambert_vert:iD,meshlambert_frag:rD,meshmatcap_vert:oD,meshmatcap_frag:aD,meshnormal_vert:lD,meshnormal_frag:cD,meshphong_vert:dD,meshphong_frag:uD,meshphysical_vert:hD,meshphysical_frag:fD,meshtoon_vert:AD,meshtoon_frag:pD,points_vert:gD,points_frag:mD,shadow_vert:xD,shadow_frag:yD,sprite_vert:_D,sprite_frag:ID},ht={common:{diffuse:{value:new st(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dt}},envmap:{envMap:{value:null},envMapRotation:{value:new Dt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dt},normalScale:{value:new Be(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new st(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new st(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0},uvTransform:{value:new Dt}},sprite:{diffuse:{value:new st(16777215)},opacity:{value:1},center:{value:new Be(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}}},gn={basic:{uniforms:Xn([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.fog]),vertexShader:Xt.meshbasic_vert,fragmentShader:Xt.meshbasic_frag},lambert:{uniforms:Xn([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,ht.lights,{emissive:{value:new st(0)}}]),vertexShader:Xt.meshlambert_vert,fragmentShader:Xt.meshlambert_frag},phong:{uniforms:Xn([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,ht.lights,{emissive:{value:new st(0)},specular:{value:new st(1118481)},shininess:{value:30}}]),vertexShader:Xt.meshphong_vert,fragmentShader:Xt.meshphong_frag},standard:{uniforms:Xn([ht.common,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.roughnessmap,ht.metalnessmap,ht.fog,ht.lights,{emissive:{value:new st(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag},toon:{uniforms:Xn([ht.common,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.gradientmap,ht.fog,ht.lights,{emissive:{value:new st(0)}}]),vertexShader:Xt.meshtoon_vert,fragmentShader:Xt.meshtoon_frag},matcap:{uniforms:Xn([ht.common,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,{matcap:{value:null}}]),vertexShader:Xt.meshmatcap_vert,fragmentShader:Xt.meshmatcap_frag},points:{uniforms:Xn([ht.points,ht.fog]),vertexShader:Xt.points_vert,fragmentShader:Xt.points_frag},dashed:{uniforms:Xn([ht.common,ht.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xt.linedashed_vert,fragmentShader:Xt.linedashed_frag},depth:{uniforms:Xn([ht.common,ht.displacementmap]),vertexShader:Xt.depth_vert,fragmentShader:Xt.depth_frag},normal:{uniforms:Xn([ht.common,ht.bumpmap,ht.normalmap,ht.displacementmap,{opacity:{value:1}}]),vertexShader:Xt.meshnormal_vert,fragmentShader:Xt.meshnormal_frag},sprite:{uniforms:Xn([ht.sprite,ht.fog]),vertexShader:Xt.sprite_vert,fragmentShader:Xt.sprite_frag},background:{uniforms:{uvTransform:{value:new Dt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Xt.background_vert,fragmentShader:Xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Dt}},vertexShader:Xt.backgroundCube_vert,fragmentShader:Xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Xt.cube_vert,fragmentShader:Xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xt.equirect_vert,fragmentShader:Xt.equirect_frag},distanceRGBA:{uniforms:Xn([ht.common,ht.displacementmap,{referencePosition:{value:new w},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xt.distanceRGBA_vert,fragmentShader:Xt.distanceRGBA_frag},shadow:{uniforms:Xn([ht.lights,ht.fog,{color:{value:new st(0)},opacity:{value:1}}]),vertexShader:Xt.shadow_vert,fragmentShader:Xt.shadow_frag}};gn.physical={uniforms:Xn([gn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dt},clearcoatNormalScale:{value:new Be(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dt},sheen:{value:0},sheenColor:{value:new st(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dt},transmissionSamplerSize:{value:new Be},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dt},attenuationDistance:{value:0},attenuationColor:{value:new st(0)},specularColor:{value:new st(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dt},anisotropyVector:{value:new Be},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dt}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag};const Ef={r:0,b:0,g:0},il=new gs,vD=new Je;function ED(n,e,t,s,i,r,o){const a=new st(0);let l=r===!0?0:1,c,d,u=null,h=0,f=null;function A(_){let I=_.isScene===!0?_.background:null;return I&&I.isTexture&&(I=(_.backgroundBlurriness>0?t:e).get(I)),I}function p(_){let I=!1;const v=A(_);v===null?m(a,l):v&&v.isColor&&(m(v,1),I=!0);const E=n.xr.getEnvironmentBlendMode();E==="additive"?s.buffers.color.setClear(0,0,0,1,o):E==="alpha-blend"&&s.buffers.color.setClear(0,0,0,0,o),(n.autoClear||I)&&(s.buffers.depth.setTest(!0),s.buffers.depth.setMask(!0),s.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function g(_,I){const v=A(I);v&&(v.isCubeTexture||v.mapping===Rh)?(d===void 0&&(d=new it(new ei(1e4,1e4,1e4),new Ds({name:"BackgroundCubeMaterial",uniforms:Gd(gn.backgroundCube.uniforms),vertexShader:gn.backgroundCube.vertexShader,fragmentShader:gn.backgroundCube.fragmentShader,side:Ls,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(E,b,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),il.copy(I.backgroundRotation),il.x*=-1,il.y*=-1,il.z*=-1,v.isCubeTexture&&v.isRenderTargetTexture===!1&&(il.y*=-1,il.z*=-1),d.material.uniforms.envMap.value=v,d.material.uniforms.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=I.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(vD.makeRotationFromEuler(il)),d.material.toneMapped=ts.getTransfer(v.colorSpace)!==Cs,(u!==v||h!==v.version||f!==n.toneMapping)&&(d.material.needsUpdate=!0,u=v,h=v.version,f=n.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null)):v&&v.isTexture&&(c===void 0&&(c=new it(new Us(2,2),new Ds({name:"BackgroundMaterial",uniforms:Gd(gn.background.uniforms),vertexShader:gn.background.vertexShader,fragmentShader:gn.background.fragmentShader,side:In,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=v,c.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,c.material.toneMapped=ts.getTransfer(v.colorSpace)!==Cs,v.matrixAutoUpdate===!0&&v.updateMatrix(),c.material.uniforms.uvTransform.value.copy(v.matrix),(u!==v||h!==v.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,u=v,h=v.version,f=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function m(_,I){_.getRGB(Ef,EB(n)),s.buffers.color.setClear(Ef.r,Ef.g,Ef.b,I,o)}function y(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(_,I=1){a.set(_),l=I,m(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,m(a,l)},render:p,addToRenderList:g,dispose:y}}function CD(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),s={},i=h(null);let r=i,o=!1;function a(B,S,T,D,L){let z=!1;const V=u(D,T,S);r!==V&&(r=V,c(r.object)),z=f(B,D,T,L),z&&A(B,D,T,L),L!==null&&e.update(L,n.ELEMENT_ARRAY_BUFFER),(z||o)&&(o=!1,I(B,S,T,D),L!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(L).buffer))}function l(){return n.createVertexArray()}function c(B){return n.bindVertexArray(B)}function d(B){return n.deleteVertexArray(B)}function u(B,S,T){const D=T.wireframe===!0;let L=s[B.id];L===void 0&&(L={},s[B.id]=L);let z=L[S.id];z===void 0&&(z={},L[S.id]=z);let V=z[D];return V===void 0&&(V=h(l()),z[D]=V),V}function h(B){const S=[],T=[],D=[];for(let L=0;L<t;L++)S[L]=0,T[L]=0,D[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:S,enabledAttributes:T,attributeDivisors:D,object:B,attributes:{},index:null}}function f(B,S,T,D){const L=r.attributes,z=S.attributes;let V=0;const se=T.getAttributes();for(const q in se)if(se[q].location>=0){const pe=L[q];let Ye=z[q];if(Ye===void 0&&(q==="instanceMatrix"&&B.instanceMatrix&&(Ye=B.instanceMatrix),q==="instanceColor"&&B.instanceColor&&(Ye=B.instanceColor)),pe===void 0||pe.attribute!==Ye||Ye&&pe.data!==Ye.data)return!0;V++}return r.attributesNum!==V||r.index!==D}function A(B,S,T,D){const L={},z=S.attributes;let V=0;const se=T.getAttributes();for(const q in se)if(se[q].location>=0){let pe=z[q];pe===void 0&&(q==="instanceMatrix"&&B.instanceMatrix&&(pe=B.instanceMatrix),q==="instanceColor"&&B.instanceColor&&(pe=B.instanceColor));const Ye={};Ye.attribute=pe,pe&&pe.data&&(Ye.data=pe.data),L[q]=Ye,V++}r.attributes=L,r.attributesNum=V,r.index=D}function p(){const B=r.newAttributes;for(let S=0,T=B.length;S<T;S++)B[S]=0}function g(B){m(B,0)}function m(B,S){const T=r.newAttributes,D=r.enabledAttributes,L=r.attributeDivisors;T[B]=1,D[B]===0&&(n.enableVertexAttribArray(B),D[B]=1),L[B]!==S&&(n.vertexAttribDivisor(B,S),L[B]=S)}function y(){const B=r.newAttributes,S=r.enabledAttributes;for(let T=0,D=S.length;T<D;T++)S[T]!==B[T]&&(n.disableVertexAttribArray(T),S[T]=0)}function _(B,S,T,D,L,z,V){V===!0?n.vertexAttribIPointer(B,S,T,L,z):n.vertexAttribPointer(B,S,T,D,L,z)}function I(B,S,T,D){p();const L=D.attributes,z=T.getAttributes(),V=S.defaultAttributeValues;for(const se in z){const q=z[se];if(q.location>=0){let Ae=L[se];if(Ae===void 0&&(se==="instanceMatrix"&&B.instanceMatrix&&(Ae=B.instanceMatrix),se==="instanceColor"&&B.instanceColor&&(Ae=B.instanceColor)),Ae!==void 0){const pe=Ae.normalized,Ye=Ae.itemSize,Me=e.get(Ae);if(Me===void 0)continue;const We=Me.buffer,ce=Me.type,j=Me.bytesPerElement,O=ce===n.INT||ce===n.UNSIGNED_INT||Ae.gpuType===fg;if(Ae.isInterleavedBufferAttribute){const U=Ae.data,$=U.stride,me=Ae.offset;if(U.isInstancedInterleavedBuffer){for(let ue=0;ue<q.locationSize;ue++)m(q.location+ue,U.meshPerAttribute);B.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=U.meshPerAttribute*U.count)}else for(let ue=0;ue<q.locationSize;ue++)g(q.location+ue);n.bindBuffer(n.ARRAY_BUFFER,We);for(let ue=0;ue<q.locationSize;ue++)_(q.location+ue,Ye/q.locationSize,ce,pe,$*j,(me+Ye/q.locationSize*ue)*j,O)}else{if(Ae.isInstancedBufferAttribute){for(let U=0;U<q.locationSize;U++)m(q.location+U,Ae.meshPerAttribute);B.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let U=0;U<q.locationSize;U++)g(q.location+U);n.bindBuffer(n.ARRAY_BUFFER,We);for(let U=0;U<q.locationSize;U++)_(q.location+U,Ye/q.locationSize,ce,pe,Ye*j,Ye/q.locationSize*U*j,O)}}else if(V!==void 0){const pe=V[se];if(pe!==void 0)switch(pe.length){case 2:n.vertexAttrib2fv(q.location,pe);break;case 3:n.vertexAttrib3fv(q.location,pe);break;case 4:n.vertexAttrib4fv(q.location,pe);break;default:n.vertexAttrib1fv(q.location,pe)}}}}y()}function v(){N();for(const B in s){const S=s[B];for(const T in S){const D=S[T];for(const L in D)d(D[L].object),delete D[L];delete S[T]}delete s[B]}}function E(B){if(s[B.id]===void 0)return;const S=s[B.id];for(const T in S){const D=S[T];for(const L in D)d(D[L].object),delete D[L];delete S[T]}delete s[B.id]}function b(B){for(const S in s){const T=s[S];if(T[B.id]===void 0)continue;const D=T[B.id];for(const L in D)d(D[L].object),delete D[L];delete T[B.id]}}function N(){C(),o=!0,r!==i&&(r=i,c(r.object))}function C(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:N,resetDefaultState:C,dispose:v,releaseStatesOfGeometry:E,releaseStatesOfProgram:b,initAttributes:p,enableAttribute:g,disableUnusedAttributes:y}}function bD(n,e,t){let s;function i(c){s=c}function r(c,d){n.drawArrays(s,c,d),t.update(d,s,1)}function o(c,d,u){u!==0&&(n.drawArraysInstanced(s,c,d,u),t.update(d,s,u))}function a(c,d,u){if(u===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(s,c,0,d,0,u);let f=0;for(let A=0;A<u;A++)f+=d[A];t.update(f,s,1)}function l(c,d,u,h){if(u===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let A=0;A<c.length;A++)o(c[A],d[A],h[A]);else{f.multiDrawArraysInstancedWEBGL(s,c,0,d,0,h,0,u);let A=0;for(let p=0;p<u;p++)A+=d[p]*h[p];t.update(A,s,1)}}this.setMode=i,this.render=r,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function wD(n,e,t,s){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const b=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(b){return!(b!==Zs&&s.convert(b)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(b){const N=b===cn&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(b!==Js&&s.convert(b)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&b!==Qs&&!N)}function l(b){if(b==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";b="mediump"}return b==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const u=t.logarithmicDepthBuffer===!0,h=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),y=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),_=n.getParameter(n.MAX_VARYING_VECTORS),I=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),v=A>0,E=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:u,reverseDepthBuffer:h,maxTextures:f,maxVertexTextures:A,maxTextureSize:p,maxCubemapSize:g,maxAttributes:m,maxVertexUniforms:y,maxVaryings:_,maxFragmentUniforms:I,vertexTextures:v,maxSamples:E}}function BD(n){const e=this;let t=null,s=0,i=!1,r=!1;const o=new ps,a=new Dt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h){const f=u.length!==0||h||s!==0||i;return i=h,s=u.length,f},this.beginShadows=function(){r=!0,d(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(u,h){t=d(u,h,0)},this.setState=function(u,h,f){const A=u.clippingPlanes,p=u.clipIntersection,g=u.clipShadows,m=n.get(u);if(!i||A===null||A.length===0||r&&!g)r?d(null):c();else{const y=r?0:s,_=y*4;let I=m.clippingState||null;l.value=I,I=d(A,h,_,f);for(let v=0;v!==_;++v)I[v]=t[v];m.clippingState=I,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=s>0),e.numPlanes=s,e.numIntersection=0}function d(u,h,f,A){const p=u!==null?u.length:0;let g=null;if(p!==0){if(g=l.value,A!==!0||g===null){const m=f+p*4,y=h.matrixWorldInverse;a.getNormalMatrix(y),(g===null||g.length<m)&&(g=new Float32Array(m));for(let _=0,I=f;_!==p;++_,I+=4)o.copy(u[_]).applyMatrix4(y,a),o.normal.toArray(g,I),g[I+3]=o.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,g}}function ND(n){let e=new WeakMap;function t(o,a){return a===Fl?o.mapping=Ua:a===hp&&(o.mapping=kl),o}function s(o){if(o&&o.isTexture){const a=o.mapping;if(a===Fl||a===hp)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new bB(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function r(){e=new WeakMap}return{get:s,dispose:r}}const ld=4,Qv=[.125,.215,.35,.446,.526,.582],xl=20,wm=new Bg,Dv=new st;let Bm=null,Nm=0,Sm=0,Mm=!1;const gl=(1+Math.sqrt(5))/2,Ec=1/gl,Lv=[new w(-gl,Ec,0),new w(gl,Ec,0),new w(-Ec,0,gl),new w(Ec,0,gl),new w(0,gl,-Ec),new w(0,gl,Ec),new w(-1,1,-1),new w(1,1,-1),new w(-1,1,1),new w(1,1,1)],SD=new w;class Lp{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,s=.1,i=100,r={}){const{size:o=256,position:a=SD}=r;Bm=this._renderer.getRenderTarget(),Nm=this._renderer.getActiveCubeFace(),Sm=this._renderer.getActiveMipmapLevel(),Mm=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,s,i,l,a),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Uv(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Fv(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Bm,Nm,Sm),this._renderer.xr.enabled=Mm,e.scissorTest=!1,Cf(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ua||e.mapping===kl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Bm=this._renderer.getRenderTarget(),Nm=this._renderer.getActiveCubeFace(),Sm=this._renderer.getActiveMipmapLevel(),Mm=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const s=t||this._allocateTargets();return this._textureToCubeUV(e,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,s={magFilter:Ot,minFilter:Ot,generateMipmaps:!1,type:cn,format:Zs,colorSpace:rn,depthBuffer:!1},i=kv(e,t,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=kv(e,t,s);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=MD(r)),this._blurMaterial=TD(r,e,t)}return i}_compileMaterial(e){const t=new it(this._lodPlanes[0],e);this._renderer.compile(t,wm)}_sceneToCubeUV(e,t,s,i,r){const l=new Dn(90,1,t,s),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(Dv),u.toneMapping=bo,u.autoClear=!1;const A=new Nt({name:"PMREM.Background",side:Ls,depthWrite:!1,depthTest:!1}),p=new it(new ei,A);let g=!1;const m=e.background;m?m.isColor&&(A.color.copy(m),e.background=null,g=!0):(A.color.copy(Dv),g=!0);for(let y=0;y<6;y++){const _=y%3;_===0?(l.up.set(0,c[y],0),l.position.set(r.x,r.y,r.z),l.lookAt(r.x+d[y],r.y,r.z)):_===1?(l.up.set(0,0,c[y]),l.position.set(r.x,r.y,r.z),l.lookAt(r.x,r.y+d[y],r.z)):(l.up.set(0,c[y],0),l.position.set(r.x,r.y,r.z),l.lookAt(r.x,r.y,r.z+d[y]));const I=this._cubeSize;Cf(i,_*I,y>2?I:0,I,I),u.setRenderTarget(i),g&&u.render(p,l),u.render(e,l)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=h,e.background=m}_textureToCubeUV(e,t){const s=this._renderer,i=e.mapping===Ua||e.mapping===kl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Uv()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Fv());const r=i?this._cubemapMaterial:this._equirectMaterial,o=new it(this._lodPlanes[0],r),a=r.uniforms;a.envMap.value=e;const l=this._cubeSize;Cf(t,0,0,3*l,2*l),s.setRenderTarget(t),s.render(o,wm)}_applyPMREM(e){const t=this._renderer,s=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let r=1;r<i;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Lv[(i-r-1)%Lv.length];this._blur(e,r-1,r,o,a)}t.autoClear=s}_blur(e,t,s,i,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,s,i,"latitudinal",r),this._halfBlur(o,e,s,s,i,"longitudinal",r)}_halfBlur(e,t,s,i,r,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,u=new it(this._lodPlanes[i],c),h=c.uniforms,f=this._sizeLods[s]-1,A=isFinite(r)?Math.PI/(2*f):2*Math.PI/(2*xl-1),p=r/A,g=isFinite(r)?1+Math.floor(d*p):xl;g>xl&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${xl}`);const m=[];let y=0;for(let b=0;b<xl;++b){const N=b/p,C=Math.exp(-N*N/2);m.push(C),b===0?y+=C:b<g&&(y+=2*C)}for(let b=0;b<m.length;b++)m[b]=m[b]/y;h.envMap.value=e.texture,h.samples.value=g,h.weights.value=m,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:_}=this;h.dTheta.value=A,h.mipInt.value=_-s;const I=this._sizeLods[i],v=3*I*(i>_-ld?i-_+ld:0),E=4*(this._cubeSize-I);Cf(t,v,E,3*I,2*I),l.setRenderTarget(t),l.render(u,wm)}}function MD(n){const e=[],t=[],s=[];let i=n;const r=n-ld+1+Qv.length;for(let o=0;o<r;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-ld?l=Qv[o-n+ld-1]:o===0&&(l=0),s.push(l);const c=1/(a-2),d=-c,u=1+c,h=[d,d,u,d,u,u,d,d,u,u,d,u],f=6,A=6,p=3,g=2,m=1,y=new Float32Array(p*A*f),_=new Float32Array(g*A*f),I=new Float32Array(m*A*f);for(let E=0;E<f;E++){const b=E%3*2/3-1,N=E>2?0:-1,C=[b,N,0,b+2/3,N,0,b+2/3,N+1,0,b,N,0,b+2/3,N+1,0,b,N+1,0];y.set(C,p*A*E),_.set(h,g*A*E);const B=[E,E,E,E,E,E];I.set(B,m*A*E)}const v=new Qt;v.setAttribute("position",new rs(y,p)),v.setAttribute("uv",new rs(_,g)),v.setAttribute("faceIndex",new rs(I,m)),e.push(v),i>ld&&i--}return{lodPlanes:e,sizeLods:t,sigmas:s}}function kv(n,e,t){const s=new Mo(n,e,t);return s.texture.mapping=Rh,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function Cf(n,e,t,s,i){n.viewport.set(e,t,s,i),n.scissor.set(e,t,s,i)}function TD(n,e,t){const s=new Float32Array(xl),i=new w(0,1,0);return new Ds({name:"SphericalGaussianBlur",defines:{n:xl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:D_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Co,depthTest:!1,depthWrite:!1})}function Fv(){return new Ds({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:D_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Co,depthTest:!1,depthWrite:!1})}function Uv(){return new Ds({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:D_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Co,depthTest:!1,depthWrite:!1})}function D_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function PD(n){let e=new WeakMap,t=null;function s(a){if(a&&a.isTexture){const l=a.mapping,c=l===Fl||l===hp,d=l===Ua||l===kl;if(c||d){let u=e.get(a);const h=u!==void 0?u.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return t===null&&(t=new Lp(n)),u=c?t.fromEquirectangular(a,u):t.fromCubemap(a,u),u.texture.pmremVersion=a.pmremVersion,e.set(a,u),u.texture;if(u!==void 0)return u.texture;{const f=a.image;return c&&f&&f.height>0||d&&f&&i(f)?(t===null&&(t=new Lp(n)),u=c?t.fromEquirectangular(a):t.fromCubemap(a),u.texture.pmremVersion=a.pmremVersion,e.set(a,u),a.addEventListener("dispose",r),u.texture):null}}}return a}function i(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:s,dispose:o}}function RD(n){const e={};function t(s){if(e[s]!==void 0)return e[s];let i;switch(s){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(s)}return e[s]=i,i}return{has:function(s){return t(s)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(s){const i=t(s);return i===null&&_d("THREE.WebGLRenderer: "+s+" extension not supported."),i}}}function QD(n,e,t,s){const i={},r=new WeakMap;function o(u){const h=u.target;h.index!==null&&e.remove(h.index);for(const A in h.attributes)e.remove(h.attributes[A]);h.removeEventListener("dispose",o),delete i[h.id];const f=r.get(h);f&&(e.remove(f),r.delete(h)),s.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(u,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,t.memory.geometries++),h}function l(u){const h=u.attributes;for(const f in h)e.update(h[f],n.ARRAY_BUFFER)}function c(u){const h=[],f=u.index,A=u.attributes.position;let p=0;if(f!==null){const y=f.array;p=f.version;for(let _=0,I=y.length;_<I;_+=3){const v=y[_+0],E=y[_+1],b=y[_+2];h.push(v,E,E,b,b,v)}}else if(A!==void 0){const y=A.array;p=A.version;for(let _=0,I=y.length/3-1;_<I;_+=3){const v=_+0,E=_+1,b=_+2;h.push(v,E,E,b,b,v)}}else return;const g=new(xB(h)?a_:o_)(h,1);g.version=p;const m=r.get(u);m&&e.remove(m),r.set(u,g)}function d(u){const h=r.get(u);if(h){const f=u.index;f!==null&&h.version<f.version&&c(u)}else c(u);return r.get(u)}return{get:a,update:l,getWireframeAttribute:d}}function DD(n,e,t){let s;function i(h){s=h}let r,o;function a(h){r=h.type,o=h.bytesPerElement}function l(h,f){n.drawElements(s,f,r,h*o),t.update(f,s,1)}function c(h,f,A){A!==0&&(n.drawElementsInstanced(s,f,r,h*o,A),t.update(f,s,A))}function d(h,f,A){if(A===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(s,f,0,r,h,0,A);let g=0;for(let m=0;m<A;m++)g+=f[m];t.update(g,s,1)}function u(h,f,A,p){if(A===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let m=0;m<h.length;m++)c(h[m]/o,f[m],p[m]);else{g.multiDrawElementsInstancedWEBGL(s,f,0,r,h,0,p,0,A);let m=0;for(let y=0;y<A;y++)m+=f[y]*p[y];t.update(m,s,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=u}function LD(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function s(r,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(r/3);break;case n.LINES:t.lines+=a*(r/2);break;case n.LINE_STRIP:t.lines+=a*(r-1);break;case n.LINE_LOOP:t.lines+=a*r;break;case n.POINTS:t.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:s}}function kD(n,e,t){const s=new WeakMap,i=new ns;function r(o,a,l){const c=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,u=d!==void 0?d.length:0;let h=s.get(a);if(h===void 0||h.count!==u){let C=function(){b.dispose(),s.delete(a),a.removeEventListener("dispose",C)};h!==void 0&&h.texture.dispose();const f=a.morphAttributes.position!==void 0,A=a.morphAttributes.normal!==void 0,p=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],m=a.morphAttributes.normal||[],y=a.morphAttributes.color||[];let _=0;f===!0&&(_=1),A===!0&&(_=2),p===!0&&(_=3);let I=a.attributes.position.count*_,v=1;I>e.maxTextureSize&&(v=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const E=new Float32Array(I*v*4*u),b=new i_(E,I,v,u);b.type=Qs,b.needsUpdate=!0;const N=_*4;for(let B=0;B<u;B++){const S=g[B],T=m[B],D=y[B],L=I*v*4*B;for(let z=0;z<S.count;z++){const V=z*N;f===!0&&(i.fromBufferAttribute(S,z),E[L+V+0]=i.x,E[L+V+1]=i.y,E[L+V+2]=i.z,E[L+V+3]=0),A===!0&&(i.fromBufferAttribute(T,z),E[L+V+4]=i.x,E[L+V+5]=i.y,E[L+V+6]=i.z,E[L+V+7]=0),p===!0&&(i.fromBufferAttribute(D,z),E[L+V+8]=i.x,E[L+V+9]=i.y,E[L+V+10]=i.z,E[L+V+11]=D.itemSize===4?i.w:1)}}h={count:u,texture:b,size:new Be(I,v)},s.set(a,h),a.addEventListener("dispose",C)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let f=0;for(let p=0;p<c.length;p++)f+=c[p];const A=a.morphTargetsRelative?1:1-f;l.getUniforms().setValue(n,"morphTargetBaseInfluence",A),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",h.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}return{update:r}}class FD{constructor(e,t,s){if(this.renderer=e,this.DEFAULT_NUMVIEWS=2,this.maxNumViews=0,this.gl=s,this.extensions=t,this.available=this.extensions.has("OCULUS_multiview"),this.available){const r=this.extensions.get("OCULUS_multiview");this.maxNumViews=this.gl.getParameter(r.MAX_VIEWS_OVR),this.mat4=[],this.mat3=[],this.cameraArray=[];for(var i=0;i<this.maxNumViews;i++)this.mat4[i]=new Je,this.mat3[i]=new Dt}}getCameraArray(e){return e.isArrayCamera?e.cameras:(this.cameraArray[0]=e,this.cameraArray)}updateCameraProjectionMatricesUniform(e,t){for(var s=this.getCameraArray(e),i=0;i<s.length;i++)this.mat4[i].copy(s[i].projectionMatrix);t.setValue(this.gl,"projectionMatrices",this.mat4)}updateCameraViewMatricesUniform(e,t){for(var s=this.getCameraArray(e),i=0;i<s.length;i++)this.mat4[i].copy(s[i].matrixWorldInverse);t.setValue(this.gl,"viewMatrices",this.mat4)}updateObjectMatricesUniforms(e,t,s){for(var i=this.getCameraArray(t),r=0;r<i.length;r++)this.mat4[r].multiplyMatrices(i[r].matrixWorldInverse,e.matrixWorld),this.mat3[r].getNormalMatrix(this.mat4[r]);s.setValue(this.gl,"modelViewMatrices",this.mat4),s.setValue(this.gl,"normalMatrices",this.mat3)}}function UD(n,e,t,s){let i=new WeakMap;function r(l){const c=s.render.frame,d=l.geometry,u=e.get(l,d);if(i.get(u)!==c&&(e.update(u),i.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==c&&(h.update(),i.set(h,c))}return u}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:r,dispose:o}}const nN=new Ws,Ov=new f_(1,1),iN=new i_,rN=new r_,oN=new c_,Gv=[],Hv=[],zv=new Float32Array(16),Vv=new Float32Array(9),qv=new Float32Array(4);function su(n,e,t){const s=n[0];if(s<=0||s>0)return n;const i=e*t;let r=Gv[i];if(r===void 0&&(r=new Float32Array(i),Gv[i]=r),e!==0){s.toArray(r,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(r,a)}return r}function mn(n,e){if(n.length!==e.length)return!1;for(let t=0,s=n.length;t<s;t++)if(n[t]!==e[t])return!1;return!0}function xn(n,e){for(let t=0,s=e.length;t<s;t++)n[t]=e[t]}function Ng(n,e){let t=Hv[e];t===void 0&&(t=new Int32Array(e),Hv[e]=t);for(let s=0;s!==e;++s)t[s]=n.allocateTextureUnit();return t}function OD(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function GD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(mn(t,e))return;n.uniform2fv(this.addr,e),xn(t,e)}}function HD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(mn(t,e))return;n.uniform3fv(this.addr,e),xn(t,e)}}function zD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(mn(t,e))return;n.uniform4fv(this.addr,e),xn(t,e)}}function VD(n,e){const t=this.cache,s=e.elements;if(s===void 0){if(mn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),xn(t,e)}else{if(mn(t,s))return;qv.set(s),n.uniformMatrix2fv(this.addr,!1,qv),xn(t,s)}}function qD(n,e){const t=this.cache,s=e.elements;if(s===void 0){if(mn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),xn(t,e)}else{if(mn(t,s))return;Vv.set(s),n.uniformMatrix3fv(this.addr,!1,Vv),xn(t,s)}}function WD(n,e){const t=this.cache,s=e.elements;if(s===void 0){if(mn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),xn(t,e)}else{if(mn(t,s))return;zv.set(s),n.uniformMatrix4fv(this.addr,!1,zv),xn(t,s)}}function XD(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function YD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(mn(t,e))return;n.uniform2iv(this.addr,e),xn(t,e)}}function JD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(mn(t,e))return;n.uniform3iv(this.addr,e),xn(t,e)}}function KD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(mn(t,e))return;n.uniform4iv(this.addr,e),xn(t,e)}}function jD(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ZD(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(mn(t,e))return;n.uniform2uiv(this.addr,e),xn(t,e)}}function $D(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(mn(t,e))return;n.uniform3uiv(this.addr,e),xn(t,e)}}function e3(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(mn(t,e))return;n.uniform4uiv(this.addr,e),xn(t,e)}}function t3(n,e,t){const s=this.cache,i=t.allocateTextureUnit();s[0]!==i&&(n.uniform1i(this.addr,i),s[0]=i);let r;this.type===n.SAMPLER_2D_SHADOW?(Ov.compareFunction=s_,r=Ov):r=nN,t.setTexture2D(e||r,i)}function s3(n,e,t){const s=this.cache,i=t.allocateTextureUnit();s[0]!==i&&(n.uniform1i(this.addr,i),s[0]=i),t.setTexture3D(e||rN,i)}function n3(n,e,t){const s=this.cache,i=t.allocateTextureUnit();s[0]!==i&&(n.uniform1i(this.addr,i),s[0]=i),t.setTextureCube(e||oN,i)}function i3(n,e,t){const s=this.cache,i=t.allocateTextureUnit();s[0]!==i&&(n.uniform1i(this.addr,i),s[0]=i),t.setTexture2DArray(e||iN,i)}function r3(n){switch(n){case 5126:return OD;case 35664:return GD;case 35665:return HD;case 35666:return zD;case 35674:return VD;case 35675:return qD;case 35676:return WD;case 5124:case 35670:return XD;case 35667:case 35671:return YD;case 35668:case 35672:return JD;case 35669:case 35673:return KD;case 5125:return jD;case 36294:return ZD;case 36295:return $D;case 36296:return e3;case 35678:case 36198:case 36298:case 36306:case 35682:return t3;case 35679:case 36299:case 36307:return s3;case 35680:case 36300:case 36308:case 36293:return n3;case 36289:case 36303:case 36311:case 36292:return i3}}function o3(n,e){n.uniform1fv(this.addr,e)}function a3(n,e){const t=su(e,this.size,2);n.uniform2fv(this.addr,t)}function l3(n,e){const t=su(e,this.size,3);n.uniform3fv(this.addr,t)}function c3(n,e){const t=su(e,this.size,4);n.uniform4fv(this.addr,t)}function d3(n,e){const t=su(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function u3(n,e){const t=su(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function h3(n,e){const t=su(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function f3(n,e){n.uniform1iv(this.addr,e)}function A3(n,e){n.uniform2iv(this.addr,e)}function p3(n,e){n.uniform3iv(this.addr,e)}function g3(n,e){n.uniform4iv(this.addr,e)}function m3(n,e){n.uniform1uiv(this.addr,e)}function x3(n,e){n.uniform2uiv(this.addr,e)}function y3(n,e){n.uniform3uiv(this.addr,e)}function _3(n,e){n.uniform4uiv(this.addr,e)}function I3(n,e,t){const s=this.cache,i=e.length,r=Ng(t,i);mn(s,r)||(n.uniform1iv(this.addr,r),xn(s,r));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||nN,r[o])}function v3(n,e,t){const s=this.cache,i=e.length,r=Ng(t,i);mn(s,r)||(n.uniform1iv(this.addr,r),xn(s,r));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||rN,r[o])}function E3(n,e,t){const s=this.cache,i=e.length,r=Ng(t,i);mn(s,r)||(n.uniform1iv(this.addr,r),xn(s,r));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||oN,r[o])}function C3(n,e,t){const s=this.cache,i=e.length,r=Ng(t,i);mn(s,r)||(n.uniform1iv(this.addr,r),xn(s,r));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||iN,r[o])}function b3(n){switch(n){case 5126:return o3;case 35664:return a3;case 35665:return l3;case 35666:return c3;case 35674:return d3;case 35675:return u3;case 35676:return h3;case 5124:case 35670:return f3;case 35667:case 35671:return A3;case 35668:case 35672:return p3;case 35669:case 35673:return g3;case 5125:return m3;case 36294:return x3;case 36295:return y3;case 36296:return _3;case 35678:case 36198:case 36298:case 36306:case 35682:return I3;case 35679:case 36299:case 36307:return v3;case 35680:case 36300:case 36308:case 36293:return E3;case 36289:case 36303:case 36311:case 36292:return C3}}class w3{constructor(e,t,s){this.id=e,this.addr=s,this.cache=[],this.type=t.type,this.setValue=r3(t.type)}}class B3{constructor(e,t,s){this.id=e,this.addr=s,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=b3(t.type)}}class N3{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,s){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const a=i[r];a.setValue(e,t[a.id],s)}}}const Tm=/(\w+)(\])?(\[|\.)?/g;function Wv(n,e){n.seq.push(e),n.map[e.id]=e}function S3(n,e,t){const s=n.name,i=s.length;for(Tm.lastIndex=0;;){const r=Tm.exec(s),o=Tm.lastIndex;let a=r[1];const l=r[2]==="]",c=r[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){Wv(t,c===void 0?new w3(a,n,e):new B3(a,n,e));break}else{let u=t.map[a];u===void 0&&(u=new N3(a),Wv(t,u)),t=u}}}class OA{constructor(e,t){this.seq=[],this.map={};const s=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<s;++i){const r=e.getActiveUniform(t,i),o=e.getUniformLocation(t,r.name);S3(r,o,this)}}setValue(e,t,s,i){const r=this.map[t];r!==void 0&&r.setValue(e,s,i)}setOptional(e,t,s){const i=t[s];i!==void 0&&this.setValue(e,s,i)}static upload(e,t,s,i){for(let r=0,o=t.length;r!==o;++r){const a=t[r],l=s[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const s=[];for(let i=0,r=e.length;i!==r;++i){const o=e[i];o.id in t&&s.push(o)}return s}}function Xv(n,e,t){const s=n.createShader(e);return n.shaderSource(s,t),n.compileShader(s),s}const M3=37297;let T3=0;function P3(n,e){const t=n.split(`
`),s=[],i=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let o=i;o<r;o++){const a=o+1;s.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return s.join(`
`)}const Yv=new Dt;function R3(n){ts._getMatrix(Yv,ts.workingColorSpace,n);const e=`mat3( ${Yv.elements.map(t=>t.toFixed(4))} )`;switch(ts.getTransfer(n)){case xh:return[e,"LinearTransferOETF"];case Cs:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function Jv(n,e,t){const s=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(s&&i==="")return"";const r=/ERROR: 0:(\d+)/.exec(i);if(r){const o=parseInt(r[1]);return t.toUpperCase()+`

`+i+`

`+P3(n.getShaderSource(e),o)}else return i}function Q3(n,e){const t=R3(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function D3(n,e){let t;switch(e){case Zw:t="Linear";break;case $w:t="Reinhard";break;case eB:t="Cineon";break;case tB:t="ACESFilmic";break;case nB:t="AgX";break;case iB:t="Neutral";break;case sB:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const bf=new w;function L3(){ts.getLuminanceCoefficients(bf);const n=bf.x.toFixed(4),e=bf.y.toFixed(4),t=bf.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function k3(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Gu).join(`
`)}function F3(n){const e=[];for(const t in n){const s=n[t];s!==!1&&e.push("#define "+t+" "+s)}return e.join(`
`)}function U3(n,e){const t={},s=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<s;i++){const r=n.getActiveAttrib(e,i),o=r.name;let a=1;r.type===n.FLOAT_MAT2&&(a=2),r.type===n.FLOAT_MAT3&&(a=3),r.type===n.FLOAT_MAT4&&(a=4),t[o]={type:r.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Gu(n){return n!==""}function Kv(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function jv(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const O3=/^[ \t]*#include +<([\w\d./]+)>/gm;function Hx(n){return n.replace(O3,H3)}const G3=new Map;function H3(n,e){let t=Xt[e];if(t===void 0){const s=G3.get(e);if(s!==void 0)t=Xt[s],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,s);else throw new Error("Can not resolve #include <"+e+">")}return Hx(t)}const z3=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Zv(n){return n.replace(z3,V3)}function V3(n,e,t,s){let i="";for(let r=parseInt(e);r<parseInt(t);r++)i+=s.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return i}function $v(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function q3(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===qy?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Tw?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ur&&(e="SHADOWMAP_TYPE_VSM"),e}function W3(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ua:case kl:e="ENVMAP_TYPE_CUBE";break;case Rh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function X3(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case kl:e="ENVMAP_MODE_REFRACTION";break}return e}function Y3(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case hg:e="ENVMAP_BLENDING_MULTIPLY";break;case Kw:e="ENVMAP_BLENDING_MIX";break;case jw:e="ENVMAP_BLENDING_ADD";break}return e}function J3(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,s=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:s,maxMip:t}}function K3(n,e,t,s){const i=n.getContext(),r=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=q3(t),c=W3(t),d=X3(t),u=Y3(t),h=J3(t),f=k3(t),A=F3(r),p=i.createProgram();let g,m,y=t.glslVersion?"#version "+t.glslVersion+`
`:"";const _=t.numMultiviewViews;t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(Gu).join(`
`),g.length>0&&(g+=`
`),m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(Gu).join(`
`),m.length>0&&(m+=`
`)):(g=[$v(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Gu).join(`
`),m=[$v(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==bo?"#define TONE_MAPPING":"",t.toneMapping!==bo?Xt.tonemapping_pars_fragment:"",t.toneMapping!==bo?D3("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Xt.colorspace_pars_fragment,Q3("linearToOutputTexel",t.outputColorSpace),L3(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Gu).join(`
`)),o=Hx(o),o=Kv(o,t),o=jv(o,t),a=Hx(a),a=Kv(a,t),a=jv(a,t),o=Zv(o),a=Zv(a),t.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,g=[f,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,m=["#define varying in",t.glslVersion===kx?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===kx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m,_>0&&(g=["#extension GL_OVR_multiview : require","layout(num_views = "+_+") in;","#define VIEW_ID gl_ViewID_OVR"].join(`
`)+`
`+g,g=g.replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join(`
`),["uniform mat4 modelViewMatrices["+_+"];","uniform mat4 projectionMatrices["+_+"];","uniform mat4 viewMatrices["+_+"];","uniform mat3 normalMatrices["+_+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join(`
`)),m=["#extension GL_OVR_multiview : require","#define VIEW_ID gl_ViewID_OVR"].join(`
`)+`
`+m,m=m.replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+_+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join(`
`))));const I=y+g+o,v=y+m+a,E=Xv(i,i.VERTEX_SHADER,I),b=Xv(i,i.FRAGMENT_SHADER,v);i.attachShader(p,E),i.attachShader(p,b),t.index0AttributeName!==void 0?i.bindAttribLocation(p,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(p,0,"position"),i.linkProgram(p);function N(T){if(n.debug.checkShaderErrors){const D=i.getProgramInfoLog(p).trim(),L=i.getShaderInfoLog(E).trim(),z=i.getShaderInfoLog(b).trim();let V=!0,se=!0;if(i.getProgramParameter(p,i.LINK_STATUS)===!1)if(V=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,p,E,b);else{const q=Jv(i,E,"vertex"),Ae=Jv(i,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(p,i.VALIDATE_STATUS)+`

Material Name: `+T.name+`
Material Type: `+T.type+`

Program Info Log: `+D+`
`+q+`
`+Ae)}else D!==""?console.warn("THREE.WebGLProgram: Program Info Log:",D):(L===""||z==="")&&(se=!1);se&&(T.diagnostics={runnable:V,programLog:D,vertexShader:{log:L,prefix:g},fragmentShader:{log:z,prefix:m}})}i.deleteShader(E),i.deleteShader(b),C=new OA(i,p),B=U3(i,p)}let C;this.getUniforms=function(){return C===void 0&&N(this),C};let B;this.getAttributes=function(){return B===void 0&&N(this),B};let S=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return S===!1&&(S=i.getProgramParameter(p,M3)),S},this.destroy=function(){s.releaseStatesOfProgram(this),i.deleteProgram(p),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=T3++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=E,this.fragmentShader=b,this.numMultiviewViews=_,this}let j3=0;class Z3{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,s=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(s),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const s of t)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let s=t.get(e);return s===void 0&&(s=new Set,t.set(e,s)),s}_getShaderStage(e){const t=this.shaderCache;let s=t.get(e);return s===void 0&&(s=new $3(e),t.set(e,s)),s}}class $3{constructor(e){this.id=j3++,this.code=e,this.usedTimes=0}}function eL(n,e,t,s,i,r,o){const a=new yg,l=new Z3,c=new Set,d=[],u=i.logarithmicDepthBuffer,h=i.vertexTextures;let f=i.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(C){return c.add(C),C===0?"uv":`uv${C}`}function g(C,B,S,T,D){const L=T.fog,z=D.geometry,V=C.isMeshStandardMaterial?T.environment:null,se=(C.isMeshStandardMaterial?t:e).get(C.envMap||V),q=se&&se.mapping===Rh?se.image.height:null,Ae=A[C.type];C.precision!==null&&(f=i.getMaxPrecision(C.precision),f!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",f,"instead."));const pe=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,Ye=pe!==void 0?pe.length:0;let Me=0;z.morphAttributes.position!==void 0&&(Me=1),z.morphAttributes.normal!==void 0&&(Me=2),z.morphAttributes.color!==void 0&&(Me=3);let We,ce,j,O;if(Ae){const gt=gn[Ae];We=gt.vertexShader,ce=gt.fragmentShader}else We=C.vertexShader,ce=C.fragmentShader,l.update(C),j=l.getVertexShaderID(C),O=l.getFragmentShaderID(C);const U=n.getRenderTarget(),$=n.state.buffers.depth.getReversed(),me=U&&U.isWebGLMultiviewRenderTarget?U.numViews:0,ue=D.isInstancedMesh===!0,Se=D.isBatchedMesh===!0,we=!!C.map,qe=!!C.matcap,ve=!!se,H=!!C.aoMap,rt=!!C.lightMap,Ke=!!C.bumpMap,fe=!!C.normalMap,Y=!!C.displacementMap,lt=!!C.emissiveMap,ot=!!C.metalnessMap,It=!!C.roughnessMap,Ft=C.anisotropy>0,St=C.clearcoat>0,os=C.dispersion>0,ds=C.iridescence>0,ms=C.sheen>0,J=C.transmission>0,k=Ft&&!!C.anisotropyMap,_e=St&&!!C.clearcoatMap,Fe=St&&!!C.clearcoatNormalMap,Ue=St&&!!C.clearcoatRoughnessMap,Ie=ds&&!!C.iridescenceMap,ct=ds&&!!C.iridescenceThicknessMap,et=ms&&!!C.sheenColorMap,At=ms&&!!C.sheenRoughnessMap,_t=!!C.specularMap,le=!!C.specularColorMap,K=!!C.specularIntensityMap,oe=J&&!!C.transmissionMap,Te=J&&!!C.thicknessMap,Ve=!!C.gradientMap,tt=!!C.alphaMap,dt=C.alphaTest>0,Mt=!!C.alphaHash,Ut=!!C.extensions;let us=bo;C.toneMapped&&(U===null||U.isXRRenderTarget===!0)&&(us=n.toneMapping);const at={shaderID:Ae,shaderType:C.type,shaderName:C.name,vertexShader:We,fragmentShader:ce,defines:C.defines,customVertexShaderID:j,customFragmentShaderID:O,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:f,batching:Se,batchingColor:Se&&D._colorsTexture!==null,instancing:ue,instancingColor:ue&&D.instanceColor!==null,instancingMorph:ue&&D.morphTexture!==null,supportsVertexTextures:h,numMultiviewViews:me,outputColorSpace:U===null?n.outputColorSpace:U.isXRRenderTarget===!0?U.texture.colorSpace:rn,alphaToCoverage:!!C.alphaToCoverage,map:we,matcap:qe,envMap:ve,envMapMode:ve&&se.mapping,envMapCubeUVHeight:q,aoMap:H,lightMap:rt,bumpMap:Ke,normalMap:fe,displacementMap:h&&Y,emissiveMap:lt,normalMapObjectSpace:fe&&C.normalMapType===cB,normalMapTangentSpace:fe&&C.normalMapType===Dh,metalnessMap:ot,roughnessMap:It,anisotropy:Ft,anisotropyMap:k,clearcoat:St,clearcoatMap:_e,clearcoatNormalMap:Fe,clearcoatRoughnessMap:Ue,dispersion:os,iridescence:ds,iridescenceMap:Ie,iridescenceThicknessMap:ct,sheen:ms,sheenColorMap:et,sheenRoughnessMap:At,specularMap:_t,specularColorMap:le,specularIntensityMap:K,transmission:J,transmissionMap:oe,thicknessMap:Te,gradientMap:Ve,opaque:C.transparent===!1&&C.blending===wl&&C.alphaToCoverage===!1,alphaMap:tt,alphaTest:dt,alphaHash:Mt,combine:C.combine,mapUv:we&&p(C.map.channel),aoMapUv:H&&p(C.aoMap.channel),lightMapUv:rt&&p(C.lightMap.channel),bumpMapUv:Ke&&p(C.bumpMap.channel),normalMapUv:fe&&p(C.normalMap.channel),displacementMapUv:Y&&p(C.displacementMap.channel),emissiveMapUv:lt&&p(C.emissiveMap.channel),metalnessMapUv:ot&&p(C.metalnessMap.channel),roughnessMapUv:It&&p(C.roughnessMap.channel),anisotropyMapUv:k&&p(C.anisotropyMap.channel),clearcoatMapUv:_e&&p(C.clearcoatMap.channel),clearcoatNormalMapUv:Fe&&p(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ue&&p(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Ie&&p(C.iridescenceMap.channel),iridescenceThicknessMapUv:ct&&p(C.iridescenceThicknessMap.channel),sheenColorMapUv:et&&p(C.sheenColorMap.channel),sheenRoughnessMapUv:At&&p(C.sheenRoughnessMap.channel),specularMapUv:_t&&p(C.specularMap.channel),specularColorMapUv:le&&p(C.specularColorMap.channel),specularIntensityMapUv:K&&p(C.specularIntensityMap.channel),transmissionMapUv:oe&&p(C.transmissionMap.channel),thicknessMapUv:Te&&p(C.thicknessMap.channel),alphaMapUv:tt&&p(C.alphaMap.channel),vertexTangents:!!z.attributes.tangent&&(fe||Ft),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,pointsUvs:D.isPoints===!0&&!!z.attributes.uv&&(we||tt),fog:!!L,useFog:C.fog===!0,fogExp2:!!L&&L.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:u,reverseDepthBuffer:$,skinning:D.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:Ye,morphTextureStride:Me,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&S.length>0,shadowMapType:n.shadowMap.type,toneMapping:us,decodeVideoTexture:we&&C.map.isVideoTexture===!0&&ts.getTransfer(C.map.colorSpace)===Cs,decodeVideoTextureEmissive:lt&&C.emissiveMap.isVideoTexture===!0&&ts.getTransfer(C.emissiveMap.colorSpace)===Cs,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===js,flipSided:C.side===Ls,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionClipCullDistance:Ut&&C.extensions.clipCullDistance===!0&&s.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ut&&C.extensions.multiDraw===!0||Se)&&s.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:s.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()};return at.vertexUv1s=c.has(1),at.vertexUv2s=c.has(2),at.vertexUv3s=c.has(3),c.clear(),at}function m(C){const B=[];if(C.shaderID?B.push(C.shaderID):(B.push(C.customVertexShaderID),B.push(C.customFragmentShaderID)),C.defines!==void 0)for(const S in C.defines)B.push(S),B.push(C.defines[S]);return C.isRawShaderMaterial===!1&&(y(B,C),_(B,C),B.push(n.outputColorSpace)),B.push(C.customProgramCacheKey),B.join()}function y(C,B){C.push(B.precision),C.push(B.outputColorSpace),C.push(B.envMapMode),C.push(B.envMapCubeUVHeight),C.push(B.mapUv),C.push(B.alphaMapUv),C.push(B.lightMapUv),C.push(B.aoMapUv),C.push(B.bumpMapUv),C.push(B.normalMapUv),C.push(B.displacementMapUv),C.push(B.emissiveMapUv),C.push(B.metalnessMapUv),C.push(B.roughnessMapUv),C.push(B.anisotropyMapUv),C.push(B.clearcoatMapUv),C.push(B.clearcoatNormalMapUv),C.push(B.clearcoatRoughnessMapUv),C.push(B.iridescenceMapUv),C.push(B.iridescenceThicknessMapUv),C.push(B.sheenColorMapUv),C.push(B.sheenRoughnessMapUv),C.push(B.specularMapUv),C.push(B.specularColorMapUv),C.push(B.specularIntensityMapUv),C.push(B.transmissionMapUv),C.push(B.thicknessMapUv),C.push(B.combine),C.push(B.fogExp2),C.push(B.sizeAttenuation),C.push(B.morphTargetsCount),C.push(B.morphAttributeCount),C.push(B.numDirLights),C.push(B.numPointLights),C.push(B.numSpotLights),C.push(B.numSpotLightMaps),C.push(B.numHemiLights),C.push(B.numRectAreaLights),C.push(B.numDirLightShadows),C.push(B.numPointLightShadows),C.push(B.numSpotLightShadows),C.push(B.numSpotLightShadowsWithMaps),C.push(B.numLightProbes),C.push(B.shadowMapType),C.push(B.toneMapping),C.push(B.numClippingPlanes),C.push(B.numClipIntersection),C.push(B.depthPacking)}function _(C,B){a.disableAll(),B.supportsVertexTextures&&a.enable(0),B.instancing&&a.enable(1),B.instancingColor&&a.enable(2),B.instancingMorph&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),B.alphaHash&&a.enable(18),B.batching&&a.enable(19),B.dispersion&&a.enable(20),B.batchingColor&&a.enable(21),C.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.reverseDepthBuffer&&a.enable(4),B.skinning&&a.enable(5),B.morphTargets&&a.enable(6),B.morphNormals&&a.enable(7),B.morphColors&&a.enable(8),B.premultipliedAlpha&&a.enable(9),B.shadowMapEnabled&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),B.decodeVideoTexture&&a.enable(19),B.decodeVideoTextureEmissive&&a.enable(20),B.alphaToCoverage&&a.enable(21),B.numMultiviewViews&&a.enable(21),C.push(a.mask)}function I(C){const B=A[C.type];let S;if(B){const T=gn[B];S=jd.clone(T.uniforms)}else S=C.uniforms;return S}function v(C,B){let S;for(let T=0,D=d.length;T<D;T++){const L=d[T];if(L.cacheKey===B){S=L,++S.usedTimes;break}}return S===void 0&&(S=new K3(n,B,C,r),d.push(S)),S}function E(C){if(--C.usedTimes===0){const B=d.indexOf(C);d[B]=d[d.length-1],d.pop(),C.destroy()}}function b(C){l.remove(C)}function N(){l.dispose()}return{getParameters:g,getProgramCacheKey:m,getUniforms:I,acquireProgram:v,releaseProgram:E,releaseShaderCache:b,programs:d,dispose:N}}function tL(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let a=n.get(o);return a===void 0&&(a={},n.set(o,a)),a}function s(o){n.delete(o)}function i(o,a,l){n.get(o)[a]=l}function r(){n=new WeakMap}return{has:e,get:t,remove:s,update:i,dispose:r}}function sL(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function eE(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function tE(){const n=[];let e=0;const t=[],s=[],i=[];function r(){e=0,t.length=0,s.length=0,i.length=0}function o(u,h,f,A,p,g){let m=n[e];return m===void 0?(m={id:u.id,object:u,geometry:h,material:f,groupOrder:A,renderOrder:u.renderOrder,z:p,group:g},n[e]=m):(m.id=u.id,m.object=u,m.geometry=h,m.material=f,m.groupOrder=A,m.renderOrder=u.renderOrder,m.z=p,m.group=g),e++,m}function a(u,h,f,A,p,g){const m=o(u,h,f,A,p,g);f.transmission>0?s.push(m):f.transparent===!0?i.push(m):t.push(m)}function l(u,h,f,A,p,g){const m=o(u,h,f,A,p,g);f.transmission>0?s.unshift(m):f.transparent===!0?i.unshift(m):t.unshift(m)}function c(u,h){t.length>1&&t.sort(u||sL),s.length>1&&s.sort(h||eE),i.length>1&&i.sort(h||eE)}function d(){for(let u=e,h=n.length;u<h;u++){const f=n[u];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:t,transmissive:s,transparent:i,init:r,push:a,unshift:l,finish:d,sort:c}}function nL(){let n=new WeakMap;function e(s,i){const r=n.get(s);let o;return r===void 0?(o=new tE,n.set(s,[o])):i>=r.length?(o=new tE,r.push(o)):o=r[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function iL(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new w,color:new st};break;case"SpotLight":t={position:new w,direction:new w,color:new st,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new w,color:new st,distance:0,decay:0};break;case"HemisphereLight":t={direction:new w,skyColor:new st,groundColor:new st};break;case"RectAreaLight":t={color:new st,position:new w,halfWidth:new w,halfHeight:new w};break}return n[e.id]=t,t}}}function rL(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Be};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Be};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Be,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let oL=0;function aL(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function lL(n){const e=new iL,t=rL(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)s.probe.push(new w);const i=new w,r=new Je,o=new Je;function a(c){let d=0,u=0,h=0;for(let C=0;C<9;C++)s.probe[C].set(0,0,0);let f=0,A=0,p=0,g=0,m=0,y=0,_=0,I=0,v=0,E=0,b=0;c.sort(aL);for(let C=0,B=c.length;C<B;C++){const S=c[C],T=S.color,D=S.intensity,L=S.distance,z=S.shadow&&S.shadow.map?S.shadow.map.texture:null;if(S.isAmbientLight)d+=T.r*D,u+=T.g*D,h+=T.b*D;else if(S.isLightProbe){for(let V=0;V<9;V++)s.probe[V].addScaledVector(S.sh.coefficients[V],D);b++}else if(S.isDirectionalLight){const V=e.get(S);if(V.color.copy(S.color).multiplyScalar(S.intensity),S.castShadow){const se=S.shadow,q=t.get(S);q.shadowIntensity=se.intensity,q.shadowBias=se.bias,q.shadowNormalBias=se.normalBias,q.shadowRadius=se.radius,q.shadowMapSize=se.mapSize,s.directionalShadow[f]=q,s.directionalShadowMap[f]=z,s.directionalShadowMatrix[f]=S.shadow.matrix,y++}s.directional[f]=V,f++}else if(S.isSpotLight){const V=e.get(S);V.position.setFromMatrixPosition(S.matrixWorld),V.color.copy(T).multiplyScalar(D),V.distance=L,V.coneCos=Math.cos(S.angle),V.penumbraCos=Math.cos(S.angle*(1-S.penumbra)),V.decay=S.decay,s.spot[p]=V;const se=S.shadow;if(S.map&&(s.spotLightMap[v]=S.map,v++,se.updateMatrices(S),S.castShadow&&E++),s.spotLightMatrix[p]=se.matrix,S.castShadow){const q=t.get(S);q.shadowIntensity=se.intensity,q.shadowBias=se.bias,q.shadowNormalBias=se.normalBias,q.shadowRadius=se.radius,q.shadowMapSize=se.mapSize,s.spotShadow[p]=q,s.spotShadowMap[p]=z,I++}p++}else if(S.isRectAreaLight){const V=e.get(S);V.color.copy(T).multiplyScalar(D),V.halfWidth.set(S.width*.5,0,0),V.halfHeight.set(0,S.height*.5,0),s.rectArea[g]=V,g++}else if(S.isPointLight){const V=e.get(S);if(V.color.copy(S.color).multiplyScalar(S.intensity),V.distance=S.distance,V.decay=S.decay,S.castShadow){const se=S.shadow,q=t.get(S);q.shadowIntensity=se.intensity,q.shadowBias=se.bias,q.shadowNormalBias=se.normalBias,q.shadowRadius=se.radius,q.shadowMapSize=se.mapSize,q.shadowCameraNear=se.camera.near,q.shadowCameraFar=se.camera.far,s.pointShadow[A]=q,s.pointShadowMap[A]=z,s.pointShadowMatrix[A]=S.shadow.matrix,_++}s.point[A]=V,A++}else if(S.isHemisphereLight){const V=e.get(S);V.skyColor.copy(S.color).multiplyScalar(D),V.groundColor.copy(S.groundColor).multiplyScalar(D),s.hemi[m]=V,m++}}g>0&&(n.has("OES_texture_float_linear")===!0?(s.rectAreaLTC1=ht.LTC_FLOAT_1,s.rectAreaLTC2=ht.LTC_FLOAT_2):(s.rectAreaLTC1=ht.LTC_HALF_1,s.rectAreaLTC2=ht.LTC_HALF_2)),s.ambient[0]=d,s.ambient[1]=u,s.ambient[2]=h;const N=s.hash;(N.directionalLength!==f||N.pointLength!==A||N.spotLength!==p||N.rectAreaLength!==g||N.hemiLength!==m||N.numDirectionalShadows!==y||N.numPointShadows!==_||N.numSpotShadows!==I||N.numSpotMaps!==v||N.numLightProbes!==b)&&(s.directional.length=f,s.spot.length=p,s.rectArea.length=g,s.point.length=A,s.hemi.length=m,s.directionalShadow.length=y,s.directionalShadowMap.length=y,s.pointShadow.length=_,s.pointShadowMap.length=_,s.spotShadow.length=I,s.spotShadowMap.length=I,s.directionalShadowMatrix.length=y,s.pointShadowMatrix.length=_,s.spotLightMatrix.length=I+v-E,s.spotLightMap.length=v,s.numSpotLightShadowsWithMaps=E,s.numLightProbes=b,N.directionalLength=f,N.pointLength=A,N.spotLength=p,N.rectAreaLength=g,N.hemiLength=m,N.numDirectionalShadows=y,N.numPointShadows=_,N.numSpotShadows=I,N.numSpotMaps=v,N.numLightProbes=b,s.version=oL++)}function l(c,d){let u=0,h=0,f=0,A=0,p=0;const g=d.matrixWorldInverse;for(let m=0,y=c.length;m<y;m++){const _=c[m];if(_.isDirectionalLight){const I=s.directional[u];I.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),I.direction.sub(i),I.direction.transformDirection(g),u++}else if(_.isSpotLight){const I=s.spot[f];I.position.setFromMatrixPosition(_.matrixWorld),I.position.applyMatrix4(g),I.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),I.direction.sub(i),I.direction.transformDirection(g),f++}else if(_.isRectAreaLight){const I=s.rectArea[A];I.position.setFromMatrixPosition(_.matrixWorld),I.position.applyMatrix4(g),o.identity(),r.copy(_.matrixWorld),r.premultiply(g),o.extractRotation(r),I.halfWidth.set(_.width*.5,0,0),I.halfHeight.set(0,_.height*.5,0),I.halfWidth.applyMatrix4(o),I.halfHeight.applyMatrix4(o),A++}else if(_.isPointLight){const I=s.point[h];I.position.setFromMatrixPosition(_.matrixWorld),I.position.applyMatrix4(g),h++}else if(_.isHemisphereLight){const I=s.hemi[p];I.direction.setFromMatrixPosition(_.matrixWorld),I.direction.transformDirection(g),p++}}}return{setup:a,setupView:l,state:s}}function sE(n){const e=new lL(n),t=[],s=[];function i(d){c.camera=d,t.length=0,s.length=0}function r(d){t.push(d)}function o(d){s.push(d)}function a(){e.setup(t)}function l(d){e.setupView(t,d)}const c={lightsArray:t,shadowsArray:s,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:r,pushShadow:o}}function cL(n){let e=new WeakMap;function t(i,r=0){const o=e.get(i);let a;return o===void 0?(a=new sE(n),e.set(i,[a])):r>=o.length?(a=new sE(n),o.push(a)):a=o[r],a}function s(){e=new WeakMap}return{get:t,dispose:s}}const dL=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,uL=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hL(n,e,t){let s=new Zd;const i=new Be,r=new Be,o=new ns,a=new I_({depthPacking:t_}),l=new v_,c={},d=t.maxTextureSize,u={[In]:Ls,[Ls]:In,[js]:js},h=new Ds({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Be},radius:{value:4}},vertexShader:dL,fragmentShader:uL}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const A=new Qt;A.setAttribute("position",new rs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new it(A,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=qy;let m=this.type;this.render=function(E,b,N){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||E.length===0)return;const C=n.getRenderTarget(),B=n.getActiveCubeFace(),S=n.getActiveMipmapLevel(),T=n.state;T.setBlending(Co),T.buffers.color.setClear(1,1,1,1),T.buffers.depth.setTest(!0),T.setScissorTest(!1);const D=m!==Ur&&this.type===Ur,L=m===Ur&&this.type!==Ur;for(let z=0,V=E.length;z<V;z++){const se=E[z],q=se.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",se,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;i.copy(q.mapSize);const Ae=q.getFrameExtents();if(i.multiply(Ae),r.copy(q.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(r.x=Math.floor(d/Ae.x),i.x=r.x*Ae.x,q.mapSize.x=r.x),i.y>d&&(r.y=Math.floor(d/Ae.y),i.y=r.y*Ae.y,q.mapSize.y=r.y)),q.map===null||D===!0||L===!0){const Ye=this.type!==Ur?{minFilter:Fn,magFilter:Fn}:{};q.map!==null&&q.map.dispose(),q.map=new Mo(i.x,i.y,Ye),q.map.texture.name=se.name+".shadowMap",q.camera.updateProjectionMatrix()}n.setRenderTarget(q.map),n.clear();const pe=q.getViewportCount();for(let Ye=0;Ye<pe;Ye++){const Me=q.getViewport(Ye);o.set(r.x*Me.x,r.y*Me.y,r.x*Me.z,r.y*Me.w),T.viewport(o),q.updateMatrices(se,Ye),s=q.getFrustum(),I(b,N,q.camera,se,this.type)}q.isPointLightShadow!==!0&&this.type===Ur&&y(q,N),q.needsUpdate=!1}m=this.type,g.needsUpdate=!1,n.setRenderTarget(C,B,S)};function y(E,b){const N=e.update(p);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,f.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Mo(i.x,i.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(b,null,N,h,p,null),f.uniforms.shadow_pass.value=E.mapPass.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(b,null,N,f,p,null)}function _(E,b,N,C){let B=null;const S=N.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(S!==void 0)B=S;else if(B=N.isPointLight===!0?l:a,n.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0||b.alphaToCoverage===!0){const T=B.uuid,D=b.uuid;let L=c[T];L===void 0&&(L={},c[T]=L);let z=L[D];z===void 0&&(z=B.clone(),L[D]=z,b.addEventListener("dispose",v)),B=z}if(B.visible=b.visible,B.wireframe=b.wireframe,C===Ur?B.side=b.shadowSide!==null?b.shadowSide:b.side:B.side=b.shadowSide!==null?b.shadowSide:u[b.side],B.alphaMap=b.alphaMap,B.alphaTest=b.alphaToCoverage===!0?.5:b.alphaTest,B.map=b.map,B.clipShadows=b.clipShadows,B.clippingPlanes=b.clippingPlanes,B.clipIntersection=b.clipIntersection,B.displacementMap=b.displacementMap,B.displacementScale=b.displacementScale,B.displacementBias=b.displacementBias,B.wireframeLinewidth=b.wireframeLinewidth,B.linewidth=b.linewidth,N.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const T=n.properties.get(B);T.light=N}return B}function I(E,b,N,C,B){if(E.visible===!1)return;if(E.layers.test(b.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&B===Ur)&&(!E.frustumCulled||s.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,E.matrixWorld);const D=e.update(E),L=E.material;if(Array.isArray(L)){const z=D.groups;for(let V=0,se=z.length;V<se;V++){const q=z[V],Ae=L[q.materialIndex];if(Ae&&Ae.visible){const pe=_(E,Ae,C,B);E.onBeforeShadow(n,E,b,N,D,pe,q),n.renderBufferDirect(N,null,D,pe,E,q),E.onAfterShadow(n,E,b,N,D,pe,q)}}}else if(L.visible){const z=_(E,L,C,B);E.onBeforeShadow(n,E,b,N,D,z,null),n.renderBufferDirect(N,null,D,z,E,null),E.onAfterShadow(n,E,b,N,D,z,null)}}const T=E.children;for(let D=0,L=T.length;D<L;D++)I(T[D],b,N,C,B)}function v(E){E.target.removeEventListener("dispose",v);for(const N in c){const C=c[N],B=E.target.uuid;B in C&&(C[B].dispose(),delete C[B])}}}const fL={[rp]:op,[ap]:dp,[lp]:up,[Ll]:cp,[op]:rp,[dp]:ap,[up]:lp,[cp]:Ll};function AL(n,e){function t(){let K=!1;const oe=new ns;let Te=null;const Ve=new ns(0,0,0,0);return{setMask:function(tt){Te!==tt&&!K&&(n.colorMask(tt,tt,tt,tt),Te=tt)},setLocked:function(tt){K=tt},setClear:function(tt,dt,Mt,Ut,us){us===!0&&(tt*=Ut,dt*=Ut,Mt*=Ut),oe.set(tt,dt,Mt,Ut),Ve.equals(oe)===!1&&(n.clearColor(tt,dt,Mt,Ut),Ve.copy(oe))},reset:function(){K=!1,Te=null,Ve.set(-1,0,0,0)}}}function s(){let K=!1,oe=!1,Te=null,Ve=null,tt=null;return{setReversed:function(dt){if(oe!==dt){const Mt=e.get("EXT_clip_control");dt?Mt.clipControlEXT(Mt.LOWER_LEFT_EXT,Mt.ZERO_TO_ONE_EXT):Mt.clipControlEXT(Mt.LOWER_LEFT_EXT,Mt.NEGATIVE_ONE_TO_ONE_EXT),oe=dt;const Ut=tt;tt=null,this.setClear(Ut)}},getReversed:function(){return oe},setTest:function(dt){dt?U(n.DEPTH_TEST):$(n.DEPTH_TEST)},setMask:function(dt){Te!==dt&&!K&&(n.depthMask(dt),Te=dt)},setFunc:function(dt){if(oe&&(dt=fL[dt]),Ve!==dt){switch(dt){case rp:n.depthFunc(n.NEVER);break;case op:n.depthFunc(n.ALWAYS);break;case ap:n.depthFunc(n.LESS);break;case Ll:n.depthFunc(n.LEQUAL);break;case lp:n.depthFunc(n.EQUAL);break;case cp:n.depthFunc(n.GEQUAL);break;case dp:n.depthFunc(n.GREATER);break;case up:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Ve=dt}},setLocked:function(dt){K=dt},setClear:function(dt){tt!==dt&&(oe&&(dt=1-dt),n.clearDepth(dt),tt=dt)},reset:function(){K=!1,Te=null,Ve=null,tt=null,oe=!1}}}function i(){let K=!1,oe=null,Te=null,Ve=null,tt=null,dt=null,Mt=null,Ut=null,us=null;return{setTest:function(at){K||(at?U(n.STENCIL_TEST):$(n.STENCIL_TEST))},setMask:function(at){oe!==at&&!K&&(n.stencilMask(at),oe=at)},setFunc:function(at,gt,zt){(Te!==at||Ve!==gt||tt!==zt)&&(n.stencilFunc(at,gt,zt),Te=at,Ve=gt,tt=zt)},setOp:function(at,gt,zt){(dt!==at||Mt!==gt||Ut!==zt)&&(n.stencilOp(at,gt,zt),dt=at,Mt=gt,Ut=zt)},setLocked:function(at){K=at},setClear:function(at){us!==at&&(n.clearStencil(at),us=at)},reset:function(){K=!1,oe=null,Te=null,Ve=null,tt=null,dt=null,Mt=null,Ut=null,us=null}}}const r=new t,o=new s,a=new i,l=new WeakMap,c=new WeakMap;let d={},u={},h=new WeakMap,f=[],A=null,p=!1,g=null,m=null,y=null,_=null,I=null,v=null,E=null,b=new st(0,0,0),N=0,C=!1,B=null,S=null,T=null,D=null,L=null;const z=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let V=!1,se=0;const q=n.getParameter(n.VERSION);q.indexOf("WebGL")!==-1?(se=parseFloat(/^WebGL (\d)/.exec(q)[1]),V=se>=1):q.indexOf("OpenGL ES")!==-1&&(se=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),V=se>=2);let Ae=null,pe={};const Ye=n.getParameter(n.SCISSOR_BOX),Me=n.getParameter(n.VIEWPORT),We=new ns().fromArray(Ye),ce=new ns().fromArray(Me);function j(K,oe,Te,Ve){const tt=new Uint8Array(4),dt=n.createTexture();n.bindTexture(K,dt),n.texParameteri(K,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(K,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Mt=0;Mt<Te;Mt++)K===n.TEXTURE_3D||K===n.TEXTURE_2D_ARRAY?n.texImage3D(oe,0,n.RGBA,1,1,Ve,0,n.RGBA,n.UNSIGNED_BYTE,tt):n.texImage2D(oe+Mt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,tt);return dt}const O={};O[n.TEXTURE_2D]=j(n.TEXTURE_2D,n.TEXTURE_2D,1),O[n.TEXTURE_CUBE_MAP]=j(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),O[n.TEXTURE_2D_ARRAY]=j(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),O[n.TEXTURE_3D]=j(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),o.setClear(1),a.setClear(0),U(n.DEPTH_TEST),o.setFunc(Ll),rt(!1),Ke(Sx),U(n.CULL_FACE),ve(Co);function U(K){d[K]!==!0&&(n.enable(K),d[K]=!0)}function $(K){d[K]!==!1&&(n.disable(K),d[K]=!1)}function me(K,oe){return u[K]!==oe?(n.bindFramebuffer(K,oe),u[K]=oe,K===n.DRAW_FRAMEBUFFER&&(u[n.FRAMEBUFFER]=oe),K===n.FRAMEBUFFER&&(u[n.DRAW_FRAMEBUFFER]=oe),!0):!1}function ue(K,oe){let Te=f,Ve=!1;if(K){Te=h.get(oe),Te===void 0&&(Te=[],h.set(oe,Te));const tt=K.textures;if(Te.length!==tt.length||Te[0]!==n.COLOR_ATTACHMENT0){for(let dt=0,Mt=tt.length;dt<Mt;dt++)Te[dt]=n.COLOR_ATTACHMENT0+dt;Te.length=tt.length,Ve=!0}}else Te[0]!==n.BACK&&(Te[0]=n.BACK,Ve=!0);Ve&&n.drawBuffers(Te)}function Se(K){return A!==K?(n.useProgram(K),A=K,!0):!1}const we={[fa]:n.FUNC_ADD,[Rw]:n.FUNC_SUBTRACT,[Qw]:n.FUNC_REVERSE_SUBTRACT};we[Dw]=n.MIN,we[Lw]=n.MAX;const qe={[kw]:n.ZERO,[Fw]:n.ONE,[Uw]:n.SRC_COLOR,[np]:n.SRC_ALPHA,[qw]:n.SRC_ALPHA_SATURATE,[zw]:n.DST_COLOR,[Gw]:n.DST_ALPHA,[Ow]:n.ONE_MINUS_SRC_COLOR,[ip]:n.ONE_MINUS_SRC_ALPHA,[Vw]:n.ONE_MINUS_DST_COLOR,[Hw]:n.ONE_MINUS_DST_ALPHA,[Ww]:n.CONSTANT_COLOR,[Xw]:n.ONE_MINUS_CONSTANT_COLOR,[Yw]:n.CONSTANT_ALPHA,[Jw]:n.ONE_MINUS_CONSTANT_ALPHA};function ve(K,oe,Te,Ve,tt,dt,Mt,Ut,us,at){if(K===Co){p===!0&&($(n.BLEND),p=!1);return}if(p===!1&&(U(n.BLEND),p=!0),K!==Pw){if(K!==g||at!==C){if((m!==fa||I!==fa)&&(n.blendEquation(n.FUNC_ADD),m=fa,I=fa),at)switch(K){case wl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Ts:n.blendFunc(n.ONE,n.ONE);break;case Mx:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Tx:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}else switch(K){case wl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Ts:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Mx:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Tx:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}y=null,_=null,v=null,E=null,b.set(0,0,0),N=0,g=K,C=at}return}tt=tt||oe,dt=dt||Te,Mt=Mt||Ve,(oe!==m||tt!==I)&&(n.blendEquationSeparate(we[oe],we[tt]),m=oe,I=tt),(Te!==y||Ve!==_||dt!==v||Mt!==E)&&(n.blendFuncSeparate(qe[Te],qe[Ve],qe[dt],qe[Mt]),y=Te,_=Ve,v=dt,E=Mt),(Ut.equals(b)===!1||us!==N)&&(n.blendColor(Ut.r,Ut.g,Ut.b,us),b.copy(Ut),N=us),g=K,C=!1}function H(K,oe){K.side===js?$(n.CULL_FACE):U(n.CULL_FACE);let Te=K.side===Ls;oe&&(Te=!Te),rt(Te),K.blending===wl&&K.transparent===!1?ve(Co):ve(K.blending,K.blendEquation,K.blendSrc,K.blendDst,K.blendEquationAlpha,K.blendSrcAlpha,K.blendDstAlpha,K.blendColor,K.blendAlpha,K.premultipliedAlpha),o.setFunc(K.depthFunc),o.setTest(K.depthTest),o.setMask(K.depthWrite),r.setMask(K.colorWrite);const Ve=K.stencilWrite;a.setTest(Ve),Ve&&(a.setMask(K.stencilWriteMask),a.setFunc(K.stencilFunc,K.stencilRef,K.stencilFuncMask),a.setOp(K.stencilFail,K.stencilZFail,K.stencilZPass)),Y(K.polygonOffset,K.polygonOffsetFactor,K.polygonOffsetUnits),K.alphaToCoverage===!0?U(n.SAMPLE_ALPHA_TO_COVERAGE):$(n.SAMPLE_ALPHA_TO_COVERAGE)}function rt(K){B!==K&&(K?n.frontFace(n.CW):n.frontFace(n.CCW),B=K)}function Ke(K){K!==Sw?(U(n.CULL_FACE),K!==S&&(K===Sx?n.cullFace(n.BACK):K===Mw?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):$(n.CULL_FACE),S=K}function fe(K){K!==T&&(V&&n.lineWidth(K),T=K)}function Y(K,oe,Te){K?(U(n.POLYGON_OFFSET_FILL),(D!==oe||L!==Te)&&(n.polygonOffset(oe,Te),D=oe,L=Te)):$(n.POLYGON_OFFSET_FILL)}function lt(K){K?U(n.SCISSOR_TEST):$(n.SCISSOR_TEST)}function ot(K){K===void 0&&(K=n.TEXTURE0+z-1),Ae!==K&&(n.activeTexture(K),Ae=K)}function It(K,oe,Te){Te===void 0&&(Ae===null?Te=n.TEXTURE0+z-1:Te=Ae);let Ve=pe[Te];Ve===void 0&&(Ve={type:void 0,texture:void 0},pe[Te]=Ve),(Ve.type!==K||Ve.texture!==oe)&&(Ae!==Te&&(n.activeTexture(Te),Ae=Te),n.bindTexture(K,oe||O[K]),Ve.type=K,Ve.texture=oe)}function Ft(){const K=pe[Ae];K!==void 0&&K.type!==void 0&&(n.bindTexture(K.type,null),K.type=void 0,K.texture=void 0)}function St(){try{n.compressedTexImage2D(...arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function os(){try{n.compressedTexImage3D(...arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ds(){try{n.texSubImage2D(...arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ms(){try{n.texSubImage3D(...arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function J(){try{n.compressedTexSubImage2D(...arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function k(){try{n.compressedTexSubImage3D(...arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function _e(){try{n.texStorage2D(...arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Fe(){try{n.texStorage3D(...arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ue(){try{n.texImage2D(...arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ie(){try{n.texImage3D(...arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ct(K){We.equals(K)===!1&&(n.scissor(K.x,K.y,K.z,K.w),We.copy(K))}function et(K){ce.equals(K)===!1&&(n.viewport(K.x,K.y,K.z,K.w),ce.copy(K))}function At(K,oe){let Te=c.get(oe);Te===void 0&&(Te=new WeakMap,c.set(oe,Te));let Ve=Te.get(K);Ve===void 0&&(Ve=n.getUniformBlockIndex(oe,K.name),Te.set(K,Ve))}function _t(K,oe){const Ve=c.get(oe).get(K);l.get(oe)!==Ve&&(n.uniformBlockBinding(oe,Ve,K.__bindingPointIndex),l.set(oe,Ve))}function le(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},Ae=null,pe={},u={},h=new WeakMap,f=[],A=null,p=!1,g=null,m=null,y=null,_=null,I=null,v=null,E=null,b=new st(0,0,0),N=0,C=!1,B=null,S=null,T=null,D=null,L=null,We.set(0,0,n.canvas.width,n.canvas.height),ce.set(0,0,n.canvas.width,n.canvas.height),r.reset(),o.reset(),a.reset()}return{buffers:{color:r,depth:o,stencil:a},enable:U,disable:$,bindFramebuffer:me,drawBuffers:ue,useProgram:Se,setBlending:ve,setMaterial:H,setFlipSided:rt,setCullFace:Ke,setLineWidth:fe,setPolygonOffset:Y,setScissorTest:lt,activeTexture:ot,bindTexture:It,unbindTexture:Ft,compressedTexImage2D:St,compressedTexImage3D:os,texImage2D:Ue,texImage3D:Ie,updateUBOMapping:At,uniformBlockBinding:_t,texStorage2D:_e,texStorage3D:Fe,texSubImage2D:ds,texSubImage3D:ms,compressedTexSubImage2D:J,compressedTexSubImage3D:k,scissor:ct,viewport:et,reset:le}}function pL(n,e,t,s,i,r,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=e.has("OCULUS_multiview")?e.get("OCULUS_multiview"):null,d=new Be,u=new WeakMap;let h;const f=new WeakMap;let A=[],p=!1,g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(J,k){return g?new OffscreenCanvas(J,k):_h("canvas")}function y(J,k,_e){let Fe=1;const Ue=ms(J);if((Ue.width>_e||Ue.height>_e)&&(Fe=_e/Math.max(Ue.width,Ue.height)),Fe<1)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap||typeof VideoFrame<"u"&&J instanceof VideoFrame){const Ie=Math.floor(Fe*Ue.width),ct=Math.floor(Fe*Ue.height);h===void 0&&(h=m(Ie,ct));const et=k?m(Ie,ct):h;return et.width=Ie,et.height=ct,et.getContext("2d").drawImage(J,0,0,Ie,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ue.width+"x"+Ue.height+") to ("+Ie+"x"+ct+")."),et}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ue.width+"x"+Ue.height+")."),J;return J}function _(J){return J.generateMipmaps}function I(J){n.generateMipmap(J)}function v(J){return J.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:J.isWebGL3DRenderTarget?n.TEXTURE_3D:J.isWebGLArrayRenderTarget||J.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function E(J,k,_e,Fe,Ue=!1){if(J!==null){if(n[J]!==void 0)return n[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let Ie=k;if(k===n.RED&&(_e===n.FLOAT&&(Ie=n.R32F),_e===n.HALF_FLOAT&&(Ie=n.R16F),_e===n.UNSIGNED_BYTE&&(Ie=n.R8)),k===n.RED_INTEGER&&(_e===n.UNSIGNED_BYTE&&(Ie=n.R8UI),_e===n.UNSIGNED_SHORT&&(Ie=n.R16UI),_e===n.UNSIGNED_INT&&(Ie=n.R32UI),_e===n.BYTE&&(Ie=n.R8I),_e===n.SHORT&&(Ie=n.R16I),_e===n.INT&&(Ie=n.R32I)),k===n.RG&&(_e===n.FLOAT&&(Ie=n.RG32F),_e===n.HALF_FLOAT&&(Ie=n.RG16F),_e===n.UNSIGNED_BYTE&&(Ie=n.RG8)),k===n.RG_INTEGER&&(_e===n.UNSIGNED_BYTE&&(Ie=n.RG8UI),_e===n.UNSIGNED_SHORT&&(Ie=n.RG16UI),_e===n.UNSIGNED_INT&&(Ie=n.RG32UI),_e===n.BYTE&&(Ie=n.RG8I),_e===n.SHORT&&(Ie=n.RG16I),_e===n.INT&&(Ie=n.RG32I)),k===n.RGB_INTEGER&&(_e===n.UNSIGNED_BYTE&&(Ie=n.RGB8UI),_e===n.UNSIGNED_SHORT&&(Ie=n.RGB16UI),_e===n.UNSIGNED_INT&&(Ie=n.RGB32UI),_e===n.BYTE&&(Ie=n.RGB8I),_e===n.SHORT&&(Ie=n.RGB16I),_e===n.INT&&(Ie=n.RGB32I)),k===n.RGBA_INTEGER&&(_e===n.UNSIGNED_BYTE&&(Ie=n.RGBA8UI),_e===n.UNSIGNED_SHORT&&(Ie=n.RGBA16UI),_e===n.UNSIGNED_INT&&(Ie=n.RGBA32UI),_e===n.BYTE&&(Ie=n.RGBA8I),_e===n.SHORT&&(Ie=n.RGBA16I),_e===n.INT&&(Ie=n.RGBA32I)),k===n.RGB&&_e===n.UNSIGNED_INT_5_9_9_9_REV&&(Ie=n.RGB9_E5),k===n.RGBA){const ct=Ue?xh:ts.getTransfer(Fe);_e===n.FLOAT&&(Ie=n.RGBA32F),_e===n.HALF_FLOAT&&(Ie=n.RGBA16F),_e===n.UNSIGNED_BYTE&&(Ie=ct===Cs?n.SRGB8_ALPHA8:n.RGBA8),_e===n.UNSIGNED_SHORT_4_4_4_4&&(Ie=n.RGBA4),_e===n.UNSIGNED_SHORT_5_5_5_1&&(Ie=n.RGB5_A1)}return(Ie===n.R16F||Ie===n.R32F||Ie===n.RG16F||Ie===n.RG32F||Ie===n.RGBA16F||Ie===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function b(J,k){let _e;return J?k===null||k===So||k===Bl?_e=n.DEPTH24_STENCIL8:k===Qs?_e=n.DEPTH32F_STENCIL8:k===Qd&&(_e=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):k===null||k===So||k===Bl?_e=n.DEPTH_COMPONENT24:k===Qs?_e=n.DEPTH_COMPONENT32F:k===Qd&&(_e=n.DEPTH_COMPONENT16),_e}function N(J,k){return _(J)===!0||J.isFramebufferTexture&&J.minFilter!==Fn&&J.minFilter!==Ot?Math.log2(Math.max(k.width,k.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?k.mipmaps.length:1}function C(J){const k=J.target;k.removeEventListener("dispose",C),S(k),k.isVideoTexture&&u.delete(k)}function B(J){const k=J.target;k.removeEventListener("dispose",B),D(k)}function S(J){const k=s.get(J);if(k.__webglInit===void 0)return;const _e=J.source,Fe=f.get(_e);if(Fe){const Ue=Fe[k.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&T(J),Object.keys(Fe).length===0&&f.delete(_e)}s.remove(J)}function T(J){const k=s.get(J);n.deleteTexture(k.__webglTexture);const _e=J.source,Fe=f.get(_e);delete Fe[k.__cacheKey],o.memory.textures--}function D(J){const k=s.get(J);if(J.depthTexture&&(J.depthTexture.dispose(),s.remove(J.depthTexture)),J.isWebGLCubeRenderTarget)for(let Fe=0;Fe<6;Fe++){if(Array.isArray(k.__webglFramebuffer[Fe]))for(let Ue=0;Ue<k.__webglFramebuffer[Fe].length;Ue++)n.deleteFramebuffer(k.__webglFramebuffer[Fe][Ue]);else n.deleteFramebuffer(k.__webglFramebuffer[Fe]);k.__webglDepthbuffer&&n.deleteRenderbuffer(k.__webglDepthbuffer[Fe])}else{if(Array.isArray(k.__webglFramebuffer))for(let Fe=0;Fe<k.__webglFramebuffer.length;Fe++)n.deleteFramebuffer(k.__webglFramebuffer[Fe]);else n.deleteFramebuffer(k.__webglFramebuffer);if(k.__webglDepthbuffer&&n.deleteRenderbuffer(k.__webglDepthbuffer),k.__webglMultisampledFramebuffer&&n.deleteFramebuffer(k.__webglMultisampledFramebuffer),k.__webglColorRenderbuffer)for(let Fe=0;Fe<k.__webglColorRenderbuffer.length;Fe++)k.__webglColorRenderbuffer[Fe]&&n.deleteRenderbuffer(k.__webglColorRenderbuffer[Fe]);k.__webglDepthRenderbuffer&&n.deleteRenderbuffer(k.__webglDepthRenderbuffer)}const _e=J.textures;for(let Fe=0,Ue=_e.length;Fe<Ue;Fe++){const Ie=s.get(_e[Fe]);Ie.__webglTexture&&(n.deleteTexture(Ie.__webglTexture),o.memory.textures--),s.remove(_e[Fe])}s.remove(J)}let L=0;function z(){L=0}function V(){const J=L;return J>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+i.maxTextures),L+=1,J}function se(J){const k=[];return k.push(J.wrapS),k.push(J.wrapT),k.push(J.wrapR||0),k.push(J.magFilter),k.push(J.minFilter),k.push(J.anisotropy),k.push(J.internalFormat),k.push(J.format),k.push(J.type),k.push(J.generateMipmaps),k.push(J.premultiplyAlpha),k.push(J.flipY),k.push(J.unpackAlignment),k.push(J.colorSpace),k.join()}function q(J,k){const _e=s.get(J);if(J.isVideoTexture&&os(J),J.isRenderTargetTexture===!1&&J.version>0&&_e.__version!==J.version){const Fe=J.image;if(Fe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Fe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else if(Se(_e,J,k))return}t.bindTexture(n.TEXTURE_2D,_e.__webglTexture,n.TEXTURE0+k)}function Ae(J,k){const _e=s.get(J);if(J.version>0&&_e.__version!==J.version){Se(_e,J,k);return}t.bindTexture(n.TEXTURE_2D_ARRAY,_e.__webglTexture,n.TEXTURE0+k)}function pe(J,k){const _e=s.get(J);if(J.version>0&&_e.__version!==J.version){Se(_e,J,k);return}t.bindTexture(n.TEXTURE_3D,_e.__webglTexture,n.TEXTURE0+k)}function Ye(J,k){const _e=s.get(J);if(J.version>0&&_e.__version!==J.version){we(_e,J,k);return}t.bindTexture(n.TEXTURE_CUBE_MAP,_e.__webglTexture,n.TEXTURE0+k)}const Me={[Ul]:n.REPEAT,[fi]:n.CLAMP_TO_EDGE,[fh]:n.MIRRORED_REPEAT},We={[Fn]:n.NEAREST,[Xy]:n.NEAREST_MIPMAP_NEAREST,[ad]:n.NEAREST_MIPMAP_LINEAR,[Ot]:n.LINEAR,[$u]:n.LINEAR_MIPMAP_NEAREST,[Ii]:n.LINEAR_MIPMAP_LINEAR},ce={[uB]:n.NEVER,[mB]:n.ALWAYS,[hB]:n.LESS,[s_]:n.LEQUAL,[fB]:n.EQUAL,[gB]:n.GEQUAL,[AB]:n.GREATER,[pB]:n.NOTEQUAL};function j(J,k){if(k.type===Qs&&e.has("OES_texture_float_linear")===!1&&(k.magFilter===Ot||k.magFilter===$u||k.magFilter===ad||k.magFilter===Ii||k.minFilter===Ot||k.minFilter===$u||k.minFilter===ad||k.minFilter===Ii)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(J,n.TEXTURE_WRAP_S,Me[k.wrapS]),n.texParameteri(J,n.TEXTURE_WRAP_T,Me[k.wrapT]),(J===n.TEXTURE_3D||J===n.TEXTURE_2D_ARRAY)&&n.texParameteri(J,n.TEXTURE_WRAP_R,Me[k.wrapR]),n.texParameteri(J,n.TEXTURE_MAG_FILTER,We[k.magFilter]),n.texParameteri(J,n.TEXTURE_MIN_FILTER,We[k.minFilter]),k.compareFunction&&(n.texParameteri(J,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(J,n.TEXTURE_COMPARE_FUNC,ce[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(k.magFilter===Fn||k.minFilter!==ad&&k.minFilter!==Ii||k.type===Qs&&e.has("OES_texture_float_linear")===!1)return;if(k.anisotropy>1||s.get(k).__currentAnisotropy){const _e=e.get("EXT_texture_filter_anisotropic");n.texParameterf(J,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),s.get(k).__currentAnisotropy=k.anisotropy}}}function O(J,k){let _e=!1;J.__webglInit===void 0&&(J.__webglInit=!0,k.addEventListener("dispose",C));const Fe=k.source;let Ue=f.get(Fe);Ue===void 0&&(Ue={},f.set(Fe,Ue));const Ie=se(k);if(Ie!==J.__cacheKey){Ue[Ie]===void 0&&(Ue[Ie]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,_e=!0),Ue[Ie].usedTimes++;const ct=Ue[J.__cacheKey];ct!==void 0&&(Ue[J.__cacheKey].usedTimes--,ct.usedTimes===0&&T(k)),J.__cacheKey=Ie,J.__webglTexture=Ue[Ie].texture}return _e}function U(J,k,_e){return Math.floor(Math.floor(J/_e)/k)}function $(J,k,_e,Fe){const Ie=J.updateRanges;if(Ie.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,k.width,k.height,_e,Fe,k.data);else{Ie.sort((le,K)=>le.start-K.start);let ct=0;for(let le=1;le<Ie.length;le++){const K=Ie[ct],oe=Ie[le],Te=K.start+K.count,Ve=U(oe.start,k.width,4),tt=U(K.start,k.width,4);oe.start<=Te+1&&Ve===tt&&U(oe.start+oe.count-1,k.width,4)===Ve?K.count=Math.max(K.count,oe.start+oe.count-K.start):(++ct,Ie[ct]=oe)}Ie.length=ct+1;const et=n.getParameter(n.UNPACK_ROW_LENGTH),At=n.getParameter(n.UNPACK_SKIP_PIXELS),_t=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,k.width);for(let le=0,K=Ie.length;le<K;le++){const oe=Ie[le],Te=Math.floor(oe.start/4),Ve=Math.ceil(oe.count/4),tt=Te%k.width,dt=Math.floor(Te/k.width),Mt=Ve,Ut=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,tt),n.pixelStorei(n.UNPACK_SKIP_ROWS,dt),t.texSubImage2D(n.TEXTURE_2D,0,tt,dt,Mt,Ut,_e,Fe,k.data)}J.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,et),n.pixelStorei(n.UNPACK_SKIP_PIXELS,At),n.pixelStorei(n.UNPACK_SKIP_ROWS,_t)}}function me(J){p=J}function ue(){const J=p;p=!1;for(const k of A)Se(k.textureProperties,k.texture,k.slot),k.texture.isPendingDeferredUpload=!1;A=[],p=J}function Se(J,k,_e){if(p)return k.isPendingDeferredUpload||(k.isPendingDeferredUpload=!0,A.push({textureProperties:J,texture:k,slot:_e})),!1;let Fe=n.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(Fe=n.TEXTURE_2D_ARRAY),k.isData3DTexture&&(Fe=n.TEXTURE_3D);const Ue=O(J,k),Ie=k.source;t.bindTexture(Fe,J.__webglTexture,n.TEXTURE0+_e);const ct=s.get(Ie);if(Ie.version!==ct.__version||Ue===!0){t.activeTexture(n.TEXTURE0+_e);const et=ts.getPrimaries(ts.workingColorSpace),At=k.colorSpace===Hi?null:ts.getPrimaries(k.colorSpace),_t=k.colorSpace===Hi||et===At?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,k.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,k.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,_t);let le=y(k.image,!1,i.maxTextureSize);le=ds(k,le);const K=r.convert(k.format,k.colorSpace),oe=r.convert(k.type);let Te=E(k.internalFormat,K,oe,k.colorSpace,k.isVideoTexture);j(Fe,k);let Ve;const tt=k.mipmaps,dt=k.isVideoTexture!==!0,Mt=ct.__version===void 0||Ue===!0,Ut=Ie.dataReady,us=N(k,le);if(k.isDepthTexture)Te=b(k.format===Nl,k.type),Mt&&(dt?t.texStorage2D(n.TEXTURE_2D,1,Te,le.width,le.height):t.texImage2D(n.TEXTURE_2D,0,Te,le.width,le.height,0,K,oe,null));else if(k.isDataTexture)if(tt.length>0){dt&&Mt&&t.texStorage2D(n.TEXTURE_2D,us,Te,tt[0].width,tt[0].height);for(let at=0,gt=tt.length;at<gt;at++)Ve=tt[at],dt?Ut&&t.texSubImage2D(n.TEXTURE_2D,at,0,0,Ve.width,Ve.height,K,oe,Ve.data):t.texImage2D(n.TEXTURE_2D,at,Te,Ve.width,Ve.height,0,K,oe,Ve.data);k.generateMipmaps=!1}else dt?(Mt&&t.texStorage2D(n.TEXTURE_2D,us,Te,le.width,le.height),Ut&&$(k,le,K,oe)):t.texImage2D(n.TEXTURE_2D,0,Te,le.width,le.height,0,K,oe,le.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){dt&&Mt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,us,Te,tt[0].width,tt[0].height,le.depth);for(let at=0,gt=tt.length;at<gt;at++)if(Ve=tt[at],k.format!==Zs)if(K!==null)if(dt){if(Ut)if(k.layerUpdates.size>0){const zt=Rv(Ve.width,Ve.height,k.format,k.type);for(const jt of k.layerUpdates){const Hn=Ve.data.subarray(jt*zt/Ve.data.BYTES_PER_ELEMENT,(jt+1)*zt/Ve.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,at,0,0,jt,Ve.width,Ve.height,1,K,Hn)}k.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,at,0,0,0,Ve.width,Ve.height,le.depth,K,Ve.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,at,Te,Ve.width,Ve.height,le.depth,0,Ve.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else dt?Ut&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,at,0,0,0,Ve.width,Ve.height,le.depth,K,oe,Ve.data):t.texImage3D(n.TEXTURE_2D_ARRAY,at,Te,Ve.width,Ve.height,le.depth,0,K,oe,Ve.data)}else{dt&&Mt&&t.texStorage2D(n.TEXTURE_2D,us,Te,tt[0].width,tt[0].height);for(let at=0,gt=tt.length;at<gt;at++)Ve=tt[at],k.format!==Zs?K!==null?dt?Ut&&t.compressedTexSubImage2D(n.TEXTURE_2D,at,0,0,Ve.width,Ve.height,K,Ve.data):t.compressedTexImage2D(n.TEXTURE_2D,at,Te,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):dt?Ut&&t.texSubImage2D(n.TEXTURE_2D,at,0,0,Ve.width,Ve.height,K,oe,Ve.data):t.texImage2D(n.TEXTURE_2D,at,Te,Ve.width,Ve.height,0,K,oe,Ve.data)}else if(k.isDataArrayTexture)if(dt){if(Mt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,us,Te,le.width,le.height,le.depth),Ut)if(k.layerUpdates.size>0){const at=Rv(le.width,le.height,k.format,k.type);for(const gt of k.layerUpdates){const zt=le.data.subarray(gt*at/le.data.BYTES_PER_ELEMENT,(gt+1)*at/le.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,gt,le.width,le.height,1,K,oe,zt)}k.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,le.width,le.height,le.depth,K,oe,le.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Te,le.width,le.height,le.depth,0,K,oe,le.data);else if(k.isData3DTexture)dt?(Mt&&t.texStorage3D(n.TEXTURE_3D,us,Te,le.width,le.height,le.depth),Ut&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,le.width,le.height,le.depth,K,oe,le.data)):t.texImage3D(n.TEXTURE_3D,0,Te,le.width,le.height,le.depth,0,K,oe,le.data);else if(k.isFramebufferTexture){if(Mt)if(dt)t.texStorage2D(n.TEXTURE_2D,us,Te,le.width,le.height);else{let at=le.width,gt=le.height;for(let zt=0;zt<us;zt++)t.texImage2D(n.TEXTURE_2D,zt,Te,at,gt,0,K,oe,null),at>>=1,gt>>=1}}else if(tt.length>0){if(dt&&Mt){const at=ms(tt[0]);t.texStorage2D(n.TEXTURE_2D,us,Te,at.width,at.height)}for(let at=0,gt=tt.length;at<gt;at++)Ve=tt[at],dt?Ut&&t.texSubImage2D(n.TEXTURE_2D,at,0,0,K,oe,Ve):t.texImage2D(n.TEXTURE_2D,at,Te,K,oe,Ve);k.generateMipmaps=!1}else if(dt){if(Mt){const at=ms(le);t.texStorage2D(n.TEXTURE_2D,us,Te,at.width,at.height)}Ut&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,K,oe,le)}else t.texImage2D(n.TEXTURE_2D,0,Te,K,oe,le);_(k)&&I(Fe),ct.__version=Ie.version,k.onUpdate&&k.onUpdate(k)}return J.__version=k.version,!0}function we(J,k,_e){if(k.image.length!==6)return;const Fe=O(J,k),Ue=k.source;t.bindTexture(n.TEXTURE_CUBE_MAP,J.__webglTexture,n.TEXTURE0+_e);const Ie=s.get(Ue);if(Ue.version!==Ie.__version||Fe===!0){t.activeTexture(n.TEXTURE0+_e);const ct=ts.getPrimaries(ts.workingColorSpace),et=k.colorSpace===Hi?null:ts.getPrimaries(k.colorSpace),At=k.colorSpace===Hi||ct===et?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,k.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,k.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,At);const _t=k.isCompressedTexture||k.image[0].isCompressedTexture,le=k.image[0]&&k.image[0].isDataTexture,K=[];for(let gt=0;gt<6;gt++)!_t&&!le?K[gt]=y(k.image[gt],!0,i.maxCubemapSize):K[gt]=le?k.image[gt].image:k.image[gt],K[gt]=ds(k,K[gt]);const oe=K[0],Te=r.convert(k.format,k.colorSpace),Ve=r.convert(k.type),tt=E(k.internalFormat,Te,Ve,k.colorSpace),dt=k.isVideoTexture!==!0,Mt=Ie.__version===void 0||Fe===!0,Ut=Ue.dataReady;let us=N(k,oe);j(n.TEXTURE_CUBE_MAP,k);let at;if(_t){dt&&Mt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,us,tt,oe.width,oe.height);for(let gt=0;gt<6;gt++){at=K[gt].mipmaps;for(let zt=0;zt<at.length;zt++){const jt=at[zt];k.format!==Zs?Te!==null?dt?Ut&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,zt,0,0,jt.width,jt.height,Te,jt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,zt,tt,jt.width,jt.height,0,jt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):dt?Ut&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,zt,0,0,jt.width,jt.height,Te,Ve,jt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,zt,tt,jt.width,jt.height,0,Te,Ve,jt.data)}}}else{if(at=k.mipmaps,dt&&Mt){at.length>0&&us++;const gt=ms(K[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,us,tt,gt.width,gt.height)}for(let gt=0;gt<6;gt++)if(le){dt?Ut&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,0,0,K[gt].width,K[gt].height,Te,Ve,K[gt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,tt,K[gt].width,K[gt].height,0,Te,Ve,K[gt].data);for(let zt=0;zt<at.length;zt++){const Hn=at[zt].image[gt].image;dt?Ut&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,zt+1,0,0,Hn.width,Hn.height,Te,Ve,Hn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,zt+1,tt,Hn.width,Hn.height,0,Te,Ve,Hn.data)}}else{dt?Ut&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,0,0,Te,Ve,K[gt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,tt,Te,Ve,K[gt]);for(let zt=0;zt<at.length;zt++){const jt=at[zt];dt?Ut&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,zt+1,0,0,Te,Ve,jt.image[gt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,zt+1,tt,Te,Ve,jt.image[gt])}}}_(k)&&I(n.TEXTURE_CUBE_MAP),Ie.__version=Ue.version,k.onUpdate&&k.onUpdate(k)}J.__version=k.version}function qe(J,k,_e,Fe,Ue,Ie){const ct=r.convert(_e.format,_e.colorSpace),et=r.convert(_e.type),At=E(_e.internalFormat,ct,et,_e.colorSpace),_t=s.get(k),le=s.get(_e);if(le.__renderTarget=k,!_t.__hasExternalTextures){const oe=Math.max(1,k.width>>Ie),Te=Math.max(1,k.height>>Ie);k.isWebGLMultiviewRenderTarget===!0?t.texStorage3D(n.TEXTURE_2D_ARRAY,0,At,k.width,k.height,k.numViews):Ue===n.TEXTURE_3D||Ue===n.TEXTURE_2D_ARRAY?t.texImage3D(Ue,Ie,At,oe,Te,k.depth,0,ct,et,null):t.texImage2D(Ue,Ie,At,oe,Te,0,ct,et,null)}t.bindFramebuffer(n.FRAMEBUFFER,J);const K=St(k);k.isWebGLMultiviewRenderTarget===!0?K?c.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,le.__webglTexture,0,Ft(k),0,k.numViews):c.framebufferTextureMultiviewOVR(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,le.__webglTexture,0,0,k.numViews):(Ue===n.TEXTURE_2D||Ue>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&(K?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Fe,Ue,le.__webglTexture,0,Ft(k)):n.framebufferTexture2D(n.FRAMEBUFFER,Fe,Ue,le.__webglTexture,Ie)),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ve(J,k,_e){if(n.bindRenderbuffer(n.RENDERBUFFER,J),k.isWebGLMultiviewRenderTarget===!0){const Fe=St(k),Ue=k.numViews,Ie=k.depthTexture;let ct=n.DEPTH_COMPONENT24,et=n.DEPTH_ATTACHMENT;Ie&&Ie.isDepthTexture&&(Ie.type===Qs?ct=n.DEPTH_COMPONENT32F:Ie.type===Bl&&(ct=n.DEPTH24_STENCIL8,et=n.DEPTH_STENCIL_ATTACHMENT));let At=s.get(k.depthTexture).__webglTexture;At===void 0&&(At=n.createTexture(),n.bindTexture(n.TEXTURE_2D_ARRAY,At),n.texStorage3D(n.TEXTURE_2D_ARRAY,1,ct,k.width,k.height,Ue)),Fe?c.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,et,At,0,Ft(k),0,Ue):c.framebufferTextureMultiviewOVR(n.FRAMEBUFFER,et,At,0,0,Ue)}else if(k.depthBuffer){const Fe=k.depthTexture,Ue=Fe&&Fe.isDepthTexture?Fe.type:null,Ie=b(k.stencilBuffer,Ue),ct=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,et=Ft(k);St(k)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,et,Ie,k.width,k.height):_e?n.renderbufferStorageMultisample(n.RENDERBUFFER,et,Ie,k.width,k.height):n.renderbufferStorage(n.RENDERBUFFER,Ie,k.width,k.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ct,n.RENDERBUFFER,J)}else{const Fe=k.textures;for(let Ue=0;Ue<Fe.length;Ue++){const Ie=Fe[Ue],ct=r.convert(Ie.format,Ie.colorSpace),et=r.convert(Ie.type),At=E(Ie.internalFormat,ct,et,Ie.colorSpace),_t=Ft(k);_e&&St(k)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,_t,At,k.width,k.height):St(k)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,_t,At,k.width,k.height):n.renderbufferStorage(n.RENDERBUFFER,At,k.width,k.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function H(J,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,J),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Fe=s.get(k.depthTexture);Fe.__renderTarget=k,(!Fe.__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),k.depthTexture.image.depth!=1?Ae(k.depthTexture,0):q(k.depthTexture,0);const Ue=Fe.__webglTexture,Ie=Ft(k);if(k.isWebGLMultiviewRenderTarget===!0){const ct=St(k),et=k.numViews;if(k.depthTexture.format===Ol)ct?c.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,Ue,0,Ie,0,et):c.framebufferTextureMultiviewOVR(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,Ue,0,0,et);else if(k.depthTexture.format===Nl)ct?c.framebufferTextureMultisampleMultiviewOVR(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,Ue,0,Ie,0,et):c.framebufferTextureMultiviewOVR(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,Ue,0,0,et);else throw new Error("Unknown depthTexture format")}else if(k.depthTexture.format===Ol)St(k)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ue,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ue,0);else if(k.depthTexture.format===Nl)St(k)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ue,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ue,0);else throw new Error("Unknown depthTexture format")}function rt(J){const k=s.get(J),_e=J.isWebGLCubeRenderTarget===!0;if(k.__boundDepthTexture!==J.depthTexture){const Fe=J.depthTexture;if(k.__depthDisposeCallback&&k.__depthDisposeCallback(),Fe){const Ue=()=>{delete k.__boundDepthTexture,delete k.__depthDisposeCallback,Fe.removeEventListener("dispose",Ue)};Fe.addEventListener("dispose",Ue),k.__depthDisposeCallback=Ue}k.__boundDepthTexture=Fe}if(J.depthTexture&&!k.__autoAllocateDepthBuffer){if(_e)throw new Error("target.depthTexture not supported in Cube render targets");const Fe=J.texture.mipmaps;Fe&&Fe.length>0?H(k.__webglFramebuffer[0],J):H(k.__webglFramebuffer,J)}else if(_e){k.__webglDepthbuffer=[];for(let Fe=0;Fe<6;Fe++)if(t.bindFramebuffer(n.FRAMEBUFFER,k.__webglFramebuffer[Fe]),k.__webglDepthbuffer[Fe]===void 0)k.__webglDepthbuffer[Fe]=n.createRenderbuffer(),ve(k.__webglDepthbuffer[Fe],J,!1);else{const Ue=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=k.__webglDepthbuffer[Fe];n.bindRenderbuffer(n.RENDERBUFFER,Ie),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ue,n.RENDERBUFFER,Ie)}}else{const Fe=J.texture.mipmaps;if(Fe&&Fe.length>0?t.bindFramebuffer(n.FRAMEBUFFER,k.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer===void 0)k.__webglDepthbuffer=n.createRenderbuffer(),ve(k.__webglDepthbuffer,J,!1);else{const Ue=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=k.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ie),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ue,n.RENDERBUFFER,Ie)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ke(J,k,_e){const Fe=s.get(J);k!==void 0&&qe(Fe.__webglFramebuffer,J,J.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),_e!==void 0&&rt(J)}function fe(J){const k=J.texture,_e=s.get(J),Fe=s.get(k);J.addEventListener("dispose",B);const Ue=J.textures,Ie=J.isWebGLCubeRenderTarget===!0,ct=Ue.length>1;if(ct||(Fe.__webglTexture===void 0&&(Fe.__webglTexture=n.createTexture()),Fe.__version=k.version,o.memory.textures++),Ie){_e.__webglFramebuffer=[];for(let et=0;et<6;et++)if(k.mipmaps&&k.mipmaps.length>0){_e.__webglFramebuffer[et]=[];for(let At=0;At<k.mipmaps.length;At++)_e.__webglFramebuffer[et][At]=n.createFramebuffer()}else _e.__webglFramebuffer[et]=n.createFramebuffer()}else{if(k.mipmaps&&k.mipmaps.length>0){_e.__webglFramebuffer=[];for(let et=0;et<k.mipmaps.length;et++)_e.__webglFramebuffer[et]=n.createFramebuffer()}else _e.__webglFramebuffer=n.createFramebuffer();if(ct)for(let et=0,At=Ue.length;et<At;et++){const _t=s.get(Ue[et]);_t.__webglTexture===void 0&&(_t.__webglTexture=n.createTexture(),o.memory.textures++)}if(J.samples>0&&St(J)===!1){_e.__webglMultisampledFramebuffer=n.createFramebuffer(),_e.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,_e.__webglMultisampledFramebuffer);for(let et=0;et<Ue.length;et++){const At=Ue[et];_e.__webglColorRenderbuffer[et]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,_e.__webglColorRenderbuffer[et]);const _t=r.convert(At.format,At.colorSpace),le=r.convert(At.type),K=E(At.internalFormat,_t,le,At.colorSpace,J.isXRRenderTarget===!0),oe=Ft(J);n.renderbufferStorageMultisample(n.RENDERBUFFER,oe,K,J.width,J.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+et,n.RENDERBUFFER,_e.__webglColorRenderbuffer[et])}n.bindRenderbuffer(n.RENDERBUFFER,null),J.depthBuffer&&(_e.__webglDepthRenderbuffer=n.createRenderbuffer(),ve(_e.__webglDepthRenderbuffer,J,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ie){t.bindTexture(n.TEXTURE_CUBE_MAP,Fe.__webglTexture),j(n.TEXTURE_CUBE_MAP,k);for(let et=0;et<6;et++)if(k.mipmaps&&k.mipmaps.length>0)for(let At=0;At<k.mipmaps.length;At++)qe(_e.__webglFramebuffer[et][At],J,k,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+et,At);else qe(_e.__webglFramebuffer[et],J,k,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+et,0);_(k)&&I(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ct){for(let et=0,At=Ue.length;et<At;et++){const _t=Ue[et],le=s.get(_t);t.bindTexture(n.TEXTURE_2D,le.__webglTexture),j(n.TEXTURE_2D,_t),qe(_e.__webglFramebuffer,J,_t,n.COLOR_ATTACHMENT0+et,n.TEXTURE_2D,0),_(_t)&&I(n.TEXTURE_2D)}t.unbindTexture()}else{let et=n.TEXTURE_2D;if((J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(et=J.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),J.isWebGLMultiviewRenderTarget===!0&&(et=n.TEXTURE_2D_ARRAY),t.bindTexture(et,Fe.__webglTexture),j(et,k),k.mipmaps&&k.mipmaps.length>0)for(let At=0;At<k.mipmaps.length;At++)qe(_e.__webglFramebuffer[At],J,k,n.COLOR_ATTACHMENT0,et,At);else qe(_e.__webglFramebuffer,J,k,n.COLOR_ATTACHMENT0,et,0);_(k)&&I(et),t.unbindTexture()}(J.depthBuffer||J.isWebGLMultiviewRenderTarget===!0)&&this.setupDepthRenderbuffer(J)}function Y(J){const k=J.textures;for(let _e=0,Fe=k.length;_e<Fe;_e++){const Ue=k[_e];if(_(Ue)){const Ie=v(J),ct=s.get(Ue).__webglTexture;t.bindTexture(Ie,ct),I(Ie),t.unbindTexture()}}}const lt=[],ot=[];function It(J){if(J.samples>0){if(St(J)===!1){const k=J.textures,_e=J.width,Fe=J.height;let Ue=n.COLOR_BUFFER_BIT;const Ie=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ct=s.get(J),et=k.length>1;if(et)for(let _t=0;_t<k.length;_t++)t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+_t,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+_t,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const At=J.texture.mipmaps;At&&At.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let _t=0;_t<k.length;_t++){if(J.resolveDepthBuffer&&(J.depthBuffer&&(Ue|=n.DEPTH_BUFFER_BIT),J.stencilBuffer&&J.resolveStencilBuffer&&(Ue|=n.STENCIL_BUFFER_BIT)),et){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ct.__webglColorRenderbuffer[_t]);const le=s.get(k[_t]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,le,0)}n.blitFramebuffer(0,0,_e,Fe,0,0,_e,Fe,Ue,n.NEAREST),l===!0&&(lt.length=0,ot.length=0,lt.push(n.COLOR_ATTACHMENT0+_t),J.depthBuffer&&J.resolveDepthBuffer===!1&&(lt.push(Ie),ot.push(Ie),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ot)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,lt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),et)for(let _t=0;_t<k.length;_t++){t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+_t,n.RENDERBUFFER,ct.__webglColorRenderbuffer[_t]);const le=s.get(k[_t]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+_t,n.TEXTURE_2D,le,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(J.depthBuffer&&J.resolveDepthBuffer===!1&&l){const k=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[k])}}}function Ft(J){return Math.min(i.maxSamples,J.samples)}function St(J){const k=s.get(J);return J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function os(J){const k=o.render.frame;u.get(J)!==k&&(u.set(J,k),J.update())}function ds(J,k){const _e=J.colorSpace,Fe=J.format,Ue=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||_e!==rn&&_e!==Hi&&(ts.getTransfer(_e)===Cs?(Fe!==Zs||Ue!==Js)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",_e)),k}function ms(J){return typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement?(d.width=J.naturalWidth||J.width,d.height=J.naturalHeight||J.height):typeof VideoFrame<"u"&&J instanceof VideoFrame?(d.width=J.displayWidth,d.height=J.displayHeight):(d.width=J.width,d.height=J.height),d}this.allocateTextureUnit=V,this.resetTextureUnits=z,this.setTexture2D=q,this.setTexture2DArray=Ae,this.setTexture3D=pe,this.setTextureCube=Ye,this.rebindTextures=Ke,this.uploadTexture=Se,this.setupRenderTarget=fe,this.updateRenderTargetMipmap=Y,this.updateMultisampleRenderTarget=It,this.setupDepthTexture=H,this.setupDepthRenderbuffer=rt,this.setupFrameBufferTexture=qe,this.useMultisampledRTT=St,this.runDeferredUploads=ue,this.setDeferTextureUploads=me}function aN(n,e){function t(s,i=Hi){let r;const o=ts.getTransfer(i);if(s===Js)return n.UNSIGNED_BYTE;if(s===Ag)return n.UNSIGNED_SHORT_4_4_4_4;if(s===pg)return n.UNSIGNED_SHORT_5_5_5_1;if(s===Ky)return n.UNSIGNED_INT_5_9_9_9_REV;if(s===Yy)return n.BYTE;if(s===Jy)return n.SHORT;if(s===Qd)return n.UNSIGNED_SHORT;if(s===fg)return n.INT;if(s===So)return n.UNSIGNED_INT;if(s===Qs)return n.FLOAT;if(s===cn)return n.HALF_FLOAT;if(s===jy)return n.ALPHA;if(s===Zy)return n.RGB;if(s===Zs)return n.RGBA;if(s===Ol)return n.DEPTH_COMPONENT;if(s===Nl)return n.DEPTH_STENCIL;if(s===Jr)return n.RED;if(s===Qh)return n.RED_INTEGER;if(s===ma)return n.RG;if(s===gg)return n.RG_INTEGER;if(s===mg)return n.RGBA_INTEGER;if(s===Sl||s===Na||s===Ml||s===Sa)if(o===Cs)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(s===Sl)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Na)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Ml)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Sa)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(s===Sl)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Na)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Ml)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Sa)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Ah||s===fp||s===ph||s===Ap)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(s===Ah)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===fp)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===ph)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Ap)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===gh||s===Dd||s===Ld)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(s===gh||s===Dd)return o===Cs?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(s===Ld)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Ma||s===pp||s===gp||s===mp||s===kd||s===xp||s===yp||s===_p||s===Ip||s===vp||s===Ep||s===Cp||s===bp||s===wp)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(s===Ma)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===pp)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===gp)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===mp)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===kd)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===xp)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===yp)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===_p)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Ip)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===vp)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Ep)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Cp)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===bp)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===wp)return o===Cs?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Ta||s===Bp||s===mh)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(s===Ta)return o===Cs?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===Bp)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===mh)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===$y||s===Np||s===Sp||s===Mp)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(s===Ta)return r.COMPRESSED_RED_RGTC1_EXT;if(s===Np)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Sp)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Mp)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Bl?n.UNSIGNED_INT_24_8:n[s]!==void 0?n[s]:null}return{convert:t}}class lN extends Mo{constructor(e,t,s,i={}){super(e,t,i),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=s}copy(e){return super.copy(e),this.numViews=e.numViews,this}}lN.prototype.isWebGLMultiviewRenderTarget=!0;const gL=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,mL=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class xL{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,s){if(this.texture===null){const i=new Ws,r=e.properties.get(i);r.__webglTexture=t.texture,(t.depthNear!==s.depthNear||t.depthFar!==s.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,s=new Ds({vertexShader:gL,fragmentShader:mL,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new it(new Us(20,20),s)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class yL extends sc{constructor(e,t,s,i){super();const r=this;let o=null,a=1;var l=null;let c=null,d="local-floor",u=1,h=null,f=null;var A=[];let p=null,g=null,m=null,y=null;const _=new xL,I=t.getContextAttributes();let v=null,E=null;const b=[],N=[],C=new Be;let B=null;const S=new Dn;S.viewport=new ns;const T=new Dn;T.viewport=new ns;const D=[S,T],L=new eN;let z=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.layersEnabled=!1,this.isPresenting=!1,this.isMultiview=!1,this.getCameraPose=function(){return f},this.getController=function($){let me=b[$];return me===void 0&&(me=new UA,b[$]=me),me.getTargetRaySpace()},this.getControllerGrip=function($){let me=b[$];return me===void 0&&(me=new UA,b[$]=me),me.getGripSpace()},this.getHand=function($){let me=b[$];return me===void 0&&(me=new UA,b[$]=me),me.getHandSpace()};function se($){const me=N.indexOf($.inputSource);if(me===-1)return;const ue=b[me];ue!==void 0&&(ue.update($.inputSource,$.frame,h||c),ue.dispatchEvent({type:$.type,data:$.inputSource}))}function q(){o.removeEventListener("select",se),o.removeEventListener("selectstart",se),o.removeEventListener("selectend",se),o.removeEventListener("squeeze",se),o.removeEventListener("squeezestart",se),o.removeEventListener("squeezeend",se),o.removeEventListener("end",q),o.removeEventListener("inputsourceschange",Ae);for(let $=0;$<b.length;$++){const me=N[$];me!==null&&(N[$]=null,b[$].disconnect(me))}z=null,V=null,_.reset(),r.isPresenting=!1,e.setRenderTarget(v),m=null,g=null,p=null,o=null,E=null,U.stop(),e.setPixelRatio(B),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function($){a=$,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function($){d=$,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||c},this.setReferenceSpace=function($){h=$},this.getBaseLayer=function(){return g!==null?g:m},this.getBinding=function(){return p},this.getFrame=function(){return y},this.getRenderTarget=function(){return E},this.getSession=function(){return o},this.setSession=async function($){if(o=$,o!==null){if(v=e.getRenderTarget(),o.addEventListener("select",se),o.addEventListener("selectstart",se),o.addEventListener("selectend",se),o.addEventListener("squeeze",se),o.addEventListener("squeezestart",se),o.addEventListener("squeezeend",se),o.addEventListener("end",q),o.addEventListener("inputsourceschange",Ae),I.xrCompatible!==!0&&await t.makeXRCompatible(),B=e.getPixelRatio(),e.getSize(C),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let ue=null,Se=null,we=null;I.depth&&(we=I.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ue=I.stencil?Nl:Ol,Se=I.stencil?Bl:So),r.isMultiview=i&&s.has("OCULUS_multiview");const qe={colorFormat:t.RGBA8,depthFormat:we,scaleFactor:a};r.isMultiview&&(qe.textureType="texture-array"),p=new XRWebGLBinding(o,t),g=p.createProjectionLayer(qe),o.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1);const ve={format:Zs,type:Js,depthTexture:new f_(g.textureWidth,g.textureHeight,Se,void 0,void 0,void 0,void 0,void 0,void 0,ue),stencilBuffer:I.stencil,colorSpace:e.outputColorSpace,samples:I.antialias?4:0,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1};if(r.isMultiview){const H=s.get("OCULUS_multiview");this.maxNumViews=t.getParameter(H.MAX_VIEWS_OVR),E=new lN(g.textureWidth,g.textureHeight,2,ve)}else E=new Mo(g.textureWidth,g.textureHeight,ve)}else{const ue={antialias:I.antialias,alpha:!0,depth:I.depth,stencil:I.stencil,framebufferScaleFactor:a};m=new XRWebGLLayer(o,t,ue),o.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),E=new Mo(m.framebufferWidth,m.framebufferHeight,{format:Zs,type:Js,colorSpace:e.outputColorSpace,stencilBuffer:I.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}E.isXRRenderTarget=!0,this.setFoveation(u),h=null,c=await o.requestReferenceSpace(d),U.setContext(o),U.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(o!==null)return o.environmentBlendMode},this.addLayer=function($){!window.XRWebGLBinding||!this.layersEnabled||!o||(A.push($),this.updateLayers())},this.removeLayer=function($){A.splice(A.indexOf($),1),!(!window.XRWebGLBinding||!this.layersEnabled||!o)&&this.updateLayers()},this.updateLayers=function(){var $=A.map(function(me){return me});$.unshift(o.renderState.layers[0]),o.updateRenderState({layers:$})},this.getDepthTexture=function(){return _.getDepthTexture()};function Ae($){for(let me=0;me<$.removed.length;me++){const ue=$.removed[me],Se=N.indexOf(ue);Se>=0&&(N[Se]=null,b[Se].disconnect(ue))}for(let me=0;me<$.added.length;me++){const ue=$.added[me];let Se=N.indexOf(ue);if(Se===-1){for(let qe=0;qe<b.length;qe++)if(qe>=N.length){N.push(ue),Se=qe;break}else if(N[qe]===null){N[qe]=ue,Se=qe;break}if(Se===-1)break}const we=b[Se];we&&we.connect(ue)}}const pe=new w,Ye=new w;function Me($,me,ue){pe.setFromMatrixPosition(me.matrixWorld),Ye.setFromMatrixPosition(ue.matrixWorld);const Se=pe.distanceTo(Ye),we=me.projectionMatrix.elements,qe=ue.projectionMatrix.elements,ve=we[14]/(we[10]-1),H=we[14]/(we[10]+1),rt=(we[9]+1)/we[5],Ke=(we[9]-1)/we[5],fe=(we[8]-1)/we[0],Y=(qe[8]+1)/qe[0],lt=ve*fe,ot=ve*Y,It=Se/(-fe+Y),Ft=It*-fe;if(me.matrixWorld.decompose($.position,$.quaternion,$.scale),$.translateX(Ft),$.translateZ(It),$.matrixWorld.compose($.position,$.quaternion,$.scale),$.matrixWorldInverse.copy($.matrixWorld).invert(),we[10]===-1)$.projectionMatrix.copy(me.projectionMatrix),$.projectionMatrixInverse.copy(me.projectionMatrixInverse);else{const St=ve+It,os=H+It,ds=lt-Ft,ms=ot+(Se-Ft),J=rt*H/os*St,k=Ke*H/os*St;$.projectionMatrix.makePerspective(ds,ms,J,k,St,os),$.projectionMatrixInverse.copy($.projectionMatrix).invert()}}function We($,me){me===null?$.matrixWorld.copy($.matrix):$.matrixWorld.multiplyMatrices(me.matrixWorld,$.matrix),$.matrixWorldInverse.copy($.matrixWorld).invert()}this.setPoseTarget=function($){$!==void 0&&(l=$)},this.updateCamera=function($){if(o===null)return;let me=$.near,ue=$.far;_.texture!==null&&(_.depthNear>0&&(me=_.depthNear),_.depthFar>0&&(ue=_.depthFar)),L.near=T.near=S.near=me,L.far=T.far=S.far=ue,(z!==L.near||V!==L.far)&&(o.updateRenderState({depthNear:L.near,depthFar:L.far}),z=L.near,V=L.far),S.layers.mask=$.layers.mask|2,T.layers.mask=$.layers.mask|4,L.layers.mask=S.layers.mask|T.layers.mask;const Se=L.cameras;var we=l||$;const qe=we.parent;We(L,qe);for(let ve=0;ve<Se.length;ve++)We(Se[ve],qe);Se.length===2?Me(L,S,T):L.projectionMatrix.copy(S.projectionMatrix),ce($,L,we)};function ce($,me,ue){me.matrixWorld.decompose(me.position,me.quaternion,me.scale),ue.parent===null?ue.matrix.copy(me.matrixWorld):(ue.matrix.copy(ue.parent.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(me.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),$.projectionMatrix.copy(me.projectionMatrix),$.projectionMatrixInverse.copy(me.projectionMatrixInverse),$.isPerspectiveCamera&&($.fov=Od*2*Math.atan(1/$.projectionMatrix.elements[5]),$.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(g===null&&m===null))return u},this.setFoveation=function($){u=$,g!==null&&(g.fixedFoveation=$),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=$)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(L)};let j=null;function O($,me){if(f=me.getViewerPose(h||c),y=me,f!==null){const ue=f.views;m!==null&&(e.setRenderTargetFramebuffer(E,m.framebuffer),e.setRenderTarget(E));let Se=!1;ue.length!==L.cameras.length&&(L.cameras.length=0,Se=!0);for(let ve=0;ve<ue.length;ve++){const H=ue[ve];let rt=null;if(m!==null)rt=m.getViewport(H);else{const fe=p.getViewSubImage(g,H);rt=fe.viewport,ve===0&&(e.setRenderTargetTextures(E,fe.colorTexture,fe.depthStencilTexture),e.setRenderTarget(E))}let Ke=D[ve];Ke===void 0&&(Ke=new Dn,Ke.layers.enable(ve),Ke.viewport=new ns,D[ve]=Ke),Ke.matrix.fromArray(H.transform.matrix),Ke.matrix.decompose(Ke.position,Ke.quaternion,Ke.scale),Ke.projectionMatrix.fromArray(H.projectionMatrix),Ke.projectionMatrixInverse.copy(Ke.projectionMatrix).invert(),Ke.viewport.set(rt.x,rt.y,rt.width,rt.height),ve===0&&(L.matrix.copy(Ke.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),Se===!0&&L.cameras.push(Ke)}const we=o.enabledFeatures;if(we&&we.includes("depth-sensing")&&o.depthUsage=="gpu-optimized"&&p){const ve=p.getDepthInformation(ue[0]);ve&&ve.isValid&&ve.texture&&_.init(e,ve,o.renderState)}}for(let ue=0;ue<b.length;ue++){const Se=N[ue],we=b[ue];Se!==null&&we!==void 0&&we.update(Se,me,h||c)}j&&j($,me),me.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:me}),y=null}const U=new sN;U.setAnimationLoop(O),this.setAnimationLoop=function($){j=$},this.dispose=function(){}}}const rl=new gs,_L=new Je;function IL(n,e){function t(g,m){g.matrixAutoUpdate===!0&&g.updateMatrix(),m.value.copy(g.matrix)}function s(g,m){m.color.getRGB(g.fogColor.value,EB(n)),m.isFog?(g.fogNear.value=m.near,g.fogFar.value=m.far):m.isFogExp2&&(g.fogDensity.value=m.density)}function i(g,m,y,_,I){m.isMeshBasicMaterial||m.isMeshLambertMaterial?r(g,m):m.isMeshToonMaterial?(r(g,m),u(g,m)):m.isMeshPhongMaterial?(r(g,m),d(g,m)):m.isMeshStandardMaterial?(r(g,m),h(g,m),m.isMeshPhysicalMaterial&&f(g,m,I)):m.isMeshMatcapMaterial?(r(g,m),A(g,m)):m.isMeshDepthMaterial?r(g,m):m.isMeshDistanceMaterial?(r(g,m),p(g,m)):m.isMeshNormalMaterial?r(g,m):m.isLineBasicMaterial?(o(g,m),m.isLineDashedMaterial&&a(g,m)):m.isPointsMaterial?l(g,m,y,_):m.isSpriteMaterial?c(g,m):m.isShadowMaterial?(g.color.value.copy(m.color),g.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function r(g,m){g.opacity.value=m.opacity,m.color&&g.diffuse.value.copy(m.color),m.emissive&&g.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(g.map.value=m.map,t(m.map,g.mapTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,t(m.alphaMap,g.alphaMapTransform)),m.bumpMap&&(g.bumpMap.value=m.bumpMap,t(m.bumpMap,g.bumpMapTransform),g.bumpScale.value=m.bumpScale,m.side===Ls&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,t(m.normalMap,g.normalMapTransform),g.normalScale.value.copy(m.normalScale),m.side===Ls&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,t(m.displacementMap,g.displacementMapTransform),g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap,t(m.emissiveMap,g.emissiveMapTransform)),m.specularMap&&(g.specularMap.value=m.specularMap,t(m.specularMap,g.specularMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest);const y=e.get(m),_=y.envMap,I=y.envMapRotation;_&&(g.envMap.value=_,rl.copy(I),rl.x*=-1,rl.y*=-1,rl.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(rl.y*=-1,rl.z*=-1),g.envMapRotation.value.setFromMatrix4(_L.makeRotationFromEuler(rl)),g.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=m.reflectivity,g.ior.value=m.ior,g.refractionRatio.value=m.refractionRatio),m.lightMap&&(g.lightMap.value=m.lightMap,g.lightMapIntensity.value=m.lightMapIntensity,t(m.lightMap,g.lightMapTransform)),m.aoMap&&(g.aoMap.value=m.aoMap,g.aoMapIntensity.value=m.aoMapIntensity,t(m.aoMap,g.aoMapTransform))}function o(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,m.map&&(g.map.value=m.map,t(m.map,g.mapTransform))}function a(g,m){g.dashSize.value=m.dashSize,g.totalSize.value=m.dashSize+m.gapSize,g.scale.value=m.scale}function l(g,m,y,_){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.size.value=m.size*y,g.scale.value=_*.5,m.map&&(g.map.value=m.map,t(m.map,g.uvTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,t(m.alphaMap,g.alphaMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest)}function c(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.rotation.value=m.rotation,m.map&&(g.map.value=m.map,t(m.map,g.mapTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,t(m.alphaMap,g.alphaMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest)}function d(g,m){g.specular.value.copy(m.specular),g.shininess.value=Math.max(m.shininess,1e-4)}function u(g,m){m.gradientMap&&(g.gradientMap.value=m.gradientMap)}function h(g,m){g.metalness.value=m.metalness,m.metalnessMap&&(g.metalnessMap.value=m.metalnessMap,t(m.metalnessMap,g.metalnessMapTransform)),g.roughness.value=m.roughness,m.roughnessMap&&(g.roughnessMap.value=m.roughnessMap,t(m.roughnessMap,g.roughnessMapTransform)),m.envMap&&(g.envMapIntensity.value=m.envMapIntensity)}function f(g,m,y){g.ior.value=m.ior,m.sheen>0&&(g.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),g.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(g.sheenColorMap.value=m.sheenColorMap,t(m.sheenColorMap,g.sheenColorMapTransform)),m.sheenRoughnessMap&&(g.sheenRoughnessMap.value=m.sheenRoughnessMap,t(m.sheenRoughnessMap,g.sheenRoughnessMapTransform))),m.clearcoat>0&&(g.clearcoat.value=m.clearcoat,g.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(g.clearcoatMap.value=m.clearcoatMap,t(m.clearcoatMap,g.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,t(m.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(g.clearcoatNormalMap.value=m.clearcoatNormalMap,t(m.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===Ls&&g.clearcoatNormalScale.value.negate())),m.dispersion>0&&(g.dispersion.value=m.dispersion),m.iridescence>0&&(g.iridescence.value=m.iridescence,g.iridescenceIOR.value=m.iridescenceIOR,g.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(g.iridescenceMap.value=m.iridescenceMap,t(m.iridescenceMap,g.iridescenceMapTransform)),m.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=m.iridescenceThicknessMap,t(m.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),m.transmission>0&&(g.transmission.value=m.transmission,g.transmissionSamplerMap.value=y.texture,g.transmissionSamplerSize.value.set(y.width,y.height),m.transmissionMap&&(g.transmissionMap.value=m.transmissionMap,t(m.transmissionMap,g.transmissionMapTransform)),g.thickness.value=m.thickness,m.thicknessMap&&(g.thicknessMap.value=m.thicknessMap,t(m.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=m.attenuationDistance,g.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(g.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(g.anisotropyMap.value=m.anisotropyMap,t(m.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=m.specularIntensity,g.specularColor.value.copy(m.specularColor),m.specularColorMap&&(g.specularColorMap.value=m.specularColorMap,t(m.specularColorMap,g.specularColorMapTransform)),m.specularIntensityMap&&(g.specularIntensityMap.value=m.specularIntensityMap,t(m.specularIntensityMap,g.specularIntensityMapTransform))}function A(g,m){m.matcap&&(g.matcap.value=m.matcap)}function p(g,m){const y=e.get(m).light;g.referencePosition.value.setFromMatrixPosition(y.matrixWorld),g.nearDistance.value=y.shadow.camera.near,g.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:s,refreshMaterialUniforms:i}}function vL(n,e,t,s){let i={},r={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,_){const I=_.program;s.uniformBlockBinding(y,I)}function c(y,_){let I=i[y.id];I===void 0&&(A(y),I=d(y),i[y.id]=I,y.addEventListener("dispose",g));const v=_.program;s.updateUBOMapping(y,v);const E=e.render.frame;r[y.id]!==E&&(h(y),r[y.id]=E)}function d(y){const _=u();y.__bindingPointIndex=_;const I=n.createBuffer(),v=y.__size,E=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,I),n.bufferData(n.UNIFORM_BUFFER,v,E),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,_,I),I}function u(){for(let y=0;y<a;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(y){const _=i[y.id],I=y.uniforms,v=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,_);for(let E=0,b=I.length;E<b;E++){const N=Array.isArray(I[E])?I[E]:[I[E]];for(let C=0,B=N.length;C<B;C++){const S=N[C];if(f(S,E,C,v)===!0){const T=S.__offset,D=Array.isArray(S.value)?S.value:[S.value];let L=0;for(let z=0;z<D.length;z++){const V=D[z],se=p(V);typeof V=="number"||typeof V=="boolean"?(S.__data[0]=V,n.bufferSubData(n.UNIFORM_BUFFER,T+L,S.__data)):V.isMatrix3?(S.__data[0]=V.elements[0],S.__data[1]=V.elements[1],S.__data[2]=V.elements[2],S.__data[3]=0,S.__data[4]=V.elements[3],S.__data[5]=V.elements[4],S.__data[6]=V.elements[5],S.__data[7]=0,S.__data[8]=V.elements[6],S.__data[9]=V.elements[7],S.__data[10]=V.elements[8],S.__data[11]=0):(V.toArray(S.__data,L),L+=se.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,T,S.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function f(y,_,I,v){const E=y.value,b=_+"_"+I;if(v[b]===void 0)return typeof E=="number"||typeof E=="boolean"?v[b]=E:v[b]=E.clone(),!0;{const N=v[b];if(typeof E=="number"||typeof E=="boolean"){if(N!==E)return v[b]=E,!0}else if(N.equals(E)===!1)return N.copy(E),!0}return!1}function A(y){const _=y.uniforms;let I=0;const v=16;for(let b=0,N=_.length;b<N;b++){const C=Array.isArray(_[b])?_[b]:[_[b]];for(let B=0,S=C.length;B<S;B++){const T=C[B],D=Array.isArray(T.value)?T.value:[T.value];for(let L=0,z=D.length;L<z;L++){const V=D[L],se=p(V),q=I%v,Ae=q%se.boundary,pe=q+Ae;I+=Ae,pe!==0&&v-pe<se.storage&&(I+=v-pe),T.__data=new Float32Array(se.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=I,I+=se.storage}}}const E=I%v;return E>0&&(I+=v-E),y.__size=I,y.__cache={},this}function p(y){const _={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(_.boundary=4,_.storage=4):y.isVector2?(_.boundary=8,_.storage=8):y.isVector3||y.isColor?(_.boundary=16,_.storage=12):y.isVector4?(_.boundary=16,_.storage=16):y.isMatrix3?(_.boundary=48,_.storage=48):y.isMatrix4?(_.boundary=64,_.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),_}function g(y){const _=y.target;_.removeEventListener("dispose",g);const I=o.indexOf(_.__bindingPointIndex);o.splice(I,1),n.deleteBuffer(i[_.id]),delete i[_.id],delete r[_.id]}function m(){for(const y in i)n.deleteBuffer(i[y]);o=[],i={},r={}}return{bind:l,update:c,dispose:m}}class cN{constructor(e={}){const{canvas:t=yB(),context:s=null,depth:i=!0,stencil:r=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:h=!1,multiviewStereo:f=!1}=e;this.isWebGLRenderer=!0;let A;if(s!==null){if(typeof WebGLRenderingContext<"u"&&s instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");A=s.getContextAttributes().alpha}else A=o;const p=new Uint32Array(4),g=new Int32Array(4);let m=null,y=null;const _=[],I=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=bo,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const v=this;let E=!1;this._outputColorSpace=cs;let b=0,N=0,C=null,B=-1,S=null;const T=new ns,D=new ns;let L=null;const z=new st(0);let V=0,se=t.width,q=t.height,Ae=1,pe=null,Ye=null;const Me=new ns(0,0,se,q),We=new ns(0,0,se,q);let ce=!1;const j=new Zd;let O=!1,U=!1;const $=new Je,me=new Je,ue=new w,Se=new ns,we={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let qe=!1;function ve(){return C===null?Ae:1}let H=s;function rt(P,W){return t.getContext(P,W)}try{const P={alpha:!0,depth:i,stencil:r,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Fo}`),t.addEventListener("webglcontextlost",dt,!1),t.addEventListener("webglcontextrestored",Mt,!1),t.addEventListener("webglcontextcreationerror",Ut,!1),H===null){const W="webgl2";if(H=rt(W,P),H===null)throw rt(W)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(P){throw console.error("THREE.WebGLRenderer: "+P.message),P}let Ke,fe,Y,lt,ot,It,Ft,St,os,ds,ms,J,k,_e,Fe,Ue,Ie,ct,et,At,_t,le,K,oe,Te;function Ve(){Ke=new RD(H),Ke.init(),K=new aN(H,Ke),fe=new wD(H,Ke,e,K),Y=new AL(H,Ke),fe.reverseDepthBuffer&&h&&Y.buffers.depth.setReversed(!0),lt=new LD(H),ot=new tL,It=new pL(H,Ke,Y,ot,fe,K,lt),Ft=new ND(v),St=new PD(v),os=new HP(H),oe=new CD(H,os),ds=new QD(H,os,lt,oe),ms=new UD(H,ds,os,lt),At=new kD(H,fe,It),Ue=new BD(ot),J=new eL(v,Ft,St,Ke,fe,oe,Ue),k=new IL(v,ot),_e=new nL,Fe=new cL(Ke),et=new ED(v,Ft,St,Y,ms,A,l),ct=new FD(v,Ke,H),Ie=new hL(v,ms,fe),Te=new vL(H,lt,fe,Y),_t=new bD(H,Ke,lt),le=new DD(H,Ke,lt),lt.programs=J.programs,v.capabilities=fe,v.extensions=Ke,v.properties=ot,v.renderLists=_e,v.shadowMap=Ie,v.state=Y,v.info=lt}Ve();const tt=new yL(v,H);this.xr=tt,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const P=Ke.get("WEBGL_lose_context");P&&P.loseContext()},this.forceContextRestore=function(){const P=Ke.get("WEBGL_lose_context");P&&P.restoreContext()},this.getPixelRatio=function(){return Ae},this.setPixelRatio=function(P){P!==void 0&&(Ae=P,this.setSize(se,q,!1))},this.getSize=function(P){return P.set(se,q)},this.setSize=function(P,W,ie=!0){if(tt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}se=P,q=W,t.width=Math.floor(P*Ae),t.height=Math.floor(W*Ae),ie===!0&&(t.style.width=P+"px",t.style.height=W+"px"),this.setViewport(0,0,P,W)},this.getDrawingBufferSize=function(P){return P.set(se*Ae,q*Ae).floor()},this.setDrawingBufferSize=function(P,W,ie){se=P,q=W,Ae=ie,t.width=Math.floor(P*ie),t.height=Math.floor(W*ie),this.setViewport(0,0,P,W)},this.getCurrentViewport=function(P){return P.copy(T)},this.getViewport=function(P){return P.copy(Me)},this.setViewport=function(P,W,ie,ee){P.isVector4?Me.set(P.x,P.y,P.z,P.w):Me.set(P,W,ie,ee),Y.viewport(T.copy(Me).multiplyScalar(Ae).round())},this.getScissor=function(P){return P.copy(We)},this.setScissor=function(P,W,ie,ee){P.isVector4?We.set(P.x,P.y,P.z,P.w):We.set(P,W,ie,ee),Y.scissor(D.copy(We).multiplyScalar(Ae).round())},this.getScissorTest=function(){return ce},this.setScissorTest=function(P){Y.setScissorTest(ce=P)},this.setOpaqueSort=function(P){pe=P},this.setTransparentSort=function(P){Ye=P},this.getClearColor=function(P){return P.copy(et.getClearColor())},this.setClearColor=function(){et.setClearColor(...arguments)},this.getClearAlpha=function(){return et.getClearAlpha()},this.setClearAlpha=function(){et.setClearAlpha(...arguments)},this.clear=function(P=!0,W=!0,ie=!0){let ee=0;if(P){let X=!1;if(C!==null){const he=C.texture.format;X=he===mg||he===gg||he===Qh}if(X){const he=C.texture.type,Ce=he===Js||he===So||he===Qd||he===Bl||he===Ag||he===pg,Pe=et.getClearColor(),Ne=et.getClearAlpha(),je=Pe.r,He=Pe.g,ze=Pe.b;Ce?(p[0]=je,p[1]=He,p[2]=ze,p[3]=Ne,H.clearBufferuiv(H.COLOR,0,p)):(g[0]=je,g[1]=He,g[2]=ze,g[3]=Ne,H.clearBufferiv(H.COLOR,0,g))}else ee|=H.COLOR_BUFFER_BIT}W&&(ee|=H.DEPTH_BUFFER_BIT),ie&&(ee|=H.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),H.clear(ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",dt,!1),t.removeEventListener("webglcontextrestored",Mt,!1),t.removeEventListener("webglcontextcreationerror",Ut,!1),et.dispose(),_e.dispose(),Fe.dispose(),ot.dispose(),Ft.dispose(),St.dispose(),ms.dispose(),oe.dispose(),Te.dispose(),J.dispose(),tt.dispose(),tt.removeEventListener("sessionstart",to),tt.removeEventListener("sessionend",Uo),ni.stop()};function dt(P){P.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function Mt(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const P=lt.autoReset,W=Ie.enabled,ie=Ie.autoUpdate,ee=Ie.needsUpdate,X=Ie.type;Ve(),lt.autoReset=P,Ie.enabled=W,Ie.autoUpdate=ie,Ie.needsUpdate=ee,Ie.type=X}function Ut(P){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",P.statusMessage)}function us(P){const W=P.target;W.removeEventListener("dispose",us),at(W)}function at(P){gt(P),ot.remove(P)}function gt(P){const W=ot.get(P).programs;W!==void 0&&(W.forEach(function(ie){J.releaseProgram(ie)}),P.isShaderMaterial&&J.releaseShaderCache(P))}this.renderBufferDirect=function(P,W,ie,ee,X,he){W===null&&(W=we);const Ce=X.isMesh&&X.matrixWorld.determinant()<0,Pe=Sr(P,W,ie,ee,X);Y.setMaterial(ee,Ce);let Ne=ie.index,je=1;if(ee.wireframe===!0){if(Ne=ds.getWireframeAttribute(ie),Ne===void 0)return;je=2}const He=ie.drawRange,ze=ie.attributes.position;let Q=He.start*je,F=(He.start+He.count)*je;he!==null&&(Q=Math.max(Q,he.start*je),F=Math.min(F,(he.start+he.count)*je)),Ne!==null?(Q=Math.max(Q,0),F=Math.min(F,Ne.count)):ze!=null&&(Q=Math.max(Q,0),F=Math.min(F,ze.count));const Z=F-Q;if(Z<0||Z===1/0)return;oe.setup(X,ee,Pe,ie,Ne);let re,ae=_t;if(Ne!==null&&(re=os.get(Ne),ae=le,ae.setIndex(re)),X.isMesh)ee.wireframe===!0?(Y.setLineWidth(ee.wireframeLinewidth*ve()),ae.setMode(H.LINES)):ae.setMode(H.TRIANGLES);else if(X.isLine){let ye=ee.linewidth;ye===void 0&&(ye=1),Y.setLineWidth(ye*ve()),X.isLineSegments?ae.setMode(H.LINES):X.isLineLoop?ae.setMode(H.LINE_LOOP):ae.setMode(H.LINE_STRIP)}else X.isPoints?ae.setMode(H.POINTS):X.isSprite&&ae.setMode(H.TRIANGLES);if(X.isBatchedMesh)if(X._multiDrawInstances!==null)_d("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),ae.renderMultiDrawInstances(X._multiDrawStarts,X._multiDrawCounts,X._multiDrawCount,X._multiDrawInstances);else if(Ke.get("WEBGL_multi_draw"))ae.renderMultiDraw(X._multiDrawStarts,X._multiDrawCounts,X._multiDrawCount);else{const ye=X._multiDrawStarts,xe=X._multiDrawCounts,Xe=X._multiDrawCount,Re=Ne?os.get(Ne).bytesPerElement:1,Qe=ot.get(ee).currentProgram.getUniforms();for(let Ze=0;Ze<Xe;Ze++)Qe.setValue(H,"_gl_DrawID",Ze),ae.render(ye[Ze]/Re,xe[Ze])}else if(X.isInstancedMesh)ae.renderInstances(Q,Z,X.count);else if(ie.isInstancedBufferGeometry){const ye=ie._maxInstanceCount!==void 0?ie._maxInstanceCount:1/0,xe=Math.min(ie.instanceCount,ye);ae.renderInstances(Q,Z,xe)}else ae.render(Q,Z)};function zt(P,W,ie){P.transparent===!0&&P.side===js&&P.forceSinglePass===!1?(P.side=Ls,P.needsUpdate=!0,io(P,W,ie),P.side=In,P.needsUpdate=!0,io(P,W,ie),P.side=js):io(P,W,ie)}this.compile=function(P,W,ie=null){ie===null&&(ie=P),y=Fe.get(ie),y.init(W),I.push(y),ie.traverseVisible(function(X){X.isLight&&X.layers.test(W.layers)&&(y.pushLight(X),X.castShadow&&y.pushShadow(X))}),P!==ie&&P.traverseVisible(function(X){X.isLight&&X.layers.test(W.layers)&&(y.pushLight(X),X.castShadow&&y.pushShadow(X))}),y.setupLights();const ee=new Set;return P.traverse(function(X){if(!(X.isMesh||X.isPoints||X.isLine||X.isSprite))return;const he=X.material;if(he)if(Array.isArray(he))for(let Ce=0;Ce<he.length;Ce++){const Pe=he[Ce];zt(Pe,ie,X),ee.add(Pe)}else zt(he,ie,X),ee.add(he)}),y=I.pop(),ee},this.compileAsync=function(P,W,ie=null){const ee=this.compile(P,W,ie);return new Promise(X=>{function he(){if(ee.forEach(function(Ce){ot.get(Ce).currentProgram.isReady()&&ee.delete(Ce)}),ee.size===0){X(P);return}setTimeout(he,10)}Ke.get("KHR_parallel_shader_compile")!==null?he():setTimeout(he,10)})};let jt=null;function Hn(P){jt&&jt(P)}function to(){ni.stop()}function Uo(){ni.start()}const ni=new sN;ni.setAnimationLoop(Hn),typeof self<"u"&&ni.setContext(self),this.setAnimationLoop=function(P){jt=P,tt.setAnimationLoop(P),P===null?ni.stop():ni.start()},tt.addEventListener("sessionstart",to),tt.addEventListener("sessionend",Uo),this.render=function(P,W){if(W!==void 0&&W.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;if(P.matrixWorldAutoUpdate===!0&&P.updateMatrixWorld(),W.parent===null&&W.matrixWorldAutoUpdate===!0&&W.updateMatrixWorld(),tt.enabled===!0&&tt.isPresenting===!0&&(tt.cameraAutoUpdate===!0&&tt.updateCamera(W),W=tt.getCamera()),P.isScene===!0&&P.onBeforeRender(v,P,W,C),y=Fe.get(P,I.length),y.init(W),I.push(y),me.multiplyMatrices(W.projectionMatrix,W.matrixWorldInverse),j.setFromProjectionMatrix(me),U=this.localClippingEnabled,O=Ue.init(this.clippingPlanes,U),m=_e.get(P,_.length),m.init(),_.push(m),tt.enabled===!0&&tt.isPresenting===!0){const he=v.xr.getDepthSensingMesh();he!==null&&so(he,W,-1/0,v.sortObjects)}so(P,W,0,v.sortObjects),m.finish(),v.sortObjects===!0&&m.sort(pe,Ye),qe=tt.enabled===!1||tt.isPresenting===!1||tt.hasDepthSensing()===!1,qe&&et.addToRenderList(m,P),this.info.render.frame++,O===!0&&Ue.beginShadows();const ie=y.state.shadowsArray;Ie.render(ie,P,W),O===!0&&Ue.endShadows(),this.info.autoReset===!0&&this.info.reset();const ee=m.opaque,X=m.transmissive;if(y.setupLights(),W.isArrayCamera){const he=W.cameras;if(X.length>0)for(let Ce=0,Pe=he.length;Ce<Pe;Ce++){const Ne=he[Ce];lc(ee,X,P,Ne)}if(qe&&et.render(P),tt.enabled&&tt.isMultiview)It.setDeferTextureUploads(!0),no(m,P,W,W.cameras[0].viewport);else for(let Ce=0,Pe=he.length;Ce<Pe;Ce++){const Ne=he[Ce];no(m,P,Ne,Ne.viewport)}}else X.length>0&&lc(ee,X,P,W),qe&&et.render(P),no(m,P,W);C!==null&&N===0&&(It.updateMultisampleRenderTarget(C),It.updateRenderTargetMipmap(C)),P.isScene===!0&&P.onAfterRender(v,P,W),oe.resetDefaultState(),B=-1,S=null,I.pop(),I.length>0?(y=I[I.length-1],O===!0&&Ue.setGlobalState(v.clippingPlanes,y.state.camera)):y=null,_.pop(),_.length>0?m=_[_.length-1]:m=null};function so(P,W,ie,ee){if(P.visible===!1)return;if(P.layers.test(W.layers)){if(P.isGroup)ie=P.renderOrder;else if(P.isLOD)P.autoUpdate===!0&&P.update(W);else if(P.isLight)y.pushLight(P),P.castShadow&&y.pushShadow(P);else if(P.isSprite){if(!P.frustumCulled||j.intersectsSprite(P)){ee&&Se.setFromMatrixPosition(P.matrixWorld).applyMatrix4(me);const Ce=ms.update(P),Pe=P.material;Pe.visible&&m.push(P,Ce,Pe,ie,Se.z,null)}}else if((P.isMesh||P.isLine||P.isPoints)&&(!P.frustumCulled||j.intersectsObject(P))){const Ce=ms.update(P),Pe=P.material;if(ee&&(P.boundingSphere!==void 0?(P.boundingSphere===null&&P.computeBoundingSphere(),Se.copy(P.boundingSphere.center)):(Ce.boundingSphere===null&&Ce.computeBoundingSphere(),Se.copy(Ce.boundingSphere.center)),Se.applyMatrix4(P.matrixWorld).applyMatrix4(me)),Array.isArray(Pe)){const Ne=Ce.groups;for(let je=0,He=Ne.length;je<He;je++){const ze=Ne[je],Q=Pe[ze.materialIndex];Q&&Q.visible&&m.push(P,Ce,Q,ie,Se.z,ze)}}else Pe.visible&&m.push(P,Ce,Pe,ie,Se.z,null)}}const he=P.children;for(let Ce=0,Pe=he.length;Ce<Pe;Ce++)so(he[Ce],W,ie,ee)}function no(P,W,ie,ee){const X=P.opaque,he=P.transmissive,Ce=P.transparent;y.setupLightsView(ie),O===!0&&Ue.setGlobalState(v.clippingPlanes,ie),ee&&Y.viewport(T.copy(ee)),X.length>0&&Oo(X,W,ie),he.length>0&&Oo(he,W,ie),Ce.length>0&&Oo(Ce,W,ie),Y.buffers.depth.setTest(!0),Y.buffers.depth.setMask(!0),Y.buffers.color.setMask(!0),Y.setPolygonOffset(!1)}function lc(P,W,ie,ee){if((ie.isScene===!0?ie.overrideMaterial:null)!==null)return;y.state.transmissionRenderTarget[ee.id]===void 0&&(y.state.transmissionRenderTarget[ee.id]=new Mo(1,1,{generateMipmaps:!0,type:Ke.has("EXT_color_buffer_half_float")||Ke.has("EXT_color_buffer_float")?cn:Js,minFilter:Ii,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ts.workingColorSpace}));const he=y.state.transmissionRenderTarget[ee.id],Ce=ee.viewport||T;he.setSize(Ce.z*v.transmissionResolutionScale,Ce.w*v.transmissionResolutionScale);const Pe=v.getRenderTarget();v.setRenderTarget(he),v.getClearColor(z),V=v.getClearAlpha(),V<1&&v.setClearColor(16777215,.5),v.clear(),qe&&et.render(ie);const Ne=v.toneMapping;v.toneMapping=bo;const je=ee.viewport;if(ee.viewport!==void 0&&(ee.viewport=void 0),y.setupLightsView(ee),O===!0&&Ue.setGlobalState(v.clippingPlanes,ee),Oo(P,ie,ee),It.updateMultisampleRenderTarget(he),It.updateRenderTargetMipmap(he),Ke.has("WEBGL_multisampled_render_to_texture")===!1){let He=!1;for(let ze=0,Q=W.length;ze<Q;ze++){const F=W[ze],Z=F.object,re=F.geometry,ae=F.material,ye=F.group;if(ae.side===js&&Z.layers.test(ee.layers)){const xe=ae.side;ae.side=Ls,ae.needsUpdate=!0,Wa(Z,ie,ee,re,ae,ye),ae.side=xe,ae.needsUpdate=!0,He=!0}}He===!0&&(It.updateMultisampleRenderTarget(he),It.updateRenderTargetMipmap(he))}v.setRenderTarget(Pe),v.setClearColor(z,V),je!==void 0&&(ee.viewport=je),v.toneMapping=Ne}function Oo(P,W,ie){const ee=W.isScene===!0?W.overrideMaterial:null;for(let X=0,he=P.length;X<he;X++){const Ce=P[X],Pe=Ce.object,Ne=Ce.geometry,je=Ce.group;let He=Ce.material;He.allowOverride===!0&&ee!==null&&(He=ee),Pe.layers.test(ie.layers)&&Wa(Pe,W,ie,Ne,He,je)}}function Wa(P,W,ie,ee,X,he){P.onBeforeRender(v,W,ie,ee,X,he),P.modelViewMatrix.multiplyMatrices(ie.matrixWorldInverse,P.matrixWorld),P.normalMatrix.getNormalMatrix(P.modelViewMatrix),X.onBeforeRender(v,W,ie,ee,P,he),X.transparent===!0&&X.side===js&&X.forceSinglePass===!1?(X.side=Ls,X.needsUpdate=!0,v.renderBufferDirect(ie,W,ee,X,P,he),X.side=In,X.needsUpdate=!0,v.renderBufferDirect(ie,W,ee,X,P,he),X.side=js):v.renderBufferDirect(ie,W,ee,X,P,he),P.onAfterRender(v,W,ie,ee,X,he)}function io(P,W,ie){W.isScene!==!0&&(W=we);const ee=ot.get(P),X=y.state.lights,he=y.state.shadowsArray,Ce=X.state.version,Pe=J.getParameters(P,X.state,he,W,ie),Ne=J.getProgramCacheKey(Pe);let je=ee.programs;ee.environment=P.isMeshStandardMaterial?W.environment:null,ee.fog=W.fog,ee.envMap=(P.isMeshStandardMaterial?St:Ft).get(P.envMap||ee.environment),ee.envMapRotation=ee.environment!==null&&P.envMap===null?W.environmentRotation:P.envMapRotation,je===void 0&&(P.addEventListener("dispose",us),je=new Map,ee.programs=je);let He=je.get(Ne);if(He!==void 0){if(ee.currentProgram===He&&ee.lightsStateVersion===Ce)return Ni(P,Pe),He}else Pe.uniforms=J.getUniforms(P),P.onBeforeCompile(Pe,v),He=J.acquireProgram(Pe,Ne),je.set(Ne,He),ee.uniforms=Pe.uniforms;const ze=ee.uniforms;return(!P.isShaderMaterial&&!P.isRawShaderMaterial||P.clipping===!0)&&(ze.clippingPlanes=Ue.uniform),Ni(P,Pe),ee.needsLights=G(P),ee.lightsStateVersion=Ce,ee.needsLights&&(ze.ambientLightColor.value=X.state.ambient,ze.lightProbe.value=X.state.probe,ze.directionalLights.value=X.state.directional,ze.directionalLightShadows.value=X.state.directionalShadow,ze.spotLights.value=X.state.spot,ze.spotLightShadows.value=X.state.spotShadow,ze.rectAreaLights.value=X.state.rectArea,ze.ltc_1.value=X.state.rectAreaLTC1,ze.ltc_2.value=X.state.rectAreaLTC2,ze.pointLights.value=X.state.point,ze.pointLightShadows.value=X.state.pointShadow,ze.hemisphereLights.value=X.state.hemi,ze.directionalShadowMap.value=X.state.directionalShadowMap,ze.directionalShadowMatrix.value=X.state.directionalShadowMatrix,ze.spotShadowMap.value=X.state.spotShadowMap,ze.spotLightMatrix.value=X.state.spotLightMatrix,ze.spotLightMap.value=X.state.spotLightMap,ze.pointShadowMap.value=X.state.pointShadowMap,ze.pointShadowMatrix.value=X.state.pointShadowMatrix),ee.currentProgram=He,ee.uniformsList=null,He}function cc(P){if(P.uniformsList===null){const W=P.currentProgram.getUniforms();P.uniformsList=OA.seqWithValue(W.seq,P.uniforms)}return P.uniformsList}function Ni(P,W){const ie=ot.get(P);ie.outputColorSpace=W.outputColorSpace,ie.batching=W.batching,ie.batchingColor=W.batchingColor,ie.instancing=W.instancing,ie.instancingColor=W.instancingColor,ie.instancingMorph=W.instancingMorph,ie.skinning=W.skinning,ie.morphTargets=W.morphTargets,ie.morphNormals=W.morphNormals,ie.morphColors=W.morphColors,ie.morphTargetsCount=W.morphTargetsCount,ie.numClippingPlanes=W.numClippingPlanes,ie.numIntersection=W.numClipIntersection,ie.vertexAlphas=W.vertexAlphas,ie.vertexTangents=W.vertexTangents,ie.toneMapping=W.toneMapping,ie.numMultiviewViews=W.numMultiviewViews}function Sr(P,W,ie,ee,X){W.isScene!==!0&&(W=we),It.resetTextureUnits();const he=W.fog,Ce=ee.isMeshStandardMaterial?W.environment:null,Pe=C===null?v.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:rn,Ne=(ee.isMeshStandardMaterial?St:Ft).get(ee.envMap||Ce),je=ee.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,He=!!ie.attributes.tangent&&(!!ee.normalMap||ee.anisotropy>0),ze=!!ie.morphAttributes.position,Q=!!ie.morphAttributes.normal,F=!!ie.morphAttributes.color;let Z=bo;ee.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(Z=v.toneMapping);const re=C&&C.isWebGLMultiviewRenderTarget?C.numViews:0,ae=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,ye=ae!==void 0?ae.length:0,xe=ot.get(ee),Xe=y.state.lights;if(O===!0&&(U===!0||P!==S)){const As=P===S&&ee.id===B;Ue.setState(ee,P,As)}let Re=!1;ee.version===xe.__version?(xe.needsLights&&xe.lightsStateVersion!==Xe.state.version||xe.outputColorSpace!==Pe||X.isBatchedMesh&&xe.batching===!1||!X.isBatchedMesh&&xe.batching===!0||X.isBatchedMesh&&xe.batchingColor===!0&&X.colorTexture===null||X.isBatchedMesh&&xe.batchingColor===!1&&X.colorTexture!==null||X.isInstancedMesh&&xe.instancing===!1||!X.isInstancedMesh&&xe.instancing===!0||X.isSkinnedMesh&&xe.skinning===!1||!X.isSkinnedMesh&&xe.skinning===!0||X.isInstancedMesh&&xe.instancingColor===!0&&X.instanceColor===null||X.isInstancedMesh&&xe.instancingColor===!1&&X.instanceColor!==null||X.isInstancedMesh&&xe.instancingMorph===!0&&X.morphTexture===null||X.isInstancedMesh&&xe.instancingMorph===!1&&X.morphTexture!==null||xe.envMap!==Ne||ee.fog===!0&&xe.fog!==he||xe.numClippingPlanes!==void 0&&(xe.numClippingPlanes!==Ue.numPlanes||xe.numIntersection!==Ue.numIntersection)||xe.vertexAlphas!==je||xe.vertexTangents!==He||xe.morphTargets!==ze||xe.morphNormals!==Q||xe.morphColors!==F||xe.toneMapping!==Z||xe.morphTargetsCount!==ye||xe.numMultiviewViews!==re)&&(Re=!0):(Re=!0,xe.__version=ee.version);let Qe=xe.currentProgram;Re===!0&&(Qe=io(ee,W,X));let Ze=!1,xt=!1,Gt=!1;const Ct=Qe.getUniforms(),Pt=xe.uniforms;if(Y.useProgram(Qe.program)&&(Ze=!0,xt=!0,Gt=!0),ee.id!==B&&(B=ee.id,xt=!0),Ze||S!==P){Qe.numMultiviewViews>0?(ct.updateCameraProjectionMatricesUniform(P,Ct),ct.updateCameraViewMatricesUniform(P,Ct)):(Y.buffers.depth.getReversed()?($.copy(P.projectionMatrix),pT($),gT($),Ct.setValue(H,"projectionMatrix",$)):Ct.setValue(H,"projectionMatrix",P.projectionMatrix),Ct.setValue(H,"viewMatrix",P.matrixWorldInverse));const As=Ct.map.cameraPosition;As!==void 0&&As.setValue(H,ue.setFromMatrixPosition(P.matrixWorld)),fe.logarithmicDepthBuffer&&Ct.setValue(H,"logDepthBufFC",2/(Math.log(P.far+1)/Math.LN2)),(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial)&&Ct.setValue(H,"isOrthographic",P.isOrthographicCamera===!0),S!==P&&(S=P,xt=!0,Gt=!0)}if(X.isSkinnedMesh){Ct.setOptional(H,X,"bindMatrix"),Ct.setOptional(H,X,"bindMatrixInverse");const As=X.skeleton;As&&(As.boneTexture===null&&As.computeBoneTexture(),Ct.setValue(H,"boneTexture",As.boneTexture,It))}X.isBatchedMesh&&(Ct.setOptional(H,X,"batchingTexture"),Ct.setValue(H,"batchingTexture",X._matricesTexture,It),Ct.setOptional(H,X,"batchingIdTexture"),Ct.setValue(H,"batchingIdTexture",X._indirectTexture,It),Ct.setOptional(H,X,"batchingColorTexture"),X._colorsTexture!==null&&Ct.setValue(H,"batchingColorTexture",X._colorsTexture,It));const Xs=ie.morphAttributes;if((Xs.position!==void 0||Xs.normal!==void 0||Xs.color!==void 0)&&At.update(X,ie,Qe),(xt||xe.receiveShadow!==X.receiveShadow)&&(xe.receiveShadow=X.receiveShadow,Ct.setValue(H,"receiveShadow",X.receiveShadow)),ee.isMeshGouraudMaterial&&ee.envMap!==null&&(Pt.envMap.value=Ne,Pt.flipEnvMap.value=Ne.isCubeTexture&&Ne.isRenderTargetTexture===!1?-1:1),ee.isMeshStandardMaterial&&ee.envMap===null&&W.environment!==null&&(Pt.envMapIntensity.value=W.environmentIntensity),xt&&(Ct.setValue(H,"toneMappingExposure",v.toneMappingExposure),xe.needsLights&&M(Pt,Gt),he&&ee.fog===!0&&k.refreshFogUniforms(Pt,he),k.refreshMaterialUniforms(Pt,ee,Ae,q,y.state.transmissionRenderTarget[P.id]),OA.upload(H,cc(xe),Pt,It)),ee.isShaderMaterial&&ee.uniformsNeedUpdate===!0&&(OA.upload(H,cc(xe),Pt,It),ee.uniformsNeedUpdate=!1),ee.isSpriteMaterial&&Ct.setValue(H,"center",X.center),Qe.numMultiviewViews>0?ct.updateObjectMatricesUniforms(X,P,Ct):(Ct.setValue(H,"modelViewMatrix",X.modelViewMatrix),Ct.setValue(H,"normalMatrix",X.normalMatrix)),Ct.setValue(H,"modelMatrix",X.matrixWorld),ee.isShaderMaterial||ee.isRawShaderMaterial){const As=ee.uniformsGroups;for(let Si=0,Tn=As.length;Si<Tn;Si++){const ou=As[Si];Te.update(ou,Qe),Te.bind(ou,Qe)}}return Qe}function M(P,W){P.ambientLightColor.needsUpdate=W,P.lightProbe.needsUpdate=W,P.directionalLights.needsUpdate=W,P.directionalLightShadows.needsUpdate=W,P.pointLights.needsUpdate=W,P.pointLightShadows.needsUpdate=W,P.spotLights.needsUpdate=W,P.spotLightShadows.needsUpdate=W,P.rectAreaLights.needsUpdate=W,P.hemisphereLights.needsUpdate=W}function G(P){return P.isMeshLambertMaterial||P.isMeshToonMaterial||P.isMeshPhongMaterial||P.isMeshStandardMaterial||P.isShadowMaterial||P.isShaderMaterial&&P.lights===!0}this.setTexture2D=(function(){var P=!1;return function(ie,ee){ie&&ie.isWebGLRenderTarget&&(P||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),P=!0),ie=ie.texture),It.setTexture2D(ie,ee)}})(),this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(P,W,ie){const ee=ot.get(P);ee.__autoAllocateDepthBuffer=P.resolveDepthBuffer===!1,ee.__autoAllocateDepthBuffer&&(!C||!C.isWebGLMultiviewRenderTarget)&&(ee.__useRenderToTexture=!1),ot.get(P.texture).__webglTexture=W,ot.get(P.depthTexture).__webglTexture=ee.__autoAllocateDepthBuffer?void 0:ie,ee.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(P,W){const ie=ot.get(P);ie.__webglFramebuffer=W,ie.__useDefaultFramebuffer=W===void 0};const te=H.createFramebuffer();this.setRenderTarget=function(P,W=0,ie=0){P===null&&this.xr.isPresenting&&(P=this.xr.getRenderTarget()),C=P,b=W,N=ie;let ee=!0,X=null,he=!1,Ce=!1;if(P){const Ne=ot.get(P);if(Ne.__useDefaultFramebuffer!==void 0)Y.bindFramebuffer(H.FRAMEBUFFER,null),ee=!1;else if(Ne.__webglFramebuffer===void 0)It.setupRenderTarget(P);else if(Ne.__hasExternalTextures)It.rebindTextures(P,ot.get(P.texture).__webglTexture,ot.get(P.depthTexture).__webglTexture);else if(P.depthBuffer){const ze=P.depthTexture;if(Ne.__boundDepthTexture!==ze){if(ze!==null&&ot.has(ze)&&(P.width!==ze.image.width||P.height!==ze.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");It.setupDepthRenderbuffer(P)}}const je=P.texture;(je.isData3DTexture||je.isDataArrayTexture||je.isCompressedArrayTexture)&&(Ce=!0);const He=ot.get(P).__webglFramebuffer;P.isWebGLCubeRenderTarget?(Array.isArray(He[W])?X=He[W][ie]:X=He[W],he=!0):P.samples>0&&It.useMultisampledRTT(P)===!1?X=ot.get(P).__webglMultisampledFramebuffer:Array.isArray(He)?X=He[ie]:X=He,T.copy(P.viewport),D.copy(P.scissor),L=P.scissorTest}else T.copy(Me).multiplyScalar(Ae).floor(),D.copy(We).multiplyScalar(Ae).floor(),L=ce;if(ie!==0&&(X=te),Y.bindFramebuffer(H.FRAMEBUFFER,X)&&ee&&Y.drawBuffers(P,X),Y.viewport(T),Y.scissor(D),Y.setScissorTest(L),he){const Ne=ot.get(P.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+W,Ne.__webglTexture,ie)}else if(Ce){const Ne=ot.get(P.texture),je=W;H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,Ne.__webglTexture,ie,je)}else if(P!==null&&ie!==0){const Ne=ot.get(P.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,Ne.__webglTexture,ie)}B=-1},this.readRenderTargetPixels=function(P,W,ie,ee,X,he,Ce,Pe=0){if(!(P&&P.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ne=ot.get(P).__webglFramebuffer;if(P.isWebGLCubeRenderTarget&&Ce!==void 0&&(Ne=Ne[Ce]),Ne){Y.bindFramebuffer(H.FRAMEBUFFER,Ne);try{const je=P.textures[Pe],He=je.format,ze=je.type;if(!fe.textureFormatReadable(He)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!fe.textureTypeReadable(ze)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}W>=0&&W<=P.width-ee&&ie>=0&&ie<=P.height-X&&(P.textures.length>1&&H.readBuffer(H.COLOR_ATTACHMENT0+Pe),H.readPixels(W,ie,ee,X,K.convert(He),K.convert(ze),he))}finally{const je=C!==null?ot.get(C).__webglFramebuffer:null;Y.bindFramebuffer(H.FRAMEBUFFER,je)}}},this.readRenderTargetPixelsAsync=async function(P,W,ie,ee,X,he,Ce,Pe=0){if(!(P&&P.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ne=ot.get(P).__webglFramebuffer;if(P.isWebGLCubeRenderTarget&&Ce!==void 0&&(Ne=Ne[Ce]),Ne)if(W>=0&&W<=P.width-ee&&ie>=0&&ie<=P.height-X){Y.bindFramebuffer(H.FRAMEBUFFER,Ne);const je=P.textures[Pe],He=je.format,ze=je.type;if(!fe.textureFormatReadable(He))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!fe.textureTypeReadable(ze))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Q=H.createBuffer();H.bindBuffer(H.PIXEL_PACK_BUFFER,Q),H.bufferData(H.PIXEL_PACK_BUFFER,he.byteLength,H.STREAM_READ),P.textures.length>1&&H.readBuffer(H.COLOR_ATTACHMENT0+Pe),H.readPixels(W,ie,ee,X,K.convert(He),K.convert(ze),0);const F=C!==null?ot.get(C).__webglFramebuffer:null;Y.bindFramebuffer(H.FRAMEBUFFER,F);const Z=H.fenceSync(H.SYNC_GPU_COMMANDS_COMPLETE,0);return H.flush(),await AT(H,Z,4),H.bindBuffer(H.PIXEL_PACK_BUFFER,Q),H.getBufferSubData(H.PIXEL_PACK_BUFFER,0,he),H.deleteBuffer(Q),H.deleteSync(Z),he}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(P,W=null,ie=0){const ee=Math.pow(2,-ie),X=Math.floor(P.image.width*ee),he=Math.floor(P.image.height*ee),Ce=W!==null?W.x:0,Pe=W!==null?W.y:0;It.setTexture2D(P,0),H.copyTexSubImage2D(H.TEXTURE_2D,ie,0,0,Ce,Pe,X,he),Y.unbindTexture()};const ge=H.createFramebuffer(),Le=H.createFramebuffer();this.copyTextureToTexture=function(P,W,ie=null,ee=null,X=0,he=null){he===null&&(X!==0?(_d("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),he=X,X=0):he=0);let Ce,Pe,Ne,je,He,ze,Q,F,Z;const re=P.isCompressedTexture?P.mipmaps[he]:P.image;if(ie!==null)Ce=ie.max.x-ie.min.x,Pe=ie.max.y-ie.min.y,Ne=ie.isBox3?ie.max.z-ie.min.z:1,je=ie.min.x,He=ie.min.y,ze=ie.isBox3?ie.min.z:0;else{const Pt=Math.pow(2,-X);Ce=Math.floor(re.width*Pt),Pe=Math.floor(re.height*Pt),P.isDataArrayTexture?Ne=re.depth:P.isData3DTexture?Ne=Math.floor(re.depth*Pt):Ne=1,je=0,He=0,ze=0}ee!==null?(Q=ee.x,F=ee.y,Z=ee.z):(Q=0,F=0,Z=0);const ae=K.convert(W.format),ye=K.convert(W.type);let xe;W.isData3DTexture?(It.setTexture3D(W,0),xe=H.TEXTURE_3D):W.isDataArrayTexture||W.isCompressedArrayTexture?(It.setTexture2DArray(W,0),xe=H.TEXTURE_2D_ARRAY):(It.setTexture2D(W,0),xe=H.TEXTURE_2D),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,W.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,W.unpackAlignment);const Xe=H.getParameter(H.UNPACK_ROW_LENGTH),Re=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Qe=H.getParameter(H.UNPACK_SKIP_PIXELS),Ze=H.getParameter(H.UNPACK_SKIP_ROWS),xt=H.getParameter(H.UNPACK_SKIP_IMAGES);H.pixelStorei(H.UNPACK_ROW_LENGTH,re.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,re.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,je),H.pixelStorei(H.UNPACK_SKIP_ROWS,He),H.pixelStorei(H.UNPACK_SKIP_IMAGES,ze);const Gt=P.isDataArrayTexture||P.isData3DTexture,Ct=W.isDataArrayTexture||W.isData3DTexture;if(P.isDepthTexture){const Pt=ot.get(P),Xs=ot.get(W),As=ot.get(Pt.__renderTarget),Si=ot.get(Xs.__renderTarget);Y.bindFramebuffer(H.READ_FRAMEBUFFER,As.__webglFramebuffer),Y.bindFramebuffer(H.DRAW_FRAMEBUFFER,Si.__webglFramebuffer);for(let Tn=0;Tn<Ne;Tn++)Gt&&(H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,ot.get(P).__webglTexture,X,ze+Tn),H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,ot.get(W).__webglTexture,he,Z+Tn)),H.blitFramebuffer(je,He,Ce,Pe,Q,F,Ce,Pe,H.DEPTH_BUFFER_BIT,H.NEAREST);Y.bindFramebuffer(H.READ_FRAMEBUFFER,null),Y.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else if(X!==0||P.isRenderTargetTexture||ot.has(P)){const Pt=ot.get(P),Xs=ot.get(W);Y.bindFramebuffer(H.READ_FRAMEBUFFER,ge),Y.bindFramebuffer(H.DRAW_FRAMEBUFFER,Le);for(let As=0;As<Ne;As++)Gt?H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,Pt.__webglTexture,X,ze+As):H.framebufferTexture2D(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,Pt.__webglTexture,X),Ct?H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,Xs.__webglTexture,he,Z+As):H.framebufferTexture2D(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,Xs.__webglTexture,he),X!==0?H.blitFramebuffer(je,He,Ce,Pe,Q,F,Ce,Pe,H.COLOR_BUFFER_BIT,H.NEAREST):Ct?H.copyTexSubImage3D(xe,he,Q,F,Z+As,je,He,Ce,Pe):H.copyTexSubImage2D(xe,he,Q,F,je,He,Ce,Pe);Y.bindFramebuffer(H.READ_FRAMEBUFFER,null),Y.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else Ct?P.isDataTexture||P.isData3DTexture?H.texSubImage3D(xe,he,Q,F,Z,Ce,Pe,Ne,ae,ye,re.data):W.isCompressedArrayTexture?H.compressedTexSubImage3D(xe,he,Q,F,Z,Ce,Pe,Ne,ae,re.data):H.texSubImage3D(xe,he,Q,F,Z,Ce,Pe,Ne,ae,ye,re):P.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,he,Q,F,Ce,Pe,ae,ye,re.data):P.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,he,Q,F,re.width,re.height,ae,re.data):H.texSubImage2D(H.TEXTURE_2D,he,Q,F,Ce,Pe,ae,ye,re);H.pixelStorei(H.UNPACK_ROW_LENGTH,Xe),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Re),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Qe),H.pixelStorei(H.UNPACK_SKIP_ROWS,Ze),H.pixelStorei(H.UNPACK_SKIP_IMAGES,xt),he===0&&W.generateMipmaps&&H.generateMipmap(xe),Y.unbindTexture()},this.copyTextureToTexture3D=function(P,W,ie=null,ee=null,X=0){return _d('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(P,W,ie,ee,X)},this.initRenderTarget=function(P){ot.get(P).__webglFramebuffer===void 0&&It.setupRenderTarget(P)},this.initTexture=function(P){P.isCubeTexture?It.setTextureCube(P,0):P.isData3DTexture?It.setTexture3D(P,0):P.isDataArrayTexture||P.isCompressedArrayTexture?It.setTexture2DArray(P,0):It.setTexture2D(P,0),Y.unbindTexture()},this.resetState=function(){b=0,N=0,C=null,Y.reset(),oe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ir}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=ts._getDrawingBufferColorSpace(e),t.unpackColorSpace=ts._getUnpackColorSpace()}}const dN="0.2.1",uN=0,EL=1,CL=2,nE=2,Pm=1.25,iE=1,nh=32,Sg=65535,bL=Math.pow(2,-24),Rm=Symbol("SKIP_GENERATION");function wL(n){return n.index?n.index.count:n.attributes.position.count}function Va(n){return wL(n)/3}function BL(n,e=ArrayBuffer){return n>65535?new Uint32Array(new e(4*n)):new Uint16Array(new e(2*n))}function NL(n,e){if(!n.index){const t=n.attributes.position.count,s=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,i=BL(t,s);n.setIndex(new rs(i,1));for(let r=0;r<t;r++)i[r]=r}}function hN(n,e){const t=Va(n),s=e||n.drawRange,i=s.start/3,r=(s.start+s.count)/3,o=Math.max(0,i),a=Math.min(t,r)-o;return[{offset:Math.floor(o),count:Math.floor(a)}]}function fN(n,e){if(!n.groups||!n.groups.length)return hN(n,e);const t=[],s=new Set,i=e||n.drawRange,r=i.start/3,o=(i.start+i.count)/3;for(const l of n.groups){const c=l.start/3,d=(l.start+l.count)/3;s.add(Math.max(r,c)),s.add(Math.min(o,d))}const a=Array.from(s.values()).sort((l,c)=>l-c);for(let l=0;l<a.length-1;l++){const c=a[l],d=a[l+1];t.push({offset:Math.floor(c),count:Math.floor(d-c)})}return t}function SL(n,e){const t=Va(n),s=fN(n,e).sort((o,a)=>o.offset-a.offset),i=s[s.length-1];i.count=Math.min(t-i.offset,i.count);let r=0;return s.forEach(({count:o})=>r+=o),t!==r}function Qm(n,e,t,s,i){let r=1/0,o=1/0,a=1/0,l=-1/0,c=-1/0,d=-1/0,u=1/0,h=1/0,f=1/0,A=-1/0,p=-1/0,g=-1/0;for(let m=e*6,y=(e+t)*6;m<y;m+=6){const _=n[m+0],I=n[m+1],v=_-I,E=_+I;v<r&&(r=v),E>l&&(l=E),_<u&&(u=_),_>A&&(A=_);const b=n[m+2],N=n[m+3],C=b-N,B=b+N;C<o&&(o=C),B>c&&(c=B),b<h&&(h=b),b>p&&(p=b);const S=n[m+4],T=n[m+5],D=S-T,L=S+T;D<a&&(a=D),L>d&&(d=L),S<f&&(f=S),S>g&&(g=S)}s[0]=r,s[1]=o,s[2]=a,s[3]=l,s[4]=c,s[5]=d,i[0]=u,i[1]=h,i[2]=f,i[3]=A,i[4]=p,i[5]=g}function ML(n,e=null,t=null,s=null){const i=n.attributes.position,r=n.index?n.index.array:null,o=Va(n),a=i.normalized;let l;e===null?l=new Float32Array(o*6):l=e,t=t||0,s=s||o;const c=i.array,d=i.offset||0;let u=3;i.isInterleavedBufferAttribute&&(u=i.data.stride);const h=["getX","getY","getZ"];for(let f=t;f<t+s;f++){const A=f*3,p=f*6;let g=A+0,m=A+1,y=A+2;r&&(g=r[g],m=r[m],y=r[y]),a||(g=g*u+d,m=m*u+d,y=y*u+d);for(let _=0;_<3;_++){let I,v,E;a?(I=i[h[_]](g),v=i[h[_]](m),E=i[h[_]](y)):(I=c[g+_],v=c[m+_],E=c[y+_]);let b=I;v<b&&(b=v),E<b&&(b=E);let N=I;v>N&&(N=v),E>N&&(N=E);const C=(N-b)/2,B=_*2;l[p+B+0]=b+C,l[p+B+1]=C+(Math.abs(b)+C)*bL}}return l}function Ks(n,e,t){return t.min.x=e[n],t.min.y=e[n+1],t.min.z=e[n+2],t.max.x=e[n+3],t.max.y=e[n+4],t.max.z=e[n+5],t}function rE(n){let e=-1,t=-1/0;for(let s=0;s<3;s++){const i=n[s+3]-n[s];i>t&&(t=i,e=s)}return e}function oE(n,e){e.set(n)}function aE(n,e,t){let s,i;for(let r=0;r<3;r++){const o=r+3;s=n[r],i=e[r],t[r]=s<i?s:i,s=n[o],i=e[o],t[o]=s>i?s:i}}function wf(n,e,t){for(let s=0;s<3;s++){const i=e[n+2*s],r=e[n+2*s+1],o=i-r,a=i+r;o<t[s]&&(t[s]=o),a>t[s+3]&&(t[s+3]=a)}}function gu(n){const e=n[3]-n[0],t=n[4]-n[1],s=n[5]-n[2];return 2*(e*t+t*s+s*e)}const go=32,TL=(n,e)=>n.candidate-e.candidate,Xo=new Array(go).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),Bf=new Float32Array(6);function PL(n,e,t,s,i,r){let o=-1,a=0;if(r===uN)o=rE(e),o!==-1&&(a=(e[o]+e[o+3])/2);else if(r===EL)o=rE(n),o!==-1&&(a=RL(t,s,i,o));else if(r===CL){const l=gu(n);let c=Pm*i;const d=s*6,u=(s+i)*6;for(let h=0;h<3;h++){const f=e[h],g=(e[h+3]-f)/go;if(i<go/4){const m=[...Xo];m.length=i;let y=0;for(let I=d;I<u;I+=6,y++){const v=m[y];v.candidate=t[I+2*h],v.count=0;const{bounds:E,leftCacheBounds:b,rightCacheBounds:N}=v;for(let C=0;C<3;C++)N[C]=1/0,N[C+3]=-1/0,b[C]=1/0,b[C+3]=-1/0,E[C]=1/0,E[C+3]=-1/0;wf(I,t,E)}m.sort(TL);let _=i;for(let I=0;I<_;I++){const v=m[I];for(;I+1<_&&m[I+1].candidate===v.candidate;)m.splice(I+1,1),_--}for(let I=d;I<u;I+=6){const v=t[I+2*h];for(let E=0;E<_;E++){const b=m[E];v>=b.candidate?wf(I,t,b.rightCacheBounds):(wf(I,t,b.leftCacheBounds),b.count++)}}for(let I=0;I<_;I++){const v=m[I],E=v.count,b=i-v.count,N=v.leftCacheBounds,C=v.rightCacheBounds;let B=0;E!==0&&(B=gu(N)/l);let S=0;b!==0&&(S=gu(C)/l);const T=iE+Pm*(B*E+S*b);T<c&&(o=h,c=T,a=v.candidate)}}else{for(let _=0;_<go;_++){const I=Xo[_];I.count=0,I.candidate=f+g+_*g;const v=I.bounds;for(let E=0;E<3;E++)v[E]=1/0,v[E+3]=-1/0}for(let _=d;_<u;_+=6){let E=~~((t[_+2*h]-f)/g);E>=go&&(E=go-1);const b=Xo[E];b.count++,wf(_,t,b.bounds)}const m=Xo[go-1];oE(m.bounds,m.rightCacheBounds);for(let _=go-2;_>=0;_--){const I=Xo[_],v=Xo[_+1];aE(I.bounds,v.rightCacheBounds,I.rightCacheBounds)}let y=0;for(let _=0;_<go-1;_++){const I=Xo[_],v=I.count,E=I.bounds,N=Xo[_+1].rightCacheBounds;v!==0&&(y===0?oE(E,Bf):aE(E,Bf,Bf)),y+=v;let C=0,B=0;y!==0&&(C=gu(Bf)/l);const S=i-y;S!==0&&(B=gu(N)/l);const T=iE+Pm*(C*y+B*S);T<c&&(o=h,c=T,a=I.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${r} used.`);return{axis:o,pos:a}}function RL(n,e,t,s){let i=0;for(let r=e,o=e+t;r<o;r++)i+=n[r*6+s*2];return i/t}class Dm{constructor(){this.boundingData=new Float32Array(6)}}function QL(n,e,t,s,i,r){let o=s,a=s+i-1;const l=r.pos,c=r.axis*2;for(;;){for(;o<=a&&t[o*6+c]<l;)o++;for(;o<=a&&t[a*6+c]>=l;)a--;if(o<a){for(let d=0;d<3;d++){let u=e[o*3+d];e[o*3+d]=e[a*3+d],e[a*3+d]=u}for(let d=0;d<6;d++){let u=t[o*6+d];t[o*6+d]=t[a*6+d],t[a*6+d]=u}o++,a--}else return o}}function DL(n,e,t,s,i,r){let o=s,a=s+i-1;const l=r.pos,c=r.axis*2;for(;;){for(;o<=a&&t[o*6+c]<l;)o++;for(;o<=a&&t[a*6+c]>=l;)a--;if(o<a){let d=n[o];n[o]=n[a],n[a]=d;for(let u=0;u<6;u++){let h=t[o*6+u];t[o*6+u]=t[a*6+u],t[a*6+u]=h}o++,a--}else return o}}function ui(n,e){return e[n+15]===65535}function vi(n,e){return e[n+6]}function qi(n,e){return e[n+14]}function Wi(n){return n+8}function Xi(n,e){return e[n+6]}function AN(n,e){return e[n+7]}let pN,Hu,GA,gN;const LL=Math.pow(2,32);function zx(n){return"count"in n?1:1+zx(n.left)+zx(n.right)}function kL(n,e,t){return pN=new Float32Array(t),Hu=new Uint32Array(t),GA=new Uint16Array(t),gN=new Uint8Array(t),Vx(n,e)}function Vx(n,e){const t=n/4,s=n/2,i="count"in e,r=e.boundingData;for(let o=0;o<6;o++)pN[t+o]=r[o];if(i)if(e.buffer){const o=e.buffer;gN.set(new Uint8Array(o),n);for(let a=n,l=n+o.byteLength;a<l;a+=nh){const c=a/2;ui(c,GA)||(Hu[a/4+6]+=t)}return n+o.byteLength}else{const o=e.offset,a=e.count;return Hu[t+6]=o,GA[s+14]=a,GA[s+15]=Sg,n+nh}else{const o=e.left,a=e.right,l=e.splitAxis;let c;if(c=Vx(n+nh,o),c/4>LL)throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return Hu[t+6]=c/4,c=Vx(c,a),Hu[t+7]=l,c}}function FL(n,e){const t=(n.index?n.index.count:n.attributes.position.count)/3,s=t>2**16,i=s?4:2,r=e?new SharedArrayBuffer(t*i):new ArrayBuffer(t*i),o=s?new Uint32Array(r):new Uint16Array(r);for(let a=0,l=o.length;a<l;a++)o[a]=a;return o}function UL(n,e,t,s,i){const{maxDepth:r,verbose:o,maxLeafTris:a,strategy:l,onProgress:c,indirect:d}=i,u=n._indirectBuffer,h=n.geometry,f=h.index?h.index.array:null,A=d?DL:QL,p=Va(h),g=new Float32Array(6);let m=!1;const y=new Dm;return Qm(e,t,s,y.boundingData,g),I(y,t,s,g),y;function _(v){c&&c(v/p)}function I(v,E,b,N=null,C=0){if(!m&&C>=r&&(m=!0,o&&(console.warn(`MeshBVH: Max depth of ${r} reached when generating BVH. Consider increasing maxDepth.`),console.warn(h))),b<=a||C>=r)return _(E+b),v.offset=E,v.count=b,v;const B=PL(v.boundingData,N,e,E,b,l);if(B.axis===-1)return _(E+b),v.offset=E,v.count=b,v;const S=A(u,f,e,E,b,B);if(S===E||S===E+b)_(E+b),v.offset=E,v.count=b;else{v.splitAxis=B.axis;const T=new Dm,D=E,L=S-E;v.left=T,Qm(e,D,L,T.boundingData,g),I(T,D,L,g,C+1);const z=new Dm,V=S,se=b-L;v.right=z,Qm(e,V,se,z.boundingData,g),I(z,V,se,g,C+1)}return v}}function OL(n,e){const t=n.geometry;e.indirect&&(n._indirectBuffer=FL(t,e.useSharedArrayBuffer),SL(t,e.range)&&!e.verbose&&console.warn('MeshBVH: Provided geometry contains groups or a range that do not fully span the vertex contents while using the "indirect" option. BVH may incorrectly report intersections on unrendered portions of the geometry.')),n._indirectBuffer||NL(t,e);const s=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,i=hN(t,e.range),r=ML(t,null,i[0].offset,i[0].count),o=e.indirect?i:fN(t,e.range);n._roots=o.map(a=>{const l=UL(n,r,a.offset,a.count,e),c=zx(l),d=new s(nh*c);return kL(0,l,d),d})}class Po{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let s=1/0,i=-1/0;for(let r=0,o=e.length;r<o;r++){const l=e[r][t];s=l<s?l:s,i=l>i?l:i}this.min=s,this.max=i}setFromPoints(e,t){let s=1/0,i=-1/0;for(let r=0,o=t.length;r<o;r++){const a=t[r],l=e.dot(a);s=l<s?l:s,i=l>i?l:i}this.min=s,this.max=i}isSeparated(e){return this.min>e.max||e.min>this.max}}Po.prototype.setFromBox=(function(){const n=new w;return function(t,s){const i=s.min,r=s.max;let o=1/0,a=-1/0;for(let l=0;l<=1;l++)for(let c=0;c<=1;c++)for(let d=0;d<=1;d++){n.x=i.x*l+r.x*(1-l),n.y=i.y*c+r.y*(1-c),n.z=i.z*d+r.z*(1-d);const u=t.dot(n);o=Math.min(u,o),a=Math.max(u,a)}this.min=o,this.max=a}})();const GL=(function(){const n=new w,e=new w,t=new w;return function(i,r,o){const a=i.start,l=n,c=r.start,d=e;t.subVectors(a,c),n.subVectors(i.end,i.start),e.subVectors(r.end,r.start);const u=t.dot(d),h=d.dot(l),f=d.dot(d),A=t.dot(l),g=l.dot(l)*f-h*h;let m,y;g!==0?m=(u*h-A*f)/g:m=0,y=(u+m*h)/f,o.x=m,o.y=y}})(),L_=(function(){const n=new Be,e=new w,t=new w;return function(i,r,o,a){GL(i,r,n);let l=n.x,c=n.y;if(l>=0&&l<=1&&c>=0&&c<=1){i.at(l,o),r.at(c,a);return}else if(l>=0&&l<=1){c<0?r.at(0,a):r.at(1,a),i.closestPointToPoint(a,!0,o);return}else if(c>=0&&c<=1){l<0?i.at(0,o):i.at(1,o),r.closestPointToPoint(o,!0,a);return}else{let d;l<0?d=i.start:d=i.end;let u;c<0?u=r.start:u=r.end;const h=e,f=t;if(i.closestPointToPoint(u,!0,e),r.closestPointToPoint(d,!0,t),h.distanceToSquared(u)<=f.distanceToSquared(d)){o.copy(h),a.copy(u);return}else{o.copy(d),a.copy(f);return}}}})(),HL=(function(){const n=new w,e=new w,t=new ps,s=new ti;return function(r,o){const{radius:a,center:l}=r,{a:c,b:d,c:u}=o;if(s.start=c,s.end=d,s.closestPointToPoint(l,!0,n).distanceTo(l)<=a||(s.start=c,s.end=u,s.closestPointToPoint(l,!0,n).distanceTo(l)<=a)||(s.start=d,s.end=u,s.closestPointToPoint(l,!0,n).distanceTo(l)<=a))return!0;const p=o.getPlane(t);if(Math.abs(p.distanceToPoint(l))<=a){const m=p.projectPoint(l,e);if(o.containsPoint(m))return!0}return!1}})(),zL=["x","y","z"],yo=1e-15,lE=yo*yo;function Ti(n){return Math.abs(n)<yo}class wr extends sn{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new w),this.satBounds=new Array(4).fill().map(()=>new Po),this.points=[this.a,this.b,this.c],this.plane=new ps,this.isDegenerateIntoSegment=!1,this.isDegenerateIntoPoint=!1,this.degenerateSegment=new ti,this.needsUpdate=!0}intersectsSphere(e){return HL(e,this)}update(){const e=this.a,t=this.b,s=this.c,i=this.points,r=this.satAxes,o=this.satBounds,a=r[0],l=o[0];this.getNormal(a),l.setFromPoints(a,i);const c=r[1],d=o[1];c.subVectors(e,t),d.setFromPoints(c,i);const u=r[2],h=o[2];u.subVectors(t,s),h.setFromPoints(u,i);const f=r[3],A=o[3];f.subVectors(s,e),A.setFromPoints(f,i);const p=c.length(),g=u.length(),m=f.length();this.isDegenerateIntoPoint=!1,this.isDegenerateIntoSegment=!1,p<yo?g<yo||m<yo?this.isDegenerateIntoPoint=!0:(this.isDegenerateIntoSegment=!0,this.degenerateSegment.start.copy(e),this.degenerateSegment.end.copy(s)):g<yo?m<yo?this.isDegenerateIntoPoint=!0:(this.isDegenerateIntoSegment=!0,this.degenerateSegment.start.copy(t),this.degenerateSegment.end.copy(e)):m<yo&&(this.isDegenerateIntoSegment=!0,this.degenerateSegment.start.copy(s),this.degenerateSegment.end.copy(t)),this.plane.setFromNormalAndCoplanarPoint(a,e),this.needsUpdate=!1}}wr.prototype.closestPointToSegment=(function(){const n=new w,e=new w,t=new ti;return function(i,r=null,o=null){const{start:a,end:l}=i,c=this.points;let d,u=1/0;for(let h=0;h<3;h++){const f=(h+1)%3;t.start.copy(c[h]),t.end.copy(c[f]),L_(t,i,n,e),d=n.distanceToSquared(e),d<u&&(u=d,r&&r.copy(n),o&&o.copy(e))}return this.closestPointToPoint(a,n),d=a.distanceToSquared(n),d<u&&(u=d,r&&r.copy(n),o&&o.copy(a)),this.closestPointToPoint(l,n),d=l.distanceToSquared(n),d<u&&(u=d,r&&r.copy(n),o&&o.copy(l)),Math.sqrt(u)}})();wr.prototype.intersectsTriangle=(function(){const n=new wr,e=new Po,t=new Po,s=new w,i=new w,r=new w,o=new w,a=new ti,l=new ti,c=new w,d=new Be,u=new Be;function h(_,I,v,E){const b=s;!_.isDegenerateIntoPoint&&!_.isDegenerateIntoSegment?b.copy(_.plane.normal):b.copy(I.plane.normal);const N=_.satBounds,C=_.satAxes;for(let T=1;T<4;T++){const D=N[T],L=C[T];if(e.setFromPoints(L,I.points),D.isSeparated(e)||(o.copy(b).cross(L),e.setFromPoints(o,_.points),t.setFromPoints(o,I.points),e.isSeparated(t)))return!1}const B=I.satBounds,S=I.satAxes;for(let T=1;T<4;T++){const D=B[T],L=S[T];if(e.setFromPoints(L,_.points),D.isSeparated(e)||(o.crossVectors(b,L),e.setFromPoints(o,_.points),t.setFromPoints(o,I.points),e.isSeparated(t)))return!1}return v&&(E||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),v.start.set(0,0,0),v.end.set(0,0,0)),!0}function f(_,I,v,E,b,N,C,B,S,T,D){let L=C/(C-B);T.x=E+(b-E)*L,D.start.subVectors(I,_).multiplyScalar(L).add(_),L=C/(C-S),T.y=E+(N-E)*L,D.end.subVectors(v,_).multiplyScalar(L).add(_)}function A(_,I,v,E,b,N,C,B,S,T,D){if(b>0)f(_.c,_.a,_.b,E,I,v,S,C,B,T,D);else if(N>0)f(_.b,_.a,_.c,v,I,E,B,C,S,T,D);else if(B*S>0||C!=0)f(_.a,_.b,_.c,I,v,E,C,B,S,T,D);else if(B!=0)f(_.b,_.a,_.c,v,I,E,B,C,S,T,D);else if(S!=0)f(_.c,_.a,_.b,E,I,v,S,C,B,T,D);else return!0;return!1}function p(_,I,v,E){const b=I.degenerateSegment,N=_.plane.distanceToPoint(b.start),C=_.plane.distanceToPoint(b.end);return Ti(N)?Ti(C)?h(_,I,v,E):(v&&(v.start.copy(b.start),v.end.copy(b.start)),_.containsPoint(b.start)):Ti(C)?(v&&(v.start.copy(b.end),v.end.copy(b.end)),_.containsPoint(b.end)):_.plane.intersectLine(b,s)!=null?(v&&(v.start.copy(s),v.end.copy(s)),_.containsPoint(s)):!1}function g(_,I,v){const E=I.a;return Ti(_.plane.distanceToPoint(E))&&_.containsPoint(E)?(v&&(v.start.copy(E),v.end.copy(E)),!0):!1}function m(_,I,v){const E=_.degenerateSegment,b=I.a;return E.closestPointToPoint(b,!0,s),b.distanceToSquared(s)<lE?(v&&(v.start.copy(b),v.end.copy(b)),!0):!1}function y(_,I,v,E){if(_.isDegenerateIntoSegment)if(I.isDegenerateIntoSegment){const b=_.degenerateSegment,N=I.degenerateSegment,C=i,B=r;b.delta(C),N.delta(B);const S=s.subVectors(N.start,b.start),T=C.x*B.y-C.y*B.x;if(Ti(T))return!1;const D=(S.x*B.y-S.y*B.x)/T,L=-(C.x*S.y-C.y*S.x)/T;if(D<0||D>1||L<0||L>1)return!1;const z=b.start.z+C.z*D,V=N.start.z+B.z*L;return Ti(z-V)?(v&&(v.start.copy(b.start).addScaledVector(C,D),v.end.copy(b.start).addScaledVector(C,D)),!0):!1}else return I.isDegenerateIntoPoint?m(_,I,v):p(I,_,v,E);else{if(_.isDegenerateIntoPoint)return I.isDegenerateIntoPoint?I.a.distanceToSquared(_.a)<lE?(v&&(v.start.copy(_.a),v.end.copy(_.a)),!0):!1:I.isDegenerateIntoSegment?m(I,_,v):g(I,_,v);if(I.isDegenerateIntoPoint)return g(_,I,v);if(I.isDegenerateIntoSegment)return p(_,I,v,E)}}return function(I,v=null,E=!1){this.needsUpdate&&this.update(),I.isExtendedTriangle?I.needsUpdate&&I.update():(n.copy(I),n.update(),I=n);const b=y(this,I,v,E);if(b!==void 0)return b;const N=this.plane,C=I.plane;let B=C.distanceToPoint(this.a),S=C.distanceToPoint(this.b),T=C.distanceToPoint(this.c);Ti(B)&&(B=0),Ti(S)&&(S=0),Ti(T)&&(T=0);const D=B*S,L=B*T;if(D>0&&L>0)return!1;let z=N.distanceToPoint(I.a),V=N.distanceToPoint(I.b),se=N.distanceToPoint(I.c);Ti(z)&&(z=0),Ti(V)&&(V=0),Ti(se)&&(se=0);const q=z*V,Ae=z*se;if(q>0&&Ae>0)return!1;i.copy(N.normal),r.copy(C.normal);const pe=i.cross(r);let Ye=0,Me=Math.abs(pe.x);const We=Math.abs(pe.y);We>Me&&(Me=We,Ye=1),Math.abs(pe.z)>Me&&(Ye=2);const j=zL[Ye],O=this.a[j],U=this.b[j],$=this.c[j],me=I.a[j],ue=I.b[j],Se=I.c[j];if(A(this,O,U,$,D,L,B,S,T,d,a))return h(this,I,v,E);if(A(I,me,ue,Se,q,Ae,z,V,se,u,l))return h(this,I,v,E);if(d.y<d.x){const we=d.y;d.y=d.x,d.x=we,c.copy(a.start),a.start.copy(a.end),a.end.copy(c)}if(u.y<u.x){const we=u.y;u.y=u.x,u.x=we,c.copy(l.start),l.start.copy(l.end),l.end.copy(c)}return d.y<u.x||u.y<d.x?!1:(v&&(u.x>d.x?v.start.copy(l.start):v.start.copy(a.start),u.y<d.y?v.end.copy(l.end):v.end.copy(a.end)),!0)}})();wr.prototype.distanceToPoint=(function(){const n=new w;return function(t){return this.closestPointToPoint(t,n),t.distanceTo(n)}})();wr.prototype.distanceToTriangle=(function(){const n=new w,e=new w,t=["a","b","c"],s=new ti,i=new ti;return function(o,a=null,l=null){const c=a||l?s:null;if(this.intersectsTriangle(o,c))return(a||l)&&(a&&c.getCenter(a),l&&c.getCenter(l)),0;let d=1/0;for(let u=0;u<3;u++){let h;const f=t[u],A=o[f];this.closestPointToPoint(A,n),h=A.distanceToSquared(n),h<d&&(d=h,a&&a.copy(n),l&&l.copy(A));const p=this[f];o.closestPointToPoint(p,n),h=p.distanceToSquared(n),h<d&&(d=h,a&&a.copy(p),l&&l.copy(n))}for(let u=0;u<3;u++){const h=t[u],f=t[(u+1)%3];s.set(this[h],this[f]);for(let A=0;A<3;A++){const p=t[A],g=t[(A+1)%3];i.set(o[p],o[g]),L_(s,i,n,e);const m=n.distanceToSquared(e);m<d&&(d=m,a&&a.copy(n),l&&l.copy(e))}}return Math.sqrt(d)}})();class si{constructor(e,t,s){this.isOrientedBox=!0,this.min=new w,this.max=new w,this.matrix=new Je,this.invMatrix=new Je,this.points=new Array(8).fill().map(()=>new w),this.satAxes=new Array(3).fill().map(()=>new w),this.satBounds=new Array(3).fill().map(()=>new Po),this.alignedSatBounds=new Array(3).fill().map(()=>new Po),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),s&&this.matrix.copy(s)}set(e,t,s){this.min.copy(e),this.max.copy(t),this.matrix.copy(s),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}}si.prototype.update=(function(){return function(){const e=this.matrix,t=this.min,s=this.max,i=this.points;for(let c=0;c<=1;c++)for(let d=0;d<=1;d++)for(let u=0;u<=1;u++){const h=1*c|2*d|4*u,f=i[h];f.x=c?s.x:t.x,f.y=d?s.y:t.y,f.z=u?s.z:t.z,f.applyMatrix4(e)}const r=this.satBounds,o=this.satAxes,a=i[0];for(let c=0;c<3;c++){const d=o[c],u=r[c],h=1<<c,f=i[h];d.subVectors(a,f),u.setFromPoints(d,i)}const l=this.alignedSatBounds;l[0].setFromPointsField(i,"x"),l[1].setFromPointsField(i,"y"),l[2].setFromPointsField(i,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}})();si.prototype.intersectsBox=(function(){const n=new Po;return function(t){this.needsUpdate&&this.update();const s=t.min,i=t.max,r=this.satBounds,o=this.satAxes,a=this.alignedSatBounds;if(n.min=s.x,n.max=i.x,a[0].isSeparated(n)||(n.min=s.y,n.max=i.y,a[1].isSeparated(n))||(n.min=s.z,n.max=i.z,a[2].isSeparated(n)))return!1;for(let l=0;l<3;l++){const c=o[l],d=r[l];if(n.setFromBox(c,t),d.isSeparated(n))return!1}return!0}})();si.prototype.intersectsTriangle=(function(){const n=new wr,e=new Array(3),t=new Po,s=new Po,i=new w;return function(o){this.needsUpdate&&this.update(),o.isExtendedTriangle?o.needsUpdate&&o.update():(n.copy(o),n.update(),o=n);const a=this.satBounds,l=this.satAxes;e[0]=o.a,e[1]=o.b,e[2]=o.c;for(let h=0;h<3;h++){const f=a[h],A=l[h];if(t.setFromPoints(A,e),f.isSeparated(t))return!1}const c=o.satBounds,d=o.satAxes,u=this.points;for(let h=0;h<3;h++){const f=c[h],A=d[h];if(t.setFromPoints(A,u),f.isSeparated(t))return!1}for(let h=0;h<3;h++){const f=l[h];for(let A=0;A<4;A++){const p=d[A];if(i.crossVectors(f,p),t.setFromPoints(i,e),s.setFromPoints(i,u),t.isSeparated(s))return!1}}return!0}})();si.prototype.closestPointToPoint=(function(){return function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t}})();si.prototype.distanceToPoint=(function(){const n=new w;return function(t){return this.closestPointToPoint(t,n),t.distanceTo(n)}})();si.prototype.distanceToBox=(function(){const n=["x","y","z"],e=new Array(12).fill().map(()=>new ti),t=new Array(12).fill().map(()=>new ti),s=new w,i=new w;return function(o,a=0,l=null,c=null){if(this.needsUpdate&&this.update(),this.intersectsBox(o))return(l||c)&&(o.getCenter(i),this.closestPointToPoint(i,s),o.closestPointToPoint(s,i),l&&l.copy(s),c&&c.copy(i)),0;const d=a*a,u=o.min,h=o.max,f=this.points;let A=1/0;for(let g=0;g<8;g++){const m=f[g];i.copy(m).clamp(u,h);const y=m.distanceToSquared(i);if(y<A&&(A=y,l&&l.copy(m),c&&c.copy(i),y<d))return Math.sqrt(y)}let p=0;for(let g=0;g<3;g++)for(let m=0;m<=1;m++)for(let y=0;y<=1;y++){const _=(g+1)%3,I=(g+2)%3,v=m<<_|y<<I,E=1<<g|m<<_|y<<I,b=f[v],N=f[E];e[p].set(b,N);const B=n[g],S=n[_],T=n[I],D=t[p],L=D.start,z=D.end;L[B]=u[B],L[S]=m?u[S]:h[S],L[T]=y?u[T]:h[S],z[B]=h[B],z[S]=m?u[S]:h[S],z[T]=y?u[T]:h[S],p++}for(let g=0;g<=1;g++)for(let m=0;m<=1;m++)for(let y=0;y<=1;y++){i.x=g?h.x:u.x,i.y=m?h.y:u.y,i.z=y?h.z:u.z,this.closestPointToPoint(i,s);const _=i.distanceToSquared(s);if(_<A&&(A=_,l&&l.copy(s),c&&c.copy(i),_<d))return Math.sqrt(_)}for(let g=0;g<12;g++){const m=e[g];for(let y=0;y<12;y++){const _=t[y];L_(m,_,s,i);const I=s.distanceToSquared(i);if(I<A&&(A=I,l&&l.copy(s),c&&c.copy(i),I<d))return Math.sqrt(I)}}return Math.sqrt(A)}})();class k_{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){const e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}}class VL extends k_{constructor(){super(()=>new wr)}}const Yi=new VL;class qL{constructor(){this.float32Array=null,this.uint16Array=null,this.uint32Array=null;const e=[];let t=null;this.setBuffer=s=>{t&&e.push(t),t=s,this.float32Array=new Float32Array(s),this.uint16Array=new Uint16Array(s),this.uint32Array=new Uint32Array(s)},this.clearBuffer=()=>{t=null,this.float32Array=null,this.uint16Array=null,this.uint32Array=null,e.length!==0&&this.setBuffer(e.pop())}}}const Os=new qL;let ya,cd;const Cc=[],Nf=new k_(()=>new Jt);function WL(n,e,t,s,i,r){ya=Nf.getPrimitive(),cd=Nf.getPrimitive(),Cc.push(ya,cd),Os.setBuffer(n._roots[e]);const o=qx(0,n.geometry,t,s,i,r);Os.clearBuffer(),Nf.releasePrimitive(ya),Nf.releasePrimitive(cd),Cc.pop(),Cc.pop();const a=Cc.length;return a>0&&(cd=Cc[a-1],ya=Cc[a-2]),o}function qx(n,e,t,s,i=null,r=0,o=0){const{float32Array:a,uint16Array:l,uint32Array:c}=Os;let d=n*2;if(ui(d,l)){const h=vi(n,c),f=qi(d,l);return Ks(n,a,ya),s(h,f,!1,o,r+n,ya)}else{let B=function(T){const{uint16Array:D,uint32Array:L}=Os;let z=T*2;for(;!ui(z,D);)T=Wi(T),z=T*2;return vi(T,L)},S=function(T){const{uint16Array:D,uint32Array:L}=Os;let z=T*2;for(;!ui(z,D);)T=Xi(T,L),z=T*2;return vi(T,L)+qi(z,D)};const h=Wi(n),f=Xi(n,c);let A=h,p=f,g,m,y,_;if(i&&(y=ya,_=cd,Ks(A,a,y),Ks(p,a,_),g=i(y),m=i(_),m<g)){A=f,p=h;const T=g;g=m,m=T,y=_}y||(y=ya,Ks(A,a,y));const I=ui(A*2,l),v=t(y,I,g,o+1,r+A);let E;if(v===nE){const T=B(A),L=S(A)-T;E=s(T,L,!0,o+1,r+A,y)}else E=v&&qx(A,e,t,s,i,r,o+1);if(E)return!0;_=cd,Ks(p,a,_);const b=ui(p*2,l),N=t(_,b,m,o+1,r+p);let C;if(N===nE){const T=B(p),L=S(p)-T;C=s(T,L,!0,o+1,r+p,_)}else C=N&&qx(p,e,t,s,i,r,o+1);return!!C}}const mu=new w,Lm=new w;function XL(n,e,t={},s=0,i=1/0){const r=s*s,o=i*i;let a=1/0,l=null;if(n.shapecast({boundsTraverseOrder:d=>(mu.copy(e).clamp(d.min,d.max),mu.distanceToSquared(e)),intersectsBounds:(d,u,h)=>h<a&&h<o,intersectsTriangle:(d,u)=>{d.closestPointToPoint(e,mu);const h=e.distanceToSquared(mu);return h<a&&(Lm.copy(mu),a=h,l=u),h<r}}),a===1/0)return null;const c=Math.sqrt(a);return t.point?t.point.copy(Lm):t.point=Lm.clone(),t.distance=c,t.faceIndex=l,t}const Sf=parseInt(Fo)>=169,YL=parseInt(Fo)<=161,ol=new w,al=new w,ll=new w,Mf=new Be,Tf=new Be,Pf=new Be,cE=new w,dE=new w,uE=new w,xu=new w;function JL(n,e,t,s,i,r,o,a){let l;if(r===Ls?l=n.intersectTriangle(s,t,e,!0,i):l=n.intersectTriangle(e,t,s,r!==js,i),l===null)return null;const c=n.origin.distanceTo(i);return c<o||c>a?null:{distance:c,point:i.clone()}}function KL(n,e,t,s,i,r,o,a,l,c,d){ol.fromBufferAttribute(e,r),al.fromBufferAttribute(e,o),ll.fromBufferAttribute(e,a);const u=JL(n,ol,al,ll,xu,l,c,d);if(u){if(s){Mf.fromBufferAttribute(s,r),Tf.fromBufferAttribute(s,o),Pf.fromBufferAttribute(s,a),u.uv=new Be;const f=sn.getInterpolation(xu,ol,al,ll,Mf,Tf,Pf,u.uv);Sf||(u.uv=f)}if(i){Mf.fromBufferAttribute(i,r),Tf.fromBufferAttribute(i,o),Pf.fromBufferAttribute(i,a),u.uv1=new Be;const f=sn.getInterpolation(xu,ol,al,ll,Mf,Tf,Pf,u.uv1);Sf||(u.uv1=f),YL&&(u.uv2=u.uv1)}if(t){cE.fromBufferAttribute(t,r),dE.fromBufferAttribute(t,o),uE.fromBufferAttribute(t,a),u.normal=new w;const f=sn.getInterpolation(xu,ol,al,ll,cE,dE,uE,u.normal);u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1),Sf||(u.normal=f)}const h={a:r,b:o,c:a,normal:new w,materialIndex:0};if(sn.getNormal(ol,al,ll,h.normal),u.face=h,u.faceIndex=r,Sf){const f=new w;sn.getBarycoord(xu,ol,al,ll,f),u.barycoord=f}}return u}function Mg(n,e,t,s,i,r,o){const a=s*3;let l=a+0,c=a+1,d=a+2;const u=n.index;n.index&&(l=u.getX(l),c=u.getX(c),d=u.getX(d));const{position:h,normal:f,uv:A,uv1:p}=n.attributes,g=KL(t,h,f,A,p,l,c,d,e,r,o);return g?(g.faceIndex=s,i&&i.push(g),g):null}function dn(n,e,t,s){const i=n.a,r=n.b,o=n.c;let a=e,l=e+1,c=e+2;t&&(a=t.getX(a),l=t.getX(l),c=t.getX(c)),i.x=s.getX(a),i.y=s.getY(a),i.z=s.getZ(a),r.x=s.getX(l),r.y=s.getY(l),r.z=s.getZ(l),o.x=s.getX(c),o.y=s.getY(c),o.z=s.getZ(c)}function jL(n,e,t,s,i,r,o,a){const{geometry:l,_indirectBuffer:c}=n;for(let d=s,u=s+i;d<u;d++)Mg(l,e,t,d,r,o,a)}function ZL(n,e,t,s,i,r,o){const{geometry:a,_indirectBuffer:l}=n;let c=1/0,d=null;for(let u=s,h=s+i;u<h;u++){let f;f=Mg(a,e,t,u,null,r,o),f&&f.distance<c&&(d=f,c=f.distance)}return d}function $L(n,e,t,s,i,r,o){const{geometry:a}=t,{index:l}=a,c=a.attributes.position;for(let d=n,u=e+n;d<u;d++){let h;if(h=d,dn(o,h*3,l,c),o.needsUpdate=!0,s(o,h,i,r))return!0}return!1}function ek(n,e=null){e&&Array.isArray(e)&&(e=new Set(e));const t=n.geometry,s=t.index?t.index.array:null,i=t.attributes.position;let r,o,a,l,c=0;const d=n._roots;for(let h=0,f=d.length;h<f;h++)r=d[h],o=new Uint32Array(r),a=new Uint16Array(r),l=new Float32Array(r),u(0,c),c+=r.byteLength;function u(h,f,A=!1){const p=h*2;if(a[p+15]===Sg){const m=o[h+6],y=a[p+14];let _=1/0,I=1/0,v=1/0,E=-1/0,b=-1/0,N=-1/0;for(let C=3*m,B=3*(m+y);C<B;C++){let S=s[C];const T=i.getX(S),D=i.getY(S),L=i.getZ(S);T<_&&(_=T),T>E&&(E=T),D<I&&(I=D),D>b&&(b=D),L<v&&(v=L),L>N&&(N=L)}return l[h+0]!==_||l[h+1]!==I||l[h+2]!==v||l[h+3]!==E||l[h+4]!==b||l[h+5]!==N?(l[h+0]=_,l[h+1]=I,l[h+2]=v,l[h+3]=E,l[h+4]=b,l[h+5]=N,!0):!1}else{const m=h+8,y=o[h+6],_=m+f,I=y+f;let v=A,E=!1,b=!1;e?v||(E=e.has(_),b=e.has(I),v=!E&&!b):(E=!0,b=!0);const N=v||E,C=v||b;let B=!1;N&&(B=u(m,f,v));let S=!1;C&&(S=u(y,f,v));const T=B||S;if(T)for(let D=0;D<3;D++){const L=m+D,z=y+D,V=l[L],se=l[L+3],q=l[z],Ae=l[z+3];l[h+D]=V<q?V:q,l[h+D+3]=se>Ae?se:Ae}return T}}}function Oa(n,e,t,s,i){let r,o,a,l,c,d;const u=1/t.direction.x,h=1/t.direction.y,f=1/t.direction.z,A=t.origin.x,p=t.origin.y,g=t.origin.z;let m=e[n],y=e[n+3],_=e[n+1],I=e[n+3+1],v=e[n+2],E=e[n+3+2];return u>=0?(r=(m-A)*u,o=(y-A)*u):(r=(y-A)*u,o=(m-A)*u),h>=0?(a=(_-p)*h,l=(I-p)*h):(a=(I-p)*h,l=(_-p)*h),r>l||a>o||((a>r||isNaN(r))&&(r=a),(l<o||isNaN(o))&&(o=l),f>=0?(c=(v-g)*f,d=(E-g)*f):(c=(E-g)*f,d=(v-g)*f),r>d||c>o)?!1:((c>r||r!==r)&&(r=c),(d<o||o!==o)&&(o=d),r<=i&&o>=s)}function tk(n,e,t,s,i,r,o,a){const{geometry:l,_indirectBuffer:c}=n;for(let d=s,u=s+i;d<u;d++){let h=c?c[d]:d;Mg(l,e,t,h,r,o,a)}}function sk(n,e,t,s,i,r,o){const{geometry:a,_indirectBuffer:l}=n;let c=1/0,d=null;for(let u=s,h=s+i;u<h;u++){let f;f=Mg(a,e,t,l?l[u]:u,null,r,o),f&&f.distance<c&&(d=f,c=f.distance)}return d}function nk(n,e,t,s,i,r,o){const{geometry:a}=t,{index:l}=a,c=a.attributes.position;for(let d=n,u=e+n;d<u;d++){let h;if(h=t.resolveTriangleIndex(d),dn(o,h*3,l,c),o.needsUpdate=!0,s(o,h,i,r))return!0}return!1}function ik(n,e,t,s,i,r,o){Os.setBuffer(n._roots[e]),Wx(0,n,t,s,i,r,o),Os.clearBuffer()}function Wx(n,e,t,s,i,r,o){const{float32Array:a,uint16Array:l,uint32Array:c}=Os,d=n*2;if(ui(d,l)){const h=vi(n,c),f=qi(d,l);jL(e,t,s,h,f,i,r,o)}else{const h=Wi(n);Oa(h,a,s,r,o)&&Wx(h,e,t,s,i,r,o);const f=Xi(n,c);Oa(f,a,s,r,o)&&Wx(f,e,t,s,i,r,o)}}const rk=["x","y","z"];function ok(n,e,t,s,i,r){Os.setBuffer(n._roots[e]);const o=Xx(0,n,t,s,i,r);return Os.clearBuffer(),o}function Xx(n,e,t,s,i,r){const{float32Array:o,uint16Array:a,uint32Array:l}=Os;let c=n*2;if(ui(c,a)){const u=vi(n,l),h=qi(c,a);return ZL(e,t,s,u,h,i,r)}else{const u=AN(n,l),h=rk[u],A=s.direction[h]>=0;let p,g;A?(p=Wi(n),g=Xi(n,l)):(p=Xi(n,l),g=Wi(n));const y=Oa(p,o,s,i,r)?Xx(p,e,t,s,i,r):null;if(y){const v=y.point[h];if(A?v<=o[g+u]:v>=o[g+u+3])return y}const I=Oa(g,o,s,i,r)?Xx(g,e,t,s,i,r):null;return y&&I?y.distance<=I.distance?y:I:y||I||null}}const Rf=new Jt,bc=new wr,wc=new wr,yu=new Je,hE=new si,Qf=new si;function ak(n,e,t,s){Os.setBuffer(n._roots[e]);const i=Yx(0,n,t,s);return Os.clearBuffer(),i}function Yx(n,e,t,s,i=null){const{float32Array:r,uint16Array:o,uint32Array:a}=Os;let l=n*2;if(i===null&&(t.boundingBox||t.computeBoundingBox(),hE.set(t.boundingBox.min,t.boundingBox.max,s),i=hE),ui(l,o)){const d=e.geometry,u=d.index,h=d.attributes.position,f=t.index,A=t.attributes.position,p=vi(n,a),g=qi(l,o);if(yu.copy(s).invert(),t.boundsTree)return Ks(n,r,Qf),Qf.matrix.copy(yu),Qf.needsUpdate=!0,t.boundsTree.shapecast({intersectsBounds:y=>Qf.intersectsBox(y),intersectsTriangle:y=>{y.a.applyMatrix4(s),y.b.applyMatrix4(s),y.c.applyMatrix4(s),y.needsUpdate=!0;for(let _=p*3,I=(g+p)*3;_<I;_+=3)if(dn(wc,_,u,h),wc.needsUpdate=!0,y.intersectsTriangle(wc))return!0;return!1}});{const m=Va(t);for(let y=p*3,_=(g+p)*3;y<_;y+=3){dn(bc,y,u,h),bc.a.applyMatrix4(yu),bc.b.applyMatrix4(yu),bc.c.applyMatrix4(yu),bc.needsUpdate=!0;for(let I=0,v=m*3;I<v;I+=3)if(dn(wc,I,f,A),wc.needsUpdate=!0,bc.intersectsTriangle(wc))return!0}}}else{const d=n+8,u=a[n+6];return Ks(d,r,Rf),!!(i.intersectsBox(Rf)&&Yx(d,e,t,s,i)||(Ks(u,r,Rf),i.intersectsBox(Rf)&&Yx(u,e,t,s,i)))}}const Df=new Je,km=new si,_u=new si,lk=new w,ck=new w,dk=new w,uk=new w;function hk(n,e,t,s={},i={},r=0,o=1/0){e.boundingBox||e.computeBoundingBox(),km.set(e.boundingBox.min,e.boundingBox.max,t),km.needsUpdate=!0;const a=n.geometry,l=a.attributes.position,c=a.index,d=e.attributes.position,u=e.index,h=Yi.getPrimitive(),f=Yi.getPrimitive();let A=lk,p=ck,g=null,m=null;i&&(g=dk,m=uk);let y=1/0,_=null,I=null;return Df.copy(t).invert(),_u.matrix.copy(Df),n.shapecast({boundsTraverseOrder:v=>km.distanceToBox(v),intersectsBounds:(v,E,b)=>b<y&&b<o?(E&&(_u.min.copy(v.min),_u.max.copy(v.max),_u.needsUpdate=!0),!0):!1,intersectsRange:(v,E)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:N=>_u.distanceToBox(N),intersectsBounds:(N,C,B)=>B<y&&B<o,intersectsRange:(N,C)=>{for(let B=N,S=N+C;B<S;B++){dn(f,3*B,u,d),f.a.applyMatrix4(t),f.b.applyMatrix4(t),f.c.applyMatrix4(t),f.needsUpdate=!0;for(let T=v,D=v+E;T<D;T++){dn(h,3*T,c,l),h.needsUpdate=!0;const L=h.distanceToTriangle(f,A,g);if(L<y&&(p.copy(A),m&&m.copy(g),y=L,_=T,I=B),L<r)return!0}}}});{const b=Va(e);for(let N=0,C=b;N<C;N++){dn(f,3*N,u,d),f.a.applyMatrix4(t),f.b.applyMatrix4(t),f.c.applyMatrix4(t),f.needsUpdate=!0;for(let B=v,S=v+E;B<S;B++){dn(h,3*B,c,l),h.needsUpdate=!0;const T=h.distanceToTriangle(f,A,g);if(T<y&&(p.copy(A),m&&m.copy(g),y=T,_=B,I=N),T<r)return!0}}}}}),Yi.releasePrimitive(h),Yi.releasePrimitive(f),y===1/0?null:(s.point?s.point.copy(p):s.point=p.clone(),s.distance=y,s.faceIndex=_,i&&(i.point?i.point.copy(m):i.point=m.clone(),i.point.applyMatrix4(Df),p.applyMatrix4(Df),i.distance=p.sub(i.point).length(),i.faceIndex=I),s)}function fk(n,e=null){e&&Array.isArray(e)&&(e=new Set(e));const t=n.geometry,s=t.index?t.index.array:null,i=t.attributes.position;let r,o,a,l,c=0;const d=n._roots;for(let h=0,f=d.length;h<f;h++)r=d[h],o=new Uint32Array(r),a=new Uint16Array(r),l=new Float32Array(r),u(0,c),c+=r.byteLength;function u(h,f,A=!1){const p=h*2;if(a[p+15]===Sg){const m=o[h+6],y=a[p+14];let _=1/0,I=1/0,v=1/0,E=-1/0,b=-1/0,N=-1/0;for(let C=m,B=m+y;C<B;C++){const S=3*n.resolveTriangleIndex(C);for(let T=0;T<3;T++){let D=S+T;D=s?s[D]:D;const L=i.getX(D),z=i.getY(D),V=i.getZ(D);L<_&&(_=L),L>E&&(E=L),z<I&&(I=z),z>b&&(b=z),V<v&&(v=V),V>N&&(N=V)}}return l[h+0]!==_||l[h+1]!==I||l[h+2]!==v||l[h+3]!==E||l[h+4]!==b||l[h+5]!==N?(l[h+0]=_,l[h+1]=I,l[h+2]=v,l[h+3]=E,l[h+4]=b,l[h+5]=N,!0):!1}else{const m=h+8,y=o[h+6],_=m+f,I=y+f;let v=A,E=!1,b=!1;e?v||(E=e.has(_),b=e.has(I),v=!E&&!b):(E=!0,b=!0);const N=v||E,C=v||b;let B=!1;N&&(B=u(m,f,v));let S=!1;C&&(S=u(y,f,v));const T=B||S;if(T)for(let D=0;D<3;D++){const L=m+D,z=y+D,V=l[L],se=l[L+3],q=l[z],Ae=l[z+3];l[h+D]=V<q?V:q,l[h+D+3]=se>Ae?se:Ae}return T}}}function Ak(n,e,t,s,i,r,o){Os.setBuffer(n._roots[e]),Jx(0,n,t,s,i,r,o),Os.clearBuffer()}function Jx(n,e,t,s,i,r,o){const{float32Array:a,uint16Array:l,uint32Array:c}=Os,d=n*2;if(ui(d,l)){const h=vi(n,c),f=qi(d,l);tk(e,t,s,h,f,i,r,o)}else{const h=Wi(n);Oa(h,a,s,r,o)&&Jx(h,e,t,s,i,r,o);const f=Xi(n,c);Oa(f,a,s,r,o)&&Jx(f,e,t,s,i,r,o)}}const pk=["x","y","z"];function gk(n,e,t,s,i,r){Os.setBuffer(n._roots[e]);const o=Kx(0,n,t,s,i,r);return Os.clearBuffer(),o}function Kx(n,e,t,s,i,r){const{float32Array:o,uint16Array:a,uint32Array:l}=Os;let c=n*2;if(ui(c,a)){const u=vi(n,l),h=qi(c,a);return sk(e,t,s,u,h,i,r)}else{const u=AN(n,l),h=pk[u],A=s.direction[h]>=0;let p,g;A?(p=Wi(n),g=Xi(n,l)):(p=Xi(n,l),g=Wi(n));const y=Oa(p,o,s,i,r)?Kx(p,e,t,s,i,r):null;if(y){const v=y.point[h];if(A?v<=o[g+u]:v>=o[g+u+3])return y}const I=Oa(g,o,s,i,r)?Kx(g,e,t,s,i,r):null;return y&&I?y.distance<=I.distance?y:I:y||I||null}}const Lf=new Jt,Bc=new wr,Nc=new wr,Iu=new Je,fE=new si,kf=new si;function mk(n,e,t,s){Os.setBuffer(n._roots[e]);const i=jx(0,n,t,s);return Os.clearBuffer(),i}function jx(n,e,t,s,i=null){const{float32Array:r,uint16Array:o,uint32Array:a}=Os;let l=n*2;if(i===null&&(t.boundingBox||t.computeBoundingBox(),fE.set(t.boundingBox.min,t.boundingBox.max,s),i=fE),ui(l,o)){const d=e.geometry,u=d.index,h=d.attributes.position,f=t.index,A=t.attributes.position,p=vi(n,a),g=qi(l,o);if(Iu.copy(s).invert(),t.boundsTree)return Ks(n,r,kf),kf.matrix.copy(Iu),kf.needsUpdate=!0,t.boundsTree.shapecast({intersectsBounds:y=>kf.intersectsBox(y),intersectsTriangle:y=>{y.a.applyMatrix4(s),y.b.applyMatrix4(s),y.c.applyMatrix4(s),y.needsUpdate=!0;for(let _=p,I=g+p;_<I;_++)if(dn(Nc,3*e.resolveTriangleIndex(_),u,h),Nc.needsUpdate=!0,y.intersectsTriangle(Nc))return!0;return!1}});{const m=Va(t);for(let y=p,_=g+p;y<_;y++){const I=e.resolveTriangleIndex(y);dn(Bc,3*I,u,h),Bc.a.applyMatrix4(Iu),Bc.b.applyMatrix4(Iu),Bc.c.applyMatrix4(Iu),Bc.needsUpdate=!0;for(let v=0,E=m*3;v<E;v+=3)if(dn(Nc,v,f,A),Nc.needsUpdate=!0,Bc.intersectsTriangle(Nc))return!0}}}else{const d=n+8,u=a[n+6];return Ks(d,r,Lf),!!(i.intersectsBox(Lf)&&jx(d,e,t,s,i)||(Ks(u,r,Lf),i.intersectsBox(Lf)&&jx(u,e,t,s,i)))}}const Ff=new Je,Fm=new si,vu=new si,xk=new w,yk=new w,_k=new w,Ik=new w;function vk(n,e,t,s={},i={},r=0,o=1/0){e.boundingBox||e.computeBoundingBox(),Fm.set(e.boundingBox.min,e.boundingBox.max,t),Fm.needsUpdate=!0;const a=n.geometry,l=a.attributes.position,c=a.index,d=e.attributes.position,u=e.index,h=Yi.getPrimitive(),f=Yi.getPrimitive();let A=xk,p=yk,g=null,m=null;i&&(g=_k,m=Ik);let y=1/0,_=null,I=null;return Ff.copy(t).invert(),vu.matrix.copy(Ff),n.shapecast({boundsTraverseOrder:v=>Fm.distanceToBox(v),intersectsBounds:(v,E,b)=>b<y&&b<o?(E&&(vu.min.copy(v.min),vu.max.copy(v.max),vu.needsUpdate=!0),!0):!1,intersectsRange:(v,E)=>{if(e.boundsTree){const b=e.boundsTree;return b.shapecast({boundsTraverseOrder:N=>vu.distanceToBox(N),intersectsBounds:(N,C,B)=>B<y&&B<o,intersectsRange:(N,C)=>{for(let B=N,S=N+C;B<S;B++){const T=b.resolveTriangleIndex(B);dn(f,3*T,u,d),f.a.applyMatrix4(t),f.b.applyMatrix4(t),f.c.applyMatrix4(t),f.needsUpdate=!0;for(let D=v,L=v+E;D<L;D++){const z=n.resolveTriangleIndex(D);dn(h,3*z,c,l),h.needsUpdate=!0;const V=h.distanceToTriangle(f,A,g);if(V<y&&(p.copy(A),m&&m.copy(g),y=V,_=D,I=B),V<r)return!0}}}})}else{const b=Va(e);for(let N=0,C=b;N<C;N++){dn(f,3*N,u,d),f.a.applyMatrix4(t),f.b.applyMatrix4(t),f.c.applyMatrix4(t),f.needsUpdate=!0;for(let B=v,S=v+E;B<S;B++){const T=n.resolveTriangleIndex(B);dn(h,3*T,c,l),h.needsUpdate=!0;const D=h.distanceToTriangle(f,A,g);if(D<y&&(p.copy(A),m&&m.copy(g),y=D,_=B,I=N),D<r)return!0}}}}}),Yi.releasePrimitive(h),Yi.releasePrimitive(f),y===1/0?null:(s.point?s.point.copy(p):s.point=p.clone(),s.distance=y,s.faceIndex=_,i&&(i.point?i.point.copy(m):i.point=m.clone(),i.point.applyMatrix4(Ff),p.applyMatrix4(Ff),i.distance=p.sub(i.point).length(),i.faceIndex=I),s)}function Ek(){return typeof SharedArrayBuffer<"u"}const ih=new Os.constructor,kp=new Os.constructor,da=new k_(()=>new Jt),Sc=new Jt,Mc=new Jt,Um=new Jt,Om=new Jt;let Gm=!1;function Ck(n,e,t,s){if(Gm)throw new Error("MeshBVH: Recursive calls to bvhcast not supported.");Gm=!0;const i=n._roots,r=e._roots;let o,a=0,l=0;const c=new Je().copy(t).invert();for(let d=0,u=i.length;d<u;d++){ih.setBuffer(i[d]),l=0;const h=da.getPrimitive();Ks(0,ih.float32Array,h),h.applyMatrix4(c);for(let f=0,A=r.length;f<A&&(kp.setBuffer(r[f]),o=ur(0,0,t,c,s,a,l,0,0,h),kp.clearBuffer(),l+=r[f].length,!o);f++);if(da.releasePrimitive(h),ih.clearBuffer(),a+=i[d].length,o)break}return Gm=!1,o}function ur(n,e,t,s,i,r=0,o=0,a=0,l=0,c=null,d=!1){let u,h;d?(u=kp,h=ih):(u=ih,h=kp);const f=u.float32Array,A=u.uint32Array,p=u.uint16Array,g=h.float32Array,m=h.uint32Array,y=h.uint16Array,_=n*2,I=e*2,v=ui(_,p),E=ui(I,y);let b=!1;if(E&&v)d?b=i(vi(e,m),qi(e*2,y),vi(n,A),qi(n*2,p),l,o+e,a,r+n):b=i(vi(n,A),qi(n*2,p),vi(e,m),qi(e*2,y),a,r+n,l,o+e);else if(E){const N=da.getPrimitive();Ks(e,g,N),N.applyMatrix4(t);const C=Wi(n),B=Xi(n,A);Ks(C,f,Sc),Ks(B,f,Mc);const S=N.intersectsBox(Sc),T=N.intersectsBox(Mc);b=S&&ur(e,C,s,t,i,o,r,l,a+1,N,!d)||T&&ur(e,B,s,t,i,o,r,l,a+1,N,!d),da.releasePrimitive(N)}else{const N=Wi(e),C=Xi(e,m);Ks(N,g,Um),Ks(C,g,Om);const B=c.intersectsBox(Um),S=c.intersectsBox(Om);if(B&&S)b=ur(n,N,t,s,i,r,o,a,l+1,c,d)||ur(n,C,t,s,i,r,o,a,l+1,c,d);else if(B)if(v)b=ur(n,N,t,s,i,r,o,a,l+1,c,d);else{const T=da.getPrimitive();T.copy(Um).applyMatrix4(t);const D=Wi(n),L=Xi(n,A);Ks(D,f,Sc),Ks(L,f,Mc);const z=T.intersectsBox(Sc),V=T.intersectsBox(Mc);b=z&&ur(N,D,s,t,i,o,r,l,a+1,T,!d)||V&&ur(N,L,s,t,i,o,r,l,a+1,T,!d),da.releasePrimitive(T)}else if(S)if(v)b=ur(n,C,t,s,i,r,o,a,l+1,c,d);else{const T=da.getPrimitive();T.copy(Om).applyMatrix4(t);const D=Wi(n),L=Xi(n,A);Ks(D,f,Sc),Ks(L,f,Mc);const z=T.intersectsBox(Sc),V=T.intersectsBox(Mc);b=z&&ur(C,D,s,t,i,o,r,l,a+1,T,!d)||V&&ur(C,L,s,t,i,o,r,l,a+1,T,!d),da.releasePrimitive(T)}}return b}const Uf=new si,AE=new Jt,bk={strategy:uN,maxDepth:40,maxLeafTris:10,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,indirect:!1,verbose:!0,range:null};class zd{static serialize(e,t={}){t={cloneBuffers:!0,...t};const s=e.geometry,i=e._roots,r=e._indirectBuffer,o=s.getIndex();let a;return t.cloneBuffers?a={roots:i.map(l=>l.slice()),index:o?o.array.slice():null,indirectBuffer:r?r.slice():null}:a={roots:i,index:o?o.array:null,indirectBuffer:r},a}static deserialize(e,t,s={}){s={setIndex:!0,indirect:!!e.indirectBuffer,...s};const{index:i,roots:r,indirectBuffer:o}=e,a=new zd(t,{...s,[Rm]:!0});if(a._roots=r,a._indirectBuffer=o||null,s.setIndex){const l=t.getIndex();if(l===null){const c=new rs(e.index,1,!1);t.setIndex(c)}else l.array!==i&&(l.array.set(i),l.needsUpdate=!0)}return a}get indirect(){return!!this._indirectBuffer}constructor(e,t={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({...bk,[Rm]:!1},t),t.useSharedArrayBuffer&&!Ek())throw new Error("MeshBVH: SharedArrayBuffer is not available.");this.geometry=e,this._roots=null,this._indirectBuffer=null,t[Rm]||(OL(this,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new Jt))),this.resolveTriangleIndex=t.indirect?s=>this._indirectBuffer[s]:s=>s}refit(e=null){return(this.indirect?fk:ek)(this,e)}traverse(e,t=0){const s=this._roots[t],i=new Uint32Array(s),r=new Uint16Array(s);o(0);function o(a,l=0){const c=a*2,d=r[c+15]===Sg;if(d){const u=i[a+6],h=r[c+14];e(l,d,new Float32Array(s,a*4,6),u,h)}else{const u=a+nh/4,h=i[a+6],f=i[a+7];e(l,d,new Float32Array(s,a*4,6),f)||(o(u,l+1),o(h,l+1))}}}raycast(e,t=In,s=0,i=1/0){const r=this._roots,o=this.geometry,a=[],l=t.isMaterial,c=Array.isArray(t),d=o.groups,u=l?t.side:t,h=this.indirect?Ak:ik;for(let f=0,A=r.length;f<A;f++){const p=c?t[d[f].materialIndex].side:u,g=a.length;if(h(this,f,p,e,a,s,i),c){const m=d[f].materialIndex;for(let y=g,_=a.length;y<_;y++)a[y].face.materialIndex=m}}return a}raycastFirst(e,t=In,s=0,i=1/0){const r=this._roots,o=this.geometry,a=t.isMaterial,l=Array.isArray(t);let c=null;const d=o.groups,u=a?t.side:t,h=this.indirect?gk:ok;for(let f=0,A=r.length;f<A;f++){const p=l?t[d[f].materialIndex].side:u,g=h(this,f,p,e,s,i);g!=null&&(c==null||g.distance<c.distance)&&(c=g,l&&(g.face.materialIndex=d[f].materialIndex))}return c}intersectsGeometry(e,t){let s=!1;const i=this._roots,r=this.indirect?mk:ak;for(let o=0,a=i.length;o<a&&(s=r(this,o,e,t),!s);o++);return s}shapecast(e){const t=Yi.getPrimitive(),s=this.indirect?nk:$L;let{boundsTraverseOrder:i,intersectsBounds:r,intersectsRange:o,intersectsTriangle:a}=e;if(o&&a){const u=o;o=(h,f,A,p,g)=>u(h,f,A,p,g)?!0:s(h,f,this,a,A,p,t)}else o||(a?o=(u,h,f,A)=>s(u,h,this,a,f,A,t):o=(u,h,f)=>f);let l=!1,c=0;const d=this._roots;for(let u=0,h=d.length;u<h;u++){const f=d[u];if(l=WL(this,u,r,o,i,c),l)break;c+=f.byteLength}return Yi.releasePrimitive(t),l}bvhcast(e,t,s){let{intersectsRanges:i,intersectsTriangles:r}=s;const o=Yi.getPrimitive(),a=this.geometry.index,l=this.geometry.attributes.position,c=this.indirect?A=>{const p=this.resolveTriangleIndex(A);dn(o,p*3,a,l)}:A=>{dn(o,A*3,a,l)},d=Yi.getPrimitive(),u=e.geometry.index,h=e.geometry.attributes.position,f=e.indirect?A=>{const p=e.resolveTriangleIndex(A);dn(d,p*3,u,h)}:A=>{dn(d,A*3,u,h)};if(r){const A=(p,g,m,y,_,I,v,E)=>{for(let b=m,N=m+y;b<N;b++){f(b),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(let C=p,B=p+g;C<B;C++)if(c(C),o.needsUpdate=!0,r(o,d,C,b,_,I,v,E))return!0}return!1};if(i){const p=i;i=function(g,m,y,_,I,v,E,b){return p(g,m,y,_,I,v,E,b)?!0:A(g,m,y,_,I,v,E,b)}}else i=A}return Ck(this,e,t,i)}intersectsBox(e,t){return Uf.set(e.min,e.max,t),Uf.needsUpdate=!0,this.shapecast({intersectsBounds:s=>Uf.intersectsBox(s),intersectsTriangle:s=>Uf.intersectsTriangle(s)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,s={},i={},r=0,o=1/0){return(this.indirect?vk:hk)(this,e,t,s,i,r,o)}closestPointToPoint(e,t={},s=0,i=1/0){return XL(this,e,t,s,i)}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(s=>{Ks(0,new Float32Array(s),AE),e.union(AE)}),e}}function pE(n,e,t){return n===null?null:(n.point.applyMatrix4(e.matrixWorld),n.distance=n.point.distanceTo(t.ray.origin),n.object=e,n)}const wk=parseInt(Fo)>=166,Of=new Ci,gE=new w,mE=new Je,Bk=it.prototype.raycast,Nk=$d.prototype.raycast,xE=new w,En=new it,Gf=[];function mN(n,e){this.isBatchedMesh?Sk.call(this,n,e):Mk.call(this,n,e)}function Sk(n,e){if(this.boundsTrees){const t=this.boundsTrees,s=this._drawInfo||this._instanceInfo,i=this._drawRanges||this._geometryInfo,r=this.matrixWorld;En.material=this.material,En.geometry=this.geometry;const o=En.geometry.boundsTree,a=En.geometry.drawRange;En.geometry.boundingSphere===null&&(En.geometry.boundingSphere=new Ps);for(let l=0,c=s.length;l<c;l++){if(!this.getVisibleAt(l))continue;const d=s[l].geometryIndex;if(En.geometry.boundsTree=t[d],this.getMatrixAt(l,En.matrixWorld).premultiply(r),!En.geometry.boundsTree){this.getBoundingBoxAt(d,En.geometry.boundingBox),this.getBoundingSphereAt(d,En.geometry.boundingSphere);const u=i[d];En.geometry.setDrawRange(u.start,u.count)}En.raycast(n,Gf);for(let u=0,h=Gf.length;u<h;u++){const f=Gf[u];f.object=this,f.batchId=l,e.push(f)}Gf.length=0}En.geometry.boundsTree=o,En.geometry.drawRange=a,En.material=null,En.geometry=null}else Nk.call(this,n,e)}function Mk(n,e){if(this.geometry.boundsTree){if(this.material===void 0)return;mE.copy(this.matrixWorld).invert(),Of.copy(n.ray).applyMatrix4(mE),xE.setFromMatrixScale(this.matrixWorld),gE.copy(Of.direction).multiply(xE);const t=gE.length(),s=n.near/t,i=n.far/t,r=this.geometry.boundsTree;if(n.firstHitOnly===!0){const o=pE(r.raycastFirst(Of,this.material,s,i),this,n);o&&e.push(o)}else{const o=r.raycast(Of,this.material,s,i);for(let a=0,l=o.length;a<l;a++){const c=pE(o[a],this,n);c&&e.push(c)}}}else Bk.call(this,n,e)}function Tk(n={}){return this.boundsTree=new zd(this,n),this.boundsTree}function Pk(){this.boundsTree=null}function Rk(n=-1,e={}){if(!wk)throw new Error("BatchedMesh: Three r166+ is required to compute bounds trees.");e.indirect&&console.warn('"Indirect" is set to false because it is not supported for BatchedMesh.'),e={...e,indirect:!1,range:null};const t=this._drawRanges||this._geometryInfo,s=this._geometryCount;this.boundsTrees||(this.boundsTrees=new Array(s).fill(null));const i=this.boundsTrees;for(;i.length<s;)i.push(null);if(n<0){for(let r=0;r<s;r++)e.range=t[r],i[r]=new zd(this.geometry,e);return i}else return n<t.length&&(e.range=t[n],i[n]=new zd(this.geometry,e)),i[n]||null}function Qk(n=-1){n<0?this.boundsTrees.fill(null):n<this.boundsTree.length&&(this.boundsTrees[n]=null)}Qt.prototype.computeBoundsTree=Tk;Qt.prototype.disposeBoundsTree=Pk;it.prototype.raycast=mN;$d.prototype.computeBoundsTree=Rk;$d.prototype.disposeBoundsTree=Qk;$d.prototype.raycast=mN;function Ss(n={},e={}){var t;return t=class{constructor(s,i,r){this.world=s,this.queryManager=i,this.priority=r,this.isPaused=!1,this.config={},this.cleanupFuncs=[];for(const o in e)this.config[o]=bt(e[o].default);this.player=s.player,this.input=s.input,this.scene=s.scene,this.camera=s.camera,this.renderer=s.renderer,this.visibilityState=s.visibilityState}get globals(){return this.world.globals}get xrManager(){return this.world.renderer.xr}get xrFrame(){return this.xrManager.getFrame()}createEntity(){return this.world.createEntity()}createTransformEntity(s,i){return this.world.createTransformEntity(s,i)}init(){}update(s,i){}play(){this.isPaused=!1}stop(){this.isPaused=!0}destroy(){this.cleanupFuncs.forEach(s=>s())}},t.schema=e,t.isSystem=!0,t.queries=n,t}var $r;(function(n){n.ImmersiveVR="immersive-vr",n.ImmersiveAR="immersive-ar"})($r||($r={}));var Vr;(function(n){n.BoundedFloor="bounded-floor",n.Local="local",n.LocalFloor="local-floor",n.Unbounded="unbounded",n.Viewer="viewer"})(Vr||(Vr={}));const Dk=["local-floor","bounded-floor","layers"];function Yo(n){if(!(n===void 0||n===!1))return n===!0?{}:{required:!!n.required}}function yE(n){return typeof n=="object"}function F_(n){var e;const t=[],s=Array.from(new Set(Dk)),i=(e=n.features)!==null&&e!==void 0?e:{},r={handTracking:"hand-tracking",anchors:"anchors",hitTest:"hit-test",planeDetection:"plane-detection",meshDetection:"mesh-detection",lightEstimation:"light-estimation",depthSensing:"depth-sensing",layers:"layers"},o=(l,c)=>{if(!c)return;const d=r[l];c.required?t.push(d):s.push(d)};if(o("handTracking",Yo(i.handTracking)),o("anchors",Yo(i.anchors)),o("hitTest",Yo(i.hitTest)),o("planeDetection",Yo(i.planeDetection)),o("meshDetection",Yo(i.meshDetection)),o("lightEstimation",Yo(i.lightEstimation)),o("layers",Yo(i.layers)),i.depthSensing){const l=Yo(yE(i.depthSensing)?{required:i.depthSensing.required}:i.depthSensing);o("depthSensing",l)}const a={requiredFeatures:Array.from(new Set(t)),optionalFeatures:Array.from(new Set(s))};if(yE(i.depthSensing)){const l=i.depthSensing.usage?[i.depthSensing.usage]:void 0,c=i.depthSensing.format?[i.depthSensing.format]:void 0;a.depthSensing={...l?{usagePreference:l}:{},...c?{dataFormatPreference:c}:{}}}return a}function U_(n){var e,t,s;return!n||typeof n=="string"?{type:(e=n)!==null&&e!==void 0?e:Vr.LocalFloor,required:!1,fallbackOrder:[Vr.Local,Vr.Viewer]}:{type:(t=n.type)!==null&&t!==void 0?t:Vr.LocalFloor,required:!!n.required,fallbackOrder:(s=n.fallbackOrder)!==null&&s!==void 0?s:[Vr.Local,Vr.Viewer]}}function Lk(n,e){var t,s,i,r,o;const a=n??{},l=e??{},c={...(t=a.features)!==null&&t!==void 0?t:{},...(s=l.features)!==null&&s!==void 0?s:{}};return{sessionMode:(r=(i=l.sessionMode)!==null&&i!==void 0?i:a.sessionMode)!==null&&r!==void 0?r:$r.ImmersiveVR,referenceSpace:(o=l.referenceSpace)!==null&&o!==void 0?o:a.referenceSpace,features:Object.keys(c).length?c:void 0}}async function O_(n,e,t){const s=[];for(const i of[e,...t])s.includes(i)||s.push(i);for(const i of s)try{return await n.requestReferenceSpace(i),i}catch{}throw new Error("No supported reference space available")}function xN(n,e){var t,s;const i=Lk(n.xrDefaults,e),{sessionMode:r=$r.ImmersiveVR}=i,o=U_(i.referenceSpace),a=F_(i),l=async d=>{d.addEventListener("end",c);try{const u=await O_(d,o.type,o.required?[]:o.fallbackOrder);n.renderer.xr.setReferenceSpaceType(u),await n.renderer.xr.setSession(d),n.session=d}catch(u){console.error("[XR] Failed to acquire reference space:",u);try{await d.end()}catch{}}},c=()=>{var d;(d=n.session)===null||d===void 0||d.removeEventListener("end",c),n.session=void 0};n.session?console.error("XRSession already exists"):(s=(t=navigator.xr)===null||t===void 0?void 0:t.requestSession)===null||s===void 0||s.call(t,r,a).then(l)}var tn;(function(n){n[n.Default=0]="Default",n[n.Up=1]="Up",n[n.Down=2]="Down",n[n.Left=3]="Left",n[n.Right=4]="Right"})(tn||(tn={}));var jr;(function(n){n.Trigger="xr-standard-trigger",n.Squeeze="xr-standard-squeeze",n.Touchpad="xr-standard-touchpad",n.Thumbstick="xr-standard-thumbstick",n.A_Button="a-button",n.B_Button="b-button",n.X_Button="x-button",n.Y_Button="y-button",n.Thumbrest="thumbrest",n.Menu="menu"})(jr||(jr={}));class yN{constructor({inputSource:e,layout:t}){this.buttonMapping=new Map,this.axesMapping=new Map,this.axesThreshold=.8,this.axesStates=new Map,this.axes2DValues=new Map,this.axesValues=new Map,this.currentIndex=1,this.previousIndex=0,this.handedness=e.handedness,this.gamepad=e.gamepad,this.inputSource=e,this.selectComponentId=t.selectComponentId;const s=this.gamepad.buttons.length;this.pressedArrs=[new Int8Array(s).fill(0),new Int8Array(s).fill(0)],this.touchedArrs=[new Int8Array(s).fill(0),new Int8Array(s).fill(0)],this.valueArrs=[new Float32Array(s).fill(0),new Float32Array(s).fill(0)],Object.entries(t.components).forEach(([i,r])=>{const o=r.gamepadIndices.button;o!==void 0&&this.buttonMapping.set(i,o),(r.type==="thumbstick"||r.type==="touchpad")&&(this.axesMapping.set(i,{x:r.gamepadIndices.xAxis,y:r.gamepadIndices.yAxis}),this.axesValues.set(i,{x:0,y:0}),this.axes2DValues.set(i,0),this.axesStates.set(i,{prev:tn.Default,curr:tn.Default}))})}update(){this.currentIndex=1-this.currentIndex,this.previousIndex=1-this.previousIndex,this.gamepad.buttons.forEach((e,t)=>{this.pressedArrs[this.currentIndex][t]=e.pressed?1:0,this.touchedArrs[this.currentIndex][t]=e.touched?1:0,this.valueArrs[this.currentIndex][t]=e.value}),this.axesMapping.forEach(({x:e,y:t},s)=>{const i=this.axesValues.get(s),r=this.axesStates.get(s);r.prev=r.curr,i.x=this.gamepad.axes[e],i.y=this.gamepad.axes[t];const{x:o,y:a}=i,l=Math.sqrt(o*o+a*a);this.axes2DValues.set(s,l),l<this.axesThreshold?r.curr=tn.Default:Math.abs(o)>Math.abs(a)?r.curr=o>0?tn.Right:tn.Left:r.curr=a>0?tn.Down:tn.Up})}getButtonState(e,t){const s=this.buttonMapping.get(e);return s!==void 0?t[this.currentIndex][s]:0}getButtonPressedByIdx(e){return!!this.pressedArrs[this.currentIndex][e]}getButtonPressed(e){return!!this.getButtonState(e,this.pressedArrs)}getButtonTouchedByIdx(e){return!!this.touchedArrs[this.currentIndex][e]}getButtonTouched(e){return!!this.getButtonState(e,this.touchedArrs)}getButtonValueByIdx(e){var t;return(t=this.valueArrs[this.currentIndex][e])!==null&&t!==void 0?t:0}getButtonValue(e){const t=this.buttonMapping.get(e);return t!==void 0?this.valueArrs[this.currentIndex][t]:0}getButtonDownByIdx(e){return(this.pressedArrs[this.currentIndex][e]&~this.pressedArrs[this.previousIndex][e])!==0}getButtonDown(e){const t=this.buttonMapping.get(e);return t!==void 0?(this.pressedArrs[this.currentIndex][t]&~this.pressedArrs[this.previousIndex][t])!==0:!1}getButtonUpByIdx(e){return(~this.pressedArrs[this.currentIndex][e]&this.pressedArrs[this.previousIndex][e])!==0}getButtonUp(e){const t=this.buttonMapping.get(e);return t!==void 0?(~this.pressedArrs[this.currentIndex][t]&this.pressedArrs[this.previousIndex][t])!==0:!1}getSelectStart(){return this.getButtonDown(this.selectComponentId)}getSelectEnd(){return this.getButtonUp(this.selectComponentId)}getSelecting(){return this.getButtonPressed(this.selectComponentId)}getAxesValues(e){return this.axesValues.get(e)}getAxesState(e){var t;return(t=this.axesStates.get(e))===null||t===void 0?void 0:t.curr}get2DInputValue(e){return this.axes2DValues.get(e)}getAxesEnteringState(e,t){const s=this.axesStates.get(e);return s?s.curr===t&&s.prev!==t:!1}getAxesLeavingState(e,t){const s=this.axesStates.get(e);return s?s.curr!==t&&s.prev===t:!1}getAxesEnteringUp(e){return this.getAxesEnteringState(e,tn.Up)}getAxesEnteringDown(e){return this.getAxesEnteringState(e,tn.Down)}getAxesEnteringLeft(e){return this.getAxesEnteringState(e,tn.Left)}getAxesEnteringRight(e){return this.getAxesEnteringState(e,tn.Right)}getAxesLeavingUp(e){return this.getAxesLeavingState(e,tn.Up)}getAxesLeavingDown(e){return this.getAxesLeavingState(e,tn.Down)}getAxesLeavingLeft(e){return this.getAxesLeavingState(e,tn.Left)}getAxesLeavingRight(e){return this.getAxesLeavingState(e,tn.Right)}}const kk={"generic-button":{path:"generic-button/profile.json"},"generic-fixed-hand":{path:"generic-fixed-hand/profile.json"},"generic-hand":{path:"generic-hand/profile.json"},"generic-touchpad":{path:"generic-touchpad/profile.json"},"generic-trigger-squeeze-thumbstick":{path:"generic-trigger-squeeze-thumbstick/profile.json"},"generic-trigger-squeeze-touchpad-thumbstick":{path:"generic-trigger-squeeze-touchpad-thumbstick/profile.json"},"generic-trigger-squeeze-touchpad":{path:"generic-trigger-squeeze-touchpad/profile.json"},"generic-trigger-squeeze":{path:"generic-trigger-squeeze/profile.json"},"generic-trigger-thumbstick":{path:"generic-trigger-thumbstick/profile.json"},"generic-trigger-touchpad-thumbstick":{path:"generic-trigger-touchpad-thumbstick/profile.json"},"generic-trigger-touchpad":{path:"generic-trigger-touchpad/profile.json"},"generic-trigger":{path:"generic-trigger/profile.json"},"google-daydream":{path:"google-daydream/profile.json"},"hp-mixed-reality":{path:"hp-mixed-reality/profile.json"},"htc-vive-cosmos":{path:"htc-vive-cosmos/profile.json"},"htc-vive-focus-3":{path:"htc-vive-focus-3/profile.json"},"htc-vive-focus-plus":{path:"htc-vive-focus-plus/profile.json"},"htc-vive-focus":{path:"htc-vive-focus/profile.json"},"htc-vive":{path:"htc-vive/profile.json"},"logitech-mx-ink":{path:"logitech-mx-ink/profile.json"},"magicleap-one":{path:"magicleap-one/profile.json"},"magicleap-two":{path:"magicleap-two/profile.json"},"meta-quest-touch-plus-v2":{path:"meta-quest-touch-plus-v2/profile.json"},"meta-quest-touch-plus":{path:"meta-quest-touch-plus/profile.json"},"meta-quest-touch-pro":{path:"meta-quest-touch-pro/profile.json"},"microsoft-mixed-reality":{path:"microsoft-mixed-reality/profile.json"},"windows-mixed-reality":{path:"microsoft-mixed-reality/profile.json",deprecated:!0},"oculus-go":{path:"oculus-go/profile.json"},"oculus-touch-v2":{path:"oculus-touch-v2/profile.json"},"oculus-touch-v3":{path:"oculus-touch-v3/profile.json"},"oculus-touch":{path:"oculus-touch/profile.json"},"pico-4":{path:"pico-4/profile.json"},"pico-4u":{path:"pico-4u/profile.json"},"pico-g2":{path:"pico-g2/profile.json"},"pico-neo2":{path:"pico-neo2/profile.json"},"pico-neo3":{path:"pico-neo3/profile.json"},"samsung-galaxyxr":{path:"samsung-galaxyxr/profile.json"},"samsung-gearvr":{path:"samsung-gearvr/profile.json"},"samsung-odyssey":{path:"samsung-odyssey/profile.json"},"valve-index":{path:"valve-index/profile.json"},"yvr-touch-v2":{path:"yvr-touch-v2/profile.json"},"yvr-touch":{path:"yvr-touch/profile.json"}},Fk={"generic-button/profile.json":{profileId:"generic-button",fallbackProfileIds:[],layouts:{left:{selectComponentId:"face-button",components:{"face-button":{type:"button",gamepadIndices:{button:0},rootNodeName:"face_button",visualResponses:{face_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"face_button_pressed_value",minNodeName:"face_button_pressed_min",maxNodeName:"face_button_pressed_max"}}}},gamepadMapping:"",rootNodeName:"generic-button-left",assetPath:"left.glb"},right:{selectComponentId:"face-button",components:{"face-button":{type:"button",gamepadIndices:{button:0},rootNodeName:"face_button",visualResponses:{face_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"face_button_pressed_value",minNodeName:"face_button_pressed_min",maxNodeName:"face_button_pressed_max"}}}},gamepadMapping:"",rootNodeName:"generic-button-right",assetPath:"right.glb"},none:{selectComponentId:"face-button",components:{"face-button":{type:"button",gamepadIndices:{button:0},rootNodeName:"face_button",visualResponses:{face_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"face_button_pressed_value",minNodeName:"face_button_pressed_min",maxNodeName:"face_button_pressed_max"}}}},gamepadMapping:"",rootNodeName:"generic-button-none",assetPath:"none.glb"}}},"generic-fixed-hand/profile.json":{profileId:"generic-fixed-hand",fallbackProfileIds:["generic-hand-select","generic-trigger"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-fixed-hand-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-fixed-hand-right",assetPath:"right.glb"}}},"generic-hand/profile.json":{profileId:"generic-hand",fallbackProfileIds:["generic-hand-select"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-hand-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-hand-right",assetPath:"right.glb"}}},"generic-touchpad/profile.json":{profileId:"generic-touchpad",fallbackProfileIds:[],layouts:{left:{selectComponentId:"touchpad",components:{touchpad:{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"touchpad",visualResponses:{touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_pressed_value",minNodeName:"touchpad_pressed_min",maxNodeName:"touchpad_pressed_max"},touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_pressed_value",minNodeName:"touchpad_xaxis_pressed_min",maxNodeName:"touchpad_xaxis_pressed_max"},touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_pressed_value",minNodeName:"touchpad_yaxis_pressed_min",maxNodeName:"touchpad_yaxis_pressed_max"},touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_touched_value",minNodeName:"touchpad_xaxis_touched_min",maxNodeName:"touchpad_xaxis_touched_max"},touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_touched_value",minNodeName:"touchpad_yaxis_touched_min",maxNodeName:"touchpad_yaxis_touched_max"},touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"touchpad_axes_touched_value"}},touchPointNodeName:"touchpad_axes_touched_value"}},gamepadMapping:"",rootNodeName:"generic-touchpad-left",assetPath:"left.glb"},right:{selectComponentId:"touchpad",components:{touchpad:{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"touchpad",visualResponses:{touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_pressed_value",minNodeName:"touchpad_pressed_min",maxNodeName:"touchpad_pressed_max"},touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_pressed_value",minNodeName:"touchpad_xaxis_pressed_min",maxNodeName:"touchpad_xaxis_pressed_max"},touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_pressed_value",minNodeName:"touchpad_yaxis_pressed_min",maxNodeName:"touchpad_yaxis_pressed_max"},touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_touched_value",minNodeName:"touchpad_xaxis_touched_min",maxNodeName:"touchpad_xaxis_touched_max"},touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_touched_value",minNodeName:"touchpad_yaxis_touched_min",maxNodeName:"touchpad_yaxis_touched_max"},touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"touchpad_axes_touched_value"}},touchPointNodeName:"touchpad_axes_touched_value"}},gamepadMapping:"",rootNodeName:"generic-touchpad-right",assetPath:"right.glb"},none:{selectComponentId:"touchpad",components:{touchpad:{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"touchpad",visualResponses:{touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_pressed_value",minNodeName:"touchpad_pressed_min",maxNodeName:"touchpad_pressed_max"},touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_pressed_value",minNodeName:"touchpad_xaxis_pressed_min",maxNodeName:"touchpad_xaxis_pressed_max"},touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_pressed_value",minNodeName:"touchpad_yaxis_pressed_min",maxNodeName:"touchpad_yaxis_pressed_max"},touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_touched_value",minNodeName:"touchpad_xaxis_touched_min",maxNodeName:"touchpad_xaxis_touched_max"},touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_touched_value",minNodeName:"touchpad_yaxis_touched_min",maxNodeName:"touchpad_yaxis_touched_max"},touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"touchpad_axes_touched_value"}},touchPointNodeName:"touchpad_axes_touched_value"}},gamepadMapping:"",rootNodeName:"generic-touchpad-none",assetPath:"none.glb"}}},"generic-trigger-squeeze-thumbstick/profile.json":{profileId:"generic-trigger-squeeze-thumbstick",fallbackProfileIds:[],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-thumbstick-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-thumbstick-right",assetPath:"right.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"},xr_standard_squeeze_pressed_mirror:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_mirror_value",minNodeName:"xr_standard_squeeze_pressed_mirror_min",maxNodeName:"xr_standard_squeeze_pressed_mirror_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-thumbstick-none",assetPath:"none.glb"}}},"generic-trigger-squeeze-touchpad-thumbstick/profile.json":{profileId:"generic-trigger-squeeze-touchpad-thumbstick",fallbackProfileIds:[],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-touchpad-thumbstick-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-touchpad-thumbstick-right",assetPath:"right.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"},xr_standard_squeeze_pressed_mirror:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_mirror_value",minNodeName:"xr_standard_squeeze_pressed_mirror_min",maxNodeName:"xr_standard_squeeze_pressed_mirror_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-touchpad-thumbstick-none",assetPath:"none.glb"}}},"generic-trigger-squeeze-touchpad/profile.json":{profileId:"generic-trigger-squeeze-touchpad",fallbackProfileIds:[],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-touchpad-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-touchpad-right",assetPath:"right.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"},xr_standard_squeeze_pressed_mirror:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_mirror_value",minNodeName:"xr_standard_squeeze_pressed_mirror_min",maxNodeName:"xr_standard_squeeze_pressed_mirror_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-touchpad-none",assetPath:"none.glb"}}},"generic-trigger-squeeze/profile.json":{profileId:"generic-trigger-squeeze",fallbackProfileIds:[],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-right",assetPath:"right.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"},xr_standard_squeeze_pressed_mirror:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_mirror_value",minNodeName:"xr_standard_squeeze_pressed_mirror_min",maxNodeName:"xr_standard_squeeze_pressed_mirror_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-squeeze-none",assetPath:"none.glb"}}},"generic-trigger-thumbstick/profile.json":{profileId:"generic-trigger-thumbstick",fallbackProfileIds:[],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-thumbstick-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-thumbstick-right",assetPath:"right.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-thumbstick-none",assetPath:"none.glb"}}},"generic-trigger-touchpad-thumbstick/profile.json":{profileId:"generic-trigger-touchpad-thumbstick",fallbackProfileIds:[],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-touchpad-thumbstick-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-touchpad-thumbstick-right",assetPath:"right.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-touchpad-thumbstick-none",assetPath:"none.glb"}}},"generic-trigger-touchpad/profile.json":{profileId:"generic-trigger-touchpad",fallbackProfileIds:[],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-touchpad-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-touchpad-right",assetPath:"right.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-touchpad-none",assetPath:"none.glb"}}},"generic-trigger/profile.json":{profileId:"generic-trigger",fallbackProfileIds:[],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-right",assetPath:"right.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"generic-trigger-none",assetPath:"none.glb"}}},"google-daydream/profile.json":{profileId:"google-daydream",fallbackProfileIds:["generic-touchpad"],layouts:{left:{selectComponentId:"touchpad",components:{touchpad:{type:"touchpad",gamepadIndices:{button:0,xAxis:0,yAxis:1},rootNodeName:"touchpad",visualResponses:{touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_pressed_value",minNodeName:"touchpad_pressed_min",maxNodeName:"touchpad_pressed_max"},touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_pressed_value",minNodeName:"touchpad_xaxis_pressed_min",maxNodeName:"touchpad_xaxis_pressed_max"},touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_pressed_value",minNodeName:"touchpad_yaxis_pressed_min",maxNodeName:"touchpad_yaxis_pressed_max"},touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_touched_value",minNodeName:"touchpad_xaxis_touched_min",maxNodeName:"touchpad_xaxis_touched_max"},touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_touched_value",minNodeName:"touchpad_yaxis_touched_min",maxNodeName:"touchpad_yaxis_touched_max"},touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"touchpad_axes_touched_value"}},touchPointNodeName:"touchpad_axes_touched_value"}},gamepadMapping:"",rootNodeName:"google_daydream_none",assetPath:"none.glb"},right:{selectComponentId:"touchpad",components:{touchpad:{type:"touchpad",gamepadIndices:{button:0,xAxis:0,yAxis:1},rootNodeName:"touchpad",visualResponses:{touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_pressed_value",minNodeName:"touchpad_pressed_min",maxNodeName:"touchpad_pressed_max"},touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_pressed_value",minNodeName:"touchpad_xaxis_pressed_min",maxNodeName:"touchpad_xaxis_pressed_max"},touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_pressed_value",minNodeName:"touchpad_yaxis_pressed_min",maxNodeName:"touchpad_yaxis_pressed_max"},touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_touched_value",minNodeName:"touchpad_xaxis_touched_min",maxNodeName:"touchpad_xaxis_touched_max"},touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_touched_value",minNodeName:"touchpad_yaxis_touched_min",maxNodeName:"touchpad_yaxis_touched_max"},touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"touchpad_axes_touched_value"}},touchPointNodeName:"touchpad_axes_touched_value"}},gamepadMapping:"",rootNodeName:"google_daydream_none",assetPath:"none.glb"},none:{selectComponentId:"touchpad",components:{touchpad:{type:"touchpad",gamepadIndices:{button:0,xAxis:0,yAxis:1},rootNodeName:"touchpad",visualResponses:{touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_pressed_value",minNodeName:"touchpad_pressed_min",maxNodeName:"touchpad_pressed_max"},touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_pressed_value",minNodeName:"touchpad_xaxis_pressed_min",maxNodeName:"touchpad_xaxis_pressed_max"},touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_pressed_value",minNodeName:"touchpad_yaxis_pressed_min",maxNodeName:"touchpad_yaxis_pressed_max"},touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_xaxis_touched_value",minNodeName:"touchpad_xaxis_touched_min",maxNodeName:"touchpad_xaxis_touched_max"},touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touchpad_yaxis_touched_value",minNodeName:"touchpad_yaxis_touched_min",maxNodeName:"touchpad_yaxis_touched_max"},touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"touchpad_axes_touched_value"}},touchPointNodeName:"touchpad_axes_touched_value"}},gamepadMapping:"",rootNodeName:"google-daydream-none",assetPath:"none.glb"}}},"hp-mixed-reality/profile.json":{profileId:"hp-mixed-reality",fallbackProfileIds:["oculus-touch","generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"hp-mixed-reality-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"hp-mixed-reality-right",assetPath:"right.glb"}}},"htc-vive-cosmos/profile.json":{profileId:"htc-vive-cosmos",fallbackProfileIds:["generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}},bumper:{type:"button",gamepadIndices:{button:6},rootNodeName:"bumper",visualResponses:{bumper_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"bumper_pressed_value",minNodeName:"bumper_pressed_min",maxNodeName:"bumper_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"htc-vive-cosmos-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}},bumper:{type:"button",gamepadIndices:{button:6},rootNodeName:"bumper",visualResponses:{bumper_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"bumper_pressed_value",minNodeName:"bumper_pressed_min",maxNodeName:"bumper_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"htc-vive-cosmos-right",assetPath:"right.glb"}}},"htc-vive-focus-3/profile.json":{profileId:"htc-vive-focus-3",fallbackProfileIds:["generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"htc-vive-focus-3-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"htc-vive-focus-3-right",assetPath:"right.glb"}}},"htc-vive-focus-plus/profile.json":{profileId:"htc-vive-focus-plus",fallbackProfileIds:["generic-trigger-squeeze-touchpad"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"htc_vive_focus_plus_none",assetPath:"none.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"htc_vive_focus_plus_none",assetPath:"none.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"},xr_standard_squeeze_pressed_mirror:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_mirror_value",minNodeName:"xr_standard_squeeze_pressed_mirror_min",maxNodeName:"xr_standard_squeeze_pressed_mirror_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"htc-vive-focus-plus-none",assetPath:"none.glb"}}},"htc-vive-focus/profile.json":{profileId:"htc-vive-focus",fallbackProfileIds:["generic-trigger-touchpad"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},menu:{type:"button",gamepadIndices:{button:4},rootNodeName:"menu",visualResponses:{menu_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"menu_pressed_value",minNodeName:"menu_pressed_min",maxNodeName:"menu_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"htc_vive_focus_none",assetPath:"none.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},menu:{type:"button",gamepadIndices:{button:4},rootNodeName:"menu",visualResponses:{menu_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"menu_pressed_value",minNodeName:"menu_pressed_min",maxNodeName:"menu_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"htc_vive_focus_none",assetPath:"none.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},menu:{type:"button",gamepadIndices:{button:4},rootNodeName:"menu",visualResponses:{menu_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"menu_pressed_value",minNodeName:"menu_pressed_min",maxNodeName:"menu_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"htc-vive-focus-none",assetPath:"none.glb"}}},"htc-vive/profile.json":{profileId:"htc-vive",fallbackProfileIds:["generic-trigger-squeeze-touchpad"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"htc_vive_none",assetPath:"none.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"htc_vive_none",assetPath:"none.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"},xr_standard_squeeze_pressed_mirror:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_mirror_value",minNodeName:"xr_standard_squeeze_pressed_mirror_min",maxNodeName:"xr_standard_squeeze_pressed_mirror_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"htc-vive-none",assetPath:"none.glb"}}},"logitech-mx-ink/profile.json":{profileId:"logitech-mx-ink",fallbackProfileIds:["generic-trigger"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"touch-pad":{type:"button",gamepadIndices:{button:4},rootNodeName:"touch_pad",visualResponses:{touch_pad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touch_pad_pressed_value",minNodeName:"touch_pad_pressed_min",maxNodeName:"touch_pad_pressed_max"}}},"tip-force":{type:"button",gamepadIndices:{button:5},rootNodeName:"tip_force",visualResponses:{tip_force_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"tip_force_pressed_value",minNodeName:"tip_force_pressed_min",maxNodeName:"tip_force_pressed_max"}}},docked:{type:"button",gamepadIndices:{button:6},rootNodeName:"docked",visualResponses:{docked_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"docked_pressed_value",minNodeName:"docked_pressed_min",maxNodeName:"docked_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"logitech_mx_ink_none",assetPath:"none.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"touch-pad":{type:"button",gamepadIndices:{button:4},rootNodeName:"touch_pad",visualResponses:{touch_pad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touch_pad_pressed_value",minNodeName:"touch_pad_pressed_min",maxNodeName:"touch_pad_pressed_max"}}},"tip-force":{type:"button",gamepadIndices:{button:5},rootNodeName:"tip_force",visualResponses:{tip_force_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"tip_force_pressed_value",minNodeName:"tip_force_pressed_min",maxNodeName:"tip_force_pressed_max"}}},docked:{type:"button",gamepadIndices:{button:6},rootNodeName:"docked",visualResponses:{docked_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"docked_pressed_value",minNodeName:"docked_pressed_min",maxNodeName:"docked_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"logitech_mx_ink_none",assetPath:"none.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"},xr_standard_squeeze_pressed_mirror:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_mirror_value",minNodeName:"xr_standard_squeeze_pressed_mirror_min",maxNodeName:"xr_standard_squeeze_pressed_mirror_max"}}},"touch-pad":{type:"button",gamepadIndices:{button:4},rootNodeName:"touch_pad",visualResponses:{touch_pad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"touch_pad_pressed_value",minNodeName:"touch_pad_pressed_min",maxNodeName:"touch_pad_pressed_max"}}},"tip-force":{type:"button",gamepadIndices:{button:5},rootNodeName:"tip_force",visualResponses:{tip_force_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"tip_force_pressed_value",minNodeName:"tip_force_pressed_min",maxNodeName:"tip_force_pressed_max"}}},docked:{type:"button",gamepadIndices:{button:6},rootNodeName:"docked",visualResponses:{docked_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"docked_pressed_value",minNodeName:"docked_pressed_min",maxNodeName:"docked_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"logitech-mx-ink-none",assetPath:"none.glb"}}},"magicleap-one/profile.json":{profileId:"magicleap-one",fallbackProfileIds:["generic-trigger-squeeze-touchpad"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"magicleap_one_none",assetPath:"none.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"magicleap_one_none",assetPath:"none.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"},xr_standard_squeeze_pressed_mirror:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_mirror_value",minNodeName:"xr_standard_squeeze_pressed_mirror_min",maxNodeName:"xr_standard_squeeze_pressed_mirror_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"magicleap-one-none",assetPath:"none.glb"}}},"magicleap-two/profile.json":{profileId:"magicleap-two",fallbackProfileIds:["generic-trigger-squeeze-touchpad"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"magicleap_two_none",assetPath:"none.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"magicleap_two_none",assetPath:"none.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"},xr_standard_squeeze_pressed_mirror:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_mirror_value",minNodeName:"xr_standard_squeeze_pressed_mirror_min",maxNodeName:"xr_standard_squeeze_pressed_mirror_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"magicleap-two-none",assetPath:"none.glb"}}},"meta-quest-touch-plus-v2/profile.json":{profileId:"meta-quest-touch-plus-v2",fallbackProfileIds:["meta-quest-touch-plus","oculus-touch-v3","oculus-touch","generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}},menu:{type:"button",gamepadIndices:{button:7},rootNodeName:"menu",visualResponses:{menu_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"menu_pressed_value",minNodeName:"menu_pressed_min",maxNodeName:"menu_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"meta-quest-touch-plus-v2-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"meta-quest-touch-plus-v2-right",assetPath:"right.glb"}}},"meta-quest-touch-plus/profile.json":{profileId:"meta-quest-touch-plus",fallbackProfileIds:["oculus-touch-v3","oculus-touch","generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}},menu:{type:"button",gamepadIndices:{button:7},rootNodeName:"menu",visualResponses:{menu_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"menu_pressed_value",minNodeName:"menu_pressed_min",maxNodeName:"menu_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"meta-quest-touch-plus-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"meta-quest-touch-plus-right",assetPath:"right.glb"}}},"meta-quest-touch-pro/profile.json":{profileId:"meta-quest-touch-pro",fallbackProfileIds:["oculus-touch-v2","oculus-touch","generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}},menu:{type:"button",gamepadIndices:{button:7},rootNodeName:"menu",visualResponses:{menu_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"menu_pressed_value",minNodeName:"menu_pressed_min",maxNodeName:"menu_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"meta-quest-touch-pro-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"meta-quest-touch-pro-right",assetPath:"right.glb"}}},"microsoft-mixed-reality/profile.json":{profileId:"microsoft-mixed-reality",fallbackProfileIds:["generic-trigger-squeeze-touchpad-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"microsoft-mixed-reality-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"microsoft-mixed-reality-right",assetPath:"right.glb"}}},"oculus-go/profile.json":{profileId:"oculus-go",fallbackProfileIds:["generic-trigger-touchpad"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"oculus_go_none",assetPath:"none.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"oculus_go_none",assetPath:"none.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"oculus-go-none",assetPath:"none.glb"}}},"oculus-touch-v2/profile.json":{profileId:"oculus-touch-v2",fallbackProfileIds:["oculus-touch","generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"oculus-touch-v2-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"oculus-touch-v2-right",assetPath:"right.glb"}}},"oculus-touch-v3/profile.json":{profileId:"oculus-touch-v3",fallbackProfileIds:["oculus-touch-v2","oculus-touch","generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}},menu:{type:"button",gamepadIndices:{button:7},rootNodeName:"menu",visualResponses:{menu_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"menu_pressed_value",minNodeName:"menu_pressed_min",maxNodeName:"menu_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"oculus-touch-v3-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"oculus-touch-v3-right",assetPath:"right.glb"}}},"oculus-touch/profile.json":{profileId:"oculus-touch",fallbackProfileIds:["generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"oculus-touch-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"oculus-touch-right",assetPath:"right.glb"}}},"pico-4/profile.json":{profileId:"pico-4",fallbackProfileIds:["generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"pico-4-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"pico-4-right",assetPath:"right.glb"}}},"pico-4u/profile.json":{profileId:"pico-4u",fallbackProfileIds:["generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"pico-4u-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"pico-4u-right",assetPath:"right.glb"}}},"pico-g2/profile.json":{profileId:"pico-g2",fallbackProfileIds:["generic-trigger-touchpad"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"pico_g2_none",assetPath:"none.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"pico_g2_none",assetPath:"none.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"}},gamepadMapping:"xr-standard",rootNodeName:"pico-g2-none",assetPath:"none.glb"}}},"pico-neo2/profile.json":{profileId:"pico-neo2",fallbackProfileIds:["generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"pico-neo2-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"pico-neo2-right",assetPath:"right.glb"}}},"pico-neo3/profile.json":{profileId:"pico-neo3",fallbackProfileIds:["generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"pico-neo3-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"pico-neo3-right",assetPath:"right.glb"}}},"samsung-galaxyxr/profile.json":{profileId:"samsung-galaxyxr",fallbackProfileIds:["samsung-galaxyxr","generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}},menu:{type:"button",gamepadIndices:{button:7},rootNodeName:"menu",visualResponses:{menu_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"menu_pressed_value",minNodeName:"menu_pressed_min",maxNodeName:"menu_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"samsung-galaxyxr-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}},thumbrest:{type:"button",gamepadIndices:{button:6},rootNodeName:"thumbrest",visualResponses:{thumbrest_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"thumbrest_pressed_value",minNodeName:"thumbrest_pressed_min",maxNodeName:"thumbrest_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"samsung-galaxyxr-right",assetPath:"right.glb"}}},"samsung-gearvr/profile.json":{profileId:"samsung-gearvr",fallbackProfileIds:["generic-trigger-touchpad"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},menu:{type:"button",gamepadIndices:{button:4},rootNodeName:"menu",visualResponses:{menu_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"menu_pressed_value",minNodeName:"menu_pressed_min",maxNodeName:"menu_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"samsung_gearvr_none",assetPath:"none.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},menu:{type:"button",gamepadIndices:{button:4},rootNodeName:"menu",visualResponses:{menu_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"menu_pressed_value",minNodeName:"menu_pressed_min",maxNodeName:"menu_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"samsung_gearvr_none",assetPath:"none.glb"},none:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},menu:{type:"button",gamepadIndices:{button:4},rootNodeName:"menu",visualResponses:{menu_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"menu_pressed_value",minNodeName:"menu_pressed_min",maxNodeName:"menu_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"samsung-gearvr-none",assetPath:"none.glb"}}},"samsung-odyssey/profile.json":{profileId:"samsung-odyssey",fallbackProfileIds:["microsoft-mixed-reality","generic-trigger-squeeze-touchpad-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"samsung-odyssey-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"samsung-odyssey-right",assetPath:"right.glb"}}},"valve-index/profile.json":{profileId:"valve-index",fallbackProfileIds:["generic-trigger-squeeze-touchpad-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"valve-index-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-touchpad":{type:"touchpad",gamepadIndices:{button:2,xAxis:0,yAxis:1},rootNodeName:"xr_standard_touchpad",visualResponses:{xr_standard_touchpad_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_pressed_value",minNodeName:"xr_standard_touchpad_pressed_min",maxNodeName:"xr_standard_touchpad_pressed_max"},xr_standard_touchpad_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_pressed_value",minNodeName:"xr_standard_touchpad_xaxis_pressed_min",maxNodeName:"xr_standard_touchpad_xaxis_pressed_max"},xr_standard_touchpad_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_pressed_value",minNodeName:"xr_standard_touchpad_yaxis_pressed_min",maxNodeName:"xr_standard_touchpad_yaxis_pressed_max"},xr_standard_touchpad_xaxis_touched:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_xaxis_touched_value",minNodeName:"xr_standard_touchpad_xaxis_touched_min",maxNodeName:"xr_standard_touchpad_xaxis_touched_max"},xr_standard_touchpad_yaxis_touched:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_touchpad_yaxis_touched_value",minNodeName:"xr_standard_touchpad_yaxis_touched_min",maxNodeName:"xr_standard_touchpad_yaxis_touched_max"},xr_standard_touchpad_axes_touched:{componentProperty:"state",states:["touched","pressed"],valueNodeProperty:"visibility",valueNodeName:"xr_standard_touchpad_axes_touched_value"}},touchPointNodeName:"xr_standard_touchpad_axes_touched_value"},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"valve-index-right",assetPath:"right.glb"}}},"yvr-touch-v2/profile.json":{profileId:"yvr-touch-v2",fallbackProfileIds:["generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"yvr-touch-v2-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"yvr-touch-v2-right",assetPath:"right.glb"}}},"yvr-touch/profile.json":{profileId:"yvr-touch",fallbackProfileIds:["generic-trigger-squeeze-thumbstick"],layouts:{left:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"x-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"x_button",visualResponses:{x_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"x_button_pressed_value",minNodeName:"x_button_pressed_min",maxNodeName:"x_button_pressed_max"}}},"y-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"y_button",visualResponses:{y_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"y_button_pressed_value",minNodeName:"y_button_pressed_min",maxNodeName:"y_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"yvr-touch-left",assetPath:"left.glb"},right:{selectComponentId:"xr-standard-trigger",components:{"xr-standard-trigger":{type:"trigger",gamepadIndices:{button:0},rootNodeName:"xr_standard_trigger",visualResponses:{xr_standard_trigger_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_trigger_pressed_value",minNodeName:"xr_standard_trigger_pressed_min",maxNodeName:"xr_standard_trigger_pressed_max"}}},"xr-standard-squeeze":{type:"squeeze",gamepadIndices:{button:1},rootNodeName:"xr_standard_squeeze",visualResponses:{xr_standard_squeeze_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_squeeze_pressed_value",minNodeName:"xr_standard_squeeze_pressed_min",maxNodeName:"xr_standard_squeeze_pressed_max"}}},"xr-standard-thumbstick":{type:"thumbstick",gamepadIndices:{button:3,xAxis:2,yAxis:3},rootNodeName:"xr_standard_thumbstick",visualResponses:{xr_standard_thumbstick_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_pressed_value",minNodeName:"xr_standard_thumbstick_pressed_min",maxNodeName:"xr_standard_thumbstick_pressed_max"},xr_standard_thumbstick_xaxis_pressed:{componentProperty:"xAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_xaxis_pressed_value",minNodeName:"xr_standard_thumbstick_xaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_xaxis_pressed_max"},xr_standard_thumbstick_yaxis_pressed:{componentProperty:"yAxis",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"xr_standard_thumbstick_yaxis_pressed_value",minNodeName:"xr_standard_thumbstick_yaxis_pressed_min",maxNodeName:"xr_standard_thumbstick_yaxis_pressed_max"}}},"a-button":{type:"button",gamepadIndices:{button:4},rootNodeName:"a_button",visualResponses:{a_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"a_button_pressed_value",minNodeName:"a_button_pressed_min",maxNodeName:"a_button_pressed_max"}}},"b-button":{type:"button",gamepadIndices:{button:5},rootNodeName:"b_button",visualResponses:{b_button_pressed:{componentProperty:"button",states:["default","touched","pressed"],valueNodeProperty:"transform",valueNodeName:"b_button_pressed_value",minNodeName:"b_button_pressed_min",maxNodeName:"b_button_pressed_max"}}}},gamepadMapping:"xr-standard",rootNodeName:"yvr-touch-right",assetPath:"right.glb"}}}};function Uk(n){const e=Fk[n];if(!e)throw new Error(`Profile not found: ${n}`);return e}const G_="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles",Ok="generic-trigger";function _N(n,{defaultProfile:e=Ok}={}){const t=kk;let s;if(n.profiles.some(r=>{const o=t[r];return o&&(s={profileId:r,profilePath:o.path,deprecated:!!o.deprecated}),!!s}),!s){const r=t[e];if(!r)throw new Error(`No matching profile name found and default profile "${e}" missing.`);s={profileId:e,profilePath:r.path,deprecated:!!r.deprecated}}return Uk(s.profilePath)}function H_(n){const e=n.profiles[0];let t=_N(n);const s=t.layouts[n.handedness];if(!s)throw new DOMException("No applicable layout found","NotSupportedError");return{inputSource:n,layout:s,profileId:e,resolvedProfileId:t.profileId,assetPath:`${G_}/${t.profileId}/${s.assetPath}`}}class rc{constructor(e,t,s,i,r,o,a){this.playerSpace=e,this.handedness=t,this.visualsEnabled=s,this.visualClass=i,this.scene=r,this.camera=o,this.assetLoader=a,this.isPrimary=!1}connectVisual(){if(this.inputConfig){const{inputSource:e,layout:t}=this.inputConfig;rc.createVisual(this.visualClass,e,t,this.visualsEnabled,this.scene,this.camera,this.assetLoader).then(s=>{s&&e===this._inputSource&&s.constructor===this.visualClass&&(this.visual=s,this.visual.xrInput=this,this.playerSpace.add(s.model))})}}disconnectVisual(){this.visual&&(this.visual.disconnect(),this.visual.xrInput=void 0,this.visual.model.removeFromParent(),this.visual=void 0)}updateVisualImplementation(e){this.disconnectVisual(),this.visualClass=e,this.connectVisual()}get connected(){return!!this._inputSource}get inputSource(){return this._inputSource}connect(e){this._inputSource&&this.disconnect(),this._inputSource=e}disconnect(){this._inputSource=void 0}get pointerBusy(){return!1}static async createVisual(e,t,s,i,r,o,a){var l,c;const d=(l=e.assetProfileId)!==null&&l!==void 0?l:t.profiles[0],u=(c=e.assetPath)!==null&&c!==void 0?c:`${G_}/${d}/${t.handedness}.glb`,f=`${e.assetKeyPrefix}-${d}-${t.handedness}`;let A;if(this.visualCache.has(f))A=this.visualCache.get(f);else{const p=await a.loadGLTF(u);A=new e(r,o,p.scene,s),A.init(),this.visualCache.set(f,A)}return A.connect(t,i),A}}rc.cursorPool=[];rc.visualCache=new Map;class Zx extends rc{constructor(e,t,s,i,r,o,a){super(e,t,s,i,r,o,a)}connect(e){super.connect(e);const t=H_(e);this.inputConfig=t,this.connectVisual()}disconnect(){super.disconnect(),this.inputConfig=void 0,this.disconnectVisual()}update(e,t){this._inputSource&&this.visual&&this.gripSpace&&(this.visual.model.position.copy(this.gripSpace.position),this.visual.model.quaternion.copy(this.gripSpace.quaternion),this.visual.update(t))}toggleVisual(e){this.visualsEnabled=e,this.visual&&this.visual.toggle(e)}}class IN extends Tt{constructor(e){super(),this.refMesh=e,this.batchedMeshes=new Map,this.batchedIndices=new Map;const t=[];e.traverse(i=>{i.matrixAutoUpdate=!1;const r=i;r.isMesh&&t.push(r),i.userData.batchedMatrix=new Je});const s=new Map;t.forEach(i=>{const r=i.material;s.has(r)||s.set(r,[]),s.get(r).push(i)}),s.forEach((i,r)=>{let o=0,a=0,l=0;i.forEach(d=>{a+=d.geometry.attributes.position.count,l+=d.geometry.index.count,o++});const c=new $d(o,a,l,r);this.batchedMeshes.set(r,c),this.add(c),i.forEach(d=>{const u=c.addGeometry(d.geometry);this.batchedIndices.set(d,c.addInstance(u))})})}updateMatrixWorld(e){super.updateMatrixWorld(e),this.refMesh.traverse(t=>{t.updateMatrix(),t!==this.refMesh&&t.userData.batchedMatrix.multiplyMatrices(t.parent.userData.batchedMatrix,t.matrix)}),this.batchedIndices.forEach((t,s)=>{const i=s.material,r=this.batchedMeshes.get(i);r&&r.setMatrixAt(t,s.userData.batchedMatrix)})}}class vN{constructor(e,t,s,i){this.scene=e,this.camera=t,this.model=s,this.layout=i,this.enabled=!0}init(){}connect(e,t){this.toggle(t),this.gamepad=e.gamepad}disconnect(){this.gamepad=void 0}toggle(e){this.enabled!==e&&(this.model.visible=e,this.enabled=e)}update(e){}}class Gk{constructor(e,t,s,i){this.scene=e,this.camera=t,this.model=s,this.layout=i,this.joints=[],this.enabled=!0}init(){}connect(e,t){this.toggle(t),e.hand.forEach(i=>{const r=i.jointName;this.joints.push(this.model.getObjectByName(r))})}disconnect(){this.joints.length=0}toggle(e){this.enabled!==e&&(this.model.visible=e,this.enabled=e)}update(){var e;const t=(e=this.xrInput)===null||e===void 0?void 0:e.jointTransforms;this.enabled&&t&&this.joints.forEach((s,i)=>{s&&(s.matrix.fromArray(t,i*16),s.matrix.decompose(s.position,s.quaternion,s.scale))})}}class Kl extends vN{constructor(){super(...arguments),this.animatedComponents=[]}init(){if(Kl.useSimpleMaterial){const e=new Map;this.model.traverse(t=>{const s=t;if(s.isMesh){const i=s.material;let r=e.get(i);r||(r=new OB({color:i.color,map:i.map,normalMap:i.normalMap}),e.set(i,r)),s.material=r}})}Object.values(this.layout.components).forEach(e=>{Object.values(e.visualResponses).forEach(t=>{const s=t.componentProperty;if(s==="button"||s==="xAxis"||s==="yAxis"){const i=e.gamepadIndices[s],r=s==="button",o=this.model.getObjectByName(t.valueNodeName),a=t.minNodeName?this.model.getObjectByName(t.minNodeName):void 0,l=t.maxNodeName?this.model.getObjectByName(t.maxNodeName):void 0;if(i===void 0||!o||!a||!l)return;this.animatedComponents.push({isButton:r,gamepadIndex:i,node:o,transformRange:{min:{position:a.position.clone(),quaternion:a.quaternion.clone()},max:{position:l.position.clone(),quaternion:l.quaternion.clone()}}}),a.removeFromParent(),l.removeFromParent()}})}),this.model=new IN(this.model)}update(){this.enabled&&this.gamepad&&this.animatedComponents.forEach(e=>{const{isButton:t,node:s,gamepadIndex:i,transformRange:r}=e,o=t?this.gamepad.buttons[i].value:(this.gamepad.axes[i]+1)/2;s.position.lerpVectors(r.min.position,r.max.position,o),s.quaternion.slerpQuaternions(r.min.quaternion,r.max.quaternion,o)})}}Kl.assetKeyPrefix="controller-";Kl.useSimpleMaterial=!1;function zu(n,e,t){return(1-t)*n+t*e}const z_=new Ds({uniforms:{outlineThickness:{value:.0012}},vertexShader:`
        #include <common>
        #include <skinning_pars_vertex>
        uniform float outlineThickness;

        void main() {
          #include <skinbase_vertex>
          #include <beginnormal_vertex>
          #include <skinnormal_vertex>
          #include <defaultnormal_vertex>
          
          vec3 transformed = position - normal * outlineThickness;
          #include <skinning_vertex>
          vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.0);
          gl_Position = projectionMatrix * mvPosition;
        }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0,0,0,0);
        }
      `,transparent:!0,depthWrite:!0,depthTest:!0,alphaTest:.05,side:In}),V_=new Ds({uniforms:{outlineColor:{value:new st(16777215)},opacityThresholds:{value:new Be(.03,.08)}},vertexShader:`
        #include <common>
        #include <skinning_pars_vertex>

        attribute float wristDist;
        varying float vWristDist;
        
        void main() {
          #include <skinbase_vertex>
          #include <beginnormal_vertex>
          #include <skinnormal_vertex>
          #include <defaultnormal_vertex>
        
          vec3 transformed = vec3(position);
          #include <skinning_vertex>
        
          vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.0);
          gl_Position = projectionMatrix * mvPosition;
          vWristDist = wristDist;
        }
      `,fragmentShader:`
        uniform vec3 outlineColor;
        uniform vec2 opacityThresholds;
        varying float vWristDist;
        
        void main() {
          float alpha = smoothstep(opacityThresholds.x, opacityThresholds.y, vWristDist);
          alpha = clamp(alpha, 0.0, 1.0);
        
          gl_FragColor = vec4(outlineColor, alpha);
        }
      `,side:Ls,transparent:!0,depthWrite:!1,depthTest:!0});class Ch extends Gk{init(){var e;const t=this.model.getObjectByProperty("type","SkinnedMesh");t.frustumCulled=!1,t.parent.scale.multiplyScalar(1.05);const s=this.model.getObjectByName("wrist"),i=t.geometry,r=s.getWorldPosition(new w),o=t.worldToLocal(r.clone()),a=i.attributes.position,l=a.count,c=new Float32Array(l);for(let u=0;u<l;u++){const h=a.getX(u),f=a.getY(u),A=a.getZ(u);c[u]=Math.sqrt((h-o.x)*(h-o.x)+(f-o.y)*(f-o.y)+(A-o.z)*(A-o.z))}i.setAttribute("wristDist",new rs(c,1)),t.material=z_;const d=t.clone();d.material=V_,(e=t.parent)===null||e===void 0||e.add(d),d.renderOrder=999}}Ch.assetKeyPrefix="hand-";Ch.assetProfileId="generic-hand";const Hk={wrist:[-.19099761545658112,-.5637121796607971,.8035844564437866,0,.9546268582344055,-.29723578691482544,.01838778331875801,0,.22848893702030182,.7706354260444641,.5949063897132874,0,.058663930743932724,.03852901607751846,.07338987290859222,1],"thumb-metacarpal":[.7253018617630005,-.6526158452033997,-.21915610134601593,0,.5962181091308594,.7546267509460449,-.273974746465683,0,.3441815674304962,.06804964691400528,.9364338517189026,0,.04146573320031166,.03385084494948387,.028252966701984406,1],"thumb-phalanx-proximal":[.6704757213592529,-.7404858469963074,-.04628881439566612,0,.6004704236984253,.5782264471054077,-.5523486733436584,0,.4357720613479614,.3425414264202118,.8323269486427307,0,.030275389552116394,.03163835033774376,-.0021932281088083982,1],"thumb-phalanx-distal":[.7001850605010986,-.674904465675354,-.23290452361106873,0,.4586094319820404,.6751725077629089,-.5777708292007446,0,.5471910834312439,.2977343797683716,.7822635769844055,0,.015549290925264359,.020062798634171486,-.030320117250084877,1],"thumb-tip":[.7001850605010986,-.674904465675354,-.23290452361106873,0,.4586094319820404,.6751725077629089,-.5777708292007446,0,.5471910834312439,.2977343797683716,.7822635769844055,0,.003033810993656516,.012982223182916641,-.050306063145399094,1],"index-finger-metacarpal":[-.19099761545658112,-.5637121796607971,.8035844564437866,0,.9546268582344055,-.29723578691482544,.01838778331875801,0,.22848893702030182,.7706354260444641,.5949063897132874,0,.04518073797225952,.024484416469931602,.035587772727012634,1],"index-finger-phalanx-proximal":[-.15332399308681488,-.6449125409126282,.74871826171875,0,.9067131280899048,-.393060564994812,-.1528862863779068,0,.3928902745246887,.6554316878318787,.645016610622406,0,.03424347564578056,-.019998569041490555,-.002778385067358613,1],"index-finger-phalanx-intermediate":[-.19366276264190674,-.6146624684333801,.7646464705467224,0,.6857759952545166,-.642173707485199,-.34252533316612244,0,.7015737295150757,.4580419659614563,.5458863377571106,0,.019342219457030296,-.04485730454325676,-.027242127805948257,1],"index-finger-phalanx-distal":[-.17719687521457672,-.5709590315818787,.8016274571418762,0,.5550868511199951,-.7305805683135986,-.3976558446884155,0,.812699019908905,.37450963258743286,.44638875126838684,0,.002291433745995164,-.055989429354667664,-.0405091792345047,1],"index-finger-tip":[-.17719687521457672,-.5709590315818787,.8016274571418762,0,.5550868511199951,-.7305805683135986,-.3976558446884155,0,.812699019908905,.37450963258743286,.44638875126838684,0,-.015366664156317711,-.06528240442276001,-.0506625697016716,1],"middle-finger-metacarpal":[-.19099761545658112,-.5637121796607971,.8035844564437866,0,.9546268582344055,-.29723578691482544,.01838778331875801,0,.22848893702030182,.7706354260444641,.5949063897132874,0,.044298235327005386,.016478098928928375,.049932993948459625,1],"middle-finger-phalanx-proximal":[-.16133272647857666,-.43254467844963074,.8870605230331421,0,.8241896033287048,-.5534587502479553,-.1199769452214241,0,.5428470969200134,.7117499709129333,.4457901418209076,0,.03471161052584648,-.033450815826654434,.015055419877171516,1],"middle-finger-phalanx-intermediate":[-.17571251094341278,-.4131202697753906,.8935638070106506,0,.503139317035675,-.8178667426109314,-.27918484807014465,0,.8461533784866333,.40053096413612366,.3515668213367462,0,.01140881422907114,-.06400411576032639,-.004081025719642639,1],"middle-finger-phalanx-distal":[-.22404845058918,-.32706698775291443,.9180572628974915,0,.3520073890686035,-.905570387840271,-.2367122620344162,0,.9087865352630615,.2701280415058136,.3180219233036041,0,-.011902349069714546,-.07503857463598251,-.013766520656645298,1],"middle-finger-tip":[-.22404845058918,-.32706698775291443,.9180572628974915,0,.3520073890686035,-.905570387840271,-.2367122620344162,0,.9087865352630615,.2701280415058136,.3180219233036041,0,-.034258950501680374,-.08291316777467728,-.021691782400012016,1],"ring-finger-metacarpal":[-.19099761545658112,-.5637121796607971,.8035844564437866,0,.9546268582344055,-.29723578691482544,.01838778331875801,0,.22848893702030182,.7706354260444641,.5949063897132874,0,.04211178794503212,.005066493526101112,.0646386668086052,1],"ring-finger-phalanx-proximal":[-.1997598111629486,-.2856025695800781,.9372975826263428,0,.8318477272987366,-.5549431443214417,.00819024071097374,0,.5178080797195435,.7813250422477722,.3484334349632263,0,.028829503804445267,-.03772619366645813,.03454011306166649,1],"ring-finger-phalanx-intermediate":[-.25824522972106934,-.23653194308280945,.9366758465766907,0,.5364312529563904,-.8414682149887085,-.06459354609251022,0,.8034617900848389,.48578131198883057,.34418854117393494,0,.008636998012661934,-.06819482147693634,.020952558144927025,1],"ring-finger-phalanx-distal":[-.3179231286048889,-.23989734053611755,.9172642827033997,0,.3197873532772064,-.9379004836082458,-.13445626199245453,0,.8925586938858032,.25058284401893616,.3748965263366699,0,-.012713711708784103,-.08110369741916656,.011806294322013855,1],"ring-finger-tip":[-.3179231286048889,-.23989734053611755,.9172642827033997,0,.3197873532772064,-.9379004836082458,-.13445626199245453,0,.8925586938858032,.25058284401893616,.3748965263366699,0,-.0339939221739769,-.0887695923447609,.0027068445924669504,1],"pinky-finger-metacarpal":[-.4810284674167633,-.16032777726650238,.8619199991226196,0,.7997848987579346,-.48294851183891296,.3565172255039215,0,.35910364985466003,.860845685005188,.360539972782135,0,.03749338537454605,.002106056548655033,.07142738997936249,1],"pinky-finger-phalanx-proximal":[-.2540414035320282,-.07621645927429199,.9641854166984558,0,.8106723427772522,-.5604919195175171,.1692887842655182,0,.5275158882141113,.8246449828147888,.20417501032352448,0,.0211003590375185,-.03719118610024452,.05496629327535629,1],"pinky-finger-phalanx-intermediate":[-.283662885427475,.05269712582230568,.9574748277664185,0,.45776572823524475,-.8699304461479187,.18349729478359222,0,.8426066040992737,.490350604057312,.22264425456523895,0,.004894857760518789,-.06252463161945343,.04869394749403,1],"pinky-finger-phalanx-distal":[-.36656567454338074,.007802525535225868,.9303591847419739,0,.3588726222515106,-.9213966131210327,.14912478625774384,0,.8583937287330627,.38854464888572693,.33495256304740906,0,-.012219619937241077,-.0724843218922615,.04417172446846962,1],"pinky-finger-tip":[-.36656567454338074,.007802525535225868,.9303591847419739,0,.3588726222515106,-.9213966131210327,.14912478625774384,0,.8583937287330627,.38854464888572693,.33495256304740906,0,-.030510887503623962,-.08212456107139587,.03678080439567566,1]},zk={wrist:[-.19326625764369965,-.700115978717804,.6873756647109985,0,.9811022877693176,-.13126900792121887,.14215001463890076,0,-.009290123358368874,.7018587589263916,.7122553586959839,0,.04728994518518448,.03910332918167114,.07807964831590652,1],"thumb-metacarpal":[.836667537689209,-.3977629840373993,-.37652623653411865,0,.31428012251853943,.9116700291633606,-.26473715901374817,0,.4485703110694885,.1031622588634491,.8877738118171692,0,.03273596242070198,.0349138081073761,.0306982584297657,1],"thumb-phalanx-proximal":[.8362306952476501,-.5063737034797668,-.21048520505428314,0,.29973605275154114,.743484377861023,-.5978203415870667,0,.45921289920806885,.4368256628513336,.7735030055046082,0,.01815161481499672,.03155970200896263,.0018341526156291366,1],"thumb-phalanx-distal":[.8111386299133301,-.4369579553604126,-.3887442946434021,0,.08336401730775833,.744280219078064,-.6626443862915039,0,.5788822174072266,.5050888657569885,.6401411294937134,0,.002633400959894061,.016797985881567,-.02430492267012596,1],"thumb-tip":[.8111386299133301,-.4369579553604126,-.3887442946434021,0,.08336401730775833,.744280219078064,-.6626443862915039,0,.5788822174072266,.5050888657569885,.6401411294937134,0,-.010972380638122559,.00484889093786478,-.04098760336637497,1],"index-finger-metacarpal":[-.19326625764369965,-.700115978717804,.6873756647109985,0,.9811022877693176,-.13126900792121887,.14215001463890076,0,-.009290123358368874,.7018587589263916,.7122553586959839,0,.039665982127189636,.027023138478398323,.03726854547858238,1],"index-finger-phalanx-proximal":[-.11402399092912674,-.6228838562965393,.773959755897522,0,.8602886199951172,-.45154619216918945,-.23666246235370636,0,.49689218401908875,.6388437151908875,.5873472690582275,0,.045555129647254944,-.010823833756148815,-.00752238230779767,1],"index-finger-phalanx-intermediate":[-.15015903115272522,-.5908305048942566,.7926985621452332,0,.07557929307222366,-.806303083896637,-.5866537690162659,0,.9857685565948486,-.028179632499814034,.16572844982147217,0,.02670934423804283,-.03505346551537514,-.029798904433846474,1],"index-finger-phalanx-distal":[-.10268659889698029,-.5726102590560913,.8133710026741028,0,-.3890283405780792,-.7294459939002991,-.5626415014266968,0,.9154847860336304,-.37420010566711426,-.14785714447498322,0,.0027515734545886517,-.034368596971035004,-.03382670134305954,1],"index-finger-tip":[-.10268659889698029,-.5726102590560913,.8133710026741028,0,-.3890283405780792,-.7294459939002991,-.5626415014266968,0,.9154847860336304,-.37420010566711426,-.14785714447498322,0,-.018150901421904564,-.0269172266125679,-.030856406316161156,1],"middle-finger-metacarpal":[-.19326625764369965,-.700115978717804,.6873756647109985,0,.9811022877693176,-.13126900792121887,.14215001463890076,0,-.009290123358368874,.7018587589263916,.7122553586959839,0,.039410170167684555,.01680479384958744,.05037049949169159,1],"middle-finger-phalanx-proximal":[-.19697882235050201,-.5661503672599792,.8004202246665955,0,.44485533237457275,-.7791463732719421,-.44162672758102417,0,.8736720085144043,.269080251455307,.4053305983543396,0,.046016983687877655,-.026484908536076546,.00840697530657053,1],"middle-finger-phalanx-intermediate":[-.19850671291351318,-.543941080570221,.815305233001709,0,-.8491258025169373,-.31999102234840393,-.4202273488044739,0,.4894692301750183,-.7757146954536438,-.39835408329963684,0,.00851286482065916,-.03803572431206703,-.008992661722004414,1],"middle-finger-phalanx-distal":[-.02412884309887886,-.5203070044517517,.8536380529403687,0,-.8494946360588074,.46083885431289673,.2568773031234741,0,-.527044951915741,-.7189629077911377,-.4531177282333374,0,-.004971807822585106,-.016665101051330566,.0019818395376205444,1],"middle-finger-tip":[-.02412884309887886,-.5203070044517517,.8536380529403687,0,-.8494946360588074,.46083885431289673,.2568773031234741,0,-.527044951915741,-.7189629077911377,-.4531177282333374,0,.007212246768176556,.0016472793649882078,.013849507085978985,1],"ring-finger-metacarpal":[-.19326625764369965,-.700115978717804,.6873756647109985,0,.9811022877693176,-.13126900792121887,.14215001463890076,0,-.009290123358368874,.7018587589263916,.7122553586959839,0,.03881341218948364,.0049891178496181965,.06276080012321472,1],"ring-finger-phalanx-proximal":[-.2744467258453369,-.5059019923210144,.8177663087844849,0,.2607558071613312,-.8577102422714233,-.44310176372528076,0,.92557293176651,.09162963181734085,.36731287837028503,0,.038332559168338776,-.03451777994632721,.025984058156609535,1],"ring-finger-phalanx-intermediate":[-.27134573459625244,-.4247802495956421,.863673985004425,0,-.9208118319511414,-.14660659432411194,-.3614026606082916,0,.28013697266578674,-.8933463096618652,-.3513617217540741,0,.0022388119250535965,-.03809098154306412,.011660284362733364,1],"ring-finger-phalanx-distal":[-.2017165720462799,-.39981958270072937,.8941220641136169,0,-.6362114548683167,.7475619316101074,.1907520294189453,0,-.7446783781051636,-.5303730368614197,-.40516555309295654,0,-.005205388180911541,-.014351737685501575,.02099715732038021,1],"ring-finger-tip":[-.2017165720462799,-.39981958270072937,.8941220641136169,0,-.6362114548683167,.7475619316101074,.1907520294189453,0,-.7446783781051636,-.5303730368614197,-.40516555309295654,0,.011834603734314442,-.0003507334040477872,.031390633434057236,1],"pinky-finger-metacarpal":[-.5599007606506348,-.3645467460155487,.7440539598464966,0,.8176640272140503,-.3882564902305603,.42506730556488037,0,.1339270919561386,.8463817834854126,.5154619812965393,0,.033919818699359894,.000323370419209823,.06828021258115768,1],"pinky-finger-phalanx-proximal":[-.4415345788002014,-.4293745458126068,.7878351807594299,0,.2647094428539276,-.9013156294822693,-.3428681790828705,0,.8573074340820312,.05715937167406082,.5116217732429504,0,.027806390076875687,-.03831324353814125,.04474702104926109,1],"pinky-finger-phalanx-intermediate":[-.3579302430152893,-.30541327595710754,.8823878169059753,0,-.8971001505851746,-.1496744304895401,-.4157034456729889,0,.25903216004371643,-.9403831958770752,-.22041329741477966,0,.0014695478603243828,-.04006920009851456,.029029792174696922,1],"pinky-finger-phalanx-distal":[-.33868440985679626,-.2318958044052124,.9118753671646118,0,-.5754091143608093,.8178455233573914,-.005732276476919651,0,-.7444442510604858,-.5266430377960205,-.41042670607566833,0,-.0037917618174105883,-.020968729630112648,.033506691455841064,1],"pinky-finger-tip":[-.33868440985679626,-.2318958044052124,.9118753671646118,0,-.5754091143608093,.8178455233573914,-.005732276476919651,0,-.7444442510604858,-.5266430377960205,-.41042670607566833,0,.011911955662071705,-.00837172381579876,.042272504419088364,1]};class Bo extends vN{constructor(e,t,s,i){var r;super(t,s,e,i),this.bones=[],this.mat4=new Je,this.vec3=new w;const o=e.getObjectByProperty("type","SkinnedMesh");o.frustumCulled=!1,o.parent.scale.multiplyScalar(1.05);const a=e.getObjectByName("wrist"),l=o.geometry,c=a.getWorldPosition(new w),d=o.worldToLocal(c.clone()),u=l.attributes.position,h=u.count,f=new Float32Array(h);for(let p=0;p<h;p++){const g=u.getX(p),m=u.getY(p),y=u.getZ(p);f[p]=Math.sqrt((g-d.x)*(g-d.x)+(m-d.y)*(m-d.y)+(y-d.z)*(y-d.z))}l.setAttribute("wristDist",new rs(f,1)),o.material=z_;const A=o.clone();A.material=V_,(r=o.parent)===null||r===void 0||r.add(A),A.renderOrder=999,Object.keys(Bo.defaultPose).forEach(p=>{const g=this.model.getObjectByName(p);g.userData={defaultTransform:{position:new w,quaternion:new Ge},pressedTransform:{position:new w,quaternion:new Ge},buttonIndex:p.startsWith("index")?0:p.startsWith("thumb")?3:1,jointName:p,alpha:0},this.bones.push(g)})}connect(e,t){super.connect(e,t),this.bones.forEach(s=>{const{jointName:i}=s.userData;this.mat4.fromArray(Bo.defaultPose[i]),this.mat4.decompose(s.userData.defaultTransform.position,s.userData.defaultTransform.quaternion,this.vec3),this.mat4.fromArray(Bo.pressedPose[i]),this.mat4.decompose(s.userData.pressedTransform.position,s.userData.pressedTransform.quaternion,this.vec3),e.handedness==="left"&&(s.userData.defaultTransform.position.x*=-1,s.userData.pressedTransform.position.x*=-1,s.userData.defaultTransform.quaternion.x*=-1,s.userData.defaultTransform.quaternion.w*=-1,s.userData.pressedTransform.quaternion.x*=-1,s.userData.pressedTransform.quaternion.w*=-1)})}update(e){this.gamepad&&this.enabled&&this.bones.forEach(t=>{if(t){const{buttonIndex:s,defaultTransform:i,pressedTransform:r,alpha:o}=t.userData,a=this.gamepad.buttons[s],l=zu(o,a.value,e*20);t.position.lerpVectors(i.position,r.position,l),t.quaternion.slerpQuaternions(i.quaternion,r.quaternion,l),t.userData.alpha=l}})}}Bo.assetKeyPrefix="controller-hand-";Bo.assetProfileId="generic-hand";Bo.defaultPose=Hk;Bo.pressedPose=zk;const Vk=.2,EN={selectComponentId:"pinch",components:{pinch:{type:"button",gamepadIndices:{button:0},rootNodeName:"",visualResponses:{}},swipeleft:{type:"button",gamepadIndices:{button:5},rootNodeName:"",visualResponses:{}},swiperight:{type:"button",gamepadIndices:{button:6},rootNodeName:"",visualResponses:{}},swipeup:{type:"button",gamepadIndices:{button:7},rootNodeName:"",visualResponses:{}},swipedown:{type:"button",gamepadIndices:{button:8},rootNodeName:"",visualResponses:{}},confirm:{type:"button",gamepadIndices:{button:9},rootNodeName:"",visualResponses:{}}},rootNodeName:"",gamepadMapping:"xr-standard",assetPath:""};class $x extends rc{constructor(e,t,s,i,r,o,a){super(e,t,s,i,r,o,a),this.jointSpaces=[],this.pinchThreshold=.008,this.pinchCooldown=0,this.pinchData={prev:!1,curr:!1},this.vec3=new w,this.mat4=new Je}connect(e){super.connect(e);const t=e.hand;this.gripXRSpace=e.gripSpace||e.targetRaySpace,t.forEach(s=>{s.jointName==="index-finger-tip"?this.indexTip=s:s.jointName==="thumb-tip"&&(this.thumbTip=s),this.jointSpaces.push(s)}),this.jointTransforms=new Float32Array(t.size*16),this.inputConfig={inputSource:e,layout:EN},this.connectVisual()}disconnect(){super.disconnect(),this.jointTransforms=void 0,this.jointSpaces.length=0,this.indexTip=void 0,this.thumbTip=void 0,this.disconnectVisual()}update(e,t){var s,i,r,o;if(this._inputSource&&this.jointTransforms&&((i=(s=e.fillPoses)===null||s===void 0?void 0:s.call(e,this.jointSpaces,this.gripXRSpace,this.jointTransforms))!==null&&i!==void 0?i:!1)&&(this.updatePinch(e,t),this.visual&&this.gripSpace&&(this.visual.model.position.copy(this.gripSpace.position),this.visual.model.quaternion.copy(this.gripSpace.quaternion),this.visual.update(t)),this.pendingCapture)){const{refSpace:l,resolve:c,reject:d}=this.pendingCapture,u=new Float32Array(this.jointTransforms.length);if((o=(r=e.fillPoses)===null||r===void 0?void 0:r.call(e,this.jointSpaces,l,u))!==null&&o!==void 0?o:!1){const f={};this.jointSpaces.forEach((A,p)=>{f[A.jointName]=this.mat4.fromArray(u,p*16).toArray()}),c(f)}else d();this.pendingCapture=void 0}}updatePinch(e,t){if(this.pinchData.prev=this.pinchData.curr,this.pinchCooldown>0){this.pinchData.curr=!0,this.pinchCooldown-=t;return}if(this.indexTip&&this.thumbTip){const s=e.getPose(this.indexTip,this.thumbTip);if(s){this.vec3.copy(s.transform.position);const i=this.vec3.length()<this.pinchThreshold;i&&(this.pinchCooldown=Vk),this.pinchData.curr=i}}}toggleVisual(e){this.visualsEnabled=e,this.visual&&this.visual.toggle(e)}capturePose(e){return new Promise((t,s)=>{this.pendingCapture={refSpace:e,resolve:t,reject:s}})}}class CN extends Tt{constructor(){super(),this.raySpaces={left:new Tt,right:new Tt},this.gripSpaces={left:new Tt,right:new Tt},this.secondaryRaySpaces={left:new Tt,right:new Tt},this.secondaryGripSpaces={left:new Tt,right:new Tt},this.headsetMatrix=new Je,this.head=new Tt,this.head.name="xr-origin-head",this.add(this.head,this.raySpaces.left,this.raySpaces.right,this.gripSpaces.left,this.gripSpaces.right)}updateHead(e,t){const s=e.getViewerPose(t);s&&(this.headsetMatrix.fromArray(s.transform.matrix),this.headsetMatrix.decompose(this.head.position,this.head.quaternion,this.head.scale))}}function q_(n,e=!1){const t=n[0].index!==null,s=new Set(Object.keys(n[0].attributes)),i=new Set(Object.keys(n[0].morphAttributes)),r={},o={},a=n[0].morphTargetsRelative,l=new Qt;let c=0;for(let d=0;d<n.length;++d){const u=n[d];let h=0;if(t!==(u.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const f in u.attributes){if(!s.has(f))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+f+'" attribute exists among all geometries, or in none of them.'),null;r[f]===void 0&&(r[f]=[]),r[f].push(u.attributes[f]),h++}if(h!==s.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(a!==u.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const f in u.morphAttributes){if(!i.has(f))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;o[f]===void 0&&(o[f]=[]),o[f].push(u.morphAttributes[f])}if(e){let f;if(t)f=u.index.count;else if(u.attributes.position!==void 0)f=u.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;l.addGroup(c,f,d),c+=f}}if(t){let d=0;const u=[];for(let h=0;h<n.length;++h){const f=n[h].index;for(let A=0;A<f.count;++A)u.push(f.getX(A)+d);d+=n[h].attributes.position.count}l.setIndex(u)}for(const d in r){const u=_E(r[d]);if(!u)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+d+" attribute."),null;l.setAttribute(d,u)}for(const d in o){const u=o[d][0].length;if(u===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[d]=[];for(let h=0;h<u;++h){const f=[];for(let p=0;p<o[d].length;++p)f.push(o[d][p][h]);const A=_E(f);if(!A)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+d+" morphAttribute."),null;l.morphAttributes[d].push(A)}}return l}function _E(n){let e,t,s,i=-1,r=0;for(let c=0;c<n.length;++c){const d=n[c];if(e===void 0&&(e=d.array.constructor),e!==d.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(t===void 0&&(t=d.itemSize),t!==d.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(s===void 0&&(s=d.normalized),s!==d.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(i===-1&&(i=d.gpuType),i!==d.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;r+=d.count*t}const o=new e(r),a=new rs(o,t,s);let l=0;for(let c=0;c<n.length;++c){const d=n[c];if(d.isInterleavedBufferAttribute){const u=l/t;for(let h=0,f=d.count;h<f;h++)for(let A=0;A<t;A++){const p=d.getComponent(h,A);a.setComponent(h+u,A,p)}}else o.set(d.array,l);l+=d.count*t}return i!==void 0&&(a.gpuType=i),a}function IE(n,e){if(e===aB)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Tp||e===e_){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const s=t.count-2,i=[];if(e===Tp)for(let o=1;o<=s;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<s;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=n.clone();return r.setIndex(i),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}class Fh extends Bi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Jk(t)}),this.register(function(t){return new Kk(t)}),this.register(function(t){return new rF(t)}),this.register(function(t){return new oF(t)}),this.register(function(t){return new aF(t)}),this.register(function(t){return new Zk(t)}),this.register(function(t){return new $k(t)}),this.register(function(t){return new eF(t)}),this.register(function(t){return new tF(t)}),this.register(function(t){return new Yk(t)}),this.register(function(t){return new sF(t)}),this.register(function(t){return new jk(t)}),this.register(function(t){return new iF(t)}),this.register(function(t){return new nF(t)}),this.register(function(t){return new Wk(t)}),this.register(function(t){return new lF(t)}),this.register(function(t){return new cF(t)})}load(e,t,s,i){const r=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=Qa.extractUrlBase(e);o=Qa.resolveURL(c,this.path)}else o=Qa.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),r.manager.itemError(e),r.manager.itemEnd(e)},l=new $i(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{r.parse(c,o,function(d){t(d),r.manager.itemEnd(e)},a)}catch(d){a(d)}},s,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,s,i){let r;const o={},a={},l=new TextDecoder;if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===bN){try{o[ss.KHR_BINARY_GLTF]=new dF(e)}catch(u){i&&i(u);return}r=JSON.parse(o[ss.KHR_BINARY_GLTF].content)}else r=JSON.parse(l.decode(e));else r=e;if(r.asset===void 0||r.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new EF(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const u=this.pluginCallbacks[d](c);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(r.extensionsUsed)for(let d=0;d<r.extensionsUsed.length;++d){const u=r.extensionsUsed[d],h=r.extensionsRequired||[];switch(u){case ss.KHR_MATERIALS_UNLIT:o[u]=new Xk;break;case ss.KHR_DRACO_MESH_COMPRESSION:o[u]=new uF(r,this.dracoLoader);break;case ss.KHR_TEXTURE_TRANSFORM:o[u]=new hF;break;case ss.KHR_MESH_QUANTIZATION:o[u]=new fF;break;default:h.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(s,i)}parseAsync(e,t){const s=this;return new Promise(function(i,r){s.parse(e,t,i,r)})}}function qk(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const ss={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Wk{constructor(e){this.parser=e,this.name=ss.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let s=0,i=t.length;s<i;s++){const r=t[s];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,s="light:"+e;let i=t.cache.get(s);if(i)return i;const r=t.json,l=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let c;const d=new st(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],rn);const u=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new KB(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new B_(d),c.distance=u;break;case"spot":c=new JB(d),c.distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),xo(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(s,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,s=this.parser,r=s.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return s._getNodeRef(t.cache,a,l)})}}class Xk{constructor(){this.name=ss.KHR_MATERIALS_UNLIT}getMaterialType(){return Nt}extendParams(e,t,s){const i=[];e.color=new st(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const o=r.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],rn),e.opacity=o[3]}r.baseColorTexture!==void 0&&i.push(s.assignTexture(e,"map",r.baseColorTexture,cs))}return Promise.all(i)}}class Yk{constructor(e){this.parser=e,this.name=ss.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name].emissiveStrength;return r!==void 0&&(t.emissiveIntensity=r),Promise.resolve()}}class Jk{constructor(e){this.parser=e,this.name=ss.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:wi}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&r.push(s.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&r.push(s.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(r.push(s.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Be(a,a)}return Promise.all(r)}}class Kk{constructor(e){this.parser=e,this.name=ss.KHR_MATERIALS_DISPERSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:wi}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return t.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class jk{constructor(e){this.parser=e,this.name=ss.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:wi}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&r.push(s.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&r.push(s.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class Zk{constructor(e){this.parser=e,this.name=ss.KHR_MATERIALS_SHEEN}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:wi}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[];t.sheenColor=new st(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],rn)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&r.push(s.assignTexture(t,"sheenColorMap",o.sheenColorTexture,cs)),o.sheenRoughnessTexture!==void 0&&r.push(s.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class $k{constructor(e){this.parser=e,this.name=ss.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:wi}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&r.push(s.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class eF{constructor(e){this.parser=e,this.name=ss.KHR_MATERIALS_VOLUME}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:wi}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&r.push(s.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new st().setRGB(a[0],a[1],a[2],rn),Promise.all(r)}}class tF{constructor(e){this.parser=e,this.name=ss.KHR_MATERIALS_IOR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:wi}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return t.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class sF{constructor(e){this.parser=e,this.name=ss.KHR_MATERIALS_SPECULAR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:wi}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&r.push(s.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new st().setRGB(a[0],a[1],a[2],rn),o.specularColorTexture!==void 0&&r.push(s.assignTexture(t,"specularColorMap",o.specularColorTexture,cs)),Promise.all(r)}}class nF{constructor(e){this.parser=e,this.name=ss.EXT_MATERIALS_BUMP}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:wi}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&r.push(s.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(r)}}class iF{constructor(e){this.parser=e,this.name=ss.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:wi}extendMaterialParams(e,t){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&r.push(s.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(r)}}class rF{constructor(e){this.parser=e,this.name=ss.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,s=t.json,i=s.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,o)}}class oF{constructor(e){this.parser=e,this.name=ss.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,s=this.parser,i=s.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],a=i.images[o.source];let l=s.textureLoader;if(a.uri){const c=s.options.manager.getHandler(a.uri);c!==null&&(l=c)}return s.loadTextureImage(e,o.source,l)}}class aF{constructor(e){this.parser=e,this.name=ss.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,s=this.parser,i=s.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],a=i.images[o.source];let l=s.textureLoader;if(a.uri){const c=s.options.manager.getHandler(a.uri);c!==null&&(l=c)}return s.loadTextureImage(e,o.source,l)}}class lF{constructor(e){this.name=ss.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,s=t.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const i=s.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,d=i.count,u=i.byteStride,h=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,u,h,i.mode,i.filter).then(function(f){return f.buffer}):o.ready.then(function(){const f=new ArrayBuffer(d*u);return o.decodeGltfBuffer(new Uint8Array(f),d,u,h,i.mode,i.filter),f})})}else return null}}class cF{constructor(e){this.name=ss.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,s=t.nodes[e];if(!s.extensions||!s.extensions[this.name]||s.mesh===void 0)return null;const i=t.meshes[s.mesh];for(const c of i.primitives)if(c.mode!==Di.TRIANGLES&&c.mode!==Di.TRIANGLE_STRIP&&c.mode!==Di.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=s.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(d=>(l[c]=d,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const d=c.pop(),u=d.isGroup?d.children:[d],h=c[0].count,f=[];for(const A of u){const p=new Je,g=new w,m=new Ge,y=new w(1,1,1),_=new Gl(A.geometry,A.material,h);for(let I=0;I<h;I++)l.TRANSLATION&&g.fromBufferAttribute(l.TRANSLATION,I),l.ROTATION&&m.fromBufferAttribute(l.ROTATION,I),l.SCALE&&y.fromBufferAttribute(l.SCALE,I),_.setMatrixAt(I,p.compose(g,m,y));for(const I in l)if(I==="_COLOR_0"){const v=l[I];_.instanceColor=new vr(v.array,v.itemSize,v.normalized)}else I!=="TRANSLATION"&&I!=="ROTATION"&&I!=="SCALE"&&A.geometry.setAttribute(I,l[I]);is.prototype.copy.call(_,A),this.parser.assignFinalMaterial(_),f.push(_)}return d.isGroup?(d.clear(),d.add(...f),d):f[0]}))}}const bN="glTF",Eu=12,vE={JSON:1313821514,BIN:5130562};class dF{constructor(e){this.name=ss.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Eu),s=new TextDecoder;if(this.header={magic:s.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==bN)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Eu,r=new DataView(e,Eu);let o=0;for(;o<i;){const a=r.getUint32(o,!0);o+=4;const l=r.getUint32(o,!0);if(o+=4,l===vE.JSON){const c=new Uint8Array(e,Eu+o,a);this.content=s.decode(c)}else if(l===vE.BIN){const c=Eu+o;this.body=e.slice(c,c+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class uF{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ss.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const s=this.json,i=this.dracoLoader,r=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const u=ey[d]||d.toLowerCase();a[u]=o[d]}for(const d in e.attributes){const u=ey[d]||d.toLowerCase();if(o[d]!==void 0){const h=s.accessors[e.attributes[d]],f=Ed[h.componentType];c[u]=f.name,l[u]=h.normalized===!0}}return t.getDependency("bufferView",r).then(function(d){return new Promise(function(u,h){i.decodeDracoFile(d,function(f){for(const A in f.attributes){const p=f.attributes[A],g=l[A];g!==void 0&&(p.normalized=g)}u(f)},a,c,rn,h)})})}}class hF{constructor(){this.name=ss.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class fF{constructor(){this.name=ss.KHR_MESH_QUANTIZATION}}class wN extends tu{constructor(e,t,s,i){super(e,t,s,i)}copySampleValue_(e){const t=this.resultBuffer,s=this.sampleValues,i=this.valueSize,r=e*i*3+i;for(let o=0;o!==i;o++)t[o]=s[r+o];return t}interpolate_(e,t,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,d=i-t,u=(s-t)/d,h=u*u,f=h*u,A=e*c,p=A-c,g=-2*f+3*h,m=f-h,y=1-g,_=m-h+u;for(let I=0;I!==a;I++){const v=o[p+I+a],E=o[p+I+l]*d,b=o[A+I+a],N=o[A+I]*d;r[I]=y*v+_*E+g*b+m*N}return r}}const AF=new Ge;class pF extends wN{interpolate_(e,t,s,i){const r=super.interpolate_(e,t,s,i);return AF.fromArray(r).normalize().toArray(r),r}}const Di={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Ed={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},EE={9728:Fn,9729:Ot,9984:Xy,9985:$u,9986:ad,9987:Ii},CE={33071:fi,33648:fh,10497:Ul},Hm={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ey={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Jo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},gF={CUBICSPLINE:void 0,LINEAR:Ud,STEP:Fd},zm={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function mF(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Wl({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:In})),n.DefaultMaterial}function cl(n,e,t){for(const s in t.extensions)n[s]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=t.extensions[s])}function xo(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function xF(n,e,t){let s=!1,i=!1,r=!1;for(let c=0,d=e.length;c<d;c++){const u=e[c];if(u.POSITION!==void 0&&(s=!0),u.NORMAL!==void 0&&(i=!0),u.COLOR_0!==void 0&&(r=!0),s&&i&&r)break}if(!s&&!i&&!r)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,d=e.length;c<d;c++){const u=e[c];if(s){const h=u.POSITION!==void 0?t.getDependency("accessor",u.POSITION):n.attributes.position;o.push(h)}if(i){const h=u.NORMAL!==void 0?t.getDependency("accessor",u.NORMAL):n.attributes.normal;a.push(h)}if(r){const h=u.COLOR_0!==void 0?t.getDependency("accessor",u.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],u=c[1],h=c[2];return s&&(n.morphAttributes.position=d),i&&(n.morphAttributes.normal=u),r&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}function yF(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,s=e.weights.length;t<s;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let s=0,i=t.length;s<i;s++)n.morphTargetDictionary[t[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function _F(n){let e;const t=n.extensions&&n.extensions[ss.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Vm(t.attributes):e=n.indices+":"+Vm(n.attributes)+":"+n.mode,n.targets!==void 0)for(let s=0,i=n.targets.length;s<i;s++)e+=":"+Vm(n.targets[s]);return e}function Vm(n){let e="";const t=Object.keys(n).sort();for(let s=0,i=t.length;s<i;s++)e+=t[s]+":"+n[t[s]]+";";return e}function ty(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function IF(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":n.search(/\.ktx2($|\?)/i)>0||n.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const vF=new Je;class EF{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new qk,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,i=-1,r=!1,o=-1;if(typeof navigator<"u"){const a=navigator.userAgent;s=/^((?!chrome|android).)*safari/i.test(a)===!0;const l=a.match(/Version\/(\d+)/);i=s&&l?parseInt(l[1],10):-1,r=a.indexOf("Firefox")>-1,o=r?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||s&&i<17||r&&o<98?this.textureLoader=new nr(this.options.manager):this.textureLoader=new ZB(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new $i(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const s=this,i=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:s,userData:{}};return cl(r,a,i),xo(a,i),Promise.all(s._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],s=this.json.meshes||[];for(let i=0,r=t.length;i<r;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,r=e.length;i<r;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(s[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,s){if(e.refs[t]<=1)return s;const i=s.clone(),r=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,d]of o.children.entries())r(d,a.children[c])};return r(s,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let s=0;s<t.length;s++){const i=e(t[s]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const s=[];for(let i=0;i<t.length;i++){const r=e(t[i]);r&&s.push(r)}return s}getDependency(e,t){const s=e+":"+t;let i=this.cache.get(s);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(r){return r.loadNode&&r.loadNode(t)});break;case"mesh":i=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(s,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const s=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(r,o){return s.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],s=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[ss.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(r,o){s.load(Qa.resolveURL(t.uri,i.path),r,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(s){const i=t.byteLength||0,r=t.byteOffset||0;return s.slice(r,r+i)})}loadAccessor(e){const t=this,s=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=Hm[i.type],a=Ed[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new rs(c,o,l))}const r=[];return i.bufferView!==void 0?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),i.sparse!==void 0&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then(function(o){const a=o[0],l=Hm[i.type],c=Ed[i.componentType],d=c.BYTES_PER_ELEMENT,u=d*l,h=i.byteOffset||0,f=i.bufferView!==void 0?s.bufferViews[i.bufferView].byteStride:void 0,A=i.normalized===!0;let p,g;if(f&&f!==u){const m=Math.floor(h/f),y="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+m+":"+i.count;let _=t.cache.get(y);_||(p=new c(a,m*f,i.count*f/d),_=new d_(p,f/d),t.cache.add(y,_)),g=new Kr(_,l,h%f/d,A)}else a===null?p=new c(i.count*l):p=new c(a,h,i.count*l),g=new rs(p,l,A);if(i.sparse!==void 0){const m=Hm.SCALAR,y=Ed[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,I=i.sparse.values.byteOffset||0,v=new y(o[1],_,i.sparse.count*m),E=new c(o[2],I,i.sparse.count*l);a!==null&&(g=new rs(g.array.slice(),g.itemSize,g.normalized)),g.normalized=!1;for(let b=0,N=v.length;b<N;b++){const C=v[b];if(g.setX(C,E[b*l]),l>=2&&g.setY(C,E[b*l+1]),l>=3&&g.setZ(C,E[b*l+2]),l>=4&&g.setW(C,E[b*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}g.normalized=A}return g})}loadTexture(e){const t=this.json,s=this.options,r=t.textures[e].source,o=t.images[r];let a=this.textureLoader;if(o.uri){const l=s.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,t,s){const i=this,r=this.json,o=r.textures[e],a=r.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,s).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const h=(r.samplers||{})[o.sampler]||{};return d.magFilter=EE[h.magFilter]||Ot,d.minFilter=EE[h.minFilter]||Ii,d.wrapS=CE[h.wrapS]||Ul,d.wrapT=CE[h.wrapT]||Ul,d.generateMipmaps=!d.isCompressedTexture&&d.minFilter!==Fn&&d.minFilter!==Ot,i.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const s=this,i=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(u=>u.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=s.getDependency("bufferView",o.bufferView).then(function(u){c=!0;const h=new Blob([u],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(u){return new Promise(function(h,f){let A=h;t.isImageBitmapLoader===!0&&(A=function(p){const g=new Ws(p);g.needsUpdate=!0,h(g)}),t.load(Qa.resolveURL(u,r.path),A,void 0,f)})}).then(function(u){return c===!0&&a.revokeObjectURL(l),xo(u,o),u.userData.mimeType=o.mimeType||IF(o.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),u});return this.sourceCache[e]=d,d}assignTexture(e,t,s,i){const r=this;return this.getDependency("texture",s.index).then(function(o){if(!o)return null;if(s.texCoord!==void 0&&s.texCoord>0&&(o=o.clone(),o.channel=s.texCoord),r.extensions[ss.KHR_TEXTURE_TRANSFORM]){const a=s.extensions!==void 0?s.extensions[ss.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=r.associations.get(o);o=r.extensions[ss.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),r.associations.set(o,l)}}return i!==void 0&&(o.colorSpace=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let s=e.material;const i=t.attributes.tangent===void 0,r=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+s.uuid;let l=this.cache.get(a);l||(l=new pi,Ai.prototype.copy.call(l,s),l.color.copy(s.color),l.map=s.map,l.sizeAttenuation=!1,this.cache.add(a,l)),s=l}else if(e.isLine){const a="LineBasicMaterial:"+s.uuid;let l=this.cache.get(a);l||(l=new To,Ai.prototype.copy.call(l,s),l.color.copy(s.color),l.map=s.map,this.cache.add(a,l)),s=l}if(i||r||o){let a="ClonedMaterial:"+s.uuid+":";i&&(a+="derivative-tangents:"),r&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=s.clone(),r&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(s))),s=l}e.material=s}getMaterialType(){return Wl}loadMaterial(e){const t=this,s=this.json,i=this.extensions,r=s.materials[e];let o;const a={},l=r.extensions||{},c=[];if(l[ss.KHR_MATERIALS_UNLIT]){const u=i[ss.KHR_MATERIALS_UNLIT];o=u.getMaterialType(),c.push(u.extendParams(a,r,t))}else{const u=r.pbrMetallicRoughness||{};if(a.color=new st(1,1,1),a.opacity=1,Array.isArray(u.baseColorFactor)){const h=u.baseColorFactor;a.color.setRGB(h[0],h[1],h[2],rn),a.opacity=h[3]}u.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",u.baseColorTexture,cs)),a.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,a.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",u.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",u.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}r.doubleSided===!0&&(a.side=js);const d=r.alphaMode||zm.OPAQUE;if(d===zm.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===zm.MASK&&(a.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&o!==Nt&&(c.push(t.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new Be(1,1),r.normalTexture.scale!==void 0)){const u=r.normalTexture.scale;a.normalScale.set(u,u)}if(r.occlusionTexture!==void 0&&o!==Nt&&(c.push(t.assignTexture(a,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&o!==Nt){const u=r.emissiveFactor;a.emissive=new st().setRGB(u[0],u[1],u[2],rn)}return r.emissiveTexture!==void 0&&o!==Nt&&c.push(t.assignTexture(a,"emissiveMap",r.emissiveTexture,cs)),Promise.all(c).then(function(){const u=new o(a);return r.name&&(u.name=r.name),xo(u,r),t.associations.set(u,{materials:e}),r.extensions&&cl(i,u,r),u})}createUniqueName(e){const t=_s.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,s=this.extensions,i=this.primitiveCache;function r(a){return s[ss.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return bE(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],d=_F(c),u=i[d];if(u)o.push(u.promise);else{let h;c.extensions&&c.extensions[ss.KHR_DRACO_MESH_COMPRESSION]?h=r(c):h=bE(new Qt,c,t),i[d]={primitive:c,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,s=this.json,i=this.extensions,r=s.meshes[e],o=r.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=o[l].material===void 0?mF(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],u=[];for(let f=0,A=d.length;f<A;f++){const p=d[f],g=o[f];let m;const y=c[f];if(g.mode===Di.TRIANGLES||g.mode===Di.TRIANGLE_STRIP||g.mode===Di.TRIANGLE_FAN||g.mode===void 0)m=r.isSkinnedMesh===!0?new wB(p,y):new it(p,y),m.isSkinnedMesh===!0&&m.normalizeSkinWeights(),g.mode===Di.TRIANGLE_STRIP?m.geometry=IE(m.geometry,e_):g.mode===Di.TRIANGLE_FAN&&(m.geometry=IE(m.geometry,Tp));else if(g.mode===Di.LINES)m=new eu(p,y);else if(g.mode===Di.LINE_STRIP)m=new br(p,y);else if(g.mode===Di.LINE_LOOP)m=new BB(p,y);else if(g.mode===Di.POINTS)m=new bi(p,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);Object.keys(m.geometry.morphAttributes).length>0&&yF(m,r),m.name=t.createUniqueName(r.name||"mesh_"+e),xo(m,r),g.extensions&&cl(i,m,g),t.assignFinalMaterial(m),u.push(m)}for(let f=0,A=u.length;f<A;f++)t.associations.set(u[f],{meshes:e,primitives:f});if(u.length===1)return r.extensions&&cl(i,u[0],r),u[0];const h=new Tt;r.extensions&&cl(i,h,r),t.associations.set(h,{meshes:e});for(let f=0,A=u.length;f<A;f++)h.add(u[f]);return h})}loadCamera(e){let t;const s=this.json.cameras[e],i=s[s.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?t=new Dn($t.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):s.type==="orthographic"&&(t=new Bg(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),s.name&&(t.name=this.createUniqueName(s.name)),xo(t,s),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],s=[];for(let i=0,r=t.joints.length;i<r;i++)s.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?s.push(this.getDependency("accessor",t.inverseBindMatrices)):s.push(null),Promise.all(s).then(function(i){const r=i.pop(),o=i,a=[],l=[];for(let c=0,d=o.length;c<d;c++){const u=o[c];if(u){a.push(u);const h=new Je;r!==null&&h.fromArray(r.array,c*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Ig(a,l)})}loadAnimation(e){const t=this.json,s=this,i=t.animations[e],r=i.name?i.name:"animation_"+e,o=[],a=[],l=[],c=[],d=[];for(let u=0,h=i.channels.length;u<h;u++){const f=i.channels[u],A=i.samplers[f.sampler],p=f.target,g=p.node,m=i.parameters!==void 0?i.parameters[A.input]:A.input,y=i.parameters!==void 0?i.parameters[A.output]:A.output;p.node!==void 0&&(o.push(this.getDependency("node",g)),a.push(this.getDependency("accessor",m)),l.push(this.getDependency("accessor",y)),c.push(A),d.push(p))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(d)]).then(function(u){const h=u[0],f=u[1],A=u[2],p=u[3],g=u[4],m=[];for(let y=0,_=h.length;y<_;y++){const I=h[y],v=f[y],E=A[y],b=p[y],N=g[y];if(I===void 0)continue;I.updateMatrix&&I.updateMatrix();const C=s._createAnimationTracks(I,v,E,b,N);if(C)for(let B=0;B<C.length;B++)m.push(C[B])}return new WB(r,void 0,m)})}createNodeMesh(e){const t=this.json,s=this,i=t.nodes[e];return i.mesh===void 0?null:s.getDependency("mesh",i.mesh).then(function(r){const o=s._getNodeRef(s.meshCache,i.mesh,r);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,s=this,i=t.nodes[e],r=s._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,d=a.length;c<d;c++)o.push(s.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):s.getDependency("skin",i.skin);return Promise.all([r,Promise.all(o),l]).then(function(c){const d=c[0],u=c[1],h=c[2];h!==null&&d.traverse(function(f){f.isSkinnedMesh&&f.bind(h,vF)});for(let f=0,A=u.length;f<A;f++)d.add(u[f]);return d})}_loadNodeShallow(e){const t=this.json,s=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=t.nodes[e],o=r.name?i.createUniqueName(r.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),r.camera!==void 0&&a.push(i.getDependency("camera",r.camera).then(function(c){return i._getNodeRef(i.cameraCache,r.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let d;if(r.isBone===!0?d=new u_:c.length>1?d=new Tt:c.length===1?d=c[0]:d=new is,d!==c[0])for(let u=0,h=c.length;u<h;u++)d.add(c[u]);if(r.name&&(d.userData.name=r.name,d.name=o),xo(d,r),r.extensions&&cl(s,d,r),r.matrix!==void 0){const u=new Je;u.fromArray(r.matrix),d.applyMatrix4(u)}else r.translation!==void 0&&d.position.fromArray(r.translation),r.rotation!==void 0&&d.quaternion.fromArray(r.rotation),r.scale!==void 0&&d.scale.fromArray(r.scale);if(!i.associations.has(d))i.associations.set(d,{});else if(r.mesh!==void 0&&i.meshCache.refs[r.mesh]>1){const u=i.associations.get(d);i.associations.set(d,{...u})}return i.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,s=this.json.scenes[e],i=this,r=new Tt;s.name&&(r.name=i.createUniqueName(s.name)),xo(r,s),s.extensions&&cl(t,r,s);const o=s.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,u=l.length;d<u;d++)r.add(l[d]);const c=d=>{const u=new Map;for(const[h,f]of i.associations)(h instanceof Ai||h instanceof Ws)&&u.set(h,f);return d.traverse(h=>{const f=i.associations.get(h);f!=null&&u.set(h,f)}),u};return i.associations=c(r),r})}_createAnimationTracks(e,t,s,i,r){const o=[],a=e.name?e.name:e.uuid,l=[];Jo[r.path]===Jo.weights?e.traverse(function(h){h.morphTargetInfluences&&l.push(h.name?h.name:h.uuid)}):l.push(a);let c;switch(Jo[r.path]){case Jo.weights:c=Xl;break;case Jo.rotation:c=Yl;break;case Jo.translation:case Jo.scale:c=Jl;break;default:switch(s.itemSize){case 1:c=Xl;break;case 2:case 3:default:c=Jl;break}break}const d=i.interpolation!==void 0?gF[i.interpolation]:Ud,u=this._getArrayFromAccessor(s);for(let h=0,f=l.length;h<f;h++){const A=new c(l[h]+"."+Jo[r.path],t.array,u,d);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(A),o.push(A)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const s=ty(t.constructor),i=new Float32Array(t.length);for(let r=0,o=t.length;r<o;r++)i[r]=t[r]*s;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(s){const i=this instanceof Yl?pF:wN;return new i(this.times,this.values,this.getValueSize()/3,s)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function CF(n,e,t){const s=e.attributes,i=new Jt;if(s.POSITION!==void 0){const a=t.json.accessors[s.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new w(l[0],l[1],l[2]),new w(c[0],c[1],c[2])),a.normalized){const d=ty(Ed[a.componentType]);i.min.multiplyScalar(d),i.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const a=new w,l=new w;for(let c=0,d=r.length;c<d;c++){const u=r[c];if(u.POSITION!==void 0){const h=t.json.accessors[u.POSITION],f=h.min,A=h.max;if(f!==void 0&&A!==void 0){if(l.setX(Math.max(Math.abs(f[0]),Math.abs(A[0]))),l.setY(Math.max(Math.abs(f[1]),Math.abs(A[1]))),l.setZ(Math.max(Math.abs(f[2]),Math.abs(A[2]))),h.normalized){const p=ty(Ed[h.componentType]);l.multiplyScalar(p)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Ps;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function bE(n,e,t){const s=e.attributes,i=[];function r(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in s){const a=ey[o]||o.toLowerCase();a in n.attributes||i.push(r(s[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return ts.workingColorSpace!==rn&&"COLOR_0"in s&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${ts.workingColorSpace}" not supported.`),xo(n,e),CF(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?xF(n,e.targets,t):n})}const bF=Object.freeze(Object.defineProperty({__proto__:null,GLTFLoader:Fh},Symbol.toStringTag,{value:"Module"}));class wF{nativeEvent;NONE=0;CAPTURING_PHASE=1;AT_TARGET=2;BUBBLING_PHASE=3;relatedTarget=null;get altKey(){return this.getFromNative("altKey",!1)}get button(){return this.getFromNative("button",0)}get buttons(){return this.getFromNative("buttons",0)}get clientX(){return this.getFromNative("clientX",0)}get clientY(){return this.getFromNative("clientY",0)}get ctrlKey(){return this.getFromNative("ctrlKey",!1)}get layerX(){return this.getFromNative("layerX",0)}get layerY(){return this.getFromNative("layerY",0)}get metaKey(){return this.getFromNative("metaKey",!1)}get movementX(){return this.getFromNative("movementX",0)}get movementY(){return this.getFromNative("movementY",0)}get offsetX(){return this.getFromNative("offsetX",0)}get offsetY(){return this.getFromNative("offsetY",0)}get pageX(){return this.getFromNative("pageX",0)}get pageY(){return this.getFromNative("pageY",0)}get screenX(){return this.getFromNative("screenX",0)}get screenY(){return this.getFromNative("screenY",0)}get shiftKey(){return this.getFromNative("shiftKey",!1)}get x(){return this.getFromNative("x",0)}get y(){return this.getFromNative("y",0)}get detail(){return this.getFromNative("detail",0)}get view(){return this.getFromNative("view",null)}get which(){return this.getFromNative("which",0)}get cancelBubble(){return this.getFromNative("cancelBubble",!1)}get composed(){return this.getFromNative("composed",!1)}get eventPhase(){return this.getFromNative("eventPhase",0)}get isTrusted(){return this.getFromNative("isTrusted",!1)}get returnValue(){return this.getFromNative("returnValue",!1)}get timeStamp(){return this.getFromNative("timeStamp",0)}get cancelable(){return this.getFromNative("cancelable",!1)}get defaultPrevented(){return this.getFromNative("defaultPrevented",!1)}constructor(e){this.nativeEvent=e}getFromNative(e,t){return e in this.nativeEvent?this.nativeEvent[e]:t}}const qm=new w;class Yn extends wF{type;bubbles;internalPointer;intersection;camera;currentObject;object;propagationState;get pointerId(){return this.internalPointer.id}get pointerType(){return this.internalPointer.type}get pointerState(){return this.internalPointer.state}get distance(){return this.intersection.distance}get distanceToRay(){return this.intersection.distanceToRay}get point(){return this.intersection.point}get index(){return this.intersection.index}get face(){return this.intersection.face}get faceIndex(){return this.intersection.faceIndex}get uv(){return this.intersection.uv}get uv1(){return this.intersection.uv1}get normal(){return this.intersection.normal}get instanceId(){return this.intersection.instanceId}get pointOnLine(){return this.intersection.pointOnLine}get batchId(){return this.intersection.batchId}get pointerPosition(){return this.intersection.pointerPosition}get pointerQuaternion(){return this.intersection.pointerQuaternion}get pointOnFace(){return this.intersection.pointOnFace}get localPoint(){return this.intersection.localPoint}get details(){return this.intersection.details}get target(){return this.object}get currentTarget(){return this.currentObject}get eventObject(){return this.currentObject}get srcElement(){return this.currentObject}_pointer;get pointer(){return this._pointer==null&&(qm.copy(this.intersection.point).project(this.camera),this._pointer=new Be(qm.x,qm.y)),this._pointer}_ray;get ray(){if(this._ray!=null)return this._ray;switch(this.intersection.details.type){case"screen-ray":case"ray":case"sphere":return this._ray=new Ci(this.intersection.pointerPosition,new w(0,0,-1).applyQuaternion(this.intersection.pointerQuaternion));case"lines":return this._ray=new Ci(this.intersection.details.line.start,this.intersection.details.line.end.clone().sub(this.intersection.details.line.start).normalize())}}_intersections=[];get intersections(){return this._intersections==null&&(this._intersections=[{...this.intersection,eventObject:this.currentObject}]),this._intersections}_unprojectedPoint;get unprojectedPoint(){if(this._unprojectedPoint==null){const e=this.pointer;this._unprojectedPoint=new w(e.x,e.y,0).unproject(this.camera)}return this._unprojectedPoint}get stopped(){return this.propagationState.stoppedImmediate||this.propagationState.stopped}get stoppedImmediate(){return this.propagationState.stoppedImmediate}get delta(){throw new Error("not supported")}constructor(e,t,s,i,r,o,a=r.object,l=a,c={stopped:!t,stoppedImmediate:!1}){super(s),this.type=e,this.bubbles=t,this.internalPointer=i,this.intersection=r,this.camera=o,this.currentObject=a,this.object=l,this.propagationState=c}stopPropagation(){this.propagationState.stopped=!0}stopImmediatePropagation(){this.propagationState.stoppedImmediate=!0}retarget(e){return new Yn(this.type,this.bubbles,this.nativeEvent,this.internalPointer,this.intersection,this.camera,e,this.target,this.propagationState)}}class Fp extends Yn{get deltaX(){return this.nativeEvent.deltaX}get deltaY(){return this.nativeEvent.deltaY}get deltaZ(){return this.nativeEvent.deltaZ}constructor(e,t,s,i,r,o){super("wheel",!0,e,t,s,i,r,o)}retarget(e){return new Fp(this.nativeEvent,this.internalPointer,this.intersection,this.camera,e,this.target)}}function ri(n){BN(n,n.currentObject)}function BN(n,e){if(e==null)return;const t=NF(e,n.type);if(t!=null&&t.length>0){const s=n.retarget(e),i=t.length;for(let r=0;r<i&&!s.stoppedImmediate;r++)t[r](s)}n.stopped||BN(n,e.parent)}const NN={click:"onClick",contextmenu:"onContextMenu",dblclick:"onDoubleClick",pointercancel:"onPointerCancel",pointerdown:"onPointerDown",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",pointermove:"onPointerMove",pointerout:"onPointerOut",pointerover:"onPointerOver",pointerup:"onPointerUp",wheel:"onWheel"},BF=Object.keys(NN);function NF(n,e){if(n._listeners!=null&&e in n._listeners)return n._listeners[e];let t;if(n.isVoidObject&&e==="click"&&n.parent?.__r3f!=null&&(t=n.parent.__r3f.root.getState().onPointerMissed),n.__r3f!=null&&(t=n.__r3f.handlers[NN[e]]),t!=null)return[t]}const SF=1e10,MF=new Un(SF),wE=new Map;function SN(n){let e=wE.get(n);return e==null&&(e=new it(MF),e.isVoidObject=!0,e.parent=n,e.pointerEventsOrder=-1/0,wE.set(n,e)),e}function W_(n,e,t){const s=e.normal??e.face?.normal;return s==null?!1:(n.setFromNormalAndCoplanarPoint(s,e.localPoint),n.applyMatrix4(t),!0)}function TF(n,e,t){if(e==="none"||e==="listener"&&!n)return!1;if(t==="all")return!0;if(typeof t=="function")return({id:r,type:o,state:a})=>t(r,o,a);let s,i;return"deny"in t?(i=!0,s=t.deny):(i=!1,s=t.allow),Array.isArray(s)?r=>BE(s.includes(r.type),i):r=>BE(s===r.type,i)}function BE(n,e){return e?!n:n}function X_(n,e,t,s=!1,i,r,o){const a=s||PF(n,e),l=e.pointerEvents??i,c=l??e.defaultPointerEvents??"listener",d=e.pointerEventsType??r??"all",u=e.pointerEventsOrder??o??0,h=TF(a,c,d),f=t.length;if(f===1)(h===!0||typeof h=="function"&&h(t[0]))&&Wm(t[0],e,c,d,u);else if(h===!0)for(let g=0;g<f;g++)Wm(t[g],e,c,d,u);else if(typeof h=="function")for(let g=0;g<f;g++){const m=t[g];h(m)&&Wm(m,e,c,d,u)}if(e.children.length===0||e.intersectChildren===!1)return;const A=e.interactableDescendants??e.children,p=A.length;for(let g=0;g<p;g++)X_(n,A[g],t,a,l,d,u)}function PF(n,e){if(e.ancestorsHaveListeners||n==="pointer"&&e.ancestorsHavePointerListeners||n==="wheel"&&e.ancestorsHaveWheelListeners||e.__r3f!=null&&e.__r3f?.eventCount>0&&(n==="wheel"&&e.__r3f.handlers.onWheel!=null||n==="pointer"&&Object.keys(e.__r3f.handlers).some(i=>i!="onWheel")))return!0;if(e._listeners==null)return!1;if(n==="wheel"){const i=e._listeners.wheel;return i!=null&&i.length>0}const t=Object.entries(e._listeners),s=t.length;for(let i=0;i<s;i++){const r=t[i];if(r[0]!=="wheel"&&BF.includes(r[0])&&r[1]!=null&&r[1].length>0)return!0}return!1}function Wm({intersector:n,options:e},t,s,i,r){e.filter?.(t,s,i,r)!==!1&&n.executeIntersection(t,r)}function Y_(n,e,{customSort:t=RF}={},s){let i,r,o;const a=n.length;for(let l=0;l<a;l++){const c=n[l];if(s?.(c)===!1)continue;const d=e?.[l];(i==null||t(c,d,i,r)<0)&&(o=l,i=c,r=d)}return o}function RF(n,e=0,t,s=0){return e!=s?s-e:n.distance-t.distance}const NE=1e7;function MN(n,e,t,s,i,r=0){const o=e.direction.clone().multiplyScalar(NE),a=NE;return{distance:a+r,object:SN(n),point:o,normal:e.origin.clone().sub(o).normalize(),details:t(o,a),pointerPosition:s,pointerQuaternion:i,pointOnFace:o,localPoint:o}}function TN(n,e,t){for(;t>0;)n.push(e),--t}const Xm=Symbol("buttonsDownTime"),QF=Symbol("buttonsClickTime");globalThis.pointerEventspointerMap??=new Map;is.prototype.setPointerCapture=function(n){J_(n)?.setCapture(this)};is.prototype.releasePointerCapture=function(n){const e=J_(n);e==null||!e.hasCaptured(this)||e.setCapture(void 0)};is.prototype.hasPointerCapture=function(n){return J_(n)?.hasCaptured(this)??!1};function J_(n){return globalThis.pointerEventspointerMap?.get(n)}class K_{id;type;state;intersector;getCamera;onMoveCommited;parentSetPointerCapture;parentReleasePointerCapture;options;prevIntersection;intersection;prevEnabled=!0;enabled=!0;wheelIntersection;pointerEntered=[];pointerEnteredHelper=[];pointerCapture;buttonsDownTime=new Map;buttonsDown=new Set;wasMoved=!1;onFirstMove=[];constructor(e,t,s,i,r,o,a,l,c={}){this.id=e,this.type=t,this.state=s,this.intersector=i,this.getCamera=r,this.onMoveCommited=o,this.parentSetPointerCapture=a,this.parentReleasePointerCapture=l,this.options=c,globalThis.pointerEventspointerMap?.set(e,this)}getPointerCapture(){return this.pointerCapture}hasCaptured(e){return this.pointerCapture?.object===e}setCapture(e){this.pointerCapture?.object!==e&&(this.pointerCapture!=null&&(this.parentReleasePointerCapture?.(),this.pointerCapture=void 0),e!=null&&this.intersection!=null&&(this.pointerCapture={object:e,intersection:this.intersection},this.parentSetPointerCapture?.()))}getButtonsDown(){return this.buttonsDown}getIntersection(){return this.intersection}getEnabled(){return this.enabled}setEnabled(e,t,s=!0){this.enabled!==e&&(!e&&this.pointerCapture!=null&&(this.parentReleasePointerCapture?.(),this.pointerCapture=void 0),this.enabled=e,s&&this.commit(t,!1))}computeIntersection(e,t,s){return this.pointerCapture!=null?this.intersector.intersectPointerCapture(this.pointerCapture,s):(this.intersector.startIntersection(s),X_(e,t,[this]),this.intersector.finalizeIntersection(t))}setIntersection(e){this.intersection=e}commit(e,t){const s=this.getCamera(),i=this.prevEnabled?this.prevIntersection:void 0,r=this.enabled?this.intersection:void 0;i!=null&&i.object!=r?.object&&ri(new Yn("pointerout",!0,e,this,i,s));const o=this.pointerEntered;this.pointerEntered=[],this.pointerEnteredHelper.length=0,PN(r?.object,this.pointerEntered,o,this.pointerEnteredHelper);const a=o.length;for(let l=0;l<a;l++){const c=o[l];ri(new Yn("pointerleave",!1,e,this,i,s,c))}r!=null&&i?.object!=r.object&&ri(new Yn("pointerover",!0,e,this,r,s));for(let l=this.pointerEnteredHelper.length-1;l>=0;l--){const c=this.pointerEnteredHelper[l];ri(new Yn("pointerenter",!1,e,this,r,s,c))}if(t&&r!=null&&ri(new Yn("pointermove",!0,e,this,r,s)),this.prevIntersection=this.intersection,this.prevEnabled=this.enabled,!this.wasMoved&&this.intersector.isReady()){this.wasMoved=!0;const l=this.onFirstMove.length;for(let c=0;c<l;c++)this.onFirstMove[c](s);this.onFirstMove.length=0}this.onMoveCommited?.(this)}move(e,t){this.intersection=this.computeIntersection("pointer",e,t),this.commit(t,!0)}emitMove(e){this.intersection!=null&&ri(new Yn("pointermove",!0,e,this,this.intersection,this.getCamera()))}down(e){if(this.buttonsDown.add(e.button),!this.enabled)return;if(!this.wasMoved){this.onFirstMove.push(this.down.bind(this,e));return}if(this.intersection==null)return;ri(new Yn("pointerdown",!0,e,this,this.intersection,this.getCamera()));const{object:t}=this.intersection;t[Xm]??=new Map,t[Xm].set(e.button,e.timeStamp),this.buttonsDownTime.set(e.button,e.timeStamp)}up(e){if(this.buttonsDown.delete(e.button),!this.enabled)return;if(!this.wasMoved){this.onFirstMove.push(this.up.bind(this,e));return}if(this.intersection==null)return;const{clickThesholdMs:t,contextMenuButton:s=2,dblClickThresholdMs:i=500,clickThresholdMs:r=t??300}=this.options;this.pointerCapture=void 0;const o=DF(this.buttonsDownTime,this.intersection.object[Xm],e.button,e.timeStamp,r),a=this.getCamera();if(o&&e.button===s&&ri(new Yn("contextmenu",!0,e,this,this.intersection,a)),ri(new Yn("pointerup",!0,e,this,this.intersection,a)),!o||e.button===s)return;ri(new Yn("click",!0,e,this,this.intersection,a));const{object:l}=this.intersection,c=l[QF]??=new Map,d=c.get(e.button);if(d==null||e.timeStamp-d>i){c.set(e.button,e.timeStamp);return}ri(new Yn("dblclick",!0,e,this,this.intersection,a)),c.delete(e.button)}cancel(e){if(this.enabled){if(!this.wasMoved){this.onFirstMove.push(this.cancel.bind(this,e));return}this.intersection!=null&&ri(new Yn("pointercancel",!0,e,this,this.intersection,this.getCamera()))}}wheel(e,t,s=!1){if(!this.enabled)return;if(!this.wasMoved&&s){this.onFirstMove.push(this.wheel.bind(this,e,t,s));return}s||(this.wheelIntersection=this.computeIntersection("wheel",e,t));const i=s?this.intersection:this.wheelIntersection;i!=null&&ri(new Fp(t,this,i,this.getCamera()))}emitWheel(e,t=!1){if(!this.enabled)return;if(!this.wasMoved&&t){this.onFirstMove.push(this.emitWheel.bind(this,e,t));return}const s=t?this.intersection:this.wheelIntersection;s!=null&&ri(new Fp(e,this,s,this.getCamera()))}exit(e){this.wasMoved&&(this.pointerCapture!=null&&(this.parentReleasePointerCapture?.(),this.pointerCapture=void 0),this.intersection=void 0,this.commit(e,!1)),this.onFirstMove.length=0,this.wasMoved=!1}}function PN(n,e,t,s){if(n==null)return;const i=t.indexOf(n);i!=-1?t.splice(i,1):s.push(n),e.push(n),PN(n.parent,e,t,s)}function DF(n,e,t,s,i){if(e==null)return!1;const r=e.get(t);return!(r==null||s-r>i||r!=n.get(t))}function j_(n){return n.transformReady===!1?!1:n.parent==null?(n.matrixWorld.copy(n.matrix),!0):j_(n.parent)?(n.matrixWorld.multiplyMatrices(n.parent.matrixWorld,n.matrix),!0):!1}const Cu=new sn,Ym=new sn,SE=new Be,ME=new Be,TE=new Be,Jm=new w,LF=new Je,Hf=new w;function Tg(n,e,t){Hf.copy(e).applyMatrix4(LF.copy(t.matrixWorld).invert());const s=t.geometry.attributes.uv;if(s==null||!(s instanceof rs))return!1;let i;return kF(t,(r,o,a)=>{t.getVertexPosition(r,Cu.a),t.getVertexPosition(o,Cu.b),t.getVertexPosition(a,Cu.c);const l=Cu.closestPointToPoint(Hf,Jm).distanceTo(Hf);i!=null&&l>=i||(i=l,Ym.copy(Cu),SE.fromBufferAttribute(s,r),ME.fromBufferAttribute(s,o),TE.fromBufferAttribute(s,a))}),i==null?!1:(Ym.closestPointToPoint(Hf,Jm),Ym.getInterpolation(Jm,SE,ME,TE,n),!0)}function kF(n,e){const t=n.geometry.drawRange;if(n.geometry.index!=null){const o=n.geometry.index,a=Math.max(0,t.start),l=Math.min(o.count,t.start+t.count);for(let c=a;c<l;c+=3)e(o.getX(c),o.getX(c+1),o.getX(c+2));return}const s=n.geometry.attributes.position;if(s==null)return;const i=Math.max(0,t.start),r=Math.min(s.count,t.start+t.count);for(let o=i;o<r;o+=3)e(o,o+1,o+2)}new Je;new ti;new w;new ps;new Ci;new Be;new w(0,0,0),new w(0,0,1);const sy=new Je,ny=new w,FF=new w(0,0,-1),PE=new ps,Up=new Be;class RN{space;options;raycaster=new kh;raycasterQuaternion=new Ge;worldScale=0;ready;intersects=[];pointerEventsOrders=[];constructor(e,t){this.space=e,this.options=t}isReady(){return this.ready??this.prepareTransformation()}prepareTransformation(){const e=this.space.current;return e==null?this.ready=!1:(this.ready=j_(e),this.ready?(e.matrixWorld.decompose(this.raycaster.ray.origin,this.raycasterQuaternion,ny),this.worldScale=ny.x,this.raycaster.ray.direction.copy(this.options?.direction??FF).applyQuaternion(this.raycasterQuaternion),!0):!1)}intersectPointerCapture({intersection:e,object:t}){if(e.details.type!="ray")throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a ray intersector`);if(!this.prepareTransformation())return e;e.object.updateWorldMatrix(!0,!1),W_(PE,e,e.object.matrixWorld);const{ray:s}=this.raycaster,i=s.intersectPlane(PE,new w)??e.point,r=s.direction.clone().multiplyScalar(e.pointerPosition.distanceTo(e.point)).add(s.origin);let o=e.uv;return e.object instanceof it&&Tg(Up,r,e.object)&&(o=Up.clone()),{...e,uv:o,object:t,pointOnFace:i,point:r,pointerPosition:s.origin.clone(),pointerQuaternion:this.raycasterQuaternion.clone()}}startIntersection(){this.prepareTransformation()}executeIntersection(e,t){if(!this.isReady())return;const s=this.intersects.length;e.raycast(this.raycaster,this.intersects),TN(this.pointerEventsOrders,t,this.intersects.length-s)}finalizeIntersection(e){const t=this.raycaster.ray.origin.clone(),s=this.raycasterQuaternion.clone();let i;if(this.options.minDistance!=null){const a=this.options.minDistance/this.worldScale;i=l=>l.distance>=a}const r=Y_(this.intersects,this.pointerEventsOrders,this.options,i),o=r==null?void 0:this.intersects[r];return this.intersects.length=0,this.pointerEventsOrders.length=0,o==null?MN(e,this.raycaster.ray,()=>({type:"ray"}),t,s):(o.object.updateWorldMatrix(!0,!1),Object.assign(o,{details:{type:"ray"},pointerPosition:t,pointerQuaternion:s,pointOnFace:o.point,localPoint:o.point.clone().applyMatrix4(sy.copy(o.object.matrixWorld).invert())}))}}const UF=new w;class OF{prepareTransformation;options;raycaster=new kh;cameraQuaternion=new Ge;fromPosition=new w;fromQuaternion=new Ge;coords=new Be;viewPlane=new ps;intersects=[];pointerEventsOrders=[];constructor(e,t){this.prepareTransformation=e,this.options=t}isReady(){return!0}intersectPointerCapture({intersection:e,object:t},s){const i=e.details;if(i.type!="screen-ray")throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a camera ray intersector`);if(!this.startIntersection(s))return e;this.viewPlane.constant-=i.distanceViewPlane;const r=this.raycaster.ray.intersectPlane(this.viewPlane,new w);if(r==null)return e;e.object.updateWorldMatrix(!0,!1),W_(this.viewPlane,e,e.object.matrixWorld);let o=e.uv;return e.object instanceof it&&Tg(Up,r,e.object)&&(o=Up.clone()),{...e,details:{...i,direction:this.raycaster.ray.direction.clone(),screenPoint:this.coords.clone()},uv:o,object:t,point:r,pointOnFace:r,pointerPosition:this.raycaster.ray.origin.clone(),pointerQuaternion:this.cameraQuaternion.clone()}}startIntersection(e){const t=this.prepareTransformation(e,this.coords);return t==null?!1:(t.updateWorldMatrix(!0,!1),t.matrixWorld.decompose(this.fromPosition,this.fromQuaternion,ny),this.raycaster.setFromCamera(this.coords,t),this.viewPlane.setFromNormalAndCoplanarPoint(t.getWorldDirection(UF),this.raycaster.ray.origin),!0)}executeIntersection(e,t){const s=this.intersects.length;e.raycast(this.raycaster,this.intersects),TN(this.pointerEventsOrders,t,this.intersects.length-s)}finalizeIntersection(e){const t=this.fromPosition.clone(),s=this.cameraQuaternion.clone(),i=this.raycaster.ray.direction.clone(),r=Y_(this.intersects,this.pointerEventsOrders,this.options),o=r==null?void 0:this.intersects[r];return this.intersects.length=0,this.pointerEventsOrders.length=0,o==null?MN(e,this.raycaster.ray,(a,l)=>({type:"screen-ray",distanceViewPlane:l,screenPoint:this.coords.clone(),direction:i}),t,s):(o.object.updateWorldMatrix(!0,!1),sy.copy(o.object.matrixWorld).invert(),Object.assign(o,{details:{type:"screen-ray",distanceViewPlane:this.viewPlane.distanceToPoint(o.point),screenPoint:this.coords.clone(),direction:i},pointOnFace:o.point,pointerPosition:t,pointerQuaternion:s,localPoint:o.point.clone().applyMatrix4(sy)}))}}const GF=new w,Op=new Be;class Z_{space;getSphereRadius;options;fromPosition=new w;fromQuaternion=new Ge;collisionSphere=new Ps;ready;intersects=[];constructor(e,t,s){this.space=e,this.getSphereRadius=t,this.options=s}isReady(){return this.ready??this.prepareTransformation()}prepareTransformation(){const e=this.space.current;return e==null?this.ready=!1:(this.ready=j_(e),this.ready?(e.matrixWorld.decompose(this.fromPosition,this.fromQuaternion,GF),!0):!1)}intersectPointerCapture({intersection:e,object:t}){if(e.details.type!="sphere")throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a sphere intersector`);if(!this.prepareTransformation())return e;RE.copy(e.point).sub(e.pointerPosition),QE.copy(e.pointerQuaternion).invert().multiply(this.fromQuaternion);const s=RE.clone().applyQuaternion(QE).add(this.fromPosition);e.object.updateWorldMatrix(!0,!1),W_(DE,e,e.object.matrixWorld);const i=DE.projectPoint(this.fromPosition,new w);let r=e.uv;return e.object instanceof it&&Tg(Op,s,e.object)&&(r=Op.clone()),{details:{type:"sphere"},uv:r,distance:s.distanceTo(i),pointerPosition:this.fromPosition.clone(),pointerQuaternion:this.fromQuaternion.clone(),object:t,point:s,pointOnFace:i,face:e.face,localPoint:e.localPoint}}startIntersection(){this.prepareTransformation()&&(this.collisionSphere.center.copy(this.fromPosition),this.collisionSphere.radius=this.getSphereRadius())}executeIntersection(e){this.isReady()&&HF(this.collisionSphere,e,this.intersects)}finalizeIntersection(e){const t=this.fromPosition.clone(),s=this.fromQuaternion.clone(),i=Y_(this.intersects,void 0,this.options),r=i==null?void 0:this.intersects[i];return this.intersects.length=0,r==null?{details:{type:"sphere"},distance:0,point:t,object:SN(e),pointerPosition:t,pointerQuaternion:s,pointOnFace:t,localPoint:t}:(r.object.updateWorldMatrix(!0,!1),Object.assign(r,{details:{type:"sphere"},pointOnFace:r.point,pointerPosition:this.fromPosition.clone(),pointerQuaternion:this.fromQuaternion.clone(),localPoint:r.point.clone().applyMatrix4(Gp.copy(r.object.matrixWorld).invert())}))}}const zf=new Je;function HF(n,e,t){if(e.updateWorldMatrix(!0,!1),e.spherecast!=null){e.spherecast(n,t);return}if(e instanceof Gl){e.geometry.boundingSphere==null&&e.geometry.computeBoundingSphere(),e.geometry.boundingBox==null&&e.geometry.computeBoundingBox();for(let i=0;i<e.count;i++){if(e.getMatrixAt(i,zf),zf.premultiply(e.matrixWorld),!LE(n,e,zf))continue;const r=FE(n,e,zf,i);r!=null&&t.push(r)}}if(!(e instanceof it)||!LE(n,e,e.matrixWorld))return;Gp.copy(e.matrixWorld).invert();const s=FE(n,e,e.matrixWorld);s!=null&&t.push(s)}const RE=new w,QE=new Ge,DE=new ps,Cd=new Ps;function LE(n,{geometry:e},t){return e.boundingSphere==null&&e.computeBoundingSphere(),Cd.copy(e.boundingSphere).applyMatrix4(t),Cd.center.distanceToSquared(n.center)<(n.radius+Cd.radius)**2}const Vf=new w,Km=new w,kE=new w,zF=new w(1e-4,1e-4,1e-4),Gp=new Je;function FE(n,e,t,s){Gp.copy(t).invert(),Cd.copy(n).applyMatrix4(Gp);const{geometry:i}=e;i.boundingBox==null&&i.computeBoundingBox(),i.boundingBox.getSize(Km),i.boundingBox.getCenter(kE),i.boundingBox.clampPoint(Cd.center,Vf),Vf.applyMatrix4(t);const r=Vf.distanceToSquared(n.center);if(r>n.radius*n.radius)return;Km.max(zF);const o=Cd.center.clone().sub(kE);o.divide(Km),VF(o);const a=Vf.clone();let l;return Tg(Op,a,e)&&(l=Op.clone()),{distance:Math.sqrt(r),face:{a:0,b:0,c:0,materialIndex:0,normal:o},uv:l,normal:o,point:a,instanceId:s,object:e}}function VF(n){const e=Math.abs(n.x),t=Math.abs(n.y),s=Math.abs(n.z);if(e>=t&&e>=s){n.set(n.x<0?-1:1,0,0);return}if(t>=e&&t>=s){n.set(0,n.y<0?-1:1,0);return}n.set(0,0,n.z<0?-1:1)}function qF(n,e,t,s={},i="grab"){return new K_($_(),i,t,new Z_(e,()=>s.radius??.07,s),n,void 0,void 0,void 0,s)}function WF(n,e,t,s={},i="ray"){return new K_($_(),i,t,new RN(e,s),n,void 0,void 0,void 0,s)}let XF=23412;function $_(){return XF++}function YF(n,e,t){if(!(e instanceof globalThis.MouseEvent))return t.set(0,0);const{width:s,height:i,top:r,left:o}=n.getBoundingClientRect(),a=e.clientX-o,l=e.clientY-r;return t.set(a/s*2-1,-(l/i)*2+1)}function JF(n,e,t,s){return KF(n,typeof e=="function"?e:()=>e,t,YF.bind(null,n),n.setPointerCapture.bind(n),i=>{n.hasPointerCapture(i)&&n.releasePointerCapture(i)},{pointerTypePrefix:"screen-",...s})}function KF(n,e,t,s,i,r,o={}){const a=o?.forwardPointerCapture??!0,l=new Map,c=o.pointerTypePrefix??"forward-",d=(b,N)=>{let C=l.get(b.pointerId);return C!=null||(C=new K_($_(),`${c}${b.pointerType}`,b.pointerState,new OF((B,S)=>(s(B,S),e()),o),e,void 0,a?i.bind(null,b.pointerId):void 0,a?r.bind(null,b.pointerId):void 0,o),N!="move"&&N!="wheel"&&(C.setIntersection(C.computeIntersection("pointer",t,b)),C.commit(b,!1)),l.set(b.pointerId,C)),C},u=new Map,h=new Map,f=[],A=[],p=(b,N,C)=>{switch(b){case"move":C.move(t,N);return;case"wheel":C.wheel(t,N);return;case"cancel":C.cancel(N);return;case"down":if(!UE(N))return;C.down(N);return;case"up":if(!UE(N))return;C.up(N);return;case"exit":h.delete(C),u.delete(C),C.exit(N);return}},g=(b,N)=>{const C=d(N,b);b==="move"&&h.set(C,N),b==="wheel"&&u.set(C,N),o.batchEvents??!0?A.push({type:b,event:N}):p(b,N,C)},m=g.bind(null,"move"),y=g.bind(null,"cancel"),_=g.bind(null,"down"),I=g.bind(null,"up"),v=g.bind(null,"wheel"),E=g.bind(null,"exit");return n.addEventListener("pointermove",m),n.addEventListener("pointercancel",y),n.addEventListener("pointerdown",_),n.addEventListener("pointerup",I),n.addEventListener("wheel",v),n.addEventListener("pointerleave",E),{destroy(){n.removeEventListener("pointermove",m),n.removeEventListener("pointercancel",y),n.removeEventListener("pointerdown",_),n.removeEventListener("pointerup",I),n.removeEventListener("wheel",v),n.removeEventListener("pointerleave",E),h.clear(),u.clear()},update(){const b=A.length;for(let N=0;N<b;N++){const{type:C,event:B}=A[N],S=d(B,C);if(C==="move"&&(f.push(S),h.get(S)!=B)){S.emitMove(B);continue}if(C==="wheel"&&u.get(S)!=B){S.emitWheel(B);continue}p(C,B,S)}if(A.length=0,o.intersectEveryFrame??!1)for(const[N,C]of h.entries())f.includes(N)||N.move(t,C);f.length=0}}}function UE(n){return n.button!=null}class Hp{enableMultiplePointers;pointers=[];isDefaults=[];enabled=!0;activePointer;nonCapturedPointers=[];constructor(e){this.enableMultiplePointers=e}register(e,t=!1){return this.pointers.push(e),this.isDefaults.push(t),this.unregister.bind(this,e)}unregister(e){const t=this.pointers.indexOf(e);t!==-1&&(this.isDefaults.splice(t,1),this.pointers.splice(t,1))}startIntersection(e,t){const s=this.pointers.length;let i=!1;for(let r=0;r<s;r++){const o=this.pointers[r];if(o instanceof Hp){o.startIntersection(e,t);continue}const a=o.getPointerCapture();if(a!=null){i=!0,o.setIntersection(o.intersector.intersectPointerCapture(a,t));continue}e.push(o),o.intersector.startIntersection(t)}return i}getIntersection(){return this.activePointer?.getIntersection()}getPointerCapture(){return this.activePointer?.getPointerCapture()}computeActivePointer(){let e;this.activePointer=void 0;const t=this.pointers.length;for(let s=0;s<t;s++){const i=this.pointers[s];i instanceof Hp&&i.computeActivePointer();const r=i.getIntersection(),o=i.getPointerCapture()!=null?-1/0:r?.object.isVoidObject?1/0:r?.distance??1/0,a=this.isDefaults[s];(e==null||a&&o===e||o<e)&&(this.activePointer=i,e=o)}}commit(e,t,s=!0){if(this.enableMultiplePointers){const r=this.pointers.length;for(let o=0;o<r;o++)this.pointers[o].commit(e,t);return}s&&this.computeActivePointer();const i=this.pointers.length;for(let r=0;r<i;r++){const o=this.pointers[r];o.setEnabled(o===this.activePointer,e,!1),o.commit(e,t,!1)}}move(e,t){if(!this.enabled)return;if(this.nonCapturedPointers.length=0,!this.startIntersection(this.nonCapturedPointers,t)||this.enableMultiplePointers){X_("pointer",e,this.nonCapturedPointers);const i=this.nonCapturedPointers.length;for(let r=0;r<i;r++){const o=this.nonCapturedPointers[r];o.setIntersection(o.intersector.finalizeIntersection(e))}}this.commit(t,!0)}setEnabled(e,t){this.enabled=e;const s=this.pointers.length;for(let i=0;i<s;i++){const r=this.pointers[i];r.setEnabled(e&&(this.enableMultiplePointers||r==this.activePointer),t)}}}class QN{constructor(e,t,s){this.pointer=qF(()=>e,{current:t.gripSpaces[s]},{})}update(e,t,s,i,r){}}const jF=`
  varying float vPosition;
  void main() {
    vPosition = (position.z + 1.0) / 1.0;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,ZF=`
  uniform float endValue;
  uniform float opacity;
  uniform vec3 color;
  varying float vPosition;
  void main() {
    float alpha = vPosition < endValue ? smoothstep(endValue-0.05, endValue, vPosition) :
               vPosition < 0.97 ? 1.0 :
               1.0 - smoothstep(0.97, 1.0, vPosition);
    gl_FragColor = vec4(color, alpha * opacity);
  }
`,Da=512,Vd=document.createElement("canvas");Vd.width=Da;Vd.height=Da;const eo=Vd.getContext("2d");eo.clearRect(0,0,Vd.width,Vd.height);eo.fillStyle="white";eo.beginPath();eo.arc(Da/2,Da/2,Da/16*7,0,Math.PI*2);eo.fill();eo.strokeStyle="gray";eo.lineWidth=3;eo.beginPath();eo.arc(Da/2,Da/2,Da/16*7,0,Math.PI*2);eo.stroke();const $F=new vn(Vd),e4=new w(0,0,1),Tc=new w,bu=new w,qf=new Ge,t4=new st(3376102),OE=new st(16777215);var rh;(function(n){n[n.Visible=1]="Visible",n[n.VisibleOnIntersection=2]="VisibleOnIntersection",n[n.Invisible=3]="Invisible"})(rh||(rh={}));class Pg{constructor(e,t,s){this.xrOrigin=t,this.enabled=!0,this.rayDisplayMode=rh.VisibleOnIntersection,this.pointer=WF(()=>e,{current:t.raySpaces[s]},{},{contextMenuButton:-1});const i=this.pointer.intersector.raycaster;i&&(i.firstHitOnly=!0),this.ray=new it(new Zi(.001,.001,1,6,1,!0).translate(0,.5,0).rotateX(-Math.PI/2),new Ds({vertexShader:jF,fragmentShader:ZF,transparent:!0,depthWrite:!1,uniforms:{endValue:{value:.75},color:{value:new st().copy(OE)},opacity:{value:1}}})),this.ray.renderOrder=0,t.raySpaces[s].add(this.ray),this.cursor=new it(new Hl(.008),new Nt({map:$F,transparent:!0})),this.cursor.renderOrder=1/0,this.cursor.userData.attached=!0,this.cursor.userData.zOffset=.004+Pg.pointerCount++*.001,this.cursor.userData.focused=!1,this.cursor.userData.focusAlpha=0,t.add(this.cursor)}update(e,t,s,i,r,o){const a=this.pointer.getEnabled(),l=a&&e&&this.enabled;this.ray.visible=l&&!o?.forceHideRay,this.cursor.visible=l&&!o?.forceHideCursor,l&&(a&&i?(this.ray.material.uniforms.color.value.copy(t4),this.cursor&&(this.cursor.userData.focused=!0)):a&&r&&(this.ray.material.uniforms.color.value.copy(OE),this.cursor&&(this.cursor.userData.focused=!1))),this.updatePointerRendering(l,t)}updatePointerRendering(e,t=1){var s,i,r,o;let a=0;if(e){const l=!!(!((i=(s=this.pointer).getPointerCapture)===null||i===void 0)&&i.call(s)),c=this.pointer.getIntersection(),d=!!(c&&!c.object.isVoidObject);switch(this.rayIntersection=d?c:void 0,this.rayDisplayMode){case rh.Visible:a=1;break;case rh.Invisible:a=0;break;default:a=d?1:0}if(d&&!l){bu.copy(c.pointOnFace),this.cursor.userData.focusAlpha=zu(this.cursor.userData.focusAlpha,this.cursor.userData.focused?1:0,30*t);const u=(Math.max(0,c.distance-.3)+1)*zu(1,.8,this.cursor.userData.focusAlpha);this.cursor.material.opacity=zu(.7,1,this.cursor.userData.focusAlpha),this.cursor.scale.setScalar(u),this.ray.material.uniforms.endValue.value=1.05-Math.min(.3,c.distance);const h=(r=c.normal)!==null&&r!==void 0?r:(o=c.face)===null||o===void 0?void 0:o.normal;if(h!=null){const f=h.clone(),A=new Dt().getNormalMatrix(c.object.matrixWorld);f.applyNormalMatrix(A).normalize(),this.cursor.quaternion.setFromUnitVectors(e4,f),qf.copy(this.xrOrigin.quaternion).invert(),this.cursor.quaternion.multiply(qf),Tc.set(0,0,this.cursor.userData.zOffset),Tc.applyQuaternion(this.cursor.quaternion),bu.add(Tc)}else c.pointerQuaternion&&(this.cursor.quaternion.copy(c.pointerQuaternion),qf.copy(this.xrOrigin.quaternion).invert(),this.cursor.quaternion.multiply(qf),Tc.set(0,0,this.cursor.userData.zOffset),Tc.applyQuaternion(this.cursor.quaternion),bu.add(Tc));this.xrOrigin.worldToLocal(bu),this.cursor.position.copy(bu),this.cursor.updateMatrix()}else this.cursor.visible=!1}else this.cursor.visible=!1,this.rayIntersection=void 0;this.ray.material.uniforms.opacity.value=zu(this.ray.material.uniforms.opacity.value,a,t*10)}get busy(){return!!this.rayIntersection}}Pg.pointerCount=0;class iy{constructor(e,t,s,i){this.handedness=e,this.scene=t,this.camera=s,this.xrOrigin=i,this.registered=[],this.defaultKind="ray",this.combined=new Hp(!1);const r=new Pg(this.camera,this.xrOrigin,this.handedness),o=new QN(this.camera,this.xrOrigin,this.handedness);this.ray={pointer:r.pointer,visual:r,registered:!1},this.grab={pointer:o.pointer,visual:o,registered:!1},this.toggleSubPointer("ray",!0)}update(e,t,s,i){var r,o;const a=s*1e3;this.combined.setEnabled(e,{timeStamp:a}),this.combined.move(this.scene,{timeStamp:a});const l=this.getPolicyForRay();(r=this.ray)===null||r===void 0||r.visual.update(e,t,s,!!i?.selectStart,!!i?.selectEnd,l),!((o=this.grab)===null||o===void 0)&&o.registered&&(i?.squeezeStart&&this.routeDown("squeeze","grab",{timeStamp:a}),i?.squeezeEnd&&this.routeUp("squeeze","grab",{timeStamp:a})),i?.selectStart&&this.routeDown("select","ray",{timeStamp:a}),i?.selectEnd&&this.routeUp("select","ray",{timeStamp:a})}getPolicyForRay(){var e,t,s;const i=!!(!((s=(e=this.ray)===null||e===void 0?void 0:(t=e.pointer).getPointerCapture)===null||s===void 0)&&s.call(t)),r=this.registered.some(o=>{var a,l;return o.kind!=="ray"&&!!(!((l=(a=o.pointer).getPointerCapture)===null||l===void 0)&&l.call(a))});return{forceHideRay:r&&!i,forceHideCursor:i||r}}getRayBusy(){var e;return!!(!((e=this.ray)===null||e===void 0)&&e.visual.busy)}routeDown(e,t,s){const i=this.pickTarget(t);if(!i)return;const r=e==="select"?0:2;i.down({button:r,timeStamp:s.timeStamp})}routeUp(e,t,s){const i=this.pickTarget(t);if(!i)return;const r=e==="select"?0:2;i.up({button:r,timeStamp:s.timeStamp})}pickTarget(e){var t,s,i,r,o;if(e==="active"){const a=this.registered.find(l=>{var c,d;return!!(!((d=(c=l.pointer).getPointerCapture)===null||d===void 0)&&d.call(c))});return a?a.pointer:(t=this.ray)===null||t===void 0?void 0:t.pointer}return e==="ray"?(s=this.ray)===null||s===void 0?void 0:s.pointer:(r=(i=this.grab)===null||i===void 0?void 0:i.pointer)!==null&&r!==void 0?r:(o=this.registered.find(a=>a.kind==="grab"))===null||o===void 0?void 0:o.pointer}toggleSubPointer(e,t){var s;const i=e==="ray"?this.ray:this.grab;if(!i)return!1;if(t&&!i.registered){const r=e===this.defaultKind,o=this.combined.register(i.pointer,r);return this.registered.push({kind:e,pointer:i.pointer,unregister:o}),i.unregister=o,i.registered=!0,!0}else if(!t&&i.registered){(s=i.unregister)===null||s===void 0||s.call(i),i.unregister=void 0,i.registered=!1;const r=this.registered.findIndex(o=>o.pointer===i.pointer);return r>=0&&this.registered.splice(r,1),!0}return!1}getSubPointerState(e){const t=e==="ray"?this.ray:this.grab;return{registered:!!t?.registered}}setDefault(e){if(this.defaultKind=e,[...this.registered].forEach(s=>s.unregister()),this.registered.length=0,this.ray&&this.ray.registered){const s=this.combined.register(this.ray.pointer,this.defaultKind==="ray");this.registered.push({kind:"ray",pointer:this.ray.pointer,unregister:s}),this.ray.unregister=s}if(this.grab&&this.grab.registered){const s=this.combined.register(this.grab.pointer,this.defaultKind==="grab");this.registered.push({kind:"grab",pointer:this.grab.pointer,unregister:s}),this.grab.unregister=s}}}var ry;(function(n){n.Controller="controller",n.Hand="hand"})(ry||(ry={}));const dd={gltfLoader:new Fh,async loadGLTF(n){return await dd.gltfLoader.loadAsync(n)}};class eI{constructor(e){this.gamepads={left:void 0,right:void 0},this.activeInputSources={hand:{left:void 0,right:void 0},controller:{left:void 0,right:void 0}},this.primaryInputSources={left:void 0,right:void 0},this.hadSession=!1,this.processedInputSourceKeys=new Set;const{scene:t,camera:s,assetLoader:i}=e;this.xrOrigin=new CN,this.scene=t,this.visualAdapters={controller:{left:new Zx(this.xrOrigin,"left",!0,Kl,t,s,i||dd),right:new Zx(this.xrOrigin,"right",!0,Kl,t,s,i||dd)},hand:{left:new $x(this.xrOrigin,"left",!0,Ch,t,s,i||dd),right:new $x(this.xrOrigin,"right",!0,Ch,t,s,i||dd)},left:bt(void 0),right:bt(void 0)},this.multiPointers={left:new iy("left",this.scene,s,this.xrOrigin),right:new iy("right",this.scene,s,this.xrOrigin)}}update(e,t,s){const i=e.getSession();if(!i){this.hadSession&&this.onSessionEnded(),this.hadSession=!1;return}this.hadSession=!0;const r=e.getReferenceSpace(),o=e.getFrame();!r||!o||(this.resetActiveInputSources(),this.updateActiveInputSources(i),this.updateControllersAndHands(o,r,t),this.xrOrigin.updateHead(o,r),this.xrOrigin.updateMatrixWorld(!0),this.updatePointers(t,s))}onSessionEnded(){this.resetActiveInputSources(),["left","right"].forEach(e=>{const t=this.visualAdapters.controller[e],s=this.visualAdapters.hand[e];t.connected&&t.disconnect(),s.connected&&s.disconnect()}),this.visualAdapters.left.value=void 0,this.visualAdapters.right.value=void 0;try{this.multiPointers.left.update(!1,0,0),this.multiPointers.right.update(!1,0,0)}catch{}}isPrimary(e,t){var s;return!!(!((s=this.activeInputSources[e][t])===null||s===void 0)&&s.isPrimary)}resetActiveInputSources(){this.activeInputSources.controller.left=void 0,this.activeInputSources.controller.right=void 0,this.activeInputSources.hand.left=void 0,this.activeInputSources.hand.right=void 0,this.primaryInputSources.left=void 0,this.primaryInputSources.right=void 0}updateActiveInputSources(e){this.processedInputSourceKeys.clear();for(const t of e.inputSources){this.assignInputSource(t,!0);const s=`${t.handedness}-${t.hand?"hand":"controller"}`;this.processedInputSourceKeys.add(s)}if(e.trackedSources)for(const t of e.trackedSources){const s=`${t.handedness}-${t.hand?"hand":"controller"}`;this.processedInputSourceKeys.has(s)||this.assignInputSource(t,!1)}}assignInputSource(e,t){const s=e.handedness;if(s==="left"||s==="right"){const i=e.hand?this.activeInputSources.hand:this.activeInputSources.controller;i[s]={inputSource:e,isPrimary:t},t&&(this.primaryInputSources[s]=e)}}updateControllersAndHands(e,t,s){["left","right"].forEach(i=>{["controller","hand"].forEach(r=>{const o=this.activeInputSources[r][i],a=this.visualAdapters[r][i];if(o){const{inputSource:l,isPrimary:c}=o,d=c?this.xrOrigin.raySpaces[i]:this.xrOrigin.secondaryRaySpaces[i],u=c?this.xrOrigin.gripSpaces[i]:this.xrOrigin.secondaryGripSpaces[i];a.raySpace=d,a.gripSpace=u,GE(e,l.targetRaySpace,t,d),l.gripSpace?GE(e,l.gripSpace,t,u):(u.position.copy(d.position),u.quaternion.copy(d.quaternion),u.scale.copy(d.scale)),a.inputSource!==o.inputSource&&a.connect(o.inputSource),a.update(e,s),a.isPrimary=o.isPrimary,a.isPrimary&&(this.visualAdapters[i].value=a),a.visual&&(a.visual.model.visible=o.isPrimary)}else a.connected&&a.disconnect()})}),["left","right"].forEach(i=>{var r,o;const a=this.primaryInputSources[i];((r=this.gamepads[i])===null||r===void 0?void 0:r.inputSource)!==a&&(this.gamepads[i]=void 0);const l=!!(a&&a.gamepad);if(!this.gamepads[i]&&l){const c=H_(a);this.gamepads[i]=new yN(c)}l&&((o=this.gamepads[i])===null||o===void 0||o.update())})}updatePointers(e,t){["left","right"].forEach(s=>{var i,r;const o=this.primaryInputSources[s],a=!!(o&&o.gamepad),l=!!(o&&a&&this.gamepads[s]),c=l?!!(!((i=this.gamepads[s])===null||i===void 0)&&i.getSelectStart()):!1,d=l?!!(!((r=this.gamepads[s])===null||r===void 0)&&r.getSelectEnd()):!1,u=this.gamepads[s],h=l?!!u?.getButtonDown("xr-standard-squeeze"):!1,f=l?!!u?.getButtonUp("xr-standard-squeeze"):!1;this.multiPointers[s].update(l,e,t,{selectStart:c,selectEnd:d,squeezeStart:h,squeezeEnd:f})})}}function GE(n,e,t,s){const i=n.getPose(e,t);i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale))}class Bt{static setKeyToUrl(e,t){this.keyToUrl.set(e,t)}static resolveUrl(e){var t;return(t=this.keyToUrl.get(e))!==null&&t!==void 0?t:e}static hasPromise(e){return this.promiseCache.has(e)}static getPromise(e){return this.promiseCache.get(e)}static setPromise(e,t){this.promiseCache.set(e,t)}static deletePromise(e){this.promiseCache.delete(e)}static hasAsset(e){return this.cache.has(e)}static getAsset(e){return this.cache.get(e)}static setAsset(e,t){this.cache.set(e,t)}static getAssetByKey(e){if(this.cache.has(e))return this.cache.get(e);const t=this.keyToUrl.get(e);if(t)return this.cache.get(t)}static clear(){this.cache.clear(),this.promiseCache.clear(),this.keyToUrl.clear()}}Bt.cache=new Map;Bt.promiseCache=new Map;Bt.keyToUrl=new Map;class Wf{static init(e){this.audioLoader=new $B(e)}static async loadAudio(e){const t=Bt.resolveUrl(e);if(Bt.hasPromise(t))return Bt.getPromise(t);const s=new Promise((i,r)=>{Bt.hasAsset(t)?(i(Bt.getAsset(t)),Bt.deletePromise(t)):this.audioLoader.load(t,o=>{Bt.setAsset(t,o),i(o),Bt.deletePromise(t)},void 0,o=>{r(o),Bt.deletePromise(t)})});return Bt.setPromise(t,s),s}static getAudio(e){return Bt.getAssetByKey(e)||null}}const jm=new WeakMap;class s4 extends Bi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,s,i){const r=new $i(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,o=>{this.parse(o,t,i)},s,i)}parse(e,t,s=()=>{}){this.decodeDracoFile(e,t,null,null,cs,s).catch(s)}decodeDracoFile(e,t,s,i,r=rn,o=()=>{}){const a={attributeIDs:s||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!s,vertexColorSpace:r};return this.decodeGeometry(e,a).then(t).catch(o)}decodeGeometry(e,t){const s=JSON.stringify(t);if(jm.has(e)){const l=jm.get(e);if(l.key===s)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const r=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(r,o).then(l=>(i=l,new Promise((c,d)=>{i._callbacks[r]={resolve:c,reject:d},i.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&r&&this._releaseTask(i,r)}),jm.set(e,{key:s,promise:a}),a}_createGeometry(e){const t=new Qt;e.index&&t.setIndex(new rs(e.index.array,1));for(let s=0;s<e.attributes.length;s++){const i=e.attributes[s],r=i.name,o=i.array,a=i.itemSize,l=new rs(o,a);r==="color"&&(this._assignVertexColorSpace(l,i.vertexColorSpace),l.normalized=!(o instanceof Float32Array)),t.setAttribute(r,l)}return t}_assignVertexColorSpace(e,t){if(t!==cs)return;const s=new st;for(let i=0,r=e.count;i<r;i++)s.fromBufferAttribute(e,i),ts.colorSpaceToWorking(s,cs),e.setXYZ(i,s.r,s.g,s.b)}_loadLibrary(e,t){const s=new $i(this.manager);return s.setPath(this.decoderPath),s.setResponseType(t),s.setWithCredentials(this.withCredentials),new Promise((i,r)=>{s.load(e,i,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(s=>{const i=s[0];e||(this.decoderConfig.wasmBinary=s[1]);const r=n4.toString(),o=["/* draco decoder */",i,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(r){const o=r.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,r){return i._taskLoad>r._taskLoad?-1:1});const s=this.workerPool[this.workerPool.length-1];return s._taskCosts[e]=t,s._taskLoad+=t,s})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function n4(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(u){d({draco:u})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(d=>{const u=d.draco,h=new u.Decoder;try{const f=t(u,h,new Int8Array(l),c),A=f.attributes.map(p=>p.array.buffer);f.index&&A.push(f.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:f},A)}catch(f){console.error(f),self.postMessage({type:"error",id:a.id,error:f.message})}finally{u.destroy(h)}});break}};function t(o,a,l,c){const d=c.attributeIDs,u=c.attributeTypes;let h,f;const A=a.GetEncodedGeometryType(l);if(A===o.TRIANGULAR_MESH)h=new o.Mesh,f=a.DecodeArrayToMesh(l,l.byteLength,h);else if(A===o.POINT_CLOUD)h=new o.PointCloud,f=a.DecodeArrayToPointCloud(l,l.byteLength,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!f.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+f.error_msg());const p={index:null,attributes:[]};for(const g in d){const m=self[u[g]];let y,_;if(c.useUniqueIDs)_=d[g],y=a.GetAttributeByUniqueId(h,_);else{if(_=a.GetAttributeId(h,o[d[g]]),_===-1)continue;y=a.GetAttribute(h,_)}const I=i(o,a,h,g,m,y);g==="color"&&(I.vertexColorSpace=c.vertexColorSpace),p.attributes.push(I)}return A===o.TRIANGULAR_MESH&&(p.index=s(o,a,h)),o.destroy(h),p}function s(o,a,l){const d=l.num_faces()*3,u=d*4,h=o._malloc(u);a.GetTrianglesUInt32Array(l,u,h);const f=new Uint32Array(o.HEAPF32.buffer,h,d).slice();return o._free(h),{array:f,itemSize:1}}function i(o,a,l,c,d,u){const h=u.num_components(),A=l.num_points()*h,p=A*d.BYTES_PER_ELEMENT,g=r(o,d),m=o._malloc(p);a.GetAttributeDataArrayForAllPoints(l,u,g,p,m);const y=new d(o.HEAPF32.buffer,m,A).slice();return o._free(m),{name:c,array:y,itemSize:h}}function r(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}class i4{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0,this.workerCreator=null}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const s=this.workersResolve[e];if(s&&s(t),this.queue.length){const{resolve:i,msg:r,transfer:o}=this.queue.shift();this.workersResolve[e]=i,this.workers[e].postMessage(r,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise(s=>{const i=this._getIdleWorker();i!==-1?(this._initWorker(i),this.workerStatus|=1<<i,this.workersResolve[i]=s,this.workers[i].postMessage(e,t)):this.queue.push({resolve:s,msg:e,transfer:t})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const r4=0,HE=2,o4=1,zE=2,a4=0,l4=1,c4=10,d4=0,DN=9,LN=15,kN=16,FN=22,UN=37,ON=43,GN=76,HN=83,zN=97,VN=100,qN=103,WN=109,u4=131,h4=132,f4=133,A4=134,p4=137,g4=138,m4=141,x4=142,y4=145,_4=146,XN=148,YN=152,I4=157,v4=158,JN=165,KN=166,tI=1000066e3;class E4{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class wu{constructor(e,t,s,i){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+t,s),this._littleEndian=i,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint8Array(e){const t=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,e);return this._offset+=e,t}_skip(e){return this._offset+=e,this}_scan(e,t){t===void 0&&(t=0);const s=this._offset;let i=0;for(;this._dataView.getUint8(this._offset)!==t&&i<e;)i++,this._offset++;return i<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+s,i)}}const Vn=[171,75,84,88,32,50,48,187,13,10,26,10];function VE(n){return new TextDecoder().decode(n)}function C4(n){const e=new Uint8Array(n.buffer,n.byteOffset,Vn.length);if(e[0]!==Vn[0]||e[1]!==Vn[1]||e[2]!==Vn[2]||e[3]!==Vn[3]||e[4]!==Vn[4]||e[5]!==Vn[5]||e[6]!==Vn[6]||e[7]!==Vn[7]||e[8]!==Vn[8]||e[9]!==Vn[9]||e[10]!==Vn[10]||e[11]!==Vn[11])throw new Error("Missing KTX 2.0 identifier.");const t=new E4,s=17*Uint32Array.BYTES_PER_ELEMENT,i=new wu(n,Vn.length,s,!0);t.vkFormat=i._nextUint32(),t.typeSize=i._nextUint32(),t.pixelWidth=i._nextUint32(),t.pixelHeight=i._nextUint32(),t.pixelDepth=i._nextUint32(),t.layerCount=i._nextUint32(),t.faceCount=i._nextUint32();const r=i._nextUint32();t.supercompressionScheme=i._nextUint32();const o=i._nextUint32(),a=i._nextUint32(),l=i._nextUint32(),c=i._nextUint32(),d=i._nextUint64(),u=i._nextUint64(),h=new wu(n,Vn.length+s,3*r*8,!0);for(let se=0;se<r;se++)t.levels.push({levelData:new Uint8Array(n.buffer,n.byteOffset+h._nextUint64(),h._nextUint64()),uncompressedByteLength:h._nextUint64()});const f=new wu(n,o,a,!0),A={vendorId:f._skip(4)._nextUint16(),descriptorType:f._nextUint16(),versionNumber:f._nextUint16(),descriptorBlockSize:f._nextUint16(),colorModel:f._nextUint8(),colorPrimaries:f._nextUint8(),transferFunction:f._nextUint8(),flags:f._nextUint8(),texelBlockDimension:[f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8()],bytesPlane:[f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8()],samples:[]},p=(A.descriptorBlockSize/4-6)/4;for(let se=0;se<p;se++){const q={bitOffset:f._nextUint16(),bitLength:f._nextUint8(),channelType:f._nextUint8(),samplePosition:[f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&q.channelType?(q.sampleLower=f._nextInt32(),q.sampleUpper=f._nextInt32()):(q.sampleLower=f._nextUint32(),q.sampleUpper=f._nextUint32()),A.samples[se]=q}t.dataFormatDescriptor.length=0,t.dataFormatDescriptor.push(A);const g=new wu(n,l,c,!0);for(;g._offset<c;){const se=g._nextUint32(),q=g._scan(se),Ae=VE(q);if(t.keyValue[Ae]=g._nextUint8Array(se-q.byteLength-1),Ae.match(/^ktx/i)){const pe=VE(t.keyValue[Ae]);t.keyValue[Ae]=pe.substring(0,pe.lastIndexOf("\0"))}g._skip(se%4?4-se%4:0)}if(u<=0)return t;const m=new wu(n,d,u,!0),y=m._nextUint16(),_=m._nextUint16(),I=m._nextUint32(),v=m._nextUint32(),E=m._nextUint32(),b=m._nextUint32(),N=[];for(let se=0;se<r;se++)N.push({imageFlags:m._nextUint32(),rgbSliceByteOffset:m._nextUint32(),rgbSliceByteLength:m._nextUint32(),alphaSliceByteOffset:m._nextUint32(),alphaSliceByteLength:m._nextUint32()});const C=d+m._offset,B=C+I,S=B+v,T=S+E,D=new Uint8Array(n.buffer,n.byteOffset+C,I),L=new Uint8Array(n.buffer,n.byteOffset+B,v),z=new Uint8Array(n.buffer,n.byteOffset+S,E),V=new Uint8Array(n.buffer,n.byteOffset+T,b);return t.globalData={endpointCount:y,selectorCount:_,imageDescs:N,endpointsData:D,selectorsData:L,tablesData:z,extendedData:V},t}let Zm,mo,oy;const $m={env:{emscripten_notify_memory_growth:function(n){oy=new Uint8Array(mo.exports.memory.buffer)}}};class b4{init(){return Zm||(Zm=typeof fetch<"u"?fetch("data:application/wasm;base64,"+qE).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,$m)).then(this._init):WebAssembly.instantiate(Buffer.from(qE,"base64"),$m).then(this._init),Zm)}_init(e){mo=e.instance,$m.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!mo)throw new Error("ZSTDDecoder: Await .init() before decoding.");const s=e.byteLength,i=mo.exports.malloc(s);oy.set(e,i),t=t||Number(mo.exports.ZSTD_findDecompressedSize(i,s));const r=mo.exports.malloc(t),o=mo.exports.ZSTD_decompress(r,t,i,s),a=oy.slice(r,r+o);return mo.exports.free(i),mo.exports.free(r),a}}const qE="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",w4="display-p3",B4="display-p3-linear",e0=new WeakMap;let t0=0,s0;class zi extends Bi{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new i4,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}async detectSupportAsync(e){return this.workerConfig={astcSupported:await e.hasFeatureAsync("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:await e.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await e.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await e.hasFeatureAsync("texture-compression-bc"),bptcSupported:await e.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await e.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(e){return e.isWebGPURenderer===!0?this.workerConfig={astcSupported:e.hasFeature("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:e.hasFeature("texture-compression-etc1"),etc2Supported:e.hasFeature("texture-compression-etc2"),dxtSupported:e.hasFeature("texture-compression-bc"),bptcSupported:e.hasFeature("texture-compression-bptc"),pvrtcSupported:e.hasFeature("texture-compression-pvrtc")}:this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),astcHDRSupported:e.extensions.has("WEBGL_compressed_texture_astc")&&e.extensions.get("WEBGL_compressed_texture_astc").getSupportedProfiles().includes("hdr"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const e=new $i(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const t=e.loadAsync("basis_transcoder.js"),s=new $i(this.manager);s.setPath(this.transcoderPath),s.setResponseType("arraybuffer"),s.setWithCredentials(this.withCredentials);const i=s.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([t,i]).then(([r,o])=>{const a=zi.BasisWorker.toString(),l=["/* constants */","let _EngineFormat = "+JSON.stringify(zi.EngineFormat),"let _EngineType = "+JSON.stringify(zi.EngineType),"let _TranscoderFormat = "+JSON.stringify(zi.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(zi.BasisFormat),"/* basis_transcoder.js */",r,"/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l])),this.transcoderBinary=o,this.workerPool.setWorkerCreator(()=>{const c=new Worker(this.workerSourceURL),d=this.transcoderBinary.slice(0);return c.postMessage({type:"init",config:this.workerConfig,transcoderBinary:d},[d]),c})}),t0>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),t0++}return this.transcoderPending}load(e,t,s,i){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const r=new $i(this.manager);r.setPath(this.path),r.setCrossOrigin(this.crossOrigin),r.setWithCredentials(this.withCredentials),r.setResponseType("arraybuffer"),r.load(e,o=>{this.parse(o,t,i)},s,i)}parse(e,t,s){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");if(e0.has(e))return e0.get(e).promise.then(t).catch(s);this._createTexture(e).then(i=>t?t(i):null).catch(s)}_createTextureFrom(e,t){const{type:s,error:i,data:{faces:r,width:o,height:a,format:l,type:c,dfdFlags:d}}=e;if(s==="error")return Promise.reject(i);let u;if(t.faceCount===6)u=new SB(r,l,c);else{const h=r[0].mipmaps;u=t.layerCount>1?new NB(h,o,a,t.layerCount,l,c):new Lh(h,o,a,l,c)}return u.minFilter=r[0].mipmaps.length===1?Ot:Ii,u.magFilter=Ot,u.generateMipmaps=!1,u.needsUpdate=!0,u.colorSpace=jN(t),u.premultiplyAlpha=!!(d&o4),u}async _createTexture(e,t={}){const s=C4(new Uint8Array(e)),i=s.vkFormat===tI&&s.dataFormatDescriptor[0].colorModel===167;if(!(s.vkFormat===d4||i&&!this.workerConfig.astcHDRSupported))return S4(s);const o=t,a=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:o},[e])).then(l=>this._createTextureFrom(l.data,s));return e0.set(e,{promise:a}),a}dispose(){this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),t0--}}zi.BasisFormat={ETC1S:0,UASTC:1,UASTC_HDR:2};zi.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16,BC6H:22,RGB_HALF:24,RGBA_HALF:25};zi.EngineFormat={RGBAFormat:Zs,RGBA_ASTC_4x4_Format:Ma,RGB_BPTC_UNSIGNED_Format:mh,RGBA_BPTC_Format:Ta,RGBA_ETC2_EAC_Format:Ld,RGBA_PVRTC_4BPPV1_Format:ph,RGBA_S3TC_DXT5_Format:Sa,RGB_ETC1_Format:gh,RGB_ETC2_Format:Dd,RGB_PVRTC_4BPPV1_Format:Ah,RGBA_S3TC_DXT1_Format:Na};zi.EngineType={UnsignedByteType:Js,HalfFloatType:cn,FloatType:Qs};zi.BasisWorker=function(){let n,e,t;const s=_EngineFormat,i=_EngineType,r=_TranscoderFormat,o=_BasisFormat;self.addEventListener("message",function(A){const p=A.data;switch(p.type){case"init":n=p.config,a(p.transcoderBinary);break;case"transcode":e.then(()=>{try{const{faces:g,buffers:m,width:y,height:_,hasAlpha:I,format:v,type:E,dfdFlags:b}=l(p.buffer);self.postMessage({type:"transcode",id:p.id,data:{faces:g,width:y,height:_,hasAlpha:I,format:v,type:E,dfdFlags:b}},m)}catch(g){console.error(g),self.postMessage({type:"error",id:p.id,error:g.message})}});break}});function a(A){e=new Promise(p=>{t={wasmBinary:A,onRuntimeInitialized:p},BASIS(t)}).then(()=>{t.initializeBasis(),t.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function l(A){const p=new t.KTX2File(new Uint8Array(A));function g(){p.close(),p.delete()}if(!p.isValid())throw g(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");let m;if(p.isUASTC())m=o.UASTC;else if(p.isETC1S())m=o.ETC1S;else if(p.isHDR())m=o.UASTC_HDR;else throw new Error("THREE.KTX2Loader: Unknown Basis encoding");const y=p.getWidth(),_=p.getHeight(),I=p.getLayers()||1,v=p.getLevels(),E=p.getFaces(),b=p.getHasAlpha(),N=p.getDFDFlags(),{transcoderFormat:C,engineFormat:B,engineType:S}=u(m,y,_,b);if(!y||!_||!v)throw g(),new Error("THREE.KTX2Loader:	Invalid texture");if(!p.startTranscoding())throw g(),new Error("THREE.KTX2Loader: .startTranscoding failed");const T=[],D=[];for(let L=0;L<E;L++){const z=[];for(let V=0;V<v;V++){const se=[];let q,Ae;for(let Ye=0;Ye<I;Ye++){const Me=p.getImageLevelInfo(V,Ye,L);L===0&&V===0&&Ye===0&&(Me.origWidth%4!==0||Me.origHeight%4!==0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),v>1?(q=Me.origWidth,Ae=Me.origHeight):(q=Me.width,Ae=Me.height);let We=new Uint8Array(p.getImageTranscodedSizeInBytes(V,Ye,0,C));const ce=p.transcodeImage(We,V,Ye,L,C,0,-1,-1);if(S===i.HalfFloatType&&(We=new Uint16Array(We.buffer,We.byteOffset,We.byteLength/Uint16Array.BYTES_PER_ELEMENT)),!ce)throw g(),new Error("THREE.KTX2Loader: .transcodeImage failed.");se.push(We)}const pe=f(se);z.push({data:pe,width:q,height:Ae}),D.push(pe.buffer)}T.push({mipmaps:z,width:y,height:_,format:B,type:S})}return g(),{faces:T,buffers:D,width:y,height:_,hasAlpha:b,dfdFlags:N,format:B,type:S}}const c=[{if:"astcSupported",basisFormat:[o.UASTC],transcoderFormat:[r.ASTC_4x4,r.ASTC_4x4],engineFormat:[s.RGBA_ASTC_4x4_Format,s.RGBA_ASTC_4x4_Format],engineType:[i.UnsignedByteType],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[r.BC7_M5,r.BC7_M5],engineFormat:[s.RGBA_BPTC_Format,s.RGBA_BPTC_Format],engineType:[i.UnsignedByteType],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[r.BC1,r.BC3],engineFormat:[s.RGBA_S3TC_DXT1_Format,s.RGBA_S3TC_DXT5_Format],engineType:[i.UnsignedByteType],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[r.ETC1,r.ETC2],engineFormat:[s.RGB_ETC2_Format,s.RGBA_ETC2_EAC_Format],engineType:[i.UnsignedByteType],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[r.ETC1],engineFormat:[s.RGB_ETC1_Format],engineType:[i.UnsignedByteType],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[r.PVRTC1_4_RGB,r.PVRTC1_4_RGBA],engineFormat:[s.RGB_PVRTC_4BPPV1_Format,s.RGBA_PVRTC_4BPPV1_Format],engineType:[i.UnsignedByteType],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0},{if:"bptcSupported",basisFormat:[o.UASTC_HDR],transcoderFormat:[r.BC6H],engineFormat:[s.RGB_BPTC_UNSIGNED_Format],engineType:[i.HalfFloatType],priorityHDR:1,needsPowerOfTwo:!1},{basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[r.RGBA32,r.RGBA32],engineFormat:[s.RGBAFormat,s.RGBAFormat],engineType:[i.UnsignedByteType,i.UnsignedByteType],priorityETC1S:100,priorityUASTC:100,needsPowerOfTwo:!1},{basisFormat:[o.UASTC_HDR],transcoderFormat:[r.RGBA_HALF],engineFormat:[s.RGBAFormat],engineType:[i.HalfFloatType],priorityHDR:100,needsPowerOfTwo:!1}],d={[o.ETC1S]:c.filter(A=>A.basisFormat.includes(o.ETC1S)).sort((A,p)=>A.priorityUASTC-p.priorityUASTC),[o.UASTC]:c.filter(A=>A.basisFormat.includes(o.UASTC)).sort((A,p)=>A.priorityUASTC-p.priorityUASTC),[o.UASTC_HDR]:c.filter(A=>A.basisFormat.includes(o.UASTC_HDR)).sort((A,p)=>A.priorityHDR-p.priorityHDR)};function u(A,p,g,m){const y=d[A];for(let _=0;_<y.length;_++){const I=y[_];if(I.if&&!n[I.if]||!I.basisFormat.includes(A)||m&&I.transcoderFormat.length<2||I.needsPowerOfTwo&&!(h(p)&&h(g)))continue;const v=I.transcoderFormat[m?1:0],E=I.engineFormat[m?1:0],b=I.engineType[0];return{transcoderFormat:v,engineFormat:E,engineType:b}}throw new Error("THREE.KTX2Loader: Failed to identify transcoding target.")}function h(A){return A<=2?!0:(A&A-1)===0&&A!==0}function f(A){if(A.length===1)return A[0];let p=0;for(let y=0;y<A.length;y++){const _=A[y];p+=_.byteLength}const g=new Uint8Array(p);let m=0;for(let y=0;y<A.length;y++){const _=A[y];g.set(_,m),m+=_.byteLength}return g}};const N4=new Set([Zs,ma,Jr]),n0={[WN]:Zs,[zN]:Zs,[UN]:Zs,[ON]:Zs,[qN]:ma,[HN]:ma,[kN]:ma,[FN]:ma,[VN]:Jr,[GN]:Jr,[LN]:Jr,[DN]:Jr,[XN]:Dd,[YN]:Ld,[tI]:Ma,[v4]:Ma,[I4]:Ma,[KN]:kd,[JN]:kd,[f4]:Na,[A4]:Na,[u4]:Sl,[h4]:Sl,[g4]:Ml,[p4]:Ml,[x4]:Sa,[m4]:Sa,[_4]:Ta,[y4]:Ta},i0={[WN]:Qs,[zN]:cn,[UN]:Js,[ON]:Js,[qN]:Qs,[HN]:cn,[kN]:Js,[FN]:Js,[VN]:Qs,[GN]:cn,[LN]:Js,[DN]:Js,[XN]:Js,[YN]:Js,[tI]:cn,[KN]:Js,[JN]:Js};async function S4(n){const{vkFormat:e}=n;if(n0[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let t;n.supercompressionScheme===HE&&(s0||(s0=new Promise(async r=>{const o=new b4;await o.init(),r(o)})),t=await s0);const s=[];for(let r=0;r<n.levels.length;r++){const o=Math.max(1,n.pixelWidth>>r),a=Math.max(1,n.pixelHeight>>r),l=n.pixelDepth?Math.max(1,n.pixelDepth>>r):0,c=n.levels[r];let d;if(n.supercompressionScheme===r4)d=c.levelData;else if(n.supercompressionScheme===HE)d=t.decode(c.levelData,c.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");let u;i0[e]===Qs?u=new Float32Array(d.buffer,d.byteOffset,d.byteLength/Float32Array.BYTES_PER_ELEMENT):i0[e]===cn?u=new Uint16Array(d.buffer,d.byteOffset,d.byteLength/Uint16Array.BYTES_PER_ELEMENT):u=d,s.push({data:u,width:o,height:a,depth:l})}let i;if(N4.has(n0[e]))i=n.pixelDepth===0?new Pa(s[0].data,n.pixelWidth,n.pixelHeight):new r_(s[0].data,n.pixelWidth,n.pixelHeight,n.pixelDepth);else{if(n.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");i=new Lh(s,n.pixelWidth,n.pixelHeight),i.minFilter=s.length===1?Ot:Ii,i.magFilter=Ot}return i.mipmaps=s,i.type=i0[e],i.format=n0[e],i.colorSpace=jN(n),i.needsUpdate=!0,Promise.resolve(i)}function jN(n){const e=n.dataFormatDescriptor[0];return e.colorPrimaries===l4?e.transferFunction===zE?cs:rn:e.colorPrimaries===c4?e.transferFunction===zE?w4:B4:(e.colorPrimaries===a4||console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${e.colorPrimaries}"`),Hi)}const WE=`https://unpkg.com/three@0.${Fo}.0`;class Xf{static init(e,t,s={}){var i,r;this.dracoLoader=new s4(e).setDecoderPath((i=s.dracoDecoderPath)!==null&&i!==void 0?i:`${WE}/examples/jsm/libs/draco/gltf/`),this.ktx2Loader=new zi(e).setTranscoderPath((r=s.ktx2TranscoderPath)!==null&&r!==void 0?r:`${WE}/examples/jsm/libs/basis/`).detectSupport(t),this.gltfLoader=new Fh(e).setDRACOLoader(this.dracoLoader).setKTX2Loader(this.ktx2Loader)}static loadGLTF(e,t){if(Bt.hasPromise(e))return Bt.getPromise(e);{t&&Bt.setKeyToUrl(t,e);const s=new Promise((i,r)=>{Bt.hasAsset(e)?(i(Bt.getAsset(e)),Bt.deletePromise(e)):this.gltfLoader.load(e,o=>{Bt.setAsset(e,o),i(o),Bt.deletePromise(e)},()=>{},o=>{r(o),Bt.deletePromise(e)})});return Bt.setPromise(e,s),s}}static getGLTF(e){return Bt.getAssetByKey(e)||null}}var Vi=Uint8Array,oh=Uint16Array,M4=Int32Array,ZN=new Vi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$N=new Vi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),T4=new Vi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e2=function(n,e){for(var t=new oh(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var i=new M4(t[30]),s=1;s<30;++s)for(var r=t[s];r<t[s+1];++r)i[r]=r-t[s]<<5|s;return{b:t,r:i}},t2=e2(ZN,2),s2=t2.b,P4=t2.r;s2[28]=258,P4[258]=28;var R4=e2($N,0),Q4=R4.b,n2=new oh(32768);for(var Fs=0;Fs<32768;++Fs){var Ko=(Fs&43690)>>1|(Fs&21845)<<1;Ko=(Ko&52428)>>2|(Ko&13107)<<2,Ko=(Ko&61680)>>4|(Ko&3855)<<4,n2[Fs]=((Ko&65280)>>8|(Ko&255)<<8)>>1}var ah=(function(n,e,t){for(var s=n.length,i=0,r=new oh(e);i<s;++i)n[i]&&++r[n[i]-1];var o=new oh(e);for(i=1;i<e;++i)o[i]=o[i-1]+r[i-1]<<1;var a;{a=new oh(1<<e);var l=15-e;for(i=0;i<s;++i)if(n[i])for(var c=i<<4|n[i],d=e-n[i],u=o[n[i]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)a[n2[u]>>l]=c}return a}),Uh=new Vi(288);for(var Fs=0;Fs<144;++Fs)Uh[Fs]=8;for(var Fs=144;Fs<256;++Fs)Uh[Fs]=9;for(var Fs=256;Fs<280;++Fs)Uh[Fs]=7;for(var Fs=280;Fs<288;++Fs)Uh[Fs]=8;var i2=new Vi(32);for(var Fs=0;Fs<32;++Fs)i2[Fs]=5;var D4=ah(Uh,9),L4=ah(i2,5),r0=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},ar=function(n,e,t){var s=e/8|0;return(n[s]|n[s+1]<<8)>>(e&7)&t},o0=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},k4=function(n){return(n+7)/8|0},F4=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Vi(n.subarray(e,t))},U4=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],pr=function(n,e,t){var s=new Error(e||U4[n]);if(s.code=n,Error.captureStackTrace&&Error.captureStackTrace(s,pr),!t)throw s;return s},O4=function(n,e,t,s){var i=n.length,r=0;if(!i||e.f&&!e.l)return t||new Vi(0);var o=!t,a=o||e.i!=2,l=e.i;o&&(t=new Vi(i*3));var c=function(Se){var we=t.length;if(Se>we){var qe=new Vi(Math.max(we*2,Se));qe.set(t),t=qe}},d=e.f||0,u=e.p||0,h=e.b||0,f=e.l,A=e.d,p=e.m,g=e.n,m=i*8;do{if(!f){d=ar(n,u,1);var y=ar(n,u+1,3);if(u+=3,y)if(y==1)f=D4,A=L4,p=9,g=5;else if(y==2){var E=ar(n,u,31)+257,b=ar(n,u+10,15)+4,N=E+ar(n,u+5,31)+1;u+=14;for(var C=new Vi(N),B=new Vi(19),S=0;S<b;++S)B[T4[S]]=ar(n,u+S*3,7);u+=b*3;for(var T=r0(B),D=(1<<T)-1,L=ah(B,T),S=0;S<N;){var z=L[ar(n,u,D)];u+=z&15;var _=z>>4;if(_<16)C[S++]=_;else{var V=0,se=0;for(_==16?(se=3+ar(n,u,3),u+=2,V=C[S-1]):_==17?(se=3+ar(n,u,7),u+=3):_==18&&(se=11+ar(n,u,127),u+=7);se--;)C[S++]=V}}var q=C.subarray(0,E),Ae=C.subarray(E);p=r0(q),g=r0(Ae),f=ah(q,p),A=ah(Ae,g)}else pr(1);else{var _=k4(u)+4,I=n[_-4]|n[_-3]<<8,v=_+I;if(v>i){l&&pr(0);break}a&&c(h+I),t.set(n.subarray(_,v),h),e.b=h+=I,e.p=u=v*8,e.f=d;continue}if(u>m){l&&pr(0);break}}a&&c(h+131072);for(var pe=(1<<p)-1,Ye=(1<<g)-1,Me=u;;Me=u){var V=f[o0(n,u)&pe],We=V>>4;if(u+=V&15,u>m){l&&pr(0);break}if(V||pr(2),We<256)t[h++]=We;else if(We==256){Me=u,f=null;break}else{var ce=We-254;if(We>264){var S=We-257,j=ZN[S];ce=ar(n,u,(1<<j)-1)+s2[S],u+=j}var O=A[o0(n,u)&Ye],U=O>>4;O||pr(3),u+=O&15;var Ae=Q4[U];if(U>3){var j=$N[U];Ae+=o0(n,u)&(1<<j)-1,u+=j}if(u>m){l&&pr(0);break}a&&c(h+131072);var $=h+ce;if(h<Ae){var me=r-Ae,ue=Math.min(Ae,$);for(me+h<0&&pr(3);h<ue;++h)t[h]=s[me+h]}for(;h<$;++h)t[h]=t[h-Ae]}}e.l=f,e.p=Me,e.b=h,e.f=d,f&&(d=1,e.m=p,e.d=A,e.n=g)}while(!d);return h!=t.length&&o?F4(t,0,h):t.subarray(0,h)},G4=new Vi(0),H4=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&pr(6,"invalid zlib data"),(n[1]>>5&1)==1&&pr(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Yf(n,e){return O4(n.subarray(H4(n),-4),{i:2},e,e)}var z4=typeof TextDecoder<"u"&&new TextDecoder,V4=0;try{z4.decode(G4,{stream:!0}),V4=1}catch{}class q4 extends b_{constructor(e){super(e),this.type=cn}parse(e){const C=Math.pow(2.7182818,2.2);function B(M,G){let te=0;for(let Le=0;Le<65536;++Le)(Le==0||M[Le>>3]&1<<(Le&7))&&(G[te++]=Le);const ge=te-1;for(;te<65536;)G[te++]=0;return ge}function S(M){for(let G=0;G<16384;G++)M[G]={},M[G].len=0,M[G].lit=0,M[G].p=null}const T={l:0,c:0,lc:0};function D(M,G,te,ge,Le){for(;te<M;)G=G<<8|et(ge,Le),te+=8;te-=M,T.l=G>>te&(1<<M)-1,T.c=G,T.lc=te}const L=new Array(59);function z(M){for(let te=0;te<=58;++te)L[te]=0;for(let te=0;te<65537;++te)L[M[te]]+=1;let G=0;for(let te=58;te>0;--te){const ge=G+L[te]>>1;L[te]=G,G=ge}for(let te=0;te<65537;++te){const ge=M[te];ge>0&&(M[te]=ge|L[ge]++<<6)}}function V(M,G,te,ge,Le,P){const W=G;let ie=0,ee=0;for(;ge<=Le;ge++){if(W.value-G.value>te)return!1;D(6,ie,ee,M,W);const X=T.l;if(ie=T.c,ee=T.lc,P[ge]=X,X==63){if(W.value-G.value>te)throw new Error("Something wrong with hufUnpackEncTable");D(8,ie,ee,M,W);let he=T.l+6;if(ie=T.c,ee=T.lc,ge+he>Le+1)throw new Error("Something wrong with hufUnpackEncTable");for(;he--;)P[ge++]=0;ge--}else if(X>=59){let he=X-59+2;if(ge+he>Le+1)throw new Error("Something wrong with hufUnpackEncTable");for(;he--;)P[ge++]=0;ge--}}z(P)}function se(M){return M&63}function q(M){return M>>6}function Ae(M,G,te,ge){for(;G<=te;G++){const Le=q(M[G]),P=se(M[G]);if(Le>>P)throw new Error("Invalid table entry");if(P>14){const W=ge[Le>>P-14];if(W.len)throw new Error("Invalid table entry");if(W.lit++,W.p){const ie=W.p;W.p=new Array(W.lit);for(let ee=0;ee<W.lit-1;++ee)W.p[ee]=ie[ee]}else W.p=new Array(1);W.p[W.lit-1]=G}else if(P){let W=0;for(let ie=1<<14-P;ie>0;ie--){const ee=ge[(Le<<14-P)+W];if(ee.len||ee.p)throw new Error("Invalid table entry");ee.len=P,ee.lit=G,W++}}}return!0}const pe={c:0,lc:0};function Ye(M,G,te,ge){M=M<<8|et(te,ge),G+=8,pe.c=M,pe.lc=G}const Me={c:0,lc:0};function We(M,G,te,ge,Le,P,W,ie,ee){if(M==G){ge<8&&(Ye(te,ge,Le,P),te=pe.c,ge=pe.lc),ge-=8;let X=te>>ge;if(X=new Uint8Array([X])[0],ie.value+X>ee)return!1;const he=W[ie.value-1];for(;X-- >0;)W[ie.value++]=he}else if(ie.value<ee)W[ie.value++]=M;else return!1;Me.c=te,Me.lc=ge}function ce(M){return M&65535}function j(M){const G=ce(M);return G>32767?G-65536:G}const O={a:0,b:0};function U(M,G){const te=j(M),Le=j(G),P=te+(Le&1)+(Le>>1),W=P,ie=P-Le;O.a=W,O.b=ie}function $(M,G){const te=ce(M),ge=ce(G),Le=te-(ge>>1)&65535,P=ge+Le-32768&65535;O.a=P,O.b=Le}function me(M,G,te,ge,Le,P,W){const ie=W<16384,ee=te>Le?Le:te;let X=1,he,Ce;for(;X<=ee;)X<<=1;for(X>>=1,he=X,X>>=1;X>=1;){Ce=0;const Pe=Ce+P*(Le-he),Ne=P*X,je=P*he,He=ge*X,ze=ge*he;let Q,F,Z,re;for(;Ce<=Pe;Ce+=je){let ae=Ce;const ye=Ce+ge*(te-he);for(;ae<=ye;ae+=ze){const xe=ae+He,Xe=ae+Ne,Re=Xe+He;ie?(U(M[ae+G],M[Xe+G]),Q=O.a,Z=O.b,U(M[xe+G],M[Re+G]),F=O.a,re=O.b,U(Q,F),M[ae+G]=O.a,M[xe+G]=O.b,U(Z,re),M[Xe+G]=O.a,M[Re+G]=O.b):($(M[ae+G],M[Xe+G]),Q=O.a,Z=O.b,$(M[xe+G],M[Re+G]),F=O.a,re=O.b,$(Q,F),M[ae+G]=O.a,M[xe+G]=O.b,$(Z,re),M[Xe+G]=O.a,M[Re+G]=O.b)}if(te&X){const xe=ae+Ne;ie?U(M[ae+G],M[xe+G]):$(M[ae+G],M[xe+G]),Q=O.a,M[xe+G]=O.b,M[ae+G]=Q}}if(Le&X){let ae=Ce;const ye=Ce+ge*(te-he);for(;ae<=ye;ae+=ze){const xe=ae+He;ie?U(M[ae+G],M[xe+G]):$(M[ae+G],M[xe+G]),Q=O.a,M[xe+G]=O.b,M[ae+G]=Q}}he=X,X>>=1}return Ce}function ue(M,G,te,ge,Le,P,W,ie,ee){let X=0,he=0;const Ce=W,Pe=Math.trunc(ge.value+(Le+7)/8);for(;ge.value<Pe;)for(Ye(X,he,te,ge),X=pe.c,he=pe.lc;he>=14;){const je=X>>he-14&16383,He=G[je];if(He.len)he-=He.len,We(He.lit,P,X,he,te,ge,ie,ee,Ce),X=Me.c,he=Me.lc;else{if(!He.p)throw new Error("hufDecode issues");let ze;for(ze=0;ze<He.lit;ze++){const Q=se(M[He.p[ze]]);for(;he<Q&&ge.value<Pe;)Ye(X,he,te,ge),X=pe.c,he=pe.lc;if(he>=Q&&q(M[He.p[ze]])==(X>>he-Q&(1<<Q)-1)){he-=Q,We(He.p[ze],P,X,he,te,ge,ie,ee,Ce),X=Me.c,he=Me.lc;break}}if(ze==He.lit)throw new Error("hufDecode issues")}}const Ne=8-Le&7;for(X>>=Ne,he-=Ne;he>0;){const je=G[X<<14-he&16383];if(je.len)he-=je.len,We(je.lit,P,X,he,te,ge,ie,ee,Ce),X=Me.c,he=Me.lc;else throw new Error("hufDecode issues")}return!0}function Se(M,G,te,ge,Le,P){const W={value:0},ie=te.value,ee=ct(G,te),X=ct(G,te);te.value+=4;const he=ct(G,te);if(te.value+=4,ee<0||ee>=65537||X<0||X>=65537)throw new Error("Something wrong with HUF_ENCSIZE");const Ce=new Array(65537),Pe=new Array(16384);S(Pe);const Ne=ge-(te.value-ie);if(V(M,te,Ne,ee,X,Ce),he>8*(ge-(te.value-ie)))throw new Error("Something wrong with hufUncompress");Ae(Ce,ee,X,Pe),ue(Ce,Pe,M,te,he,X,P,Le,W)}function we(M,G,te){for(let ge=0;ge<te;++ge)G[ge]=M[G[ge]]}function qe(M){for(let G=1;G<M.length;G++){const te=M[G-1]+M[G]-128;M[G]=te}}function ve(M,G){let te=0,ge=Math.floor((M.length+1)/2),Le=0;const P=M.length-1;for(;!(Le>P||(G[Le++]=M[te++],Le>P));)G[Le++]=M[ge++]}function H(M){let G=M.byteLength;const te=new Array;let ge=0;const Le=new DataView(M);for(;G>0;){const P=Le.getInt8(ge++);if(P<0){const W=-P;G-=W+1;for(let ie=0;ie<W;ie++)te.push(Le.getUint8(ge++))}else{const W=P;G-=2;const ie=Le.getUint8(ge++);for(let ee=0;ee<W+1;ee++)te.push(ie)}}return te}function rt(M,G,te,ge,Le,P){let W=new DataView(P.buffer);const ie=te[M.idx[0]].width,ee=te[M.idx[0]].height,X=3,he=Math.floor(ie/8),Ce=Math.ceil(ie/8),Pe=Math.ceil(ee/8),Ne=ie-(Ce-1)*8,je=ee-(Pe-1)*8,He={value:0},ze=new Array(X),Q=new Array(X),F=new Array(X),Z=new Array(X),re=new Array(X);for(let ye=0;ye<X;++ye)re[ye]=G[M.idx[ye]],ze[ye]=ye<1?0:ze[ye-1]+Ce*Pe,Q[ye]=new Float32Array(64),F[ye]=new Uint16Array(64),Z[ye]=new Uint16Array(Ce*64);for(let ye=0;ye<Pe;++ye){let xe=8;ye==Pe-1&&(xe=je);let Xe=8;for(let Qe=0;Qe<Ce;++Qe){Qe==Ce-1&&(Xe=Ne);for(let Ze=0;Ze<X;++Ze)F[Ze].fill(0),F[Ze][0]=Le[ze[Ze]++],Ke(He,ge,F[Ze]),fe(F[Ze],Q[Ze]),Y(Q[Ze]);lt(Q);for(let Ze=0;Ze<X;++Ze)ot(Q[Ze],Z[Ze],Qe*64)}let Re=0;for(let Qe=0;Qe<X;++Qe){const Ze=te[M.idx[Qe]].type;for(let xt=8*ye;xt<8*ye+xe;++xt){Re=re[Qe][xt];for(let Gt=0;Gt<he;++Gt){const Ct=Gt*64+(xt&7)*8;W.setUint16(Re+0*Ze,Z[Qe][Ct+0],!0),W.setUint16(Re+2*Ze,Z[Qe][Ct+1],!0),W.setUint16(Re+4*Ze,Z[Qe][Ct+2],!0),W.setUint16(Re+6*Ze,Z[Qe][Ct+3],!0),W.setUint16(Re+8*Ze,Z[Qe][Ct+4],!0),W.setUint16(Re+10*Ze,Z[Qe][Ct+5],!0),W.setUint16(Re+12*Ze,Z[Qe][Ct+6],!0),W.setUint16(Re+14*Ze,Z[Qe][Ct+7],!0),Re+=16*Ze}}if(he!=Ce)for(let xt=8*ye;xt<8*ye+xe;++xt){const Gt=re[Qe][xt]+8*he*2*Ze,Ct=he*64+(xt&7)*8;for(let Pt=0;Pt<Xe;++Pt)W.setUint16(Gt+Pt*2*Ze,Z[Qe][Ct+Pt],!0)}}}const ae=new Uint16Array(ie);W=new DataView(P.buffer);for(let ye=0;ye<X;++ye){te[M.idx[ye]].decoded=!0;const xe=te[M.idx[ye]].type;if(te[ye].type==2)for(let Xe=0;Xe<ee;++Xe){const Re=re[ye][Xe];for(let Qe=0;Qe<ie;++Qe)ae[Qe]=W.getUint16(Re+Qe*2*xe,!0);for(let Qe=0;Qe<ie;++Qe)W.setFloat32(Re+Qe*2*xe,oe(ae[Qe]),!0)}}}function Ke(M,G,te){let ge,Le=1;for(;Le<64;)ge=G[M.value],ge==65280?Le=64:ge>>8==255?Le+=ge&255:(te[Le]=ge,Le++),M.value++}function fe(M,G){G[0]=oe(M[0]),G[1]=oe(M[1]),G[2]=oe(M[5]),G[3]=oe(M[6]),G[4]=oe(M[14]),G[5]=oe(M[15]),G[6]=oe(M[27]),G[7]=oe(M[28]),G[8]=oe(M[2]),G[9]=oe(M[4]),G[10]=oe(M[7]),G[11]=oe(M[13]),G[12]=oe(M[16]),G[13]=oe(M[26]),G[14]=oe(M[29]),G[15]=oe(M[42]),G[16]=oe(M[3]),G[17]=oe(M[8]),G[18]=oe(M[12]),G[19]=oe(M[17]),G[20]=oe(M[25]),G[21]=oe(M[30]),G[22]=oe(M[41]),G[23]=oe(M[43]),G[24]=oe(M[9]),G[25]=oe(M[11]),G[26]=oe(M[18]),G[27]=oe(M[24]),G[28]=oe(M[31]),G[29]=oe(M[40]),G[30]=oe(M[44]),G[31]=oe(M[53]),G[32]=oe(M[10]),G[33]=oe(M[19]),G[34]=oe(M[23]),G[35]=oe(M[32]),G[36]=oe(M[39]),G[37]=oe(M[45]),G[38]=oe(M[52]),G[39]=oe(M[54]),G[40]=oe(M[20]),G[41]=oe(M[22]),G[42]=oe(M[33]),G[43]=oe(M[38]),G[44]=oe(M[46]),G[45]=oe(M[51]),G[46]=oe(M[55]),G[47]=oe(M[60]),G[48]=oe(M[21]),G[49]=oe(M[34]),G[50]=oe(M[37]),G[51]=oe(M[47]),G[52]=oe(M[50]),G[53]=oe(M[56]),G[54]=oe(M[59]),G[55]=oe(M[61]),G[56]=oe(M[35]),G[57]=oe(M[36]),G[58]=oe(M[48]),G[59]=oe(M[49]),G[60]=oe(M[57]),G[61]=oe(M[58]),G[62]=oe(M[62]),G[63]=oe(M[63])}function Y(M){const G=.5*Math.cos(.7853975),te=.5*Math.cos(3.14159/16),ge=.5*Math.cos(3.14159/8),Le=.5*Math.cos(3*3.14159/16),P=.5*Math.cos(5*3.14159/16),W=.5*Math.cos(3*3.14159/8),ie=.5*Math.cos(7*3.14159/16),ee=new Array(4),X=new Array(4),he=new Array(4),Ce=new Array(4);for(let Pe=0;Pe<8;++Pe){const Ne=Pe*8;ee[0]=ge*M[Ne+2],ee[1]=W*M[Ne+2],ee[2]=ge*M[Ne+6],ee[3]=W*M[Ne+6],X[0]=te*M[Ne+1]+Le*M[Ne+3]+P*M[Ne+5]+ie*M[Ne+7],X[1]=Le*M[Ne+1]-ie*M[Ne+3]-te*M[Ne+5]-P*M[Ne+7],X[2]=P*M[Ne+1]-te*M[Ne+3]+ie*M[Ne+5]+Le*M[Ne+7],X[3]=ie*M[Ne+1]-P*M[Ne+3]+Le*M[Ne+5]-te*M[Ne+7],he[0]=G*(M[Ne+0]+M[Ne+4]),he[3]=G*(M[Ne+0]-M[Ne+4]),he[1]=ee[0]+ee[3],he[2]=ee[1]-ee[2],Ce[0]=he[0]+he[1],Ce[1]=he[3]+he[2],Ce[2]=he[3]-he[2],Ce[3]=he[0]-he[1],M[Ne+0]=Ce[0]+X[0],M[Ne+1]=Ce[1]+X[1],M[Ne+2]=Ce[2]+X[2],M[Ne+3]=Ce[3]+X[3],M[Ne+4]=Ce[3]-X[3],M[Ne+5]=Ce[2]-X[2],M[Ne+6]=Ce[1]-X[1],M[Ne+7]=Ce[0]-X[0]}for(let Pe=0;Pe<8;++Pe)ee[0]=ge*M[16+Pe],ee[1]=W*M[16+Pe],ee[2]=ge*M[48+Pe],ee[3]=W*M[48+Pe],X[0]=te*M[8+Pe]+Le*M[24+Pe]+P*M[40+Pe]+ie*M[56+Pe],X[1]=Le*M[8+Pe]-ie*M[24+Pe]-te*M[40+Pe]-P*M[56+Pe],X[2]=P*M[8+Pe]-te*M[24+Pe]+ie*M[40+Pe]+Le*M[56+Pe],X[3]=ie*M[8+Pe]-P*M[24+Pe]+Le*M[40+Pe]-te*M[56+Pe],he[0]=G*(M[Pe]+M[32+Pe]),he[3]=G*(M[Pe]-M[32+Pe]),he[1]=ee[0]+ee[3],he[2]=ee[1]-ee[2],Ce[0]=he[0]+he[1],Ce[1]=he[3]+he[2],Ce[2]=he[3]-he[2],Ce[3]=he[0]-he[1],M[0+Pe]=Ce[0]+X[0],M[8+Pe]=Ce[1]+X[1],M[16+Pe]=Ce[2]+X[2],M[24+Pe]=Ce[3]+X[3],M[32+Pe]=Ce[3]-X[3],M[40+Pe]=Ce[2]-X[2],M[48+Pe]=Ce[1]-X[1],M[56+Pe]=Ce[0]-X[0]}function lt(M){for(let G=0;G<64;++G){const te=M[0][G],ge=M[1][G],Le=M[2][G];M[0][G]=te+1.5747*Le,M[1][G]=te-.1873*ge-.4682*Le,M[2][G]=te+1.8556*ge}}function ot(M,G,te){for(let ge=0;ge<64;++ge)G[te+ge]=yl.toHalfFloat(It(M[ge]))}function It(M){return M<=1?Math.sign(M)*Math.pow(Math.abs(M),2.2):Math.sign(M)*Math.pow(C,Math.abs(M)-1)}function Ft(M){return new DataView(M.array.buffer,M.offset.value,M.size)}function St(M){const G=M.viewer.buffer.slice(M.offset.value,M.offset.value+M.size),te=new Uint8Array(H(G)),ge=new Uint8Array(te.length);return qe(te),ve(te,ge),new DataView(ge.buffer)}function os(M){const G=M.array.slice(M.offset.value,M.offset.value+M.size),te=Yf(G),ge=new Uint8Array(te.length);return qe(te),ve(te,ge),new DataView(ge.buffer)}function ds(M){const G=M.viewer,te={value:M.offset.value},ge=new Uint16Array(M.columns*M.lines*(M.inputChannels.length*M.type)),Le=new Uint8Array(8192);let P=0;const W=new Array(M.inputChannels.length);for(let je=0,He=M.inputChannels.length;je<He;je++)W[je]={},W[je].start=P,W[je].end=W[je].start,W[je].nx=M.columns,W[je].ny=M.lines,W[je].size=M.type,P+=W[je].nx*W[je].ny*W[je].size;const ie=Te(G,te),ee=Te(G,te);if(ee>=8192)throw new Error("Something is wrong with PIZ_COMPRESSION BITMAP_SIZE");if(ie<=ee)for(let je=0;je<ee-ie+1;je++)Le[je+ie]=At(G,te);const X=new Uint16Array(65536),he=B(Le,X),Ce=ct(G,te);Se(M.array,G,te,Ce,ge,P);for(let je=0;je<M.inputChannels.length;++je){const He=W[je];for(let ze=0;ze<W[je].size;++ze)me(ge,He.start+ze,He.nx,He.size,He.ny,He.nx*He.size,he)}we(X,ge,P);let Pe=0;const Ne=new Uint8Array(ge.buffer.byteLength);for(let je=0;je<M.lines;je++)for(let He=0;He<M.inputChannels.length;He++){const ze=W[He],Q=ze.nx*ze.size,F=new Uint8Array(ge.buffer,ze.end*2,Q*2);Ne.set(F,Pe),Pe+=Q*2,ze.end+=Q}return new DataView(Ne.buffer)}function ms(M){const G=M.array.slice(M.offset.value,M.offset.value+M.size),te=Yf(G),ge=M.inputChannels.length*M.lines*M.columns*M.totalBytes,Le=new ArrayBuffer(ge),P=new DataView(Le);let W=0,ie=0;const ee=new Array(4);for(let X=0;X<M.lines;X++)for(let he=0;he<M.inputChannels.length;he++){let Ce=0;switch(M.inputChannels[he].pixelType){case 1:ee[0]=W,ee[1]=ee[0]+M.columns,W=ee[1]+M.columns;for(let Ne=0;Ne<M.columns;++Ne){const je=te[ee[0]++]<<8|te[ee[1]++];Ce+=je,P.setUint16(ie,Ce,!0),ie+=2}break;case 2:ee[0]=W,ee[1]=ee[0]+M.columns,ee[2]=ee[1]+M.columns,W=ee[2]+M.columns;for(let Ne=0;Ne<M.columns;++Ne){const je=te[ee[0]++]<<24|te[ee[1]++]<<16|te[ee[2]++]<<8;Ce+=je,P.setUint32(ie,Ce,!0),ie+=4}break}}return P}function J(M){const G=M.viewer,te={value:M.offset.value},ge=new Uint8Array(M.columns*M.lines*(M.inputChannels.length*M.type*2)),Le={version:_t(G,te),unknownUncompressedSize:_t(G,te),unknownCompressedSize:_t(G,te),acCompressedSize:_t(G,te),dcCompressedSize:_t(G,te),rleCompressedSize:_t(G,te),rleUncompressedSize:_t(G,te),rleRawSize:_t(G,te),totalAcUncompressedCount:_t(G,te),totalDcUncompressedCount:_t(G,te),acCompression:_t(G,te)};if(Le.version<2)throw new Error("EXRLoader.parse: "+Ni.compression+" version "+Le.version+" is unsupported");const P=new Array;let W=Te(G,te)-2;for(;W>0;){const He=k(G.buffer,te),ze=At(G,te),Q=ze>>2&3,F=(ze>>4)-1,Z=new Int8Array([F])[0],re=At(G,te);P.push({name:He,index:Z,type:re,compression:Q}),W-=He.length+3}const ie=Ni.channels,ee=new Array(M.inputChannels.length);for(let He=0;He<M.inputChannels.length;++He){const ze=ee[He]={},Q=ie[He];ze.name=Q.name,ze.compression=0,ze.decoded=!1,ze.type=Q.pixelType,ze.pLinear=Q.pLinear,ze.width=M.columns,ze.height=M.lines}const X={idx:new Array(3)};for(let He=0;He<M.inputChannels.length;++He){const ze=ee[He];for(let Q=0;Q<P.length;++Q){const F=P[Q];ze.name==F.name&&(ze.compression=F.compression,F.index>=0&&(X.idx[F.index]=He),ze.offset=He)}}let he,Ce,Pe;if(Le.acCompressedSize>0)switch(Le.acCompression){case 0:he=new Uint16Array(Le.totalAcUncompressedCount),Se(M.array,G,te,Le.acCompressedSize,he,Le.totalAcUncompressedCount);break;case 1:const He=M.array.slice(te.value,te.value+Le.totalAcUncompressedCount),ze=Yf(He);he=new Uint16Array(ze.buffer),te.value+=Le.totalAcUncompressedCount;break}if(Le.dcCompressedSize>0){const He={array:M.array,offset:te,size:Le.dcCompressedSize};Ce=new Uint16Array(os(He).buffer),te.value+=Le.dcCompressedSize}if(Le.rleRawSize>0){const He=M.array.slice(te.value,te.value+Le.rleCompressedSize),ze=Yf(He);Pe=H(ze.buffer),te.value+=Le.rleCompressedSize}let Ne=0;const je=new Array(ee.length);for(let He=0;He<je.length;++He)je[He]=new Array;for(let He=0;He<M.lines;++He)for(let ze=0;ze<ee.length;++ze)je[ze].push(Ne),Ne+=ee[ze].width*M.type*2;rt(X,je,ee,he,Ce,ge);for(let He=0;He<ee.length;++He){const ze=ee[He];if(!ze.decoded)switch(ze.compression){case 2:let Q=0,F=0;for(let Z=0;Z<M.lines;++Z){let re=je[He][Q];for(let ae=0;ae<ze.width;++ae){for(let ye=0;ye<2*ze.type;++ye)ge[re++]=Pe[F+ye*ze.width*ze.height];F++}Q++}break;case 1:default:throw new Error("EXRLoader.parse: unsupported channel compression")}}return new DataView(ge.buffer)}function k(M,G){const te=new Uint8Array(M);let ge=0;for(;te[G.value+ge]!=0;)ge+=1;const Le=new TextDecoder().decode(te.slice(G.value,G.value+ge));return G.value=G.value+ge+1,Le}function _e(M,G,te){const ge=new TextDecoder().decode(new Uint8Array(M).slice(G.value,G.value+te));return G.value=G.value+te,ge}function Fe(M,G){const te=Ie(M,G),ge=ct(M,G);return[te,ge]}function Ue(M,G){const te=ct(M,G),ge=ct(M,G);return[te,ge]}function Ie(M,G){const te=M.getInt32(G.value,!0);return G.value=G.value+4,te}function ct(M,G){const te=M.getUint32(G.value,!0);return G.value=G.value+4,te}function et(M,G){const te=M[G.value];return G.value=G.value+1,te}function At(M,G){const te=M.getUint8(G.value);return G.value=G.value+1,te}const _t=function(M,G){let te;return"getBigInt64"in DataView.prototype?te=Number(M.getBigInt64(G.value,!0)):te=M.getUint32(G.value+4,!0)+Number(M.getUint32(G.value,!0)<<32),G.value+=8,te};function le(M,G){const te=M.getFloat32(G.value,!0);return G.value+=4,te}function K(M,G){return yl.toHalfFloat(le(M,G))}function oe(M){const G=(M&31744)>>10,te=M&1023;return(M>>15?-1:1)*(G?G===31?te?NaN:1/0:Math.pow(2,G-15)*(1+te/1024):6103515625e-14*(te/1024))}function Te(M,G){const te=M.getUint16(G.value,!0);return G.value+=2,te}function Ve(M,G){return oe(Te(M,G))}function tt(M,G,te,ge){const Le=te.value,P=[];for(;te.value<Le+ge-1;){const W=k(G,te),ie=Ie(M,te),ee=At(M,te);te.value+=3;const X=Ie(M,te),he=Ie(M,te);P.push({name:W,pixelType:ie,pLinear:ee,xSampling:X,ySampling:he})}return te.value+=1,P}function dt(M,G){const te=le(M,G),ge=le(M,G),Le=le(M,G),P=le(M,G),W=le(M,G),ie=le(M,G),ee=le(M,G),X=le(M,G);return{redX:te,redY:ge,greenX:Le,greenY:P,blueX:W,blueY:ie,whiteX:ee,whiteY:X}}function Mt(M,G){const te=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ge=At(M,G);return te[ge]}function Ut(M,G){const te=Ie(M,G),ge=Ie(M,G),Le=Ie(M,G),P=Ie(M,G);return{xMin:te,yMin:ge,xMax:Le,yMax:P}}function us(M,G){const te=["INCREASING_Y","DECREASING_Y","RANDOM_Y"],ge=At(M,G);return te[ge]}function at(M,G){const te=["ENVMAP_LATLONG","ENVMAP_CUBE"],ge=At(M,G);return te[ge]}function gt(M,G){const te=["ONE_LEVEL","MIPMAP_LEVELS","RIPMAP_LEVELS"],ge=["ROUND_DOWN","ROUND_UP"],Le=ct(M,G),P=ct(M,G),W=At(M,G);return{xSize:Le,ySize:P,levelMode:te[W&15],roundingMode:ge[W>>4]}}function zt(M,G){const te=le(M,G),ge=le(M,G);return[te,ge]}function jt(M,G){const te=le(M,G),ge=le(M,G),Le=le(M,G);return[te,ge,Le]}function Hn(M,G,te,ge,Le){if(ge==="string"||ge==="stringvector"||ge==="iccProfile")return _e(G,te,Le);if(ge==="chlist")return tt(M,G,te,Le);if(ge==="chromaticities")return dt(M,te);if(ge==="compression")return Mt(M,te);if(ge==="box2i")return Ut(M,te);if(ge==="envmap")return at(M,te);if(ge==="tiledesc")return gt(M,te);if(ge==="lineOrder")return us(M,te);if(ge==="float")return le(M,te);if(ge==="v2f")return zt(M,te);if(ge==="v3f")return jt(M,te);if(ge==="int")return Ie(M,te);if(ge==="rational")return Fe(M,te);if(ge==="timecode")return Ue(M,te);if(ge==="preview")return te.value+=Le,"skipped";te.value+=Le}function to(M,G){const te=Math.log2(M);return G=="ROUND_DOWN"?Math.floor(te):Math.ceil(te)}function Uo(M,G,te){let ge=0;switch(M.levelMode){case"ONE_LEVEL":ge=1;break;case"MIPMAP_LEVELS":ge=to(Math.max(G,te),M.roundingMode)+1;break;case"RIPMAP_LEVELS":throw new Error("THREE.EXRLoader: RIPMAP_LEVELS tiles currently unsupported.")}return ge}function ni(M,G,te,ge){const Le=new Array(M);for(let P=0;P<M;P++){const W=1<<P;let ie=G/W|0;ge=="ROUND_UP"&&ie*W<G&&(ie+=1);const ee=Math.max(ie,1);Le[P]=(ee+te-1)/te|0}return Le}function so(){const M=this,G=M.offset,te={value:0};for(let ge=0;ge<M.tileCount;ge++){const Le=Ie(M.viewer,G),P=Ie(M.viewer,G);G.value+=8,M.size=ct(M.viewer,G);const W=Le*M.blockWidth,ie=P*M.blockHeight;M.columns=W+M.blockWidth>M.width?M.width-W:M.blockWidth,M.lines=ie+M.blockHeight>M.height?M.height-ie:M.blockHeight;const ee=M.columns*M.totalBytes,he=M.size<M.lines*ee?M.uncompress(M):Ft(M);G.value+=M.size;for(let Ce=0;Ce<M.lines;Ce++){const Pe=Ce*M.columns*M.totalBytes;for(let Ne=0;Ne<M.inputChannels.length;Ne++){const je=Ni.channels[Ne].name,He=M.channelByteOffsets[je]*M.columns,ze=M.decodeChannels[je];if(ze===void 0)continue;te.value=Pe+He;const Q=(M.height-(1+ie+Ce))*M.outLineWidth;for(let F=0;F<M.columns;F++){const Z=Q+(F+W)*M.outputChannels+ze;M.byteArray[Z]=M.getter(he,te)}}}}}function no(){const M=this,G=M.offset,te={value:0};for(let ge=0;ge<M.height/M.blockHeight;ge++){const Le=Ie(M.viewer,G)-Ni.dataWindow.yMin;M.size=ct(M.viewer,G),M.lines=Le+M.blockHeight>M.height?M.height-Le:M.blockHeight;const P=M.columns*M.totalBytes,ie=M.size<M.lines*P?M.uncompress(M):Ft(M);G.value+=M.size;for(let ee=0;ee<M.blockHeight;ee++){const X=ge*M.blockHeight,he=ee+M.scanOrder(X);if(he>=M.height)continue;const Ce=ee*P,Pe=(M.height-1-he)*M.outLineWidth;for(let Ne=0;Ne<M.inputChannels.length;Ne++){const je=Ni.channels[Ne].name,He=M.channelByteOffsets[je]*M.columns,ze=M.decodeChannels[je];if(ze!==void 0){te.value=Ce+He;for(let Q=0;Q<M.columns;Q++){const F=Pe+Q*M.outputChannels+ze;M.byteArray[F]=M.getter(ie,te)}}}}}}function lc(M,G,te){const ge={};if(M.getUint32(0,!0)!=20000630)throw new Error("THREE.EXRLoader: Provided file doesn't appear to be in OpenEXR format.");ge.version=M.getUint8(4);const Le=M.getUint8(5);ge.spec={singleTile:!!(Le&2),longName:!!(Le&4),deepFormat:!!(Le&8),multiPart:!!(Le&16)},te.value=8;let P=!0;for(;P;){const W=k(G,te);if(W==="")P=!1;else{const ie=k(G,te),ee=ct(M,te),X=Hn(M,G,te,ie,ee);X===void 0?console.warn(`THREE.EXRLoader: Skipped unknown header attribute type '${ie}'.`):ge[W]=X}}if((Le&-7)!=0)throw console.error("THREE.EXRHeader:",ge),new Error("THREE.EXRLoader: Provided file is currently unsupported.");return ge}function Oo(M,G,te,ge,Le){const P={size:0,viewer:G,array:te,offset:ge,width:M.dataWindow.xMax-M.dataWindow.xMin+1,height:M.dataWindow.yMax-M.dataWindow.yMin+1,inputChannels:M.channels,channelByteOffsets:{},scanOrder:null,totalBytes:null,columns:null,lines:null,type:null,uncompress:null,getter:null,format:null,colorSpace:rn};switch(M.compression){case"NO_COMPRESSION":P.blockHeight=1,P.uncompress=Ft;break;case"RLE_COMPRESSION":P.blockHeight=1,P.uncompress=St;break;case"ZIPS_COMPRESSION":P.blockHeight=1,P.uncompress=os;break;case"ZIP_COMPRESSION":P.blockHeight=16,P.uncompress=os;break;case"PIZ_COMPRESSION":P.blockHeight=32,P.uncompress=ds;break;case"PXR24_COMPRESSION":P.blockHeight=16,P.uncompress=ms;break;case"DWAA_COMPRESSION":P.blockHeight=32,P.uncompress=J;break;case"DWAB_COMPRESSION":P.blockHeight=256,P.uncompress=J;break;default:throw new Error("EXRLoader.parse: "+M.compression+" is unsupported")}const W={};for(const he of M.channels)switch(he.name){case"Y":case"R":case"G":case"B":case"A":W[he.name]=!0,P.type=he.pixelType}let ie=!1;if(W.R&&W.G&&W.B)ie=!W.A,P.outputChannels=4,P.decodeChannels={R:0,G:1,B:2,A:3};else if(W.Y)P.outputChannels=1,P.decodeChannels={Y:0};else throw new Error("EXRLoader.parse: file contains unsupported data channels.");if(P.type==1)switch(Le){case Qs:P.getter=Ve;break;case cn:P.getter=Te;break}else if(P.type==2)switch(Le){case Qs:P.getter=le;break;case cn:P.getter=K}else throw new Error("EXRLoader.parse: unsupported pixelType "+P.type+" for "+M.compression+".");P.columns=P.width;const ee=P.width*P.height*P.outputChannels;switch(Le){case Qs:P.byteArray=new Float32Array(ee),ie&&P.byteArray.fill(1,0,ee);break;case cn:P.byteArray=new Uint16Array(ee),ie&&P.byteArray.fill(15360,0,ee);break;default:console.error("THREE.EXRLoader: unsupported type: ",Le);break}let X=0;for(const he of M.channels)P.decodeChannels[he.name]!==void 0&&(P.channelByteOffsets[he.name]=X),X+=he.pixelType*2;if(P.totalBytes=X,P.outLineWidth=P.width*P.outputChannels,M.lineOrder==="INCREASING_Y"?P.scanOrder=he=>he:P.scanOrder=he=>P.height-1-he,P.outputChannels==4?(P.format=Zs,P.colorSpace=rn):(P.format=Jr,P.colorSpace=Hi),M.spec.singleTile){P.blockHeight=M.tiles.ySize,P.blockWidth=M.tiles.xSize;const he=Uo(M.tiles,P.width,P.height),Ce=ni(he,P.width,M.tiles.xSize,M.tiles.roundingMode),Pe=ni(he,P.height,M.tiles.ySize,M.tiles.roundingMode);P.tileCount=Ce[0]*Pe[0];for(let Ne=0;Ne<he;Ne++)for(let je=0;je<Pe[Ne];je++)for(let He=0;He<Ce[Ne];He++)_t(G,ge);P.decode=so.bind(P)}else{P.blockWidth=P.width;const he=Math.ceil(P.height/P.blockHeight);for(let Ce=0;Ce<he;Ce++)_t(G,ge);P.decode=no.bind(P)}return P}const Wa={value:0},io=new DataView(e),cc=new Uint8Array(e),Ni=lc(io,e,Wa),Sr=Oo(Ni,io,cc,Wa,this.type);return Sr.decode(),{header:Ni,width:Sr.width,height:Sr.height,data:Sr.byteArray,format:Sr.format,colorSpace:Sr.colorSpace,type:this.type}}setDataType(e){return this.type=e,this}load(e,t,s,i){function r(o,a){o.colorSpace=a.colorSpace,o.minFilter=Ot,o.magFilter=Ot,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,r,s,i)}}class W4 extends b_{constructor(e){super(e),this.type=cn}parse(e){const o=function(N,C){switch(N){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(C||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(C||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(C||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(C||""))}},u=function(N,C,B){C=C||1024;let T=N.pos,D=-1,L=0,z="",V=String.fromCharCode.apply(null,new Uint16Array(N.subarray(T,T+128)));for(;0>(D=V.indexOf(`
`))&&L<C&&T<N.byteLength;)z+=V,L+=V.length,T+=128,V+=String.fromCharCode.apply(null,new Uint16Array(N.subarray(T,T+128)));return-1<D?(N.pos+=L+D+1,z+V.slice(0,D)):!1},h=function(N){const C=/^#\?(\S+)/,B=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,S=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,T=/^\s*FORMAT=(\S+)\s*$/,D=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,L={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let z,V;for((N.pos>=N.byteLength||!(z=u(N)))&&o(1,"no header found"),(V=z.match(C))||o(3,"bad initial token"),L.valid|=1,L.programtype=V[1],L.string+=z+`
`;z=u(N),z!==!1;){if(L.string+=z+`
`,z.charAt(0)==="#"){L.comments+=z+`
`;continue}if((V=z.match(B))&&(L.gamma=parseFloat(V[1])),(V=z.match(S))&&(L.exposure=parseFloat(V[1])),(V=z.match(T))&&(L.valid|=2,L.format=V[1]),(V=z.match(D))&&(L.valid|=4,L.height=parseInt(V[1],10),L.width=parseInt(V[2],10)),L.valid&2&&L.valid&4)break}return L.valid&2||o(3,"missing format specifier"),L.valid&4||o(3,"missing image size specifier"),L},f=function(N,C,B){const S=C;if(S<8||S>32767||N[0]!==2||N[1]!==2||N[2]&128)return new Uint8Array(N);S!==(N[2]<<8|N[3])&&o(3,"wrong scanline width");const T=new Uint8Array(4*C*B);T.length||o(4,"unable to allocate buffer space");let D=0,L=0;const z=4*S,V=new Uint8Array(4),se=new Uint8Array(z);let q=B;for(;q>0&&L<N.byteLength;){L+4>N.byteLength&&o(1),V[0]=N[L++],V[1]=N[L++],V[2]=N[L++],V[3]=N[L++],(V[0]!=2||V[1]!=2||(V[2]<<8|V[3])!=S)&&o(3,"bad rgbe scanline format");let Ae=0,pe;for(;Ae<z&&L<N.byteLength;){pe=N[L++];const Me=pe>128;if(Me&&(pe-=128),(pe===0||Ae+pe>z)&&o(3,"bad scanline data"),Me){const We=N[L++];for(let ce=0;ce<pe;ce++)se[Ae++]=We}else se.set(N.subarray(L,L+pe),Ae),Ae+=pe,L+=pe}const Ye=S;for(let Me=0;Me<Ye;Me++){let We=0;T[D]=se[Me+We],We+=S,T[D+1]=se[Me+We],We+=S,T[D+2]=se[Me+We],We+=S,T[D+3]=se[Me+We],D+=4}q--}return T},A=function(N,C,B,S){const T=N[C+3],D=Math.pow(2,T-128)/255;B[S+0]=N[C+0]*D,B[S+1]=N[C+1]*D,B[S+2]=N[C+2]*D,B[S+3]=1},p=function(N,C,B,S){const T=N[C+3],D=Math.pow(2,T-128)/255;B[S+0]=yl.toHalfFloat(Math.min(N[C+0]*D,65504)),B[S+1]=yl.toHalfFloat(Math.min(N[C+1]*D,65504)),B[S+2]=yl.toHalfFloat(Math.min(N[C+2]*D,65504)),B[S+3]=yl.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const m=h(g),y=m.width,_=m.height,I=f(g.subarray(g.pos),y,_);let v,E,b;switch(this.type){case Qs:b=I.length/4;const N=new Float32Array(b*4);for(let B=0;B<b;B++)A(I,B*4,N,B*4);v=N,E=Qs;break;case cn:b=I.length/4;const C=new Uint16Array(b*4);for(let B=0;B<b;B++)p(I,B*4,C,B*4);v=C,E=cn;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:y,height:_,data:v,header:m.string,gamma:m.gamma,exposure:m.exposure,type:E}}setDataType(e){return this.type=e,this}load(e,t,s,i){function r(o,a){switch(o.type){case Qs:case cn:o.colorSpace=rn,o.minFilter=Ot,o.magFilter=Ot,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,r,s,i)}}class a0{static init(e){this.rgbeLoader=new W4(e),this.exrLoader=new q4(e)}static async loadHDRTexture(e){const t=e.toLowerCase(),s=t.endsWith(".exr"),i=t.endsWith(".hdr");if(!s&&!i)return Promise.reject(new Error(`Unsupported HDR texture extension in url: ${e}`));if(Bt.hasPromise(e))return Bt.getPromise(e);const r=new Promise((o,a)=>{if(Bt.hasAsset(e)){o(Bt.getAsset(e)),Bt.deletePromise(e);return}const l=d=>{d.mapping=Fl,Bt.setAsset(e,d),o(d),Bt.deletePromise(e)},c=d=>{a(d),Bt.deletePromise(e)};s?this.exrLoader.load(e,l,void 0,c):this.rgbeLoader.load(e,l,void 0,c)});return Bt.setPromise(e,r),r}}class Jf{static init(e){this.textureLoader=new nr(e)}static async loadTexture(e){const t=Bt.resolveUrl(e);if(Bt.hasPromise(t))return Bt.getPromise(t);const s=new Promise((i,r)=>{Bt.hasAsset(t)?(i(Bt.getAsset(t)),Bt.deletePromise(t)):this.textureLoader.load(t,o=>{Bt.setAsset(t,o),i(o),Bt.deletePromise(t)},void 0,o=>{r(o),Bt.deletePromise(t)})});return Bt.setPromise(t,s),s}static getTexture(e){return Bt.getAssetByKey(e)||null}}var _l;(function(n){n.GLTF="gltf",n.Audio="audio",n.Texture="texture",n.HDRTexture="hdr-texture"})(_l||(_l={}));class Ji{static init(e,t,s={}){this.world=t,this.loadingManager=new C_,Wf.init(this.loadingManager),Xf.init(this.loadingManager,e,s),Jf.init(this.loadingManager),a0.init(this.loadingManager)}static async preloadAssets(e){const t=Object.entries(e).filter(([r,o])=>o.priority!=="background"),s=Object.entries(e).filter(([r,o])=>o.priority==="background"),i=t.map(([r,o])=>(Bt.setKeyToUrl(r,o.url),this.loadAssetByType(o.url,o.type,r)));await Promise.all(i),s.forEach(([r,o])=>{Bt.setKeyToUrl(r,o.url),this.loadAssetByType(o.url,o.type,r).catch(a=>console.warn(`Background asset failed: ${r}`,a))})}static async loadAssetByType(e,t,s){switch(t){case _l.GLTF:return Xf.loadGLTF(e,s);case _l.Audio:return Wf.loadAudio(e);case _l.Texture:return Jf.loadTexture(e);case _l.HDRTexture:return a0.loadHDRTexture(e);default:throw new Error(`Unsupported asset type: ${t}`)}}static loadGLTF(e,t){return Xf.loadGLTF(e,t)}static getAsset(e){return Bt.getAssetByKey(e)}static async loadAudio(e,t){return t?Bt.setKeyToUrl(t,e):Bt.setKeyToUrl(e,e),Wf.loadAudio(e)}static getAudio(e){return Wf.getAudio(e)}static async loadTexture(e,t){return t?Bt.setKeyToUrl(t,e):Bt.setKeyToUrl(e,e),Jf.loadTexture(e)}static getTexture(e){return Jf.getTexture(e)}static async loadHDRTexture(e,t){return t?Bt.setKeyToUrl(t,e):Bt.setKeyToUrl(e,e),a0.loadHDRTexture(e)}static getGLTF(e){return Xf.getGLTF(e)}}const Il={Restart:"restart",Overlap:"overlap",Ignore:"ignore",FadeRestart:"fade-restart"},bd={Oldest:"oldest",Quietest:"quietest",Furthest:"furthest"},ay={Linear:"linear",Inverse:"inverse",Exponential:"exponential"},ft=Es("AudioSource",{src:{type:de.String,default:""},volume:{type:de.Float32,default:1},loop:{type:de.Boolean,default:!1},autoplay:{type:de.Boolean,default:!1},positional:{type:de.Boolean,default:!0},refDistance:{type:de.Float32,default:1},rolloffFactor:{type:de.Float32,default:1},maxDistance:{type:de.Float32,default:1e4},distanceModel:{type:de.Enum,enum:ay,default:ay.Inverse},coneInnerAngle:{type:de.Float32,default:360},coneOuterAngle:{type:de.Float32,default:360},coneOuterGain:{type:de.Float32,default:0},playbackMode:{type:de.Enum,enum:Il,default:Il.Restart},maxInstances:{type:de.Int8,default:1},crossfadeDuration:{type:de.Float32,default:.1},instanceStealPolicy:{type:de.Enum,enum:bd,default:bd.Oldest},_playRequested:{type:de.Boolean,default:!1},_pauseRequested:{type:de.Boolean,default:!1},_stopRequested:{type:de.Boolean,default:!1},_fadeIn:{type:de.Float32,default:0},_fadeOut:{type:de.Float32,default:0},_pool:{type:de.Object,default:void 0},_instances:{type:de.Object,default:void 0},_isPlaying:{type:de.Boolean,default:!1},_buffer:{type:de.Object,default:void 0},_loaded:{type:de.Boolean,default:!1},_loading:{type:de.Boolean,default:!1}},"AudioSource playback component for positional and non-positional sounds");class ly{constructor(e,t,s,i){this.available=[],this.allInstances=[],this.container=new Tt,i.add(this.container);for(let r=0;r<t;r++){const o=s?new T_(e):new M_(e);this.container.add(o),this.available.push(o),this.allInstances.push(o)}}acquire(){return this.available.length===0?null:this.available.pop()}release(e){e.isPlaying&&e.stop(),e.setVolume(1),this.available.includes(e)||this.available.push(e)}releaseAll(){for(const e of this.allInstances)e.isPlaying&&e.stop(),e.setVolume(1);this.available=[...this.allInstances]}dispose(){for(const e of this.allInstances)e.isPlaying&&e.stop(),e.disconnect();this.container.removeFromParent(),this.container.clear(),this.available=[],this.allInstances=[]}getActiveCount(){return this.allInstances.length-this.available.length}getTotalCount(){return this.allInstances.length}getAllInstances(){return this.allInstances}}let r2=class extends Ss({audioEntities:{required:[ft]}},{enableDistanceCulling:{type:de.Boolean,default:!0},cullingDistanceMultiplier:{type:de.Float32,default:1.5}}){constructor(){super(...arguments),this.activeInstances=new Map,this.onXRSessionStart=()=>{const e=this.listener.context;e.state==="suspended"&&e.resume();for(const[,t]of this.activeInstances)t.forEach(s=>{s.pausedBySessionEnd&&(s.audio.play(),s.pausedBySessionEnd=!1)})},this.onXRSessionEnd=()=>{for(const[,t]of this.activeInstances)t.forEach(s=>{s.audio.isPlaying&&(s.audio.pause(),s.pausedBySessionEnd=!0)});const e=this.listener.context;e.state==="running"&&e.suspend()}}init(){this.listener=new tN,this.player.head.add(this.listener),this.renderer.xr.addEventListener("sessionstart",this.onXRSessionStart),this.renderer.xr.addEventListener("sessionend",this.onXRSessionEnd),this.queries.audioEntities.subscribe("disqualify",e=>{this.cleanupEntity(e)})}update(e,t){const s=t,i=this.queries.audioEntities.entities;i.size!==0&&i.forEach(r=>{const o=r.index;if(!ft.data._loaded[o]&&!ft.data._loading[o]){const a=ft.data.src[o];a&&this.loadAudio(r,a);return}ft.data._loaded[o]&&(ft.data._pool[o]||this.createPool(r),this.handlePlaybackRequests(r,s),this.updateActiveInstances(r,s),ft.data.autoplay[o]&&!ft.data._isPlaying[o]&&ft.data._playRequested[o]===0&&(ft.data._playRequested[o]=1,ft.data.autoplay[o]=0))})}async loadAudio(e,t){const s=e.index;ft.data._loading[s]=1;try{let i=Ji.getAudio(t);i||(i=await Ji.loadAudio(t)),ft.data._buffer[s]=i,ft.data._loaded[s]=1}catch(i){console.error(`Failed to load audio: ${t}`,i)}finally{ft.data._loading[s]=0}}createPool(e){const t=e.index,s=ft.data.maxInstances[t],i=ft.data.positional[t],r=e.object3D||this.scene,o=s,a=i===1?new ly(this.listener,o,!0,r):new ly(this.listener,o,!1,r);ft.data._pool[t]=a,i&&a.getAllInstances().forEach(d=>{d.setRefDistance(ft.data.refDistance[t]),d.setRolloffFactor(ft.data.rolloffFactor[t]),d.setMaxDistance(ft.data.maxDistance[t]),d.setDistanceModel(ft.data.distanceModel[t]),d.setDirectionalCone(ft.data.coneInnerAngle[t],ft.data.coneOuterAngle[t],ft.data.coneOuterGain[t])})}handlePlaybackRequests(e,t){const s=e.index;if(ft.data._stopRequested[s]){this.stopAllInstances(e),ft.data._stopRequested[s]=0,ft.data._playRequested[s]=0,ft.data._pauseRequested[s]=0;return}if(ft.data._pauseRequested[s]){const i=ft.data._fadeOut[s];this.pauseAllInstances(e,i,t),ft.data._pauseRequested[s]=0;return}if(ft.data._playRequested[s]&&ft.data._loaded[s]){const i=ft.data.playbackMode[s],r=ft.data._fadeIn[s];switch(i){case Il.Restart:this.playRestart(e,r,t);break;case Il.Overlap:this.playOverlap(e,r,t);break;case Il.Ignore:this.playIgnore(e,r,t);break;case Il.FadeRestart:this.playFadeRestart(e,t);break}ft.data._playRequested[s]=0}}playRestart(e,t,s){this.stopAllInstances(e),this.createAndPlayInstance(e,t,s)}playOverlap(e,t,s){const i=e.index,r=this.activeInstances.get(e)||[],o=ft.data.maxInstances[i];if(r.length<o)this.createAndPlayInstance(e,t,s);else{const a=ft.data.instanceStealPolicy[i];this.stealInstance(e,r,a,s),this.createAndPlayInstance(e,t,s)}}playIgnore(e,t,s){(this.activeInstances.get(e)||[]).length===0&&this.createAndPlayInstance(e,t,s)}playFadeRestart(e,t){const s=e.index,i=ft.data.crossfadeDuration[s];(this.activeInstances.get(e)||[]).forEach(o=>{o.isFadingOut=!0,o.fadeStartTime=t,o.fadeStartVolume=o.audio.getVolume(),o.fadeDuration=i}),this.createAndPlayInstance(e,i,t)}createAndPlayInstance(e,t,s){const i=e.index,r=ft.data._pool[i],o=ft.data._buffer[i];if(!r||!o)return;const a=r.acquire();if(!a)return;a.setBuffer(o);const l=ft.data.loop[i]===1;a.setLoop(l),a.setVolume(t>0?0:ft.data.volume[i]);const c={audio:a,startTime:s};t>0&&(c.isFadingIn=!0,c.fadeStartTime=c.startTime,c.fadeStartVolume=0,c.fadeDuration=t);const d=this.activeInstances.get(e)||[];d.push(c),this.activeInstances.set(e,d),a.play(),ft.data._isPlaying[i]=1,a.source?a.source.onended=()=>{this.onInstanceEnded(e,c)}:setTimeout(()=>{a.source&&(a.source.onended=()=>{this.onInstanceEnded(e,c)})},10)}updateActiveInstances(e,t){const s=this.activeInstances.get(e);if(!s||s.length===0)return;const i=e.index,r=t,o=ft.data.volume[i];for(let a=s.length-1;a>=0;a--){const l=s[a];if(l.isFadingIn&&l.fadeStartTime&&l.fadeDuration){const c=(r-l.fadeStartTime)/l.fadeDuration;if(c>=1)l.audio.setVolume(o),l.isFadingIn=!1;else{const d=o*c;l.audio.setVolume(d)}}if(l.isFadingOut&&l.fadeStartTime&&l.fadeDuration){const c=(r-l.fadeStartTime)/l.fadeDuration;if(c>=1)this.releaseInstance(e,l,a);else{const u=(l.fadeStartVolume||o)*(1-c);l.audio.setVolume(u)}}if(!l.isFadingIn&&!l.isFadingOut){const c=l.audio.getVolume();Math.abs(c-o)>.01&&l.audio.setVolume(o)}ft.data.positional[i]&&l.audio instanceof T_&&(l.audio.getRefDistance()!==ft.data.refDistance[i]&&l.audio.setRefDistance(ft.data.refDistance[i]),l.audio.setRolloffFactor(ft.data.rolloffFactor[i]),l.audio.setMaxDistance(ft.data.maxDistance[i]))}ft.data._isPlaying[i]=s.length>0?1:0}onInstanceEnded(e,t){const s=this.activeInstances.get(e);if(!s)return;const i=s.indexOf(t);i!==-1&&this.releaseInstance(e,t,i)}releaseInstance(e,t,s){const i=e.index,r=ft.data._pool[i],o=this.activeInstances.get(e);r.release(t.audio),o.splice(s,1),o.length===0&&(this.activeInstances.delete(e),ft.data._isPlaying[i]=0)}stopAllInstances(e){const t=this.activeInstances.get(e);if(!t)return;const s=e.index,i=ft.data._pool[s];t.forEach(r=>{i.release(r.audio)}),this.activeInstances.delete(e),ft.data._isPlaying[s]=0}pauseAllInstances(e,t,s){const i=this.activeInstances.get(e);i&&(t>0?i.forEach(r=>{r.isFadingOut=!0,r.fadeStartTime=s,r.fadeStartVolume=r.audio.getVolume(),r.fadeDuration=t}):i.forEach(r=>{r.audio.pause()}))}stealInstance(e,t,s,i){if(t.length===0)return;let r;switch(s){case bd.Oldest:r=t[0];break;case bd.Quietest:r=t.reduce((l,c)=>c.audio.getVolume()<l.audio.getVolume()?c:l);break;case bd.Furthest:const a=this.player.head.position;r=t.reduce((l,c)=>{const d=l.audio.position?a.distanceTo(l.audio.position):0;return(c.audio.position?a.distanceTo(c.audio.position):0)>d?c:l});break;default:r=t[0]}const o=t.indexOf(r);this.releaseInstance(e,r,o)}cleanupEntity(e){const t=this.activeInstances.get(e);if(!t)return;const s=e.index,i=ft.data._pool[s];i&&(t.forEach(r=>{i.release(r.audio)}),i.dispose()),this.activeInstances.delete(e)}destroy(){for(const[e]of this.activeInstances)this.cleanupEntity(e);this.renderer.xr.removeEventListener("sessionstart",this.onXRSessionStart),this.renderer.xr.removeEventListener("sessionend",this.onXRSessionEnd)}};const La={Back:"back",Front:"front",Unknown:"unknown"},Jn={Inactive:"inactive",Starting:"starting",Active:"active",Error:"error"},Vt=Es("CameraSource",{deviceId:{type:de.String,default:""},facing:{type:de.Enum,enum:La,default:La.Unknown},width:{type:de.Int16,default:1920},height:{type:de.Int16,default:1080},frameRate:{type:de.Int16,default:30},state:{type:de.Enum,enum:Jn,default:Jn.Inactive},texture:{type:de.Object,default:null},videoElement:{type:de.Object,default:null},stream:{type:de.Object,default:null}},"Camera video source with texture output");class jl{static async getDevices(e=!1){if(this.cachedDevices&&!e)return this.cachedDevices;try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(r=>r.stop());const i=(await navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="videoinput");return this.cachedDevices=i.map(r=>{const o=r.label.toLowerCase();let a=La.Unknown;return o.includes("back")||o.includes("environment")||o.includes("rear")?a=La.Back:(o.includes("front")||o.includes("user")||o.includes("face"))&&(a=La.Front),{deviceId:r.deviceId,label:r.label,facing:a}}),this.cachedDevices}catch(t){throw console.error("Failed to enumerate camera devices:",t),t}}static findByFacing(e,t){return e.find(s=>s.facing===t)||null}static async hasPermission(){try{return(await navigator.permissions.query({name:"camera"})).state==="granted"}catch{return!1}}static captureFrame(e){const t=e.getValue(Vt,"videoElement");if(!t||t.videoWidth===0||t.videoHeight===0)return null;const s=document.createElement("canvas");s.width=t.videoWidth,s.height=t.videoHeight;const i=s.getContext("2d",{colorSpace:"srgb"});return i?(i.drawImage(t,0,0),s):null}}jl.cachedDevices=null;class o2 extends Ss({cameras:{required:[Vt]}}){init(){this.world.visibilityState.subscribe(e=>{if(e!==Do.Visible)for(const t of this.queries.cameras.entities)this.stopCamera(t)})}update(){if(this.world.visibilityState.value===Do.Visible)for(const t of this.queries.cameras.entities){const s=t.getValue(Vt,"state");(s===Jn.Inactive||s===Jn.Error)&&this.startCamera(t)}}async startCamera(e){e.setValue(Vt,"state",Jn.Starting);try{let t=e.getValue(Vt,"deviceId");if(!t){const h=await jl.getDevices();if(e.getValue(Vt,"state")!==Jn.Starting)return;const A=e.getValue(Vt,"facing");if(A===La.Unknown)if(h.length>0)t=h[0].deviceId,e.setValue(Vt,"deviceId",t);else{console.error("No cameras available"),e.setValue(Vt,"state",Jn.Error);return}else{const p=jl.findByFacing(h,A);if(p)t=p.deviceId,e.setValue(Vt,"deviceId",t);else{const g=A===La.Back?"back":"front";console.error(`No ${g}-facing camera available (found ${h.length} camera(s))`),e.setValue(Vt,"state",Jn.Error);return}}}const s=e.getValue(Vt,"width"),i=e.getValue(Vt,"height"),r=e.getValue(Vt,"frameRate"),o=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:t},width:{ideal:s},height:{ideal:i},frameRate:{ideal:r}}});if(e.getValue(Vt,"state")!==Jn.Starting){this.cleanupCameraResources(o,null,null);return}const l=document.createElement("video");if(l.setAttribute("playsinline",""),l.setAttribute("autoplay",""),l.muted=!0,l.srcObject=o,await new Promise((h,f)=>{const A=()=>{l.removeEventListener("canplay",A),l.removeEventListener("error",p),h()},p=g=>{l.removeEventListener("canplay",A),l.removeEventListener("error",p),f(g)};l.addEventListener("canplay",A),l.addEventListener("error",p)}),e.getValue(Vt,"state")!==Jn.Starting){this.cleanupCameraResources(o,l,null);return}await l.play();const d=new h_(l);if(d.minFilter=Ot,d.magFilter=Ot,e.getValue(Vt,"state")!==Jn.Starting){this.cleanupCameraResources(o,l,d);return}e.setValue(Vt,"stream",o),e.setValue(Vt,"videoElement",l),e.setValue(Vt,"texture",d),e.setValue(Vt,"state",Jn.Active)}catch(t){console.error("Failed to start camera:",t);const s=e.getValue(Vt,"stream"),i=e.getValue(Vt,"videoElement"),r=e.getValue(Vt,"texture");this.cleanupCameraResources(s,i,r),e.setValue(Vt,"stream",null),e.setValue(Vt,"videoElement",null),e.setValue(Vt,"texture",null),e.setValue(Vt,"state",Jn.Error)}}stopCamera(e){const t=e.getValue(Vt,"stream"),s=e.getValue(Vt,"videoElement"),i=e.getValue(Vt,"texture");this.cleanupCameraResources(t,s,i),e.setValue(Vt,"stream",null),e.setValue(Vt,"videoElement",null),e.setValue(Vt,"texture",null),e.setValue(Vt,"state",Jn.Inactive)}cleanupCameraResources(e,t,s){e&&e.getTracks().forEach(i=>i.stop()),t&&(t.pause(),t.srcObject=null),s&&s.dispose()}}const Li=Es("DomeTexture",{src:{type:de.String,default:""},blurriness:{type:de.Float32,default:0},intensity:{type:de.Float32,default:1},rotation:{type:de.Vec3,default:[0,0,0]},_needsUpdate:{type:de.Boolean,default:!0}},"Background dome using a single equirectangular texture"),pn=Es("DomeGradient",{sky:{type:de.Color,default:[.2423,.6172,.8308,1]},equator:{type:de.Color,default:[.6584,.7084,.7913,1]},ground:{type:de.Color,default:[.807,.7758,.7454,1]},intensity:{type:de.Float32,default:1},_needsUpdate:{type:de.Boolean,default:!0}},"Background dome using a gradient"),gr=Es("IBLTexture",{src:{type:de.String,default:"room"},intensity:{type:de.Float32,default:1},rotation:{type:de.Vec3,default:[0,0,0]},_needsUpdate:{type:de.Boolean,default:!0}},"Imagebased lighting from texture or Room environment"),Oi=Es("IBLGradient",{sky:{type:de.Color,default:[.6902,.749,.7843,1]},equator:{type:de.Color,default:[.6584,.7084,.7913,1]},ground:{type:de.Color,default:[.807,.7758,.7454,1]},intensity:{type:de.Float32,default:1},_needsUpdate:{type:de.Boolean,default:!0}},"IBL from a gradient scene");class X4 extends _g{constructor(){super();const e=new ei;e.deleteAttribute("uv");const t=new Wl({side:Ls}),s=new Wl,i=new B_(16777215,900,28,2);i.position.set(.418,16.199,.3),this.add(i);const r=new it(e,t);r.position.set(-.757,13.219,.717),r.scale.set(31.713,28.305,28.591),this.add(r);const o=new Gl(e,s,6),a=new is;a.position.set(-10.906,2.009,1.846),a.rotation.set(0,-.195,0),a.scale.set(2.328,7.905,4.651),a.updateMatrix(),o.setMatrixAt(0,a.matrix),a.position.set(-5.607,-.754,-.758),a.rotation.set(0,.994,0),a.scale.set(1.97,1.534,3.955),a.updateMatrix(),o.setMatrixAt(1,a.matrix),a.position.set(6.167,.857,7.803),a.rotation.set(0,.561,0),a.scale.set(3.927,6.285,3.687),a.updateMatrix(),o.setMatrixAt(2,a.matrix),a.position.set(-2.017,.018,6.124),a.rotation.set(0,.333,0),a.scale.set(2.002,4.566,2.064),a.updateMatrix(),o.setMatrixAt(3,a.matrix),a.position.set(2.291,-.756,-2.621),a.rotation.set(0,-.286,0),a.scale.set(1.546,1.552,1.496),a.updateMatrix(),o.setMatrixAt(4,a.matrix),a.position.set(-2.193,-.369,-5.547),a.rotation.set(0,.516,0),a.scale.set(3.875,3.487,2.986),a.updateMatrix(),o.setMatrixAt(5,a.matrix),this.add(o);const l=new it(e,Pc(50));l.position.set(-16.116,14.37,8.208),l.scale.set(.1,2.428,2.739),this.add(l);const c=new it(e,Pc(50));c.position.set(-16.109,18.021,-8.207),c.scale.set(.1,2.425,2.751),this.add(c);const d=new it(e,Pc(17));d.position.set(14.904,12.198,-1.832),d.scale.set(.15,4.265,6.331),this.add(d);const u=new it(e,Pc(43));u.position.set(-.462,8.89,14.52),u.scale.set(4.38,5.441,.088),this.add(u);const h=new it(e,Pc(20));h.position.set(3.235,11.486,-12.541),h.scale.set(2.5,2,.1),this.add(h);const f=new it(e,Pc(100));f.position.set(0,20,0),f.scale.set(1,.1,1),this.add(f)}dispose(){const e=new Set;this.traverse(t=>{t.isMesh&&(e.add(t.geometry),e.add(t.material))});for(const t of e)t.dispose()}}function Pc(n){const e=new Nt;return e.color.setScalar(n),e}class Y4 extends Bi{constructor(e){super(e),this.gltfLoader=new Fh(e)}load(e,t,s,i){const r=this;this.manager.itemStart(e);const o=new $i(this.manager);o.setPath(this.path),o.setResponseType("text"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{r.parse(a,Qa.extractUrlBase(e),t,i)}catch(l){i?i(new ErrorEvent("error",{error:l})):console.error(l),r.manager.itemError(e)}},s,i?a=>i(new ErrorEvent("error",{error:a})):void 0)}loadAsync(e,t){return new Promise((s,i)=>{this.load(e,s,t,r=>i(r))})}parse(e,t,s,i){const r=this;try{const o=JSON.parse(e);if(!o.assets||!o.nodes)throw new Error("Invalid GLXF format: missing assets or nodes");const a=o.assets.map(l=>{const c=Qa.resolveURL(l.uri,t);return this.gltfLoader.loadAsync(c).catch(d=>(console.error(`Failed to load GLXF asset ${l.uri}:`,d),{scene:new Tt}))});Promise.all(a).then(l=>{var c;const{nodes:d,scenes:u}=r.createNodesAndScenesFromGLXF(o,l),h=(c=o.scene)!==null&&c!==void 0?c:0,f=u[h]||u[0];s({assets:l,nodes:d,scenes:u,scene:f}),r.manager.itemEnd(t)}).catch(l=>{i?i(l):console.error("Error loading GLXF assets:",l),r.manager.itemError(t)})}catch(o){i?i(o):console.error("Error parsing GLXF:",o),this.manager.itemError(t)}}parseAsync(e,t){return new Promise((s,i)=>{this.parse(e,t,s,i)})}setGLTFLoader(e){return this.gltfLoader=e,this}createNodesAndScenesFromGLXF(e,t){const s=[],i=[],r=new Map;return e.nodes.forEach((o,a)=>{var l;let c;o.asset!==void 0&&t[o.asset]?c=t[o.asset].scene.clone():c=new Tt,c.name=o.name||`node_${a}`,o.translation&&c.position.fromArray(o.translation),o.rotation&&c.quaternion.fromArray(o.rotation),o.scale&&c.scale.fromArray(o.scale),!((l=o.extras)===null||l===void 0)&&l.meta_spatial&&(c.userData.meta_spatial=o.extras.meta_spatial),i.push(c),r.set(a,c)}),e.nodes.forEach((o,a)=>{if(o.children){const l=r.get(a);l&&o.children.forEach(c=>{const d=r.get(c);d&&l.add(d)})}}),e.scenes.forEach((o,a)=>{const l=new Tt;l.name=`scene_${a}`,o.nodes.forEach(c=>{const d=r.get(c);d&&l.add(d)}),s.push(l)}),{nodes:i,scenes:s}}}function J4(n,e,t,s,i){if(!i.value&&!s.value&&e.value.onActiveChange==null)return;const r=({pointerId:o})=>{t.value=t.value.filter(a=>a!=o),!(t.value.length>0)&&e.peek().onActiveChange?.(!1)};wd("onPointerDown",n,({pointerId:o})=>{o!=null&&(t.value=[o,...t.value],t.value.length==1&&e.peek().onActiveChange?.(!0))}),wd("onPointerUp",n,r),wd("onPointerLeave",n,r)}function K4(n,e){e.addEventListener("abort",()=>a2(n))}function j4(n,e,t,s,i){const r=e.value.cursor,o=e.value.onHoverChange;if(!i.value&&!s.value&&o==null&&r==null){t.value.length=0;return}wd("onPointerEnter",n,({pointerId:a})=>{a!=null&&(t.value=[a,...t.value],t.value.length===1&&o?.(!0),r!=null&&Z4(t,r))}),wd("onPointerLeave",n,({pointerId:a})=>{t.value=t.value.filter(l=>l!=a),t.value.length===0&&o?.(!1),a2(t)})}const cy=[],HA=[];function Z4(n,e){cy.push(n),HA.push(e),document.body.style.cursor=e}function a2(n){const e=cy.indexOf(n);e!=-1&&(cy.splice(e,1),HA.splice(e,1),document.body.style.cursor=HA[HA.length-1]??"default")}function qd(n,e,t){return Math.max(e,Math.min(t,n))}function l2(){const n=new Us,e=n.getAttribute("position"),t=new Float32Array(4*e.count),s=[1,0,0,1];for(let i=0;i<t.length;i++)t[i]=s[i%4];return n.setAttribute("tangent",new rs(t,4)),n}function $4(n,e,t){const s=Math.pow(50,e),i=Math.floor(n/s)%50;return n+(t-i)*s}const e5=l2();function t5(n,e,t,s,i){n[e]=$4(n[e],t,i===0?0:qd(Math.ceil((s??0)/i*100),0,49))}const XE=new ps,lr=new w,YE=new Ps,s5=new Je,zp=new Je;function n5(n,e,t,s){return(i,r)=>{if(n.peek().component.updateMatrix(),Zl(n.peek(),zp),YE.copy(e).applyMatrix4(zp),!YE.intersectsSphere(i))return;s.updateMatrixWorld(!0),lr.copy(i.center).applyMatrix4(s5.copy(s.matrixWorld).invert()),lr.x=qd(lr.x,-.5,.5),lr.y=qd(lr.y,-.5,.5),lr.z=0;const o=new Be(lr.x,lr.y);lr.applyMatrix4(s.matrixWorld);const a=i.center.distanceTo(lr);a>i.radius||r.push({distance:a,object:s,point:lr.clone(),uv:o,normal:new w(0,0,1)})}}new Je;function i5(n,e,t,s,i){vt(()=>{const r=s.value,o=t.value;if(r==null||o==null)return;n.center.set(0,0,0);const[a,l]=r,c=Math.sqrt(a*a+l*l);n.radius=c*.5*e.value,n.applyMatrix4(o)},i)}function Vp(n,e,t,s,i){return(r,o)=>{const a=o.length,l=e.call(n,r,o);if(a===o.length)return l;const c=i.peek();if(c==null)return l;const d=s.peek()?.clippingRect?.peek()?.planes;t.peek().component.updateMatrix(),Zl(t.peek(),zp);e:for(let u=o.length-1;u>=a;u--){const h=o[u];if(h.distance-=c.majorIndex*.01+c.minorIndex*1e-4+c.elementType*1e-5+c.patchIndex*1e-7,d!=null){for(let f=0;f<4;f++)if(XE.copy(d[f]).applyMatrix4(zp),XE.distanceToPoint(h.point)<0){o.splice(u,1);continue e}}}return l}}function JE(n,e,t,s){return((s==null?0:n.getKerning(s,t.id))+t.xoffset)*e}const r5=["dvh","svh","lvh","vh"],o5=["dvw","svw","lvw","vw"];function Ln(n,e,t){if(typeof n=="number")return n;const s=parseFloat(n);if(isNaN(s))throw new Error(`Invalid number: ${n}`);return e!=null&&n.endsWith("%")?e()*s/100:t!=null&&r5.some(i=>n.endsWith(i))||t!=null&&o5.some(i=>n.endsWith(i))?(t.component.size.value?.[1]??0)*s/100:s}function KE(n,e,t){return(t?.yoffset??0)*n+(e-n)/2}function bh(n,e,t){return e.xadvance*n+t}function dy(n,e){return Math.max(n,1)*e}const c2={backgroundColor:"transparent",borderColor:"transparent",borderBottomLeftRadius:0,borderTopLeftRadius:0,borderBottomRightRadius:0,borderTopRightRadius:0,borderBend:0},l0=1;let c0;function sI(){if(c0==null){const n={};for(const e in c2)n[e]=e;c0=Oh(n)}return c0}const Kf=[0,0,0,0];function Oh(n,e){const t={...c2,...e},s={};for(const r in n){const o=a5[r],a=t[r];s[n[r]]=(l,c,d,u,h,f)=>o(l,c,d??a,u,h,f)}const i=new Float32Array(16);return vo(i,4,t.backgroundColor,l0,void 0),vo(i,9,t.borderColor,l0,void 0),i[13]=t.borderBend,{hasProperty:r=>r in s,defaultData:i,setters:s,computedIsVisibile:(r,o,a,l)=>be(()=>{if(o.value==null||a.value==null)return!1;const c=n.backgroundColor==null?t.backgroundColor:r.value[n.backgroundColor]??t.backgroundColor,d=n.borderColor==null?t.borderColor:r.value[n.borderColor]??t.borderColor,u=Ln(r.value.opacity??l0,()=>1);vo(Kf,0,c??t.backgroundColor,u);const[h,f]=a.value,A=h>0&&f>0&&Kf[3]>0;vo(Kf,0,d??t.borderColor,u);const p=o.value.some(g=>g>0)&&Kf[3]>0;return!A&&!p?!1:l.value})}}const a5={backgroundColor:(n,e,t,s,i,r)=>vo(n,e+4,t,Ln(i.value,()=>1),r),borderBottomLeftRadius:(n,e,t,{value:s},i,r)=>{s!=null&&jf(n,e+8,0,t,s[1],r)},borderBottomRightRadius:(n,e,t,{value:s},i,r)=>s!=null&&jf(n,e+8,1,t,s[1],r),borderTopRightRadius:(n,e,t,{value:s},i,r)=>s!=null&&jf(n,e+8,2,t,s[1],r),borderTopLeftRadius:(n,e,t,{value:s},i,r)=>s!=null&&jf(n,e+8,3,t,s[1],r),borderColor:(n,e,t,s,i,r)=>vo(n,e+9,t,Ln(i.value,()=>1),r),borderBend:(n,e,t,s,i,r)=>l5(n,e+13,Ln(t,()=>1),r)};function jf(n,e,t,s,i,r){t5(n,e,t,Number(s),i),r?.(e,1)}function l5(n,e,t,s){n[e]=t,s?.(e,1)}const c5=new st,d5=/rgba\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/;function vo(n,e,t,s,i){let r;if(Array.isArray(t)){for(let o=0;o<t.length;o++)n[o+e]=t[o];n[e+3]=(t.length===3?1:n[e+3])*s}else if(t==="transparent")n.fill(0,e,e+4);else if(typeof t=="string"&&(r=t.match(d5))!=null){for(let o=0;o<3;o++)n[o+e]=parseFloat(r[o+1])/255;n[3+e]=parseFloat(r[4])*s}else c5.set(t).toArray(n,e),n[e+3]=s;i?.(e,4)}function d2(n,e){const t=new n;t.defines==null&&(t.defines={}),t.side=In,t.clipShadows=!0,t.transparent=!0,t.toneMapped=!1,t.shadowSide=In,t.defines.USE_UV="",t.defines.USE_TANGENT="";const s=t.onBeforeCompile;return t.onBeforeCompile=(i,r)=>{s.call(t,i,r),e.type==="normal"&&(i.uniforms.data={value:e.data}),p5(i,e.type==="instanced")},t}class u2 extends v_{info;constructor(e){super(),this.info=e,this.defines==null&&(this.defines={}),this.defines.USE_UV="",this.clipShadows=!0}onBeforeCompile(e,t){super.onBeforeCompile(e,t),this.info.type==="normal"&&(e.uniforms.data={value:this.info.data}),f2(e,this.info.type==="instanced")}}class h2 extends I_{info;constructor(e){super({depthPacking:t_}),this.info=e,this.defines==null&&(this.defines={}),this.defines.USE_UV="",this.clipShadows=!0}onBeforeCompile(e,t){super.onBeforeCompile(e,t),this.info.type==="normal"&&(e.uniforms.data={value:this.info.data}),f2(e,this.info.type==="instanced")}}const u5=new h2({type:"instanced"}),h5=new u2({type:"instanced"});function f2(n,e){A2(n,e),n.fragmentShader=n.fragmentShader.replace("#include <clipping_planes_fragment>",`#include <clipping_planes_fragment>
    ${p2(e,void 0)}
    `)}function A2(n,e){n.vertexShader=n.vertexShader.replace("#include <common>",` #include <common>
      out vec4 borderRadius;
      ${e?"":"uniform highp mat4 data;"}`),n.vertexShader=n.vertexShader.replace("#include <uv_vertex>",` #include <uv_vertex>
      highp int packedBorderRadius = int(data[2].x);
      borderRadius = vec4(
        float(packedBorderRadius / 125000 % 50),
        float(packedBorderRadius / 2500 % 50),
        float(packedBorderRadius / 50 % 50),
        float(packedBorderRadius % 50)
      ) * 0.01;`),e&&(n.vertexShader=n.vertexShader.replace("#include <common>",` #include <common>
        attribute highp mat4 aData;
        attribute mat4 aClipping;
        out mat4 data;
        out mat4 clipping;
        out vec3 localPosition;`),n.vertexShader=n.vertexShader.replace("#include <uv_vertex>",` #include <uv_vertex>
        data = aData;
        clipping = aClipping;
        localPosition = (instanceMatrix * vec4(position, 1.0)).xyz;`)),n.fragmentShader=f5(e)+n.fragmentShader,n.fragmentShader=n.fragmentShader.replace("#include <clipping_planes_fragment>",A5(e))}function f5(n){return`${n?"in":"uniform"} highp mat4 data;
    in vec4 borderRadius;
    ${n?`
    in vec3 localPosition;
    in mat4 clipping;`:""}

    float min4(vec4 v) {
        vec2 tmp = min(v.xy, v.zw);
        return min(tmp.x, tmp.y);
    }
    
    float max4(vec4 v) {
        vec2 tmp = max(v.xy, v.zw);
        return max(tmp.x, tmp.y);
    }
    
    vec2 radiusDistance(float radius, vec2 outside, vec2 border, vec2 borderSize) {
        vec2 outerRadius = vec2(radius);
        vec2 innerRadius = outerRadius - borderSize;
        
        vec2 radiusWeightUnnorm = abs(innerRadius - border);
        float sum = radiusWeightUnnorm.x + radiusWeightUnnorm.y;
        vec2 radiusWeight = sum > 0.0 ? radiusWeightUnnorm / sum : vec2(0.5);
        
        return vec2(
            radius - distance(outside, outerRadius),
            dot(radiusWeight, innerRadius) - distance(border, innerRadius)
        );
    }
    
    vec2 calculateCornerIntersection(float cornerRadius, vec2 borderSizes, float aspectRatio) {
        float tmp1 = cornerRadius - borderSizes.y;
        vec2 xIntersection = vec2(tmp1, tmp1 / aspectRatio);
        
        float tmp2 = cornerRadius - borderSizes.x;
        vec2 yIntersection = vec2(tmp2 * aspectRatio, tmp2);
        
        return min(xIntersection, yIntersection);
    }
    `}function A5(n){return` ${n?`
        vec4 plane;
        float distanceToPlane, planeDistanceGradient;
        float clipOpacity = 1.0;

        for(int i = 0; i < 4; i++) {
          plane = clipping[i];
          distanceToPlane = dot(localPosition, plane.xyz) + plane.w;
          planeDistanceGradient = fwidth(distanceToPlane) * 0.5;
          clipOpacity *= smoothstep(-planeDistanceGradient, planeDistanceGradient, distanceToPlane);
    
          if (clipOpacity < 0.01) discard;
        }`:""}
        
        vec4 absoluteBorderSize = data[0];
        vec3 backgroundColor = data[1].xyz;
        float backgroundOpacity = data[1].w;
        vec3 borderColor = data[2].yzw;
        float borderOpacity = data[3].x;
        float borderBend = data[3].y;
        vec2 dimensions = data[3].zw;
        
        float aspectRatio = dimensions.x / dimensions.y;
        vec4 borderSize = absoluteBorderSize / dimensions.yyyy;
        
        vec2 uvFlipped = vec2(vUv.x, 1.0 - vUv.y);
        vec4 v_outsideDistance = vec4(
            uvFlipped.y,
            (1.0 - uvFlipped.x) * aspectRatio,
            1.0 - uvFlipped.y,
            uvFlipped.x * aspectRatio
        );
        vec4 v_borderDistance = v_outsideDistance - borderSize;
  
        vec2 distance = vec2(min4(v_outsideDistance), min4(v_borderDistance));
        
        vec4 negateBorderDistance = vec4(1.0) - v_borderDistance;
        float maxWeight = max4(negateBorderDistance);
        vec4 borderWeight = step(maxWeight, negateBorderDistance);
  
        vec4 insideBorder = vec4(0.0);
        
        vec2 cornerPos;
        float cornerRadius;
        vec2 cornerBorderSizes;
        
        if (all(lessThan(v_outsideDistance.wx, borderRadius.xx))) {
            cornerPos = v_outsideDistance.wx;
            cornerRadius = borderRadius.x;
            cornerBorderSizes = borderSize.wx;
            distance = radiusDistance(cornerRadius, cornerPos, v_borderDistance.wx, cornerBorderSizes);
            
            vec2 lineIntersection = calculateCornerIntersection(cornerRadius, cornerBorderSizes, aspectRatio);
            insideBorder.wx = max(vec2(0.0), lineIntersection - v_borderDistance.wx);
        }
        else if (all(lessThan(v_outsideDistance.yx, borderRadius.yy))) {
            cornerPos = v_outsideDistance.yx;
            cornerRadius = borderRadius.y;
            cornerBorderSizes = borderSize.yx;
            distance = radiusDistance(cornerRadius, cornerPos, v_borderDistance.yx, cornerBorderSizes);
            
            vec2 lineIntersection = calculateCornerIntersection(cornerRadius, cornerBorderSizes, aspectRatio);
            insideBorder.yx = max(vec2(0.0), lineIntersection - v_borderDistance.yx);
        }
        else if (all(lessThan(v_outsideDistance.yz, borderRadius.zz))) {
            cornerPos = v_outsideDistance.yz;
            cornerRadius = borderRadius.z;
            cornerBorderSizes = borderSize.yz;
            distance = radiusDistance(cornerRadius, cornerPos, v_borderDistance.yz, cornerBorderSizes);
            
            vec2 lineIntersection = calculateCornerIntersection(cornerRadius, cornerBorderSizes, aspectRatio);
            insideBorder.yz = max(vec2(0.0), lineIntersection - v_borderDistance.yz);
        }
        else if (all(lessThan(v_outsideDistance.zw, borderRadius.ww))) {
            cornerPos = v_outsideDistance.zw;
            cornerRadius = borderRadius.w;
            cornerBorderSizes = borderSize.zw;
            distance = radiusDistance(cornerRadius, cornerPos, v_borderDistance.zw, cornerBorderSizes);
            
            vec2 lineIntersection = calculateCornerIntersection(cornerRadius, cornerBorderSizes, aspectRatio);
            insideBorder.zw = max(vec2(0.0), lineIntersection - v_borderDistance.zw);
        }
  
        float insideBorderSum = dot(insideBorder, vec4(1.0));
        if (insideBorderSum > 0.0) {
          borderWeight = insideBorder / insideBorderSum;
        }
  
        #include <clipping_planes_fragment>`}function p2(n,e){return`vec2 distanceGradient = fwidth(distance);
  float outer = smoothstep(-distanceGradient.x, distanceGradient.x, distance.x);
  float inner = smoothstep(-distanceGradient.y, distanceGradient.y, distance.y);

  float transition = 1.0 - step(0.1, outer - inner) * (1.0 - inner);

  float fullBackgroundOpacity = ${e==null?"":`${e} * `}backgroundOpacity;
  float fullBorderOpacity = min(1.0, borderOpacity + fullBackgroundOpacity);

  float outOpacity = ${n?"clipOpacity * ":""}outer * mix(fullBorderOpacity, fullBackgroundOpacity, transition);

  if (outOpacity < 0.01) {
    discard;
  }`}function p5(n,e){A2(n,e),n.fragmentShader=n.fragmentShader.replace("#include <color_fragment>",` #include <color_fragment>
      ${p2(e,"diffuseColor.a")}
      
      vec3 mainColor = diffuseColor.rgb * backgroundColor;
      float borderMix = borderOpacity / max(fullBorderOpacity, 0.001);
      diffuseColor.rgb = mix(mix(mainColor, borderColor, borderMix), mainColor, transition);
      diffuseColor.a = outOpacity;
      `),n.fragmentShader=n.fragmentShader.replace("#include <normal_fragment_maps>",` #include <normal_fragment_maps>
      
      vec3 bitangent = normalize(vBitangent);
      vec3 tangent = normalize(vTangent);
      
      mat4 directions = mat4(
        vec4(bitangent, 1.0), 
        vec4(tangent, 1.0), 
        vec4(-bitangent, 1.0), 
        vec4(-tangent, 1.0)
      );
      
      float currentBorderSize = distance.x - distance.y;
      float outsideNormalWeight = currentBorderSize < 1e-5 ? 0.0 : 
        max(0.0, -distance.y / currentBorderSize) * -borderBend;
      
      vec3 outsideNormal = (borderWeight * transpose(directions)).xyz;
      normal = normalize(mix(normal, outsideNormal, outsideNormalWeight));
    `)}class wh extends it{root;instanceMatrix;count=0;isInstancedMesh=!0;instanceColor=null;morphTexture=null;boundingBox=new Jt;boundingSphere=new Ps;customUpdateMatrixWorld=()=>Zl(this.root,this.matrixWorld);constructor(e,t,s,i){const r=l2();super(r),this.root=e,this.instanceMatrix=t,this.pointerEvents="none",r.attributes.aData=s,r.attributes.aClipping=i,this.customDepthMaterial=u5,this.customDistanceMaterial=h5,this.frustumCulled=!1,e.onUpdateMatrixWorldSet.add(this.customUpdateMatrixWorld)}dispose(){this.root.onUpdateMatrixWorldSet.delete(this.customUpdateMatrixWorld),this.dispatchEvent({type:"dispose"}),this.geometry.dispose()}copy(){throw new Error("copy not implemented")}computeBoundingBox(){}computeBoundingSphere(){}updateMorphTargets(){}raycast(){}spherecast(){}}function g2(n,e){for(;e>=n.length;){let t=0,s=0;if(n.length>0){const i=n[n.length-1];t+=i.offset+i.elements.length,s=Math.min(0,i.missingSpace),i.missingSpace-=s}n.push({add:[],missingSpace:s,offset:t,elements:[]})}}function g5(n,e,t){g2(n,0);const s=n[n.length-1];s.missingSpace+=e-t}function m5(n,e,t,s){g2(n,e);const i=n[e];return i.missingSpace+=1,i.missingSpace<=0?(s(t,i,i.elements.length),i.elements.push(t),!1):(i.add.push(t),!0)}function x5(n,e,t,s,i,r,o,a){if(e>=n.length)throw new Error(`no bucket at index ${e}`);const l=n[e];l.missingSpace-=1;const c=l.add.indexOf(t);if(c!=-1)return l.add.splice(c,1),!1;if(s==null||s>=l.elements.length)throw new Error(`no element at index ${s}`);if(l.add.length>0){const f=l.add.shift();return l.elements[s]=f,i(f,l,s),!1}const d=l.offset,u=l.elements.length-1;if(u!=s){const f=d+u,A=d+s;a(A,f,f+1);const p=l.elements[u];l.elements[s]=p,o(p,s)}if(r(d+u),l.elements.length-=1,e<n.length-1)return!0;let h=l;for(;h.elements.length===0&&h.add.length==0&&e>0;){const f=n[e-1];f.missingSpace+=h.missingSpace,h=n[--e]}return n.length=e+1,!1}function d0(n,e,t){let s=n.length,i=-1;for(let o=0;o<s;o++){const a=n[o];a.elements.length+a.add.length>0&&(i=o);const l=o===s-1;if(!l&&a.missingSpace===0)continue;const c=a.missingSpace<0;for(let d=o-1;d>=0;d--){const u=n[d];if(u.missingSpace===0)continue;const h=u.missingSpace<0;if(h&&(l||c)){jE(n,t,d,o,Math.abs(u.missingSpace));continue}if(!c&&!h)continue;const f=Math.min(Math.abs(u.missingSpace),Math.abs(a.missingSpace));c?y5(n,t,d,o,f):jE(n,t,d,o,f)}}const r=n[i];for(let o=i+1;o<s;o++)r.missingSpace+=n[o].missingSpace;s=n.length=i+1;for(let o=0;o<s;o++){const a=n[o],{elements:l,add:c}=a,d=c.length;for(let u=0;u<d;u++){const h=c[u];e(h,a,l.length),l.push(h)}c.length=0}}function jE(n,e,t,s,i){const r=n[s],o=n[t+1].offset;e(o-i,o,r.offset+r.elements.length);const a=n[t];a.missingSpace+=i,r.missingSpace-=i;for(let l=t+1;l<=s;l++)n[l].offset-=i}function y5(n,e,t,s,i){const r=n[s],o=n[t+1].offset;e(o+i,o,r.offset+r.elements.length);const a=n[t];a.missingSpace-=i,r.missingSpace+=i;for(let l=t+1;l<=s;l++)n[l].offset+=i}class _5 extends UB{constructor(){super({specular:"#111",shininess:100})}}class I5 extends wi{constructor(){super({roughness:.1,reflectivity:.5,iridescence:.001,thickness:.05,metalness:.3,ior:2})}}class v5 extends wi{constructor(){super({iridescence:.001,metalness:.8,roughness:.1})}}const E5={glass:I5,metal:v5,plastic:_5};function Rg(n){return typeof n!="string"?n:E5[n]}function nI(n){return be(()=>({panelMaterialClass:Rg(n.value.panelMaterialClass),castShadow:n.value.castShadow,receiveShadow:n.value.receiveShadow,depthWrite:n.value.depthWrite??!1,depthTest:n.value.depthTest,renderOrder:n.value.renderOrder}))}class C5{root;object;map=new Map;constructor(e,t){this.root=e,this.object=t}init(e){const t=()=>this.traverse(s=>s.onFrame());this.root.onFrameSet.add(t),e.addEventListener("abort",()=>{this.root.onFrameSet.delete(t),this.traverse(s=>s.destroy())})}traverse(e){for(const t of this.map.values())for(const s of t.values())e(s)}getGroup({majorIndex:e,minorIndex:t},s){const i=Rg(s.panelMaterialClass);let r=this.map.get(i);r==null&&this.map.set(i,r=new Map);const o=[e,t,s.renderOrder,s.depthTest,s.depthWrite,s.receiveShadow,s.castShadow].join(",");let a=r.get(o);return a==null&&r.set(o,a=new b5(this.object,this.root,{elementType:Br.Panel,minorIndex:t,majorIndex:e,patchIndex:0},s)),a}}const u0=Symbol("nextFrame");class b5{object;root;orderInfo;panelGroupProperties;mesh;instanceMatrix;instanceData;instanceClipping;instanceMaterial;buckets=[];elementCount=0;bufferElementSize=0;instanceDataOnUpdate;nextUpdateTime;nextUpdateTimeoutRef;activateElement=(e,t,s)=>{const i=t.offset+s;this.instanceData.set(e.materialConfig.defaultData,16*i),this.instanceData.addUpdateRange(16*i,16),this.instanceData.needsUpdate=!0,e.activate(t,s)};setElementIndex=(e,t)=>{e.setIndexInBucket(t)};bufferCopyWithin=(e,t,s)=>{h0(this.instanceMatrix,e,t,s),h0(this.instanceData,e,t,s),h0(this.instanceClipping,e,t,s)};clearBufferAt=e=>{const t=e*16;this.instanceMatrix.array.fill(0,t,t+16),this.instanceMatrix.addUpdateRange(t,16),this.instanceMatrix.needsUpdate=!0};constructor(e,t,s,i){this.object=e,this.root=t,this.orderInfo=s,this.panelGroupProperties=i;const r=Rg(i.panelMaterialClass);this.instanceMaterial=d2(r,{type:"instanced"}),this.instanceMaterial.depthTest=i.depthTest,this.instanceMaterial.depthWrite=i.depthWrite}updateCount(){const e=this.buckets[this.buckets.length-1],t=e.offset+e.elements.length;this.mesh!=null&&(this.mesh.count=t,this.mesh.visible=t>0,this.root.requestRender?.())}requestUpdate(e){if(this.nextUpdateTime==u0)return;const t=performance.now()+e;this.nextUpdateTime!=null&&this.nextUpdateTime<t||(this.nextUpdateTime=t,clearTimeout(this.nextUpdateTimeoutRef),this.nextUpdateTimeoutRef=setTimeout(this.requestUpdateNextFrame.bind(this),e))}requestUpdateNextFrame(){this.nextUpdateTime=u0,clearTimeout(this.nextUpdateTimeoutRef),this.nextUpdateTimeoutRef=void 0,this.root.requestFrame?.()}insert(e,t){if(this.elementCount+=1,!m5(this.buckets,e,t,this.activateElement)){this.updateCount();return}this.requestUpdateNextFrame()}delete(e,t,s){if(this.elementCount-=1,!x5(this.buckets,e,s,t,this.activateElement,this.clearBufferAt,this.setElementIndex,this.bufferCopyWithin)){this.updateCount();return}this.root.requestRender?.(),this.requestUpdate(1e3)}onFrame(){this.nextUpdateTime==u0&&(this.nextUpdateTime=void 0,this.update())}update(){if(this.elementCount===0){this.mesh!=null&&(this.mesh.visible=!1);return}this.elementCount>this.bufferElementSize?(this.resize(),d0(this.buckets,this.activateElement,this.bufferCopyWithin)):this.elementCount<=this.bufferElementSize/3?(d0(this.buckets,this.activateElement,this.bufferCopyWithin),this.resize()):d0(this.buckets,this.activateElement,this.bufferCopyWithin),this.mesh.count=this.elementCount,this.mesh.visible=!0}resize(){const e=this.bufferElementSize;this.bufferElementSize=Math.ceil(this.elementCount*1.5),this.mesh!=null&&(this.mesh.dispose(),this.object.remove(this.mesh)),g5(this.buckets,e,this.bufferElementSize);const t=new Float32Array(this.bufferElementSize*16);this.instanceMatrix!=null&&t.set(this.instanceMatrix.array.subarray(0,t.length)),this.instanceMatrix=new vr(t,16,!1),this.instanceMatrix.setUsage(xa);const s=new Float32Array(this.bufferElementSize*16);this.instanceData!=null&&s.set(this.instanceData.array.subarray(0,s.length)),this.instanceData=new vr(s,16,!1),this.instanceDataOnUpdate=(r,o)=>{this.instanceData.addUpdateRange(r,o),this.instanceData.needsUpdate=!0},this.instanceData.setUsage(xa);const i=new Float32Array(this.bufferElementSize*16);this.instanceClipping!=null&&i.set(this.instanceClipping.array.subarray(0,i.length)),this.instanceClipping=new vr(i,16,!1),this.instanceClipping.setUsage(xa),this.mesh=new wh(this.root,this.instanceMatrix,this.instanceData,this.instanceClipping),this.mesh.renderOrder=this.panelGroupProperties.renderOrder,Dg(this.mesh,{peek:()=>this.root},{value:this.orderInfo}),this.mesh.material=this.instanceMaterial,this.mesh.receiveShadow=this.panelGroupProperties.receiveShadow,this.mesh.castShadow=this.panelGroupProperties.castShadow,this.object.addUnsafe(this.mesh)}destroy(){clearTimeout(this.nextUpdateTimeoutRef),this.mesh!=null&&(this.object.remove(this.mesh),this.mesh?.dispose(),this.instanceMaterial.dispose())}}function h0(n,e,t,s){const i=n.itemSize,r=t*i,o=s*i,a=e*i;n.array.copyWithin(a,r,o);const l=o-r;n.addUpdateRange(r,l),n.addUpdateRange(a,l),n.needsUpdate=!0}var w5=(()=>{var n=import.meta.url;return(function(e){e=e||{};var t;t||(t=typeof e<"u"?e:{});var s,i;t.ready=new Promise(function(Q,F){s=Q,i=F});var r=Object.assign({},t),o="";typeof document<"u"&&document.currentScript&&(o=document.currentScript.src),n&&(o=n),o.indexOf("blob:")!==0?o=o.substr(0,o.replace(/[?#].*/,"").lastIndexOf("/")+1):o="";var a=t.print||console.log.bind(console),l=t.printErr||console.warn.bind(console);Object.assign(t,r),r=null;var c;t.wasmBinary&&(c=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&L("no native wasm support detected");var d,u=!1;function h(Q,F,Z){Z=F+Z;for(var re="";!(F>=Z);){var ae=Q[F++];if(!ae)break;if(ae&128){var ye=Q[F++]&63;if((ae&224)==192)re+=String.fromCharCode((ae&31)<<6|ye);else{var xe=Q[F++]&63;ae=(ae&240)==224?(ae&15)<<12|ye<<6|xe:(ae&7)<<18|ye<<12|xe<<6|Q[F++]&63,65536>ae?re+=String.fromCharCode(ae):(ae-=65536,re+=String.fromCharCode(55296|ae>>10,56320|ae&1023))}}else re+=String.fromCharCode(ae)}return re}var f,A,p,g,m,y,_,I,v;function E(){var Q=d.buffer;f=Q,t.HEAP8=A=new Int8Array(Q),t.HEAP16=g=new Int16Array(Q),t.HEAP32=y=new Int32Array(Q),t.HEAPU8=p=new Uint8Array(Q),t.HEAPU16=m=new Uint16Array(Q),t.HEAPU32=_=new Uint32Array(Q),t.HEAPF32=I=new Float32Array(Q),t.HEAPF64=v=new Float64Array(Q)}var b,N=[],C=[],B=[];function S(){var Q=t.preRun.shift();N.unshift(Q)}var T=0,D=null;function L(Q){throw t.onAbort&&t.onAbort(Q),Q="Aborted("+Q+")",l(Q),u=!0,Q=new WebAssembly.RuntimeError(Q+". Build with -sASSERTIONS for more info."),i(Q),Q}function z(Q){return Q.startsWith("data:application/octet-stream;base64,")}var V;if(V="data:application/octet-stream;base64,AGFzbQEAAAABugM3YAF/AGACf38AYAF/AX9gA39/fwBgAn98AGACf38Bf2ADf39/AX9gBH9/f30BfWADf398AGAAAGAEf39/fwBgAX8BfGACf38BfGAFf39/f38Bf2AAAX9gA39/fwF9YAZ/f31/fX8AYAV/f39/fwBgAn9/AX1gBX9/f319AX1gAX8BfWADf35/AX5gB39/f39/f38AYAZ/f39/f38AYAR/f39/AX9gBn9/f319fQF9YAR/f31/AGADf399AX1gBn98f39/fwF/YAR/fHx/AGACf30AYAh/f39/f39/fwBgDX9/f39/f39/f39/f38AYAp/f39/f39/f39/AGAFf39/f38BfGAEfHx/fwF9YA1/fX1/f399fX9/f39/AX9gB39/f319f38AYAJ+fwF/YAN/fX0BfWABfAF8YAN/fHwAYAR/f319AGAHf39/fX19fQF9YA1/fX99f31/fX19fX1/AX9gC39/f39/f399fX19AX9gCH9/f39/f319AGAEf39+fgBgB39/f39/f38Bf2ACfH8BfGAFf398fH8AYAN/f38BfGAEf39/fABgA39/fQBgBn9/fX99fwF/ArUBHgFhAWEAHwFhAWIAAwFhAWMACQFhAWQAFgFhAWUAEQFhAWYAIAFhAWcAAAFhAWgAIQFhAWkAAwFhAWoAAAFhAWsAFwFhAWwACgFhAW0ABQFhAW4AAwFhAW8AAQFhAXAAFwFhAXEABgFhAXIAAAFhAXMAIgFhAXQACgFhAXUADQFhAXYAFgFhAXcAAgFhAXgAAwFhAXkAGAFhAXoAAgFhAUEAAQFhAUIAEQFhAUMAAQFhAUQAAAOiAqACAgMSBwcACRkDAAoRBgYKEwAPDxMBBiMTCgcHGgMUASQFJRQHAwMKCgMmAQYYDxobFAAKBw8KBwMDAgkCAAAFGwACBwIHBgIDAQMIDAABKAkHBQURACkZASoAAAIrLAIALQcHBy4HLwkFCgMCMA0xAgMJAgACAQYKAQIBBQEACQIFAQEABQAODQ0GFQIBHBUGAgkCEAAAAAUyDzMMBQYINAUCAwUODg41AgMCAgIDBgICNgIBDAwMAQsLCwsLCx0CAAIAAAABABABBQICAQMCEgMMCwEBAQEBAQsLAQICAwICAgICAgIDAgIICAEICAgEBAQEBAQEBAQABAQABAQEBAAEBAQBAQEICAEBAQEBAQEBCAgBAQEAAg4CAgUBAR4DBAcBcAHUAdQBBQcBAYACgIACBg0CfwFBkMQEC38BQQALByQIAUUCAAFGAG0BRwCwAQFIAK8BAUkAYQFKAQABSwAjAUwApgEJjQMBAEEBC9MBqwGqAaUB5QHiAZwB0AFazwHOAVlZWpsBmgGZAc0BzAHLAcoBWpgByQFZWVqbAZoBmQHIAccBxgGjAZcBpAGWAaMBvQKVAbwCxQG7Ajq6Ajq5ApQBuAI+twI+xAFqwwFqwgFqaWjBAcABvwGhAZcBtgK+AbUClgGhAbQCmAGzAjqxAjqwAr0BrwKuAq0CrAKrAqoCqAKnAqYCpQKkAqMCogKhArwBoAKfAp4CnQKcApsCmgKZApgClwKWApUClAKTApICkQKQAo8CjgKyAo0CjAKLAooCiAKHAqkChQI+hAK7AYMCggKBAoAC/gH9AfwB+QG6AfgBuQH3AfYB9QH0AfMB8gHxAYYC8AHvAbgB+wH6Ae4B7QG3AesBlQHqATrpAT7oAT7nAZQB0QE67AE+iQLmATrkAeMBOuEB4AHfAT7eAd0B3AG2AdsB2gHZAdgB1wHWAdUBtQHUAdMB0gH/AWloaWiPAZABsgGxAZEBhQGSAbQBswGRAa4BrQGsAakBqAGnAYUBCtj+A6ACMwEBfyAAQQEgABshAAJAA0AgABBhIgENAUGIxAAoAgAiAQRAIAERCQAMAQsLEAIACyABC+0BAgJ9A39DAADAfyEEAkACQAJAAkAgAkEHcSIGDgUCAQEBAAELQQMhBQwBCyAGQQFrQQJPDQEgAkHw/wNxQQR2IQcCfSACQQhxBEAgASAHEJ4BvgwBC0EAIAdB/w9xIgFrIAEgAsFBAEgbsgshAyAGQQFGBEAgAyADXA0BQwAAwH8gAyADQwAAgH9bIANDAACA/1tyIgEbIQQgAUUhBQwBCyADIANcDQBBAEECIANDAACAf1sgA0MAAID/W3IiARshBUMAAMB/IAMgARshBAsgACAFOgAEIAAgBDgCAA8LQfQNQakYQTpB+RYQCwALZwIBfQF/QwAAwH8hAgJAAkACQCABQQdxDgQCAAABAAtBxBJBqRhByQBBuhIQCwALIAFB8P8DcUEEdiEDIAFBCHEEQCAAIAMQngG+DwtBACADQf8PcSIAayAAIAHBQQBIG7IhAgsgAgt4AgF/AX0jAEEQayIEJAAgBEEIaiAAQQMgAkECR0EBdCABQf4BcUECRxsgAhAoQwAAwH8hBQJAAkACQCAELQAMQQFrDgIAAQILIAQqAgghBQwBCyAEKgIIIAOUQwrXIzyUIQULIARBEGokACAFQwAAAAAgBSAFWxsLeAIBfwF9IwBBEGsiBCQAIARBCGogAEEBIAJBAkZBAXQgAUH+AXFBAkcbIAIQKEMAAMB/IQUCQAJAAkAgBC0ADEEBaw4CAAECCyAEKgIIIQUMAQsgBCoCCCADlEMK1yM8lCEFCyAEQRBqJAAgBUMAAAAAIAUgBVsbC8wCAQV/IAAEQCAAQQRrIgEoAgAiBSEDIAEhAiAAQQhrKAIAIgAgAEF+cSIERwRAIAEgBGsiAigCBCIAIAIoAgg2AgggAigCCCAANgIEIAQgBWohAwsgASAFaiIEKAIAIgEgASAEakEEaygCAEcEQCAEKAIEIgAgBCgCCDYCCCAEKAIIIAA2AgQgASADaiEDCyACIAM2AgAgA0F8cSACakEEayADQQFyNgIAIAICfyACKAIAQQhrIgFB/wBNBEAgAUEDdkEBawwBCyABQR0gAWciAGt2QQRzIABBAnRrQe4AaiABQf8fTQ0AGkE/IAFBHiAAa3ZBAnMgAEEBdGtBxwBqIgAgAEE/TxsLIgFBBHQiAEHgMmo2AgQgAiAAQegyaiIAKAIANgIIIAAgAjYCACACKAIIIAI2AgRB6DpB6DopAwBCASABrYaENwMACwsOAEHYMigCABEJABBYAAunAQIBfQJ/IABBFGoiByACIAFBAkkiCCAEIAUQNSEGAkAgByACIAggBCAFEC0iBEMAAAAAYCADIARecQ0AIAZDAAAAAGBFBEAgAyEEDAELIAYgAyADIAZdGyEECyAAQRRqIgAgASACIAUQOCAAIAEgAhAwkiAAIAEgAiAFEDcgACABIAIQL5KSIgMgBCADIAReGyADIAQgBCAEXBsgBCAEWyADIANbcRsLvwEBA38gAC0AAEEgcUUEQAJAIAEhAwJAIAIgACIBKAIQIgAEfyAABSABEJ0BDQEgASgCEAsgASgCFCIFa0sEQCABIAMgAiABKAIkEQYAGgwCCwJAIAEoAlBBAEgNACACIQADQCAAIgRFDQEgAyAEQQFrIgBqLQAAQQpHDQALIAEgAyAEIAEoAiQRBgAgBEkNASADIARqIQMgAiAEayECIAEoAhQhBQsgBSADIAIQKxogASABKAIUIAJqNgIUCwsLCwYAIAAQIwtQAAJAAkACQAJAAkAgAg4EBAABAgMLIAAgASABQQxqEEMPCyAAIAEgAUEMaiADEEQPCyAAIAEgAUEMahBCDwsQJAALIAAgASABQQxqIAMQRQttAQF/IwBBgAJrIgUkACAEQYDABHEgAiADTHJFBEAgBSABQf8BcSACIANrIgNBgAIgA0GAAkkiARsQKhogAUUEQANAIAAgBUGAAhAmIANBgAJrIgNB/wFLDQALCyAAIAUgAxAmCyAFQYACaiQAC/ICAgJ/AX4CQCACRQ0AIAAgAToAACAAIAJqIgNBAWsgAToAACACQQNJDQAgACABOgACIAAgAToAASADQQNrIAE6AAAgA0ECayABOgAAIAJBB0kNACAAIAE6AAMgA0EEayABOgAAIAJBCUkNACAAQQAgAGtBA3EiBGoiAyABQf8BcUGBgoQIbCIBNgIAIAMgAiAEa0F8cSIEaiICQQRrIAE2AgAgBEEJSQ0AIAMgATYCCCADIAE2AgQgAkEIayABNgIAIAJBDGsgATYCACAEQRlJDQAgAyABNgIYIAMgATYCFCADIAE2AhAgAyABNgIMIAJBEGsgATYCACACQRRrIAE2AgAgAkEYayABNgIAIAJBHGsgATYCACAEIANBBHFBGHIiBGsiAkEgSQ0AIAGtQoGAgIAQfiEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkEgayICQR9LDQALCyAAC4AEAQN/IAJBgARPBEAgACABIAIQFyAADwsgACACaiEDAkAgACABc0EDcUUEQAJAIABBA3FFBEAgACECDAELIAJFBEAgACECDAELIAAhAgNAIAIgAS0AADoAACABQQFqIQEgAkEBaiICQQNxRQ0BIAIgA0kNAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgACADQQRrIgRLBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAtIAQF/IwBBEGsiBCQAIAQgAzYCDAJAIABFBEBBAEEAIAEgAiAEKAIMEHEMAQsgACgC9AMgACABIAIgBCgCDBBxCyAEQRBqJAALkwECAX0BfyMAQRBrIgYkACAGQQhqIABB6ABqIAAgAkEBdGovAWIQH0MAAMB/IQUCQAJAAkAgBi0ADEEBaw4CAAECCyAGKgIIIQUMAQsgBioCCCADlEMK1yM8lCEFCyAALQADQRB0QYCAwABxBEAgBSAAIAEgAiAEEFQiA0MAAAAAIAMgA1sbkiEFCyAGQRBqJAAgBQu1AQECfyAAKAIEQQFqIgEgACgCACICKALsAyACKALoAyICa0ECdU8EQANAIAAoAggiAUUEQCAAQQA2AgggAEIANwIADwsgACABKAIENgIAIAAgASgCCDYCBCAAIAEoAgA2AgggARAjIAAoAgRBAWoiASAAKAIAIgIoAuwDIAIoAugDIgJrQQJ1Tw0ACwsgACABNgIEIAIgAUECdGooAgAtABdBEHRBgIAwcUGAgCBGBEAgABB9CwuBAQIBfwF9IwBBEGsiAyQAIANBCGogAEEDIAJBAkdBAXQgAUH+AXFBAkcbIAIQU0MAAMB/IQQCQAJAAkAgAy0ADEEBaw4CAAECCyADKgIIIQQMAQsgAyoCCEMAAAAAlEMK1yM8lCEECyADQRBqJAAgBEMAAAAAl0MAAAAAIAQgBFsbC4EBAgF/AX0jAEEQayIDJAAgA0EIaiAAQQEgAkECRkEBdCABQf4BcUECRxsgAhBTQwAAwH8hBAJAAkACQCADLQAMQQFrDgIAAQILIAMqAgghBAwBCyADKgIIQwAAAACUQwrXIzyUIQQLIANBEGokACAEQwAAAACXQwAAAAAgBCAEWxsLeAICfQF/IAAgAkEDdGoiByoC+AMhBkMAAMB/IQUCQAJAAkAgBy0A/ANBAWsOAgABAgsgBiEFDAELIAYgA5RDCtcjPJQhBQsgAC0AF0EQdEGAgMAAcQR9IAUgAEEUaiABIAIgBBBUIgNDAAAAACADIANbG5IFIAULC1EBAX8CQCABKALoAyICIAEoAuwDRwRAIABCADcCBCAAIAE2AgAgAigCAC0AF0EQdEGAgDBxQYCAIEcNASAAEH0PCyAAQgA3AgAgAEEANgIICwvoAgECfwJAIAAgAUYNACABIAAgAmoiBGtBACACQQF0a00EQCAAIAEgAhArDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkEBayECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkEBayICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQQRrIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkEBayICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AA0AgAyABKAIANgIAIAFBBGohASADQQRqIQMgAkEEayICQQNLDQALCyACRQ0AA0AgAyABLQAAOgAAIANBAWohAyABQQFqIQEgAkEBayICDQALCyAAC5QCAgF8AX8CQCAAIAGiIgAQbCIERAAAAAAAAPA/oCAEIAREAAAAAAAAAABjGyIEIARiIgUgBJlELUMc6+I2Gj9jRXJFBEAgACAEoSEADAELIAUgBEQAAAAAAADwv6CZRC1DHOviNho/Y0VyRQRAIAAgBKFEAAAAAAAA8D+gIQAMAQsgACAEoSEAIAIEQCAARAAAAAAAAPA/oCEADAELIAMNACAAAnxEAAAAAAAAAAAgBQ0AGkQAAAAAAADwPyAERAAAAAAAAOA/ZA0AGkQAAAAAAADwP0QAAAAAAAAAACAERAAAAAAAAOC/oJlELUMc6+I2Gj9jGwugIQALIAAgAGIgASABYnIEQEMAAMB/DwsgACABo7YLkwECAX0BfyMAQRBrIgYkACAGQQhqIABB6ABqIAAgAkEBdGovAV4QH0MAAMB/IQUCQAJAAkAgBi0ADEEBaw4CAAECCyAGKgIIIQUMAQsgBioCCCADlEMK1yM8lCEFCyAALQADQRB0QYCAwABxBEAgBSAAIAEgAiAEEFQiA0MAAAAAIAMgA1sbkiEFCyAGQRBqJAAgBQtQAAJAAkACQAJAAkAgAg4EBAABAgMLIAAgASABQR5qEEMPCyAAIAEgAUEeaiADEEQPCyAAIAEgAUEeahBCDwsQJAALIAAgASABQR5qIAMQRQt+AgF/AX0jAEEQayIEJAAgBEEIaiAAQQMgAkECR0EBdCABQf4BcUECRxsgAhBQQwAAwH8hBQJAAkACQCAELQAMQQFrDgIAAQILIAQqAgghBQwBCyAEKgIIIAOUQwrXIzyUIQULIARBEGokACAFQwAAAACXQwAAAAAgBSAFWxsLfgIBfwF9IwBBEGsiBCQAIARBCGogAEEBIAJBAkZBAXQgAUH+AXFBAkcbIAIQUEMAAMB/IQUCQAJAAkAgBC0ADEEBaw4CAAECCyAEKgIIIQUMAQsgBCoCCCADlEMK1yM8lCEFCyAEQRBqJAAgBUMAAAAAl0MAAAAAIAUgBVsbC08AAkACQAJAIANB/wFxIgMOBAACAgECCyABIAEvAABB+P8DcTsAAA8LIAEgAS8AAEH4/wNxQQRyOwAADwsgACABIAJBAUECIANBAUYbEEwLNwEBfyABIAAoAgQiA0EBdWohASAAKAIAIQAgASACIANBAXEEfyABKAIAIABqKAIABSAACxEBAAtiAgJ9An8CQCAAKALkA0UNACAAQfwAaiIDIABBGmoiBC8BABAgIgIgAlwEQCADIABBGGoiBC8BABAgIgIgAlwNASADIAAvARgQIEMAAAAAXkUNAQsgAyAELwEAECAhAQsgAQtfAQN/IAEEQEEMEB4iAyABKQIENwIEIAMhAiABKAIAIgEEQCADIQQDQEEMEB4iAiABKQIENwIEIAQgAjYCACACIQQgASgCACIBDQALCyACIAAoAgA2AgAgACADNgIACwvXawMtfxx9AX4CfwJAIAAtAABBBHEEQCAAKAKgASAMRw0BCyAAKAKkASAAKAL0AygCDEcNAEEAIAAtAKgBIANGDQEaCyAAQoCAgPyLgIDAv383AoADIABCgYCAgBA3AvgCIABCgICA/IuAgMC/fzcC8AIgAEEANgKsAUEBCyErAkACQAJAAkAgACgCCARAIABBFGoiDkECQQEgBhAiIT4gDkECQQEgBhAhITwgDkEAQQEgBhAiITsgDkEAQQEgBhAhIUAgBCABIAUgAiAAKAL4AiAAQfACaiIOKgIAIAAoAvwCIAAqAvQCIAAqAoADIAAqAoQDID4gPJIiPiA7IECSIjwgACgC9AMiEBB7DQEgACgCrAEiEUUNAyAAQbABaiETA0AgBCABIAUgAiATIB1BGGxqIg4oAgggDioCACAOKAIMIA4qAgQgDioCECAOKgIUID4gPCAQEHsNAiAdQQFqIh0gEUcNAAsMAgsgCEUEQCAAKAKsASITRQ0CIABBsAFqIRADQAJAAkAgECAdQRhsIhFqIg4qAgAiPiA+XCABIAFcckUEQCA+IAGTi0MXt9E4XQ0BDAILIAEgAVsgPiA+W3INAQsCQCAQIBFqIhEqAgQiPiA+XCACIAJcckUEQCA+IAKTi0MXt9E4XQ0BDAILIAIgAlsgPiA+W3INAQsgESgCCCAERw0AIBEoAgwgBUYNAwsgEyAdQQFqIh1HDQALDAILAkAgAEHwAmoiDioCACI+ID5cIAEgAVxyRQRAID4gAZOLQxe30ThdDQEMBAsgASABWyA+ID5bcg0DCyAOQQAgACgC/AIgBUYbQQAgACgC+AIgBEYbQQACfyACIAJcIg4gACoC9AIiPiA+XHJFBEAgPiACk4tDF7fROF0MAQtBACA+ID5bDQAaIA4LGyEOCyAORSArcgRAIA4hHQwCCyAAIA4qAhA4ApQDIAAgDioCFDgCmAMgCkEMQRAgCBtqIgMgAygCAEEBajYCACAOIR0MAgtBACEdCyAGIUAgByFHIAtBAWohIiMAQaABayINJAACQAJAIARBAUYgASABW3JFBEAgDUGqCzYCICAAQQVB2CUgDUEgahAsDAELIAVBAUYgAiACW3JFBEAgDUHZCjYCECAAQQVB2CUgDUEQahAsDAELIApBAEEEIAgbaiILIAsoAgBBAWo2AgAgACAALQCIA0H8AXEgAC0AFEEDcSILIANBASADGyIsIAsbIg9BA3FyOgCIAyAAQawDaiIQIA9BAUdBA3QiC2ogAEEUaiIUQQNBAiAPQQJGGyIRIA8gQBAiIgY4AgAgECAPQQFGQQN0Ig5qIBQgESAPIEAQISIHOAIAIAAgFEEAIA8gQBAiIjw4ArADIAAgFEEAIA8gQBAhIjs4ArgDIABBvANqIhAgC2ogFCARIA8QMDgCACAOIBBqIBQgESAPEC84AgAgACAUQQAgDxAwOALAAyAAIBRBACAPEC84AsgDIAsgAEHMA2oiC2ogFCARIA8gQBA4OAIAIAsgDmogFCARIA8gQBA3OAIAIAAgFEEAIA8gQBA4OALQAyAAIBRBACAPIEAQNyI6OALYAyAGIAeSIT4gPCA7kiE8AkACQCAAKAIIIgsEQEMAAMB/IAEgPpMgBEEBRhshBkMAAMB/IAIgPJMgBUEBRhshPiAAAn0gBCAFckUEQCAAIABBAiAPIAYgQCBAECU4ApQDIABBACAPID4gRyBAECUMAQsgBEEDTyAFQQNPcg0EIA1BiAFqIAAgBiAGIAAqAswDIAAqAtQDkiAAKgK8A5IgACoCxAOSIjyTIgdDAAAAACAHQwAAAABeGyAGIAZcG0GBgAggBEEDdEH4//8HcXZB/wFxID4gPiAAKgLQAyA6kiAAKgLAA5IgACoCyAOSIjuTIgdDAAAAACAHQwAAAABeGyA+ID5cG0GBgAggBUEDdEH4//8HcXZB/wFxIAsREAAgDSoCjAEiPUMAAAAAYCANKgKIASIHQwAAAABgcUUEQCANID27OQMIIA0gB7s5AwAgAEEBQdwdIA0QLCANKgKMASIHQwAAAAAgB0MAAAAAXhshPSANKgKIASIHQwAAAAAgB0MAAAAAXhshBwsgCiAKKAIUQQFqNgIUIAogCUECdGoiCSAJKAIYQQFqNgIYIAAgAEECIA8gPCAHkiAGIARBAWtBAkkbIEAgQBAlOAKUAyAAQQAgDyA7ID2SID4gBUEBa0ECSRsgRyBAECULOAKYAwwBCwJAIAAoAuADRQRAIAAoAuwDIAAoAugDa0ECdSELDAELIA1BiAFqIAAQMgJAIA0oAogBRQRAQQAhCyANKAKMAUUNAQsgDUGAAWohEEEAIQsDQCANQQA2AoABIA0gDSkDiAE3A3ggECANKAKQARA8IA1BiAFqEC4gDSgCgAEiCQRAA0AgCSgCACEOIAkQJyAOIgkNAAsLIAtBAWohCyANQQA2AoABIA0oAowBIA0oAogBcg0ACwsgDSgCkAEiCUUNAANAIAkoAgAhDiAJECcgDiIJDQALCyALRQRAIAAgAEECIA8gBEEBa0EBSwR9IAEgPpMFIAAqAswDIAAqAtQDkiAAKgK8A5IgACoCxAOSCyBAIEAQJTgClAMgACAAQQAgDyAFQQFrQQFLBH0gAiA8kwUgACoC0AMgACoC2AOSIAAqAsADkiAAKgLIA5ILIEcgQBAlOAKYAwwBCwJAIAgNACAFQQJGIAIgPJMiBiAGW3EgBkMAAAAAX3EgBCAFckUgBEECRiABID6TIgdDAAAAAF9xcnJFDQAgACAAQQIgD0MAAAAAQwAAAAAgByAHQwAAAABdGyAHIARBAkYbIAcgB1wbIEAgQBAlOAKUAyAAIABBACAPQwAAAABDAAAAACAGIAZDAAAAAF0bIAYgBUECRhsgBiAGXBsgRyBAECU4ApgDDAELIAAQTyAAIAAtAIgDQfsBcToAiAMgABBeQQMhEyAALQAUQQJ2QQNxIQkCQAJAIA9BAkcNAAJAIAlBAmsOAgIAAQtBAiETDAELIAkhEwsgAC8AFSEnIBQgEyAPIEAQOCEGIBQgEyAPEDAhByAUIBMgDyBAEDchOyAUIBMgDxAvITpBACEQIBQgEUEAIBNBAkkbIhYgDyBAEDghPyAUIBYgDxAwIT0gFCAWIA8gQBA3IUEgFCAWIA8QLyFEIBQgFiAPIEAQYCFCIBQgFiAPEEshQyAAIA9BACABID6TIlAgBiAHkiA7IDqSkiJKID8gPZIgQSBEkpIiRiATQQFLIhkbIEAgQBB6ITsgACAPQQEgAiA8kyJRIEYgSiAZGyBHIEAQeiFFAkACQCAEIAUgGRsiHA0AIA1BiAFqIAAQMgJAAkAgDSgCiAEiDiANKAKMASIJckUNAANAIA4oAuwDIA4oAugDIg5rQQJ1IAlNDQQCQCAOIAlBAnRqKAIAIgkQeUUNACAQDQIgCRA7IgYgBlsgBotDF7fROF1xDQIgCRBAIgYgBlwEQCAJIRAMAQsgCSEQIAaLQxe30ThdDQILIA1BiAFqEC4gDSgCjAEiCSANKAKIASIOcg0ACwwBC0EAIRALIA0oApABIglFDQADQCAJKAIAIQ4gCRAnIA4iCQ0ACwsgDUGIAWogABAyIA0oAowBIQkCQCANKAKIASIORQRAQwAAAAAhPSAJRQ0BCyBFIEVcIiMgBUEAR3IhKCA7IDtcIiQgBEEAR3IhKUMAAAAAIT0DQCAOKALsAyAOKALoAyIOa0ECdSAJTQ0CIA4gCUECdGooAgAiDhB4AkAgDi8AFSAOLQAXQRB0ciIJQYCAMHFBgIAQRgRAIA4QdyAOIA4tAAAiCUEBciIOQfsBcSAOIAlBBHEbOgAADAELIAgEfyAOIA4tABRBA3EiCSAPIAkbIDsgRRB2IA4vABUgDi0AF0EQdHIFIAkLQYDgAHFBgMAARg0AIA5BFGohEQJAIA4gEEYEQCAQQQA2ApwBIBAgDDYCmAFDAAAAACEHDAELIBQtAABBAnZBA3EhCQJAAkAgD0ECRw0AQQMhEgJAIAlBAmsOAgIAAQtBAiESDAELIAkhEgsgDUGAgID+BzYCaCANQYCAgP4HNgJQIA1B+ABqIA5B/ABqIhcgDi8BHhAfIDsgRSASQQFLIh4bIT4CQAJAAkACQCANLQB8IgkOBAABAQABCwJAIBcgDi8BGBAgIgYgBlwNACAXIA4vARgQIEMAAAAAXkUNACAOKAL0Ay0ACEEBcSIJDQBDAADAf0MAAAAAIAkbIQcMAgtDAADAfyEGDAILIA0qAnghB0MAAMB/IQYCQCAJQQFrDgIBAAILIAcgPpRDCtcjPJQhBgwBCyAHIQYLIA4tABdBEHRBgIDAAHEEQCAGIBEgD0GBAiASQQN0dkEBcSA7EFQiBkMAAAAAIAYgBlsbkiEGCyAOKgL4AyEHQQAhH0EAIRgCQAJAAkAgDi0A/ANBAWsOAgEAAgsgOyAHlEMK1yM8lCEHCyAHIAdcDQAgB0MAAAAAYCEYCyAOKgKABCEHAkACQAJAIA4tAIQEQQFrDgIBAAILIEUgB5RDCtcjPJQhBwsgByAHXA0AIAdDAAAAAGAhHwsCQCAOAn0gBiAGXCIJID4gPlxyRQRAIA4qApwBIgcgB1sEQCAOKAL0Ay0AEEEBcUUNAyAOKAKYASAMRg0DCyARIBIgDyA7EDggESASIA8QMJIgESASIA8gOxA3IBEgEiAPEC+SkiIHIAYgBiAHXRsgByAGIAkbIAYgBlsgByAHW3EbDAELIBggHnEEQCARQQIgDyA7EDggEUECIA8QMJIgEUECIA8gOxA3IBFBAiAPEC+SkiIHIA4gD0EAIDsgOxAxIgYgBiAHXRsgByAGIAYgBlwbIAYgBlsgByAHW3EbDAELIB4gH0VyRQRAIBFBACAPIDsQOCARQQAgDxAwkiARQQAgDyA7EDcgEUEAIA8QL5KSIgcgDiAPQQEgRSA7EDEiBiAGIAddGyAHIAYgBiAGXBsgBiAGWyAHIAdbcRsMAQtBASEaIA1BATYCZCANQQE2AnggEUECQQEgOxAiIBFBAkEBIDsQIZIhPiARQQBBASA7ECIhPCARQQBBASA7ECEhOkMAAMB/IQdBASEVQwAAwH8hBiAYBEAgDiAPQQAgOyA7EDEhBiANQQA2AnggDSA+IAaSIgY4AmhBACEVCyA8IDqSITwgHwRAIA4gD0EBIEUgOxAxIQcgDUEANgJkIA0gPCAHkiIHOAJQQQAhGgsCQAJAAkAgAC0AF0EQdEGAgAxxQYCACEYiCSASQQJJIiBxRQRAIAkgJHINAiAGIAZcDQEMAgsgJCAGIAZbcg0CC0ECIRUgDUECNgJ4IA0gOzgCaCA7IQYLAkAgIEEBIAkbBEAgCSAjcg0CIAcgB1wNAQwCCyAjIAcgB1tyDQELQQIhGiANQQI2AmQgDSBFOAJQIEUhBwsCQCAXIA4vAXoQICI6IDpcDQACfyAVIB5yRQRAIBcgDi8BehAgIQcgDUEANgJkIA0gPCAGID6TIAeVkjgCUEEADAELIBogIHINASAXIA4vAXoQICEGIA1BADYCeCANIAYgByA8k5QgPpI4AmhBAAshGkEAIRULIA4vABZBD3EiCUUEQCAALQAVQQR2IQkLAkAgFUUgCUEFRiAeciAYIClyIAlBBEdycnINACANQQA2AnggDSA7OAJoIBcgDi8BehAgIgYgBlwNAEEAIRogFyAOLwF6ECAhBiANQQA2AmQgDSA7ID6TIAaVOAJQCyAOLwAWQQ9xIhhFBEAgAC0AFUEEdiEYCwJAICAgKHIgH3IgGEEFRnIgGkUgGEEER3JyDQAgDUEANgJkIA0gRTgCUCAXIA4vAXoQICIGIAZcDQAgFyAOLwF6ECAhBiANQQA2AnggDSAGIEUgPJOUOAJoCyAOIA9BAiA7IDsgDUH4AGogDUHoAGoQPyAOIA9BACBFIDsgDUHkAGogDUHQAGoQPyAOIA0qAmggDSoCUCAPIA0oAnggDSgCZCA7IEVBAEEFIAogIiAMED0aIA4gEkECdEH8JWooAgBBAnRqKgKUAyEGIBEgEiAPIDsQOCARIBIgDxAwkiARIBIgDyA7EDcgESASIA8QL5KSIgcgBiAGIAddGyAHIAYgBiAGXBsgBiAGWyAHIAdbcRsLIgc4ApwBCyAOIAw2ApgBCyA9IAcgESATQQEgOxAiIBEgE0EBIDsQIZKSkiE9CyANQYgBahAuIA0oAowBIgkgDSgCiAEiDnINAAsLIA0oApABIgkEQANAIAkoAgAhDiAJECcgDiIJDQALCyA7IEUgGRshByA9QwAAAACSIQYgC0ECTwRAIBQgEyAHEE0gC0EBa7OUIAaSIQYLIEIgQ5IhPiAFIAQgGRshGiBHIEAgGRshTSBAIEcgGRshSSANQdAAaiAAEDJBACAcIAYgB14iCxsgHCAcQQJGGyAcICdBgIADcSIfGyEeIBQgFiBFIDsgGRsiRBBNIU8gDSgCVCIRIA0oAlAiCXIEQEEBQQIgRCBEXCIpGyEtIAtFIBxBAUZyIS4gE0ECSSEZIABB8gBqIS8gAEH8AGohMCATQQJ0IgtB7CVqITEgC0HcJWohMiAWQQJ0Ig5B7CVqIRwgDkHcJWohICALQfwlaiEkIA5B/CVqISMgGkEARyIzIAhyITQgGkUiNSAIQQFzcSE2IBogH3JFITcgDUHwAGohOCANQYABaiEnQYECIBNBA3R2Qf8BcSEoIBpBAWtBAkkhOQNAIA1BADYCgAEgDUIANwN4AkAgACgC7AMiCyAAKALoAyIORg0AIAsgDmsiC0EASA0DIA1BiAFqIAtBAnVBACAnEEohECANKAKMASANKAJ8IA0oAngiC2siDmsgCyAOEDMhDiANIA0oAngiCzYCjAEgDSAONgJ4IA0pA5ABIVYgDSANKAJ8Ig42ApABIA0oAoABIRIgDSBWNwJ8IA0gEjYClAEgECALNgIAIAsgDkcEQCANIA4gCyAOa0EDakF8cWo2ApABCyALRQ0AIAsQJwsgFC0AACIOQQJ2QQNxIQsCQAJAIA5BA3EiDiAsIA4bIhJBAkcNAEEDIRACQCALQQJrDgICAAELQQIhEAwBCyALIRALIAAvABUhCyAUIBAgBxBNIT8CQCAJIBFyRQRAQwAAAAAhQ0EAIRFDAAAAACFCQwAAAAAhQUEAIRUMAQsgC0GAgANxISUgEEECSSEYIBBBAnQiC0HsJWohISALQdwlaiEqQQAhFUMAAAAAIUEgESEOQwAAAAAhQkMAAAAAIUNBACEXQwAAAAAhPQNAIAkoAuwDIAkoAugDIglrQQJ1IA5NDQQCQCAJIA5BAnRqKAIAIgkvABUgCS0AF0EQdHIiC0GAgDBxQYCAEEYgC0GA4ABxQYDAAEZyDQAgDUGIAWoiESAJQRRqIgsgKigCACADECggDS0AjAEhJiARIAsgISgCACADECggDS0AjAEhESAJIBs2AtwDIBUgJkEDRmohFSARQQNGIREgCyAQQQEgOxAiIUsgCyAQQQEgOxAhIU4gCSAXIAkgFxsiF0YhJiAJKgKcASE8IAsgEiAYIEkgQBA1IToCQCALIBIgGCBJIEAQLSIGQwAAAABgIAYgPF1xDQAgOkMAAAAAYEUEQCA8IQYMAQsgOiA8IDogPF4bIQYLIBEgFWohFQJAICVFQwAAAAAgPyAmGyI8IEsgTpIiOiA9IAaSkpIgB15Fcg0AIA0oAnggDSgCfEYNACAOIREMAwsgCRB5BEAgQiAJEDuSIUIgQyAJEEAgCSoCnAGUkyFDCyBBIDwgOiAGkpIiBpIhQSA9IAaSIT0gDSgCfCILIA0oAoABRwRAIAsgCTYCACANIAtBBGo2AnwMAQsgCyANKAJ4ayILQQJ1IhFBAWoiDkGAgICABE8NBSANQYgBakH/////AyALQQF1IiYgDiAOICZJGyALQfz///8HTxsgESAnEEohDiANKAKQASAJNgIAIA0gDSgCkAFBBGo2ApABIA0oAowBIA0oAnwgDSgCeCIJayILayAJIAsQMyELIA0gDSgCeCIJNgKMASANIAs2AnggDSkDkAEhViANIA0oAnwiCzYCkAEgDSgCgAEhESANIFY3AnwgDSARNgKUASAOIAk2AgAgCSALRwRAIA0gCyAJIAtrQQNqQXxxajYCkAELIAlFDQAgCRAnCyANQQA2AnAgDSANKQNQNwNoIDggDSgCWBA8IA1B0ABqEC4gDSgCcCIJBEADQCAJKAIAIQsgCRAnIAsiCQ0ACwtBACERIA1BADYCcCANKAJUIg4gDSgCUCIJcg0ACwtDAACAPyBCIEJDAACAP10bIEIgQkMAAAAAXhshPCANKAJ8IRcgDSgCeCEJAn0CQAJ9AkACQAJAIB5FDQAgFCAPQQAgQCBAEDUhBiAUIA9BACBAIEAQLSE6IBQgD0EBIEcgQBA1IT8gFCAPQQEgRyBAEC0hPSAGID8gE0EBSyILGyBKkyIGIAZbIAYgQV5xDQEgOiA9IAsbIEqTIgYgBlsgBiBBXXENASAAKAL0Ay0AFEEBcQ0AIEEgPEMAAAAAWw0DGiAAEDsiBiAGXA0CIEEgABA7QwAAAABbDQMaDAILIAchBgsgBiAGWw0CIAYhBwsgBwshBiBBjEMAAAAAIEFDAAAAAF0bIT8gBgwBCyAGIEGTIT8gBgshByA2RQRAAkAgCSAXRgRAQwAAAAAhQQwBC0MAAIA/IEMgQ0MAAIA/XRsgQyBDQwAAAABeGyE9QwAAAAAhQSAJIQ4DQCAOKAIAIgsqApwBITogC0EUaiIQIA8gGSBJIEAQNSFCAkAgECAPIBkgSSBAEC0iBkMAAAAAYCAGIDpdcQ0AIEJDAAAAAGBFBEAgOiEGDAELIEIgOiA6IEJdGyEGCwJAID9DAAAAAF0EQCAGIAsQQIyUIjpDAAAAAF4gOkMAAAAAXXJFDQEgCyATIA8gPyA9lSA6lCAGkiJCIAcgOxAlITogQiBCXCA6IDpcciA6IEJbcg0BIEEgOiAGk5IhQSALEEAgCyoCnAGUID2SIT0MAQsgP0MAAAAAXkUNACALEDsiQkMAAAAAXiBCQwAAAABdckUNACALIBMgDyA/IDyVIEKUIAaSIkMgByA7ECUhOiBDIENcIDogOlxyIDogQ1tyDQAgPCBCkyE8IEEgOiAGk5IhQQsgDkEEaiIOIBdHDQALID8gQZMiQiA9lSFLIEIgPJUhTiAALwAVQYCAA3FFIC5yISVDAAAAACFBIAkhCwNAIAsoAgAiDioCnAEhPCAOQRRqIhggDyAZIEkgQBA1IToCQCAYIA8gGSBJIEAQLSIGQwAAAABgIAYgPF1xDQAgOkMAAAAAYEUEQCA8IQYMAQsgOiA8IDogPF4bIQYLAn0gDiATIA8CfSBCQwAAAABdBEAgBiAGIA4QQIyUIjxDAAAAAFsNAhogBiA8kiA9QwAAAABbDQEaIEsgPJQgBpIMAQsgBiBCQwAAAABeRQ0BGiAGIA4QOyI8QwAAAABeIDxDAAAAAF1yRQ0BGiBOIDyUIAaSCyAHIDsQJQshQyAYIBNBASA7ECIhPCAYIBNBASA7ECEhOiAYIBZBASA7ECIhUiAYIBZBASA7ECEhUyANIEMgPCA6kiJUkiJVOAJoIA1BADYCYCBSIFOSITwCQCAOQfwAaiIQIA4vAXoQICI6IDpbBEAgECAOLwF6ECAhOiANQQA2AmQgDSA8IFUgVJMiPCA6lCA8IDqVIBkbkjgCeAwBCyAjKAIAIRACQCApDQAgDiAQQQN0aiIhKgL4AyE6QQAhEgJAAkACQCAhLQD8A0EBaw4CAQACCyBEIDqUQwrXIzyUIToLIDogOlwNACA6QwAAAABgIRILICUgNSASQQFzcXFFDQAgDi8AFkEPcSISBH8gEgUgAC0AFUEEdgtBBEcNACANQYgBaiAYICAoAgAgDxAoIA0tAIwBQQNGDQAgDUGIAWogGCAcKAIAIA8QKCANLQCMAUEDRg0AIA1BADYCZCANIEQ4AngMAQsgDkH4A2oiEiAQQQN0aiIQKgIAIToCQAJAAkACQCAQLQAEQQFrDgIBAAILIEQgOpRDCtcjPJQhOgsgOkMAAAAAYA0BCyANIC02AmQgDSBEOAJ4DAELAkACfwJAAkACQCAWQQJrDgICAAELIDwgDiAPQQAgRCA7EDGSITpBAAwCC0EBIRAgDSA8IA4gD0EBIEQgOxAxkiI6OAJ4IBNBAU0NDAwCCyA8IA4gD0EAIEQgOxAxkiE6QQALIRAgDSA6OAJ4CyANIDMgEiAQQQN0ajEABEIghkKAgICAIFFxIDogOlxyNgJkCyAOIA8gEyAHIDsgDUHgAGogDUHoAGoQPyAOIA8gFiBEIDsgDUHkAGogDUH4AGoQPyAOICMoAgBBA3RqIhAqAvgDIToCQAJAAkACQCAQLQD8A0EBaw4CAQACCyBEIDqUQwrXIzyUIToLQQEhECA6QwAAAABgDQELQQEhECAOLwAWQQ9xIhIEfyASBSAALQAVQQR2C0EERw0AIA1BiAFqIBggICgCACAPECggDS0AjAFBA0YNACANQYgBaiAYIBwoAgAgDxAoIA0tAIwBQQNGIRALIA4gDSoCaCI8IA0qAngiOiATQQFLIhIbIDogPCASGyAALQCIA0EDcSANKAJgIhggDSgCZCIhIBIbICEgGCASGyA7IEUgCCAQcSIQQQRBByAQGyAKICIgDBA9GiBBIEMgBpOSIUEgAAJ/IAAtAIgDIhBBBHFFBEBBACAOLQCIA0EEcUUNARoLQQQLIBBB+wFxcjoAiAMgC0EEaiILIBdHDQALCyA/IEGTIT8LIAAgAC0AiAMiC0H7AXFBBCA/QwAAAABdQQJ0IAtBBHFBAnYbcjoAiAMgFCATIA8gQBBgIBQgEyAPEEuSITogFCATIA8gQBB/IBQgEyAPEFKSIUsgFCATIAcQTSFCAn8CQAJ9ID9DAAAAAF5FIB5BAkdyRQRAIA1BiAFqIDAgLyAkKAIAQQF0ai8BABAfAkAgDS0AjAEEQCAUIA8gKCBJIEAQNSIGIAZbDQELQwAAAAAMAgtDAAAAACAUIA8gKCBJIEAQNSA6kyBLkyAHID+TkyI/QwAAAABeRQ0BGgsgP0MAAAAAYEUNASA/CyE8IBQtAABBBHZBB3EMAQsgPyE8IBQtAABBBHZBB3EiC0EAIAtBA2tBA08bCyELQwAAAAAhBgJAAkAgFQ0AQwAAAAAhPQJAAkACQAJAAkAgC0EBaw4FAAECBAMGCyA8QwAAAD+UIT0MBQsgPCE9DAQLIBcgCWsiC0EFSQ0CIEIgPCALQQJ1QQFrs5WSIUIMAgsgQiA8IBcgCWtBAnVBAWqzlSI9kiFCDAILIDxDAAAAP5QgFyAJa0ECdbOVIj0gPZIgQpIhQgwBC0MAAAAAIT0LIDogPZIhPSAAEHwhEgJAIAkgF0YiGARAQwAAAAAhP0MAAAAAIToMAQsgF0EEayElIDwgFbOVIU4gMigCACEhQwAAAAAhOkMAAAAAIT8gCSELA0AgDUGIAWogCygCACIOQRRqIhAgISAPECggPUMAAACAIE5DAAAAgCA8QwAAAABeGyJBIA0tAIwBQQNHG5IhPSAIBEACfwJAAkACQAJAIBNBAWsOAwECAwALQQEhFSAOQaADagwDC0EDIRUgDkGoA2oMAgtBACEVIA5BnANqDAELQQIhFSAOQaQDagshKiAOIBVBAnRqICoqAgAgPZI4ApwDCyAlKAIAIRUgDUGIAWogECAxKAIAIA8QKCA9QwAAAIAgQiAOIBVGG5JDAAAAgCBBIA0tAIwBQQNHG5IhPQJAIDRFBEAgPSAQIBNBASA7ECIgECATQQEgOxAhkiAOKgKcAZKSIT0gRCEGDAELIA4gEyA7EF0gPZIhPSASBEAgDhBOIUEgEEEAIA8gOxBBIUMgDioCmAMgEEEAQQEgOxAiIBBBAEEBIDsQIZKSIEEgQ5IiQZMiQyA/ID8gQ10bIEMgPyA/ID9cGyA/ID9bIEMgQ1txGyE/IEEgOiA6IEFdGyBBIDogOiA6XBsgOiA6WyBBIEFbcRshOgwBCyAOIBYgOxBdIkEgBiAGIEFdGyBBIAYgBiAGXBsgBiAGWyBBIEFbcRshBgsgC0EEaiILIBdHDQALCyA/IDqSIAYgEhshQQJ9IDkEQCAAIBYgDyBGIEGSIE0gQBAlIEaTDAELIEQgQSA3GyFBIEQLIT8gH0UEQCAAIBYgDyBGIEGSIE0gQBAlIEaTIUELIEsgPZIhPAJAIAhFDQAgCSELIBgNAANAIAsoAgAiFS8AFkEPcSIORQRAIAAtABVBBHYhDgsCQAJAAkACQCAOQQRrDgIAAQILIA1BiAFqIBVBFGoiECAgKAIAIA8QKEEEIQ4gDS0AjAFBA0YNASANQYgBaiAQIBwoAgAgDxAoIA0tAIwBQQNGDQEgFSAjKAIAQQN0aiIOKgL4AyE9AkACQAJAIA4tAPwDQQFrDgIBAAILIEQgPZRDCtcjPJQhPQsgPiEGID1DAAAAAGANAwsgFSAkKAIAQQJ0aioClAMhBiANIBVB/ABqIg4gFS8BehAgIjogOlsEfSAQIBZBASA7ECIgECAWQQEgOxAhkiAGIA4gFS8BehAgIjqUIAYgOpUgGRuSBSBBCzgCeCANIAYgECATQQEgOxAiIBAgE0EBIDsQIZKSOAKIASANQQA2AmggDUEANgJkIBUgDyATIAcgOyANQegAaiANQYgBahA/IBUgDyAWIEQgOyANQeQAaiANQfgAahA/IA0qAngiOiANKgKIASI9IBNBAUsiGCIOGyEGIB9BAEcgAC8AFUEPcUEER3EiECAZcSA9IDogDhsiOiA6XHIhDiAVIDogBiAPIA4gECAYcSAGIAZcciA7IEVBAUECIAogIiAMED0aID4hBgwCC0EFQQEgFC0AAEEIcRshDgsgFSAWIDsQXSEGIA1BiAFqIBVBFGoiECAgKAIAIhggDxAoID8gBpMhOgJAIA0tAIwBQQNHBEAgHCgCACESDAELIA1BiAFqIBAgHCgCACISIA8QKCANLQCMAUEDRw0AID4gOkMAAAA/lCIGQwAAAAAgBkMAAAAAXhuSIQYMAQsgDUGIAWogECASIA8QKCA+IQYgDS0AjAFBA0YNACANQYgBaiAQIBggDxAoIA0tAIwBQQNGBEAgPiA6QwAAAAAgOkMAAAAAXhuSIQYMAQsCQAJAIA5BAWsOAgIAAQsgPiA6QwAAAD+UkiEGDAELID4gOpIhBgsCfwJAAkACQAJAIBZBAWsOAwECAwALQQEhECAVQaADagwDC0EDIRAgFUGoA2oMAgtBACEQIBVBnANqDAELQQIhECAVQaQDagshDiAVIBBBAnRqIAYgTCAOKgIAkpI4ApwDIAtBBGoiCyAXRw0ACwsgCQRAIAkQJwsgPCBIIDwgSF4bIDwgSCBIIEhcGyBIIEhbIDwgPFtxGyFIIEwgT0MAAAAAIBsbIEGSkiFMIBtBAWohGyANKAJQIgkgEXINAAsLAkAgCEUNACAfRQRAIAAQfEUNAQsgACAWIA8CfSBGIESSIBpFDQAaIAAgFkECdEH8JWooAgBBA3RqIgkqAvgDIQYCQAJAAkAgCS0A/ANBAWsOAgEAAgsgTSAGlEMK1yM8lCEGCyAGQwAAAABgRQ0AIAAgD0GBAiAWQQN0dkEBcSBNIEAQMQwBCyBGIEySCyBHIEAQJSEGQwAAAAAhPCAALwAVQQ9xIQkCQAJAAkACQAJAAkACQAJAAkAgBiBGkyBMkyIGQwAAAABgRQRAQwAAAAAhQyAJQQJrDgICAQcLQwAAAAAhQyAJQQJrDgcBAAUGBAIDBgsgPiAGkiE+DAULID4gBkMAAAA/lJIhPgwECyAGIBuzIjqVITwgPiAGIDogOpKVkiE+DAMLID4gBiAbQQFqs5UiPJIhPgwCCyAbQQJJBEAMAgsgDUGIAWogABAyIAYgG0EBa7OVITwMAgsgBiAbs5UhQwsgDUGIAWogABAyIBtFDQELIBZBAnQiCUHcJWohECAJQfwlaiERIA1BOGohGCANQcgAaiEZIA1B8ABqIRUgDUGQAWohHCANQYABaiEfQQAhEgNAIA1BADYCgAEgDSANKQOIATcDeCAfIA0oApABEDwgDUEANgJwIA0gDSkDeCJWNwNoIBUgDSgCgAEiCxA8IA0oAmwhCQJAAkAgDSgCaCIOBEBDAAAAACE6QwAAAAAhP0MAAAAAIQYMAQtDAAAAACE6QwAAAAAhP0MAAAAAIQYgCUUNAQsDQCAOKALsAyAOKALoAyIOa0ECdSAJTQ0FAkAgDiAJQQJ0aigCACIJLwAVIAktABdBEHRyIhdBgIAwcUGAgBBGIBdBgOAAcUGAwABGcg0AIAkoAtwDIBJHDQIgCUEUaiEOIAkgESgCAEECdGoqApQDIj1DAAAAAGAEfyA9IA4gFkEBIDsQIiAOIBZBASA7ECGSkiI9IAYgBiA9XRsgPSAGIAYgBlwbIAYgBlsgPSA9W3EbIQYgCS0AFgUgF0EIdgtBD3EiFwR/IBcFIAAtABVBBHYLQQVHDQAgFC0AAEEIcUUNACAJEE4gDkEAIA8gOxBBkiI9ID8gPSA/XhsgPSA/ID8gP1wbID8gP1sgPSA9W3EbIj8gCSoCmAMgDkEAQQEgOxAiIA5BAEEBIDsQIZKSID2TIj0gOiA6ID1dGyA9IDogOiA6XBsgOiA6WyA9ID1bcRsiOpIiPSAGIAYgPV0bID0gBiAGIAZcGyAGIAZbID0gPVtxGyEGCyANQQA2AkggDSANKQNoNwNAIBkgDSgCcBA8IA1B6ABqEC4gDSgCSCIJBEADQCAJKAIAIQ4gCRAnIA4iCQ0ACwsgDUEANgJIIA0oAmwiCSANKAJoIg5yDQALCyANIA0pA2g3A4gBIBwgDSgCcBB1IA0gVjcDaCAVIAsQdSA+IE9DAAAAACASG5IhPiBDIAaSIT0gDSgCbCEJAkAgDSgCaCIOIA0oAogBRgRAIAkgDSgCjAFGDQELID4gP5IhQiA+ID2SIUsgPCA9kiEGA0AgDigC7AMgDigC6AMiDmtBAnUgCU0NBQJAIA4gCUECdGooAgAiCS8AFSAJLQAXQRB0ciIXQYCAMHFBgIAQRiAXQYDgAHFBgMAARnINACAJQRRqIQ4CQAJAAkACQAJAAkAgF0EIdkEPcSIXBH8gFwUgAC0AFUEEdgtBAWsOBQEDAgQABgsgFC0AAEEIcQ0ECyAOIBYgDyA7EFEhOiAJIBAoAgBBAnRqID4gOpI4ApwDDAQLIA4gFiAPIDsQYiE/AkACQAJAAkAgFkECaw4CAgABCyAJKgKUAyE6QQIhDgwCC0EBIQ4gCSoCmAMhOgJAIBYOAgIADwtBAyEODAELIAkqApQDITpBACEOCyAJIA5BAnRqIEsgP5MgOpM4ApwDDAMLAkACQAJAAkAgFkECaw4CAgABCyAJKgKUAyE/QQIhDgwCC0EBIQ4gCSoCmAMhPwJAIBYOAgIADgtBAyEODAELIAkqApQDIT9BACEOCyAJIA5BAnRqID4gPSA/k0MAAAA/lJI4ApwDDAILIA4gFiAPIDsQQSE6IAkgECgCAEECdGogPiA6kjgCnAMgCSARKAIAQQN0aiIXKgL4AyE/AkACQAJAIBctAPwDQQFrDgIBAAILIEQgP5RDCtcjPJQhPwsgP0MAAAAAYA0CCwJAAkACfSATQQFNBEAgCSoCmAMgDiAWQQEgOxAiIA4gFkEBIDsQIZKSITogBgwBCyAGITogCSoClAMgDiATQQEgOxAiIA4gE0EBIDsQIZKSCyI/ID9cIAkqApQDIkEgQVxyRQRAID8gQZOLQxe30ThdDQEMAgsgPyA/WyBBIEFbcg0BCyAJKgKYAyJBIEFcIg4gOiA6XHJFBEAgOiBBk4tDF7fROF1FDQEMAwsgOiA6Ww0AIA4NAgsgCSA/IDogD0EAQQAgOyBFQQFBAyAKICIgDBA9GgwBCyAJIEIgCRBOkyAOQQAgDyBEEFGSOAKgAwsgDUEANgI4IA0gDSkDaDcDMCAYIA0oAnAQPCANQegAahAuIA0oAjgiCQRAA0AgCSgCACEOIAkQJyAOIgkNAAsLIA1BADYCOCANKAJsIQkgDSgCaCIOIA0oAogBRw0AIAkgDSgCjAFHDQALCyANKAJwIgkEQANAIAkoAgAhDiAJECcgDiIJDQALCyALBEADQCALKAIAIQkgCxAnIAkiCw0ACwsgPCA+kiA9kiE+IBJBAWoiEiAbRw0ACwsgDSgCkAEiCUUNAANAIAkoAgAhCyAJECcgCyIJDQALCyAAQZQDaiIQIABBAiAPIFAgQCBAECU4AgAgAEGYA2oiESAAQQAgDyBRIEcgQBAlOAIAAkAgEEGBAiATQQN0dkEBcUECdGoCfQJAIB5BAUcEQCAALQAXQQNxIglBAkYgHkECR3INAQsgACATIA8gSCBJIEAQJQwBCyAeQQJHIAlBAkdyDQEgSiAAIA8gEyBIIEkgQBB0Ij4gSiAHkiIGIAYgPl4bID4gBiAGIAZcGyAGIAZbID4gPltxGyIGIAYgSl0bIEogBiAGIAZcGyAGIAZbIEogSltxGws4AgALAkAgEEGBAiAWQQN0dkEBcUECdGoCfQJAIBpBAUcEQCAaQQJHIgkgAC0AF0EDcSILQQJGcg0BCyAAIBYgDyBGIEySIE0gQBAlDAELIAkgC0ECR3INASBGIAAgDyAWIEYgTJIgTSBAEHQiByBGIESSIgYgBiAHXhsgByAGIAYgBlwbIAYgBlsgByAHW3EbIgYgBiBGXRsgRiAGIAYgBlwbIAYgBlsgRiBGW3EbCzgCAAsCQCAIRQ0AAkAgAC8AFUGAgANxQYCAAkcNACANQYgBaiAAEDIDQCANKAKMASIJIA0oAogBIgtyRQRAIA0oApABIglFDQIDQCAJKAIAIQsgCRAnIAsiCQ0ACwwCCyALKALsAyALKALoAyILa0ECdSAJTQ0DIAsgCUECdGooAgAiCS8AFUGA4ABxQYDAAEcEQCAJAn8CQAJAAkAgFkECaw4CAAECCyAJQZQDaiEOIBAqAgAgCSoCnAOTIQZBAAwCCyAJQZQDaiEOIBAqAgAgCSoCpAOTIQZBAgwBCyARKgIAIQYCQAJAIBYOAgABCgsgCUGYA2ohDiAGIAkqAqADkyEGQQEMAQsgCUGYA2ohDiAGIAkqAqgDkyEGQQMLQQJ0aiAGIA4qAgCTOAKcAwsgDUGIAWoQLgwACwALAkAgEyAWckEBcUUNACAWQQFxIRQgE0EBcSEVIA1BiAFqIAAQMgNAIA0oAowBIgkgDSgCiAEiC3JFBEAgDSgCkAEiCUUNAgNAIAkoAgAhCyAJECcgCyIJDQALDAILIAsoAuwDIAsoAugDIgtrQQJ1IAlNDQMCQCALIAlBAnRqKAIAIgkvABUgCS0AF0EQdHIiC0GAgDBxQYCAEEYgC0GA4ABxQYDAAEZyDQAgFQRAAn8CfwJAAkACQCATQQFrDgMAAQINCyAJQZgDaiEOIAlBqANqIQtBASESIBEMAwsgCUGUA2ohDkECIRIgCUGcA2oMAQsgCUGUA2ohDkEAIRIgCUGkA2oLIQsgEAshGyAJIBJBAnRqIBsqAgAgDioCAJMgCyoCAJM4ApwDCyAURQ0AAn8CfwJAAkACQCAWQQFrDgMAAQIMCyAJQZgDaiELIAlBqANqIRJBASEXIBEMAwsgCUGUA2ohCyAJQZwDaiESQQIMAQsgCUGUA2ohCyAJQaQDaiESQQALIRcgEAshDiAJIBdBAnRqIA4qAgAgCyoCAJMgEioCAJM4ApwDCyANQYgBahAuDAALAAsgAC8AFUGA4ABxICJBAUZyRQRAIAAtAABBCHFFDQELIAAgACAeIAQgE0EBSxsgDyAKICIgDEMAAAAAQwAAAAAgOyBFEH4aCyANKAJYIglFDQIDQCAJKAIAIQsgCRAnIAsiCQ0ACwwCCxACAAsgABBeCyANQaABaiQADAELECQACyAAIAM6AKgBIAAgACgC9AMoAgw2AqQBIB0NACAKIAooAggiAyAAKAKsASIOQQFqIgkgAyAJSxs2AgggDkEIRgRAIABBADYCrAFBACEOCyAIBH8gAEHwAmoFIAAgDkEBajYCrAEgACAOQRhsakGwAWoLIgMgBTYCDCADIAQ2AgggAyACOAIEIAMgATgCACADIAAqApQDOAIQIAMgACoCmAM4AhRBACEdCyAIBEAgACAAKQKUAzcCjAMgACAALQAAIgNBAXIiBEH7AXEgBCADQQRxGzoAAAsgACAMNgKgASArIB1Fcgs1AQF/IAEgACgCBCICQQF1aiEBIAAoAgAhACABIAJBAXEEfyABKAIAIABqKAIABSAACxECAAt9ACAAQRRqIgAgAUGBAiACQQN0dkH/AXEgAyAEEC0gACACQQEgBBAiIAAgAkEBIAQQIZKSIQQCQAJAAkACQCAFKAIADgMAAQADCyAGKgIAIgMgAyAEIAMgBF0bIAQgBFwbIQQMAQsgBCAEXA0BIAVBAjYCAAsgBiAEOAIACwuMAQIBfwF9IAAoAuQDRQRAQwAAAAAPCyAAQfwAaiIBIAAvARwQICICIAJbBEAgASAALwEcECAPCwJAIAAoAvQDLQAIQQFxDQAgASAALwEYECAiAiACXA0AIAEgAC8BGBAgQwAAAABdRQ0AIAEgAC8BGBAgjA8LQwAAgD9DAAAAACAAKAL0Ay0ACEEBcRsLcAIBfwF9IwBBEGsiBCQAIARBCGogACABQQJ0QdwlaigCACACEChDAADAfyEFAkACQAJAIAQtAAxBAWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwtHAQF/IAIvAAYiA0EHcQRAIAAgAUHoAGogAxAfDwsgAUHoAGohASACLwAOIgNBB3EEQCAAIAEgAxAfDwsgACABIAIvABAQHwtHAQF/IAIvAAIiA0EHcQRAIAAgAUHoAGogAxAfDwsgAUHoAGohASACLwAOIgNBB3EEQCAAIAEgAxAfDwsgACABIAIvABAQHwt7AAJAAkACQAJAIANBAWsOAgABAgsgAi8ACiIDQQdxRQ0BDAILIAIvAAgiA0EHcUUNAAwBCyACLwAEIgNBB3EEQAwBCyABQegAaiEBIAIvAAwiA0EHcQRAIAAgASADEB8PCyAAIAEgAi8AEBAfDwsgACABQegAaiADEB8LewACQAJAAkACQCADQQFrDgIAAQILIAIvAAgiA0EHcUUNAQwCCyACLwAKIgNBB3FFDQAMAQsgAi8AACIDQQdxBEAMAQsgAUHoAGohASACLwAMIgNBB3EEQCAAIAEgAxAfDwsgACABIAIvABAQHw8LIAAgAUHoAGogAxAfC84BAgN/An0jAEEQayIDJABBASEEIANBCGogAEH8AGoiBSAAIAFBAXRqQe4AaiIBLwEAEB8CQAJAIAMqAggiByACKgIAIgZcBEAgByAHWwRAIAItAAQhAgwCCyAGIAZcIQQLIAItAAQhAiAERQ0AIAMtAAwgAkH/AXFGDQELIAUgASAGIAIQOQNAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLIANBEGokAAuFAQIDfwF+AkAgAEKAgICAEFQEQCAAIQUMAQsDQCABQQFrIgEgAEIKgCIFQvYBfiAAfKdBMHI6AAAgAEL/////nwFWIQIgBSEAIAINAAsLIAWnIgIEQANAIAFBAWsiASACQQpuIgNB9gFsIAJqQTByOgAAIAJBCUshBCADIQIgBA0ACwsgAQs3AQJ/QQQQHiICIAE2AgBBBBAeIgMgATYCAEHBOyAAQeI7QfooQb8BIAJB4jtB/ihBwAEgAxAHCw8AIAAgASACQQFBAhCLAQteAQF/IABBADYCDCAAIAM2AhACQCABBEAgAUGAgICABE8NASABQQJ0EB4hBAsgACAENgIAIAAgBCACQQJ0aiICNgIIIAAgBCABQQJ0ajYCDCAAIAI2AgQgAA8LEFgAC3kCAX8BfSMAQRBrIgMkACADQQhqIAAgAUECdEHcJWooAgAgAhBTQwAAwH8hBAJAAkACQCADLQAMQQFrDgIAAQILIAMqAgghBAwBCyADKgIIQwAAAACUQwrXIzyUIQQLIANBEGokACAEQwAAAACXQwAAAAAgBCAEWxsLnAoBC38jAEEQayIIJAAgASABLwAAQXhxIANyIgM7AAACQAJAAkACQAJAAkACQAJAAkACQCADQQhxBEAgA0H//wNxIgZBBHYhBCAGQT9NBH8gACAEQQJ0akEEagUgBEEEayIEIAAoAhgiACgCBCAAKAIAIgBrQQJ1Tw0CIAAgBEECdGoLIAI4AgAMCgsCfyACi0MAAABPXQRAIAKoDAELQYCAgIB4CyIEQf8PakH+H0sgBLIgAlxyRQRAIANBD3FBACAEa0GAEHIgBCACQwAAAABdG0EEdHIhAwwKCyAAIAAvAQAiC0EBajsBACALQYAgTw0DIAtBA00EQCAAIAtBAnRqIAI4AgQMCQsgACgCGCIDRQRAQRgQHiIDQgA3AgAgA0IANwIQIANCADcCCCAAIAM2AhgLAkAgAygCBCIEIAMoAghHBEAgBCACOAIAIAMgBEEEajYCBAwBCyAEIAMoAgAiB2siBEECdSIJQQFqIgZBgICAgARPDQECf0H/////AyAEQQF1IgUgBiAFIAZLGyAEQfz///8HTxsiBkUEQEEAIQUgCQwBCyAGQYCAgIAETw0GIAZBAnQQHiEFIAMoAgQgAygCACIHayIEQQJ1CyEKIAUgCUECdGoiCSACOAIAIAkgCkECdGsgByAEEDMhByADIAUgBkECdGo2AgggAyAJQQRqNgIEIAMoAgAhBCADIAc2AgAgBEUNACAEECMLIAAoAhgiBigCECIDIAYoAhQiAEEFdEcNByADQQFqQQBIDQAgA0H+////A0sNASADIABBBnQiACADQWBxQSBqIgQgACAESxsiAE8NByAAQQBODQILEAIAC0H/////ByEAIANB/////wdPDQULIAhBADYCCCAIQgA3AwAgCCAAEJ8BIAYoAgwhBCAIIAgoAgQiByAGKAIQIgBBH3FqIABBYHFqIgM2AgQgB0UEQCADQQFrIQUMAwsgA0EBayIFIAdBAWtzQR9LDQIgCCgCACEKDAMLQZUlQeEXQSJB3BcQCwALEFgACyAIKAIAIgogBUEFdkEAIANBIU8bQQJ0akEANgIACyAKIAdBA3ZB/P///wFxaiEDAkAgB0EfcSIHRQRAIABBAEwNASAAQSBtIQUgAEEfakE/TwRAIAMgBCAFQQJ0EDMaCyAAIAVBBXRrIgBBAEwNASADIAVBAnQiBWoiAyADKAIAQX9BICAAa3YiAEF/c3EgBCAFaigCACAAcXI2AgAMAQsgAEEATA0AQX8gB3QhDEEgIAdrIQkgAEEgTgRAIAxBf3MhDSADKAIAIQUDQCADIAUgDXEgBCgCACIFIAd0cjYCACADIAMoAgQgDHEgBSAJdnIiBTYCBCAEQQRqIQQgA0EEaiEDIABBP0shDiAAQSBrIQAgDg0ACyAAQQBMDQELIAMgAygCAEF/IAkgCSAAIAAgCUobIgVrdiAMcUF/c3EgBCgCAEF/QSAgAGt2cSIEIAd0cjYCACAAIAVrIgBBAEwNACADIAUgB2pBA3ZB/P///wFxaiIDIAMoAgBBf0EgIABrdkF/c3EgBCAFdnI2AgALIAYoAgwhACAGIAo2AgwgBiAIKAIEIgM2AhAgBiAIKAIINgIUIABFDQAgABAjIAYoAhAhAwsgBiADQQFqNgIQIAYoAgwgA0EDdkH8////AXFqIgAgACgCAEF+IAN3cTYCACABLwAAIQMLIANBB3EgC0EEdHJBCHIhAwsgASADOwAAIAhBEGokAAuPAQIBfwF9IwBBEGsiAyQAIANBCGogAEHoAGogAEHUAEHWACABQf4BcUECRhtqLwEAIgEgAC8BWCABQQdxGxAfQwAAwH8hBAJAAkACQCADLQAMQQFrDgIAAQILIAMqAgghBAwBCyADKgIIIAKUQwrXIzyUIQQLIANBEGokACAEQwAAAACXQwAAAAAgBCAEWxsL2AICBH8BfSMAQSBrIgMkAAJAIAAoAgwiAQRAIAAgACoClAMgACoCmAMgAREnACIFIAVbDQEgA0GqHjYCACAAQQVB2CUgAxAsECQACyADQRBqIAAQMgJAIAMoAhAiAiADKAIUIgFyRQ0AAkADQCABIAIoAuwDIAIoAugDIgJrQQJ1SQRAIAIgAUECdGooAgAiASgC3AMNAyABLwAVIAEtABdBEHRyIgJBgOAAcUGAwABHBEAgAkEIdkEPcSICBH8gAgUgAC0AFUEEdgtBBUYEQCAALQAUQQhxDQQLIAEtAABBAnENAyAEIAEgBBshBAsgA0EQahAuIAMoAhQiASADKAIQIgJyDQEMAwsLEAIACyABIQQLIAMoAhgiAQRAA0AgASgCACECIAEQIyACIgENAAsLIARFBEAgACoCmAMhBQwBCyAEEE4gBCoCoAOSIQULIANBIGokACAFC6EDAQh/AkAgACgC6AMiBSAAKALsAyIHRwRAA0AgACAFKAIAIgIoAuQDRwRAAkAgACgC9AMoAgAiAQRAIAIgACAGIAERBgAiAQ0BC0GIBBAeIgEgAigCEDYCECABIAIpAgg3AgggASACKQIANwIAIAFBFGogAkEUakHoABArGiABQgA3AoABIAFB/ABqIgNBADsBACABQgA3AogBIAFCADcCkAEgAyACQfwAahCgASABQZgBaiACQZgBakHQAhArGiABQQA2AvADIAFCADcC6AMgAigC7AMiAyACKALoAyIERwRAIAMgBGsiBEEASA0FIAEgBBAeIgM2AuwDIAEgAzYC6AMgASADIARqNgLwAyACKALoAyIEIAIoAuwDIghHBEADQCADIAQoAgA2AgAgA0EEaiEDIARBBGoiBCAIRw0ACwsgASADNgLsAwsgASACKQL0AzcC9AMgASACKAKEBDYChAQgASACKQL8AzcC/AMgAUEANgLkAwsgBSABNgIAIAEgADYC5AMLIAZBAWohBiAFQQRqIgUgB0cNAAsLDwsQAgALUAACQAJAAkACQAJAIAIOBAQAAQIDCyAAIAEgAUEwahBDDwsgACABIAFBMGogAxBEDwsgACABIAFBMGoQQg8LECQACyAAIAEgAUEwaiADEEULcAIBfwF9IwBBEGsiBCQAIARBCGogACABQQJ0QdwlaigCACACEDZDAADAfyEFAkACQAJAIAQtAAxBAWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwt5AgF/AX0jAEEQayIDJAAgA0EIaiAAIAFBAnRB7CVqKAIAIAIQU0MAAMB/IQQCQAJAAkAgAy0ADEEBaw4CAAECCyADKgIIIQQMAQsgAyoCCEMAAAAAlEMK1yM8lCEECyADQRBqJAAgBEMAAAAAl0MAAAAAIAQgBFsbC1QAAkACQAJAAkACQCACDgQEAAECAwsgACABIAFBwgBqEEMPCyAAIAEgAUHCAGogAxBEDwsgACABIAFBwgBqEEIPCxAkAAsgACABIAFBwgBqIAMQRQsvACAAIAJFQQF0IgIgASADEGAgACACIAEQS5IgACACIAEgAxB/IAAgAiABEFKSkgvOAQIDfwJ9IwBBEGsiAyQAQQEhBCADQQhqIABB/ABqIgUgACABQQF0akH2AGoiAS8BABAfAkACQCADKgIIIgcgAioCACIGXARAIAcgB1sEQCACLQAEIQIMAgsgBiAGXCEECyACLQAEIQIgBEUNACADLQAMIAJB/wFxRg0BCyAFIAEgBiACEDkDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCyADQRBqJAALzgECA38CfSMAQRBrIgMk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AWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwscACAAIAFBCCACpyACQiCIpyADpyADQiCIpxAVCwUAEFgACzkAIABFBEBBAA8LAn8gAUGAf3FBgL8DRiABQf8ATXJFBEBB/DtBGTYCAEF/DAELIAAgAToAAEEBCwvEAgACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABQQlrDhIACgsMCgsCAwQFDAsMDAoLBwgJCyACIAIoAgAiAUEEajYCACAAIAEoAgA2AgAPCwALIAIgAigCACIBQQRqNgIAIAAgATIBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATMBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATAAADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATEAADcDAA8LAAsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACIAMRAQALDwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMAC84BAgN/An0jAEEQayIDJABBASEEIANBCGogAEH8AGoiBSAAIAFBAXRqQegAaiIBLwEAEB8CQAJAIAMqAggiByACKgIAIgZcBEAgByAHWwRAIAItAAQhAgwCCyAGIAZcIQQLIAItAAQhAiAERQ0AIAMtAAwgAkH/AXFGDQELIAUgASAGIAIQOQNAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLIANBEGokAAtdAQR/IAAoAgAhAgNAIAIsAAAiAxBXBEBBfyEEIAAgAkEBaiICNgIAIAFBzJmz5gBNBH9BfyADQTBrIgMgAUEKbCIEaiADIARB/////wdzShsFIAQLIQEMAQsLIAELrhQCEn8BfiMAQdAAayIIJAAgCCABNgJMIAhBN2ohFyAIQThqIRQCQAJAAkACQANAIAEhDSAHIA5B/////wdzSg0BIAcgDmohDgJAAkACQCANIgctAAAiCQRAA0ACQAJAIAlB/wFxIgFFBEAgByEBDAELIAFBJUcNASAHIQkDQCAJLQABQSVHBEAgCSEBDAILIAdBAWohByAJLQACIQogCUECaiIBIQkgCkElRg0ACwsgByANayIHIA5B/////wdzIhhKDQcgAARAIAAgDSAHECYLIAcNBiAIIAE2AkwgAUEBaiEHQX8hEgJAIAEsAAEiChBXRQ0AIAEtAAJBJEcNACABQQNqIQcgCkEwayESQQEhFQsgCCAHNgJMQQAhDAJAIAcsAAAiCUEgayIBQR9LBEAgByEKDAELIAchCkEBIAF0IgFBidEEcUUNAANAIAggB0EBaiIKNgJMIAEgDHIhDCAHLAABIglBIGsiAUEgTw0BIAohB0EBIAF0IgFBidEEcQ0ACwsCQCAJQSpGBEACfwJAIAosAAEiARBXRQ0AIAotAAJBJEcNACABQQJ0IARqQcABa0EKNgIAIApBA2ohCUEBIRUgCiwAAUEDdCADakGAA2soAgAMAQsgFQ0GIApBAWohCSAARQRAIAggCTYCTEEAIRVBACETDAMLIAIgAigCACIBQQRqNgIAQQAhFSABKAIACyETIAggCTYCTCATQQBODQFBACATayETIAxBgMAAciEMDAELIAhBzABqEIkBIhNBAEgNCCAIKAJMIQkLQQAhB0F/IQsCfyAJLQAAQS5HBEAgCSEBQQAMAQsgCS0AAUEqRgRAAn8CQCAJLAACIgEQV0UNACAJLQADQSRHDQAgAUECdCAEakHAAWtBCjYCACAJQQRqIQEgCSwAAkEDdCADakGAA2soAgAMAQsgFQ0GIAlBAmohAUEAIABFDQAaIAIgAigCACIKQQRqNgIAIAooAgALIQsgCCABNgJMIAtBf3NBH3YMAQsgCCAJQQFqNgJMIAhBzABqEIkBIQsgCCgCTCEBQQELIQ8DQCAHIRFBHCEKIAEiECwAACIHQfsAa0FGSQ0JIBBBAWohASAHIBFBOmxqQf8qai0AACIHQQFrQQhJDQALIAggATYCTAJAAkAgB0EbRwRAIAdFDQsgEkEATgRAIAQgEkECdGogBzYCACAIIAMgEkEDdGopAwA3A0AMAgsgAEUNCCAIQUBrIAcgAiAGEIcBDAILIBJBAE4NCgtBACEHIABFDQcLIAxB//97cSIJIAwgDEGAwABxGyEMQQAhEkGPCSEWIBQhCgJAAkACQAJ/AkACQAJAAkACfwJAAkACQAJAAkACQAJAIBAsAAAiB0FfcSAHIAdBD3FBA0YbIAcgERsiB0HYAGsOIQQUFBQUFBQUFA4UDwYODg4UBhQUFBQCBQMUFAkUARQUBAALAkAgB0HBAGsOBw4UCxQODg4ACyAHQdMARg0JDBMLIAgpA0AhGUGPCQwFC0EAIQcCQAJAAkACQAJAAkACQCARQf8BcQ4IAAECAwQaBQYaCyAIKAJAIA42AgAMGQsgCCgCQCAONgIADBgLIAgoAkAgDqw3AwAMFwsgCCgCQCAOOwEADBYLIAgoAkAgDjoAAAwVCyAIKAJAIA42AgAMFAsgCCgCQCAOrDcDAAwTC0EIIAsgC0EITRshCyAMQQhyIQxB+AAhBwsgFCENIAgpA0AiGVBFBEAgB0EgcSEQA0AgDUEBayINIBmnQQ9xQZAvai0AACAQcjoAACAZQg9WIQkgGUIEiCEZIAkNAAsLIAxBCHFFIAgpA0BQcg0DIAdBBHZBjwlqIRZBAiESDAMLIBQhByAIKQNAIhlQRQRAA0AgB0EBayIHIBmnQQdxQTByOgAAIBlCB1YhDSAZQgOIIRkgDQ0ACwsgByENIAxBCHFFDQIgCyAUIA1rIgdBAWogByALSBshCwwCCyAIKQNAIhlCAFMEQCAIQgAgGX0iGTcDQEEBIRJBjwkMAQsgDEGAEHEEQEEBIRJBkAkMAQtBkQlBjwkgDEEBcSISGwshFiAZIBQQRyENCyAPQQAgC0EASBsNDiAMQf//e3EgDCAPGyEMIAgpA0AiGUIAUiALckUEQCAUIQ1BACELDAwLIAsgGVAgFCANa2oiByAHIAtIGyELDAsLQQAhDAJ/Qf////8HIAsgC0H/////B08bIgoiEUEARyEQAkACfwJAAkAgCCgCQCIHQY4lIAcbIg0iD0EDcUUgEUVyDQADQCAPLQAAIgxFDQIgEUEBayIRQQBHIRAgD0EBaiIPQQNxRQ0BIBENAAsLIBBFDQICQCAPLQAARSARQQRJckUEQANAIA8oAgAiB0F/cyAHQYGChAhrcUGAgYKEeHENAiAPQQRqIQ8gEUEEayIRQQNLDQALCyARRQ0DC0EADAELQQELIRADQCAQRQRAIA8tAAAhDEEBIRAMAQsgDyAMRQ0CGiAPQQFqIQ8gEUEBayIRRQ0BQQAhEAwACwALQQALIgcgDWsgCiAHGyIHIA1qIQogC0EATgRAIAkhDCAHIQsMCwsgCSEMIAchCyAKLQAADQ0MCgsgCwRAIAgoAkAMAgtBACEHIABBICATQQAgDBApDAILIAhBADYCDCAIIAgpA0A+AgggCCAIQQhqIgc2AkBBfyELIAcLIQlBACEHAkADQCAJKAIAIg1FDQEgCEEEaiANEIYBIgpBAEgiDSAKIAsgB2tLckUEQCAJQQRqIQkgCyAHIApqIgdLDQEMAgsLIA0NDQtBPSEKIAdBAEgNCyAAQSAgEyAHIAwQKSAHRQRAQQAhBwwBC0EAIQogCCgCQCEJA0AgCSgCACINRQ0BIAhBBGogDRCGASINIApqIgogB0sNASAAIAhBBGogDRAmIAlBBGohCSAHIApLDQALCyAAQSAgEyAHIAxBgMAAcxApIBMgByAHIBNIGyEHDAgLIA9BACALQQBIGw0IQT0hCiAAIAgrA0AgEyALIAwgByAFERwAIgdBAE4NBwwJCyAIIAgpA0A8ADdBASELIBchDSAJIQwMBAsgBy0AASEJIAdBAWohBwwACwALIAANByAVRQ0CQQEhBwNAIAQgB0ECdGooAgAiAARAIAMgB0EDdGogACACIAYQhwFBASEOIAdBAWoiB0EKRw0BDAkLC0EBIQ4gB0EKTw0HA0AgBCAHQQJ0aigCAA0BIAdBAWoiB0EKRw0ACwwHC0EcIQoMBAsgCyAKIA1rIhAgCyAQShsiCSASQf////8Hc0oNAkE9IQogEyAJIBJqIgsgCyATSBsiByAYSg0DIABBICAHIAsgDBApIAAgFiASECYgAEEwIAcgCyAMQYCABHMQKSAAQTAgCSAQQQAQKSAAIA0gEBAmIABBICAHIAsgDEGAwABzECkMAQsLQQAhDgwDC0E9IQoLQfw7IAo2AgALQX8hDgsgCEHQAGokACAOC9kCAQR/IwBB0AFrIgUkACAFIAI2AswBIAVBoAFqIgJBAEEoECoaIAUgBSgCzAE2AsgBAkBBACABIAVByAFqIAVB0ABqIAIgAyAEEIoBQQBIBEBBfyEEDAELQQEgBiAAKAJMQQBOGyEGIAAoAgAhByAAKAJIQQBMBEAgACAHQV9xNgIACwJ/AkACQCAAKAIwRQRAIABB0AA2AjAgAEEANgIcIABCADcDECAAKAIsIQggACAFNgIsDAELIAAoAhANAQtBfyAAEJ0BDQEaCyAAIAEgBUHIAWogBUHQAGogBUGgAWogAyAEEIoBCyECIAgEQCAAQQBBACAAKAIkEQYAGiAAQQA2AjAgACAINgIsIABBADYCHCAAKAIUIQEgAEIANwMQIAJBfyABGyECCyAAIAAoAgAiACAHQSBxcjYCAEF/IAIgAEEgcRshBCAGRQ0ACyAFQdABaiQAIAQLfwIBfwF+IAC9IgNCNIinQf8PcSICQf8PRwR8IAJFBEAgASAARAAAAAAAAAAAYQR/QQAFIABEAAAAAAAA8EOiIAEQjAEhACABKAIAQUBqCzYCACAADwsgASACQf4HazYCACADQv////////+HgH+DQoCAgICAgIDwP4S/BSAACwsVACAARQRAQQAPC0H8OyAANgIAQX8LzgECA38CfSMAQRBrIgMkAEEBIQQgA0EIaiAAQfwAaiIFIAAgAUEBdGpBxABqIgEvAQAQHwJAAkAgAyoCCCIHIAIqAgAiBlwEQCAHIAdbBEAgAi0ABCECDAILIAYgBlwhBAsgAi0ABCECIARFDQAgAy0ADCACQf8BcUYNAQsgBSABIAYgAhA5A0AgAC0AACIBQQRxDQEgACABQQRyOgAAIAAoAhAiAQRAIAAgAREAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsgA0EQaiQAC9EDAEHUO0GoHBAcQdU7QYoWQQFBAUEAEBtB1jtB/RJBAUGAf0H/ABAEQdc7QfYSQQFBgH9B/wAQBEHYO0H0EkEBQQBB/wEQBEHZO0GUCkECQYCAfkH//wEQBEHaO0GLCkECQQBB//8DEARB2ztBsQpBBEGAgICAeEH/////BxAEQdw7QagKQQRBAEF/EARB3TtB+BhBBEGAgICAeEH/////BxAEQd47Qe8YQQRBAEF/EARB3ztBjxBCgICAgICAgICAf0L///////////8AEIQBQeA7QY4QQgBCfxCEAUHhO0GIEEEEEA1B4jtB9BtBCBANQeM7QaQZEA5B5DtBmSIQDkHlO0EEQZcZEAhB5jtBAkGwGRAIQec7QQRBvxkQCEHoO0GPFhAaQek7QQBB1CEQAUHqO0EAQboiEAFB6ztBAUHyIRABQew7QQJB5B4QAUHtO0EDQYMfEAFB7jtBBEGrHxABQe87QQVByB8QAUHwO0EEQd8iEAFB8TtBBUH9IhABQeo7QQBBriAQAUHrO0EBQY0gEAFB7DtBAkHwIBABQe07QQNBziAQAUHuO0EEQbMhEAFB7ztBBUGRIRABQfI7QQZB7h8QAUHzO0EHQaQjEAELJQAgAEH0JjYCACAALQAEBEAgACgCCEH9DxBmCyAAKAIIEAYgAAsDAAALJQAgAEHsJzYCACAALQAEBEAgACgCCEH9DxBmCyAAKAIIEAYgAAs3AQJ/QQQQHiICIAE2AgBBBBAeIgMgATYCAEGjOyAAQeI7QfooQcEBIAJB4jtB/ihBwgEgAxAHCzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRBQALOQEBfyABIAAoAgQiBEEBdWohASAAKAIAIQAgASACIAMgBEEBcQR/IAEoAgAgAGooAgAFIAALEQMACwkAIAEgABEAAAsHACAAEQ4ACzUBAX8gASAAKAIEIgJBAXVqIQEgACgCACEAIAEgAkEBcQR/IAEoAgAgAGooAgAFIAALEQAACzABAX8jAEEQayICJAAgAiABNgIIIAJBCGogABECACEAIAIoAggQBiACQRBqJAAgAAsMACABIAAoAgARAAALCQAgAEEBOgAEC9coAQJ/QaA7QaE7QaI7QQBBjCZBB0GPJkEAQY8mQQBB2RZBkSZBCBAFQQgQHiIAQoiAgIAQNwMAQaA7QZcbQQZBoCZBuCZBCSAAQQEQAEGkO0GlO0GmO0GgO0GMJkEKQYwmQQtBjCZBDEG4EUGRJkENEAVBBBAeIgBBDjYCAEGkO0HoFEECQcAmQcgmQQ8gAEEAEABBoDtBowxBAkHMJkHUJkEQQREQA0GgO0GAHEEDQaQnQbAnQRJBExADQbg7Qbk7Qbo7QQBBjCZBFEGPJkEAQY8mQQBB6RZBkSZBFRAFQQgQHiIAQoiAgIAQNwMAQbg7QegcQQJBuCdByCZBFiAAQQEQAEG7O0G8O0G9O0G4O0GMJkEXQYwmQRhBjCZBGUHPEUGRJkEaEAVBBBAeIgBBGzYCAEG7O0HoFEECQcAnQcgmQRwgAEEAEABBuDtBowxBAkHIJ0HUJkEdQR4QA0G4O0GAHEEDQaQnQbAnQRJBHxADQb47Qb87QcA7QQBBjCZBIEGPJkEAQY8mQQBB2hpBkSZBIRAFQb47QQFB+CdBjCZBIkEjEA9BvjtBkBtBAUH4J0GMJkEiQSMQA0G+O0HpCEECQfwnQcgmQSRBJRADQQgQHiIAQQA2AgQgAEEmNgIAQb47Qa0cQQRBkChBoChBJyAAQQAQAEEIEB4iAEEANgIEIABBKDYCAEG+O0GkEUEDQagoQbQoQSkgAEEAEABBCBAeIgBBADYCBCAAQSo2AgBBvjtByB1BA0G8KEHIKEErIABBABAAQQgQHiIAQQA2AgQgAEEsNgIAQb47QaYQQQNB0ChByChBLSAAQQAQAEEIEB4iAEEANgIEIABBLjYCAEG+O0HLHEEDQdwoQbAnQS8gAEEAEABBCBAeIgBBADYCBCAAQTA2AgBBvjtB0h1BAkHoKEHUJkExIABBABAAQQgQHiIAQQA2AgQgAEEyNgIAQb47QZcQQQJB8ChB1CZBMyAAQQAQAEHBO0GECkH4KEE0QZEmQTUQCkHiD0EAEEhB6g5BCBBIQYITQRAQSEHxFUEYEEhBgxdBIBBIQfAOQSgQSEHBOxAJQaM7Qf8aQfgoQTZBkSZBNxAKQYMXQQAQkwFB8A5BCBCTAUGjOxAJQcI7QYobQfgoQThBkSZBORAKQQQQHiIAQQg2AgBBBBAeIgFBCDYCAEHCO0GEG0HiO0H6KEE6IABB4jtB/ihBOyABEAdBBBAeIgBBADYCAEEEEB4iAUEANgIAQcI7QeUOQds7QdQmQTwgAEHbO0HIKEE9IAEQB0HCOxAJQcM7QcQ7QcU7QQBBjCZBPkGPJkEAQY8mQQBB+xtBkSZBPxAFQcM7QQFBhClBjCZBwABBwQAQD0HDO0HXDkEBQYQpQYwmQcAAQcEAEANBwztB0BpBAkGIKUHUJkHCAEHDABADQcM7QekIQQJBkClByCZBxABBxQAQA0EIEB4iAEEANgIEIABBxgA2AgBBwztB9w9BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABByAA2AgBBwztB6htBA0GYKUHIKEHJACAAQQAQAEEIEB4iAEEANgIEIABBygA2AgBBwztBnxtBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABBzAA2AgBBwztB0BRBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABBzgA2AgBBwztBiA1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABBzwA2AgBBwztB3RNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0AA2AgBBwztB+QtBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0QA2AgBBwztBuBBBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0gA2AgBBwztB5RpBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0wA2AgBBwztB/BRBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1AA2AgBBwztBlRNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1QA2AgBBwztBtQpBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1gA2AgBBwztBuBVBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB1wA2AgBBwztBmw1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB2AA2AgBBwztB7RNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2QA2AgBBwztBxAlBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2gA2AgBBwztB8QhBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2wA2AgBBwztBhwlBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3QA2AgBBwztB1BBBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3gA2AgBBwztB5gxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3wA2AgBBwztBzBNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB4AA2AgBBwztBrAlBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4QA2AgBBwztBnxZBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4gA2AgBBwztBoRdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4wA2AgBBwztBvw1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5AA2AgBBwztB+xNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB5QA2AgBBwztBkQ9BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5gA2AgBBwztBwQxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5wA2AgBBwztBvhNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB6AA2AgBBwztBsxdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6QA2AgBBwztBzw1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6gA2AgBBwztBpQ9BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6wA2AgBBwztB0gxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7AA2AgBBwztBiRdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7QA2AgBBwztBrA1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7gA2AgBBwztB9w5BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7wA2AgBBwztBrQxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB8AA2AgBBwztB/RhBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB8QA2AgBBwztBshRBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB8gA2AgBBwztBlBJBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB8wA2AgBBwztBzhlBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9AA2AgBBwztB4g1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9QA2AgBBwztBrRNBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9gA2AgBBwztB+gxBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9wA2AgBBwztBnhVBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB+AA2AgBBwztBrxtBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB+gA2AgBBwztB3BRBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABB/AA2AgBBwztBiQxBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/QA2AgBBwztBxhBBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/gA2AgBBwztB8hpBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/wA2AgBBwztBjRVBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBgAE2AgBBwztBoRNBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBgQE2AgBBwztBxwpBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBggE2AgBBwztBwhVBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABBgwE2AgBBwztB4RBBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBhQE2AgBBwztBuAlBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBhwE2AgBBwztBrRZBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBiAE2AgBBwztBqhdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBiQE2AgBBwztBmw9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBigE2AgBBwztBvxdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBiwE2AgBBwztBsg9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjAE2AgBBwztBlRdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjQE2AgBBwztBhA9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjgE2AgBBwztBihlBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBjwE2AgBBwztBwRRBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBkAE2AgBBwztBnhJBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBkgE2AgBBwztB0AlBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBkwE2AgBBwztB/AhBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBlAE2AgBBwztB2RlBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABBlQE2AgBBwztBtBNBA0GMKkGYKkGWASAAQQAQAEEIEB4iAEEANgIEIABBlwE2AgBBwztBhxxBBEGgKkGgKEGYASAAQQAQAEEIEB4iAEEANgIEIABBmQE2AgBBwztBnBxBA0GwKkHIKEGaASAAQQAQAEEIEB4iAEEANgIEIABBmwE2AgBBwztBmgpBAkG8KkHUJkGcASAAQQAQAEEIEB4iAEEANgIEIABBnQE2AgBBwztBmQxBAkHEKkHUJkGeASAAQQAQAEEIEB4iAEEANgIEIABBnwE2AgBBwztBkxxBA0HMKkGwJ0GgASAAQQAQAEEIEB4iAEEANgIEIABBoQE2AgBBwztBuxZBA0HYKkHIKEGiASAAQQAQAEEIEB4iAEEANgIEIABBowE2AgBBwztBvxtBAkHkKkHUJkGkASAAQQAQAEEIEB4iAEEANgIEIABBpQE2AgBBwztB0xtBA0HYKkHIKEGiASAAQQAQAEEIEB4iAEEANgIEIABBpgE2AgBBwztBqB1BA0HsKkHIKEGnASAAQQAQAEEIEB4iAEEANgIEIABBqAE2AgBBwztBph1BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBqQE2AgBBwztBuR1BA0H4KkHIKEGqASAAQQAQAEEIEB4iAEEANgIEIABBqwE2AgBBwztBtx1BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBrAE2AgBBwztB3whBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBrQE2AgBBwztB1whBAkGEK0HUJkGuASAAQQAQAEEIEB4iAEEANgIEIABBrwE2AgBBwztB3hVBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBsAE2AgBBwztB3AlBAkGEK0HUJkGuASAAQQAQAEEIEB4iAEEANgIEIABBsQE2AgBBwztB6QlBBUGQK0GkK0GyASAAQQAQAEEIEB4iAEEANgIEIABBswE2AgBBwztB5w9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtAE2AgBBwztB0Q9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtQE2AgBBwztBhhNBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtgE2AgBBwztB+BVBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtwE2AgBBwztByxdBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBuAE2AgBBwztBvw9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBuQE2AgBBwztB+QlBAkGsK0HUJkG6ASAAQQAQAEEIEB4iAEEANgIEIABBuwE2AgBBwztBzBVBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvAE2AgBBwztBqBJBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvQE2AgBBwztB5BlBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvgE2AgBBwztBqxVBAkHUKUHUJkH5ACAAQQAQAAtZAQF/IAAgACgCSCIBQQFrIAFyNgJIIAAoAgAiAUEIcQRAIAAgAUEgcjYCAEF/DwsgAEIANwIEIAAgACgCLCIBNgIcIAAgATYCFCAAIAEgACgCMGo2AhBBAAtHAAJAIAFBA00EfyAAIAFBAnRqQQRqBSABQQRrIgEgACgCGCIAKAIEIAAoAgAiAGtBAnVPDQEgACABQQJ0agsoAgAPCxACAAs4AQF/IAFBAEgEQBACAAsgAUEBa0EFdkEBaiIBQQJ0EB4hAiAAIAE2AgggAEEANgIEIAAgAjYCAAvSBQEJfyAAIAEvAQA7AQAgACABKQIENwIEIAAgASkCDDcCDCAAIAEoAhQ2AhQCQAJAIAEoAhgiA0UNAEEYEB4iBUEANgIIIAVCADcCACADKAIEIgEgAygCACICRwRAIAEgAmsiAkEASA0CIAUgAhAeIgE2AgAgBSABIAJqNgIIIAMoAgAiAiADKAIEIgZHBEADQCABIAIoAgA2AgAgAUEEaiEBIAJBBGoiAiAGRw0ACwsgBSABNgIECyAFQgA3AgwgBUEANgIUIAMoAhAiAUUNACAFQQxqIAEQnwEgAygCDCEGIAUgBSgCECIEIAMoAhAiAkEfcWogAkFgcWoiATYCEAJAAkAgBEUEQCABQQFrIQMMAQsgAUEBayIDIARBAWtzQSBJDQELIAUoAgwgA0EFdkEAIAFBIU8bQQJ0akEANgIACyAFKAIMIARBA3ZB/P///wFxaiEBIARBH3EiA0UEQCACQQBMDQEgAkEgbSEDIAJBH2pBP08EQCABIAYgA0ECdBAzGgsgAiADQQV0ayICQQBMDQEgASADQQJ0IgNqIgEgASgCAEF/QSAgAmt2IgFBf3NxIAMgBmooAgAgAXFyNgIADAELIAJBAEwNAEF/IAN0IQhBICADayEEIAJBIE4EQCAIQX9zIQkgASgCACEHA0AgASAHIAlxIAYoAgAiByADdHI2AgAgASABKAIEIAhxIAcgBHZyIgc2AgQgBkEEaiEGIAFBBGohASACQT9LIQogAkEgayECIAoNAAsgAkEATA0BCyABIAEoAgBBfyAEIAQgAiACIARKGyIEa3YgCHFBf3NxIAYoAgBBf0EgIAJrdnEiBiADdHI2AgAgAiAEayICQQBMDQAgASADIARqQQN2Qfz///8BcWoiASABKAIAQX9BICACa3ZBf3NxIAYgBHZyNgIACyAAKAIYIQEgACAFNgIYIAEEQCABEFsLDwsQAgALvQMBB38gAARAIwBBIGsiBiQAIAAoAgAiASgC5AMiAwRAIAMgARBvGiABQQA2AuQDCyABKALsAyICIAEoAugDIgNHBEBBASACIANrQQJ1IgIgAkEBTRshBEEAIQIDQCADIAJBAnRqKAIAQQA2AuQDIAJBAWoiAiAERw0ACwsgASADNgLsAwJAIAMgAUHwA2oiAigCAEYNACAGQQhqQQBBACACEEoiAigCBCABKALsAyABKALoAyIEayIFayIDIAQgBRAzIQUgASgC6AMhBCABIAU2AugDIAIgBDYCBCABKALsAyEFIAEgAigCCDYC7AMgAiAFNgIIIAEoAvADIQcgASACKAIMNgLwAyACIAQ2AgAgAiAHNgIMIAQgBUcEQCACIAUgBCAFa0EDakF8cWo2AggLIARFDQAgBBAnIAEoAugDIQMLIAMEQCABIAM2AuwDIAMQJwsgASgClAEhAyABQQA2ApQBIAMEQCADEFsLIAEQJyAAKAIIIQEgAEEANgIIIAEEQCABIAEoAgAoAgQRAAALIAAoAgQhASAAQQA2AgQgAQRAIAEgASgCACgCBBEAAAsgBkEgaiQAIAAQIwsLtQEBAX8jAEEQayICJAACfyABBEAgASgCACEBQYgEEB4gARBcIAENARogAkH3GTYCACACEHIQJAALQZQ7LQAARQRAQfg6QQM2AgBBiDtCgICAgICAgMA/NwIAQYA7QgA3AgBBlDtBAToAAEH8OkH8Oi0AAEH+AXE6AABB9DpBADYCAEGQO0EANgIAC0GIBBAeQfQ6EFwLIQEgAEIANwIEIAAgATYCACABIAA2AgQgAkEQaiQAIAALGwEBfyAABEAgACgCACIBBEAgARAjCyAAECMLC0kBAn9BBBAeIQFBIBAeIgBBADYCHCAAQoCAgICAgIDAPzcCFCAAQgA3AgwgAEEAOgAIIABBAzYCBCAAQQA2AgAgASAANgIAIAELIAAgAkEFR0EAIAIbRQRAQbgwIAMgBBBJDwsgAyAEEHALIgEBfiABIAKtIAOtQiCGhCAEIAARFQAiBUIgiKckASAFpwuoAQEFfyAAKAJUIgMoAgAhBSADKAIEIgQgACgCFCAAKAIcIgdrIgYgBCAGSRsiBgRAIAUgByAGECsaIAMgAygCACAGaiIFNgIAIAMgAygCBCAGayIENgIECyAEIAIgAiAESxsiBARAIAUgASAEECsaIAMgAygCACAEaiIFNgIAIAMgAygCBCAEazYCBAsgBUEAOgAAIAAgACgCLCIBNgIcIAAgATYCFCACCwQAQgALBABBAAuKBQIGfgJ/IAEgASgCAEEHakF4cSIBQRBqNgIAIAAhCSABKQMAIQMgASkDCCEGIwBBIGsiCCQAAkAgBkL///////////8AgyIEQoCAgICAgMCAPH0gBEKAgICAgIDA/8MAfVQEQCAGQgSGIANCPIiEIQQgA0L//////////w+DIgNCgYCAgICAgIAIWgRAIARCgYCAgICAgIDAAHwhAgwCCyAEQoCAgICAgICAQH0hAiADQoCAgICAgICACFINASACIARCAYN8IQIMAQsgA1AgBEKAgICAgIDA//8AVCAEQoCAgICAgMD//wBRG0UEQCAGQgSGIANCPIiEQv////////8Dg0KAgICAgICA/P8AhCECDAELQoCAgICAgID4/wAhAiAEQv///////7//wwBWDQBCACECIARCMIinIgBBkfcASQ0AIAMhAiAGQv///////z+DQoCAgICAgMAAhCIFIQcCQCAAQYH3AGsiAUHAAHEEQCACIAFBQGqthiEHQgAhAgwBCyABRQ0AIAcgAa0iBIYgAkHAACABa62IhCEHIAIgBIYhAgsgCCACNwMQIAggBzcDGAJAQYH4ACAAayIAQcAAcQRAIAUgAEFAaq2IIQNCACEFDAELIABFDQAgBUHAACAAa62GIAMgAK0iAoiEIQMgBSACiCEFCyAIIAM3AwAgCCAF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ASAAKAIAIQAgASACQQFxBH8gASgCACAAaigCAAUgAAsRCwALYQECfyMAQRBrIgIkACABIAAoAgQiA0EBdWohASAAKAIAIQAgAiABIANBAXEEfyABKAIAIABqKAIABSAACxEBAEEQEB4iACACKQMINwMIIAAgAikDADcDACACQRBqJAAgAAtjAQJ/IwBBEGsiAyQAIAEgACgCBCIEQQF1aiEBIAAoAgAhACADIAEgAiAEQQFxBH8gASgCACAAaigCAAUgAAsRAwBBEBAeIgAgAykDCDcDCCAAIAMpAwA3AwAgA0EQaiQAIAALNwEBfyABIAAoAgQiA0EBdWohASAAKAIAIQAgASACIANBAXEEfyABKAIAIABqKAIABSAACxEEAAs5AQF/IAEgACgCBCIEQQF1aiEBIAAoAgAhACABIAIgAyAEQQFxBH8gASgCACAAaigCAAUgAAsRCAALCQAgASAAEQIACwUAQcM7Cw8AIAEgACgCAGogAjYCAAsNACABIAAoAgBqKAIACxgBAX9BEBAeIgBCADcDCCAAQQA2AgAgAAsYAQF/QRAQHiIAQgA3AwAgAEIANwMIIAALDABBMBAeQQBBMBAqCzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRHgALBQBBvjsLIQAgACABKAIAIAEgASwAC0EASBtBuzsgAigCABAQNgIACyoBAX9BDBAeIgFBADoABCABIAAoAgA2AgggAEEANgIAIAFB2Cc2AgAgAQsFAEG7OwsFAEG4OwshACAAIAEoAgAgASABLAALQQBIG0GkOyACKAIAEBA2AgAL2AEBBH8jAEEgayIDJAAgASgCACIEQfD///8HSQRAAkACQCAEQQtPBEAgBEEPckEBaiIFEB4hBiADIAVBgICAgHhyNgIQIAMgBjYCCCADIAQ2AgwgBCAGaiEFDAELIAMgBDoAEyADQQhqIgYgBGohBSAERQ0BCyAGIAFBBGogBBArGgsgBUEAOgAAIAMgAjYCACADQRhqIANBCGogAyAAEQMAIAMoAhgQHSADKAIYIgAQBiADKAIAEAYgAywAE0EASARAIAMoAggQIwsgA0EgaiQAIAAPCxACAAsqAQF/QQwQHiIBQQA6AAQgASAAKAIANgIIIABBADYCACABQeAmNgIA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AkEIaiAIIAYQHyACIAcgAC8AABAfQQEhAyACKgIIIgogAioCACILXAR/IAogClsNAyALIAtcBSADC0UNAiACLQAMIAItAARHDQILIABBAmohAEEBIQMgBCEGQQEhBCAGRQ0ACyABLwB6IgBBB3FFBEAgBS0AekEHcUUNAgsgCCAAECAiCiAHIAUvAHoQICILWw0BIAogClsNACALIAtcDQELIAFBFGogBUEUakHoABArGiABQfwAaiAFQfwAahCgAQNAIAEtAAAiAEEEcQ0BIAEgAEEEcjoAACABKAIQIgAEQCABIAARAAALIAFBgICA/gc2ApwBIAEoAuQDIgENAAsLIAJBEGokAAvGAwEEfyMAQaAEayICJAAgACgCBCEBIABBADYCBCABBEAgASABKAIAKAIEEQAACyAAKAIIIQEgAEEANgIIIAEEQCABIAEoAgAoAgQRAAALAkAgACgCACIAKALoAyAAKALsA0YEQCAAKALkAw0BIAAgAkEYaiAAKAL0AxBcIgEpAgA3AgAgACABKAIQNgIQIAAgASkCCDcCCCAAQRRqIAFBFGpB6AAQKxogACABKQKMATcCjAEgACABKQKEATcChAEgACABKQJ8NwJ8IAEoApQBIQQgAUEANgKUASAAKAKUASEDIAAgBDYClAEgAwRAIAMQWwsgAEGYAWogAUGYAWpB0AIQKxogACgC6AMiAwRAIAAgAzYC7AMgAxAjCyAAIAEoAugDNgLoAyAAIAEoAuwDNgLsAyAAIAEoAvADNgLwAyABQQA2AvADIAFCADcC6AMgACABKQL8AzcC/AMgACABKQL0AzcC9AMgACABKAKEBDYChAQgASgClAEhACABQQA2ApQBIAAEQCAAEFsLIAJBoARqJAAPCyACQfAcNgIQIABBBUHYJSACQRBqECwQJAALIAJB5hE2AgAgAEEFQdglIAIQLBAkAAsLAEEMEB4gABCiAQsLAEEMEB5BABCiAQsNACAAKAIALQAIQQFxCwoAIAAoAgAoAhQLGQAgAUH/AXEEQBACAAsgACgCACgCEEEBcQsYACAAKAIAIgAgAC0ACEH+AXEgAXI6AAgLJgAgASAAKAIAIgAoAhRHBEAgACABNgIUIAAgACgCDEEBajYCDAsLkgEBAn8jAEEQayICJAAgACgCACEAIAFDAAAAAGAEQCABIAAqAhhcBEAgACABOAIYIAAgACgCDEEBajYCDAsgAkEQaiQADwsgAkGIFDYCACMAQRBrIgMkACADIAI2AgwCQCAARQRAQbgwQdglIAIQSRoMAQsgAEEAQQVB2CUgAiAAKAIEEQ0AGgsgA0EQaiQAECQACz8AIAFB/wFxRQRAIAIgACgCACIAKAIQIgFBAXFHBEAgACABQX5xIAJyNgIQIAAgACgCDEEBajYCDAsPCxACAAsL4CYjAEGACAuBHk9ubHkgbGVhZiBub2RlcyB3aXRoIGN1c3RvbSBtZWFzdXJlIGZ1bmN0aW9ucyBzaG91bGQgbWFudWFsbHkgbWFyayB0aGVtc2VsdmVzIGFzIGRpcnR5AGlzRGlydHkAbWFya0RpcnR5AGRlc3Ryb3kAc2V0RGlzcGxheQBnZXREaXNwbGF5AHNldEZsZXgALSsgICAwWDB4AC0wWCswWCAwWC0weCsweCAweABzZXRGbGV4R3JvdwBnZXRGbGV4R3JvdwBzZXRPdmVyZmxvdwBnZXRPdmVyZmxvdwBoYXNOZXdMYXlvdXQAY2FsY3VsYXRlTGF5b3V0AGdldENvbXB1dGVkTGF5b3V0AHVuc2lnbmVkIHNob3J0AGdldENoaWxkQ291bnQAdW5zaWduZWQgaW50AHNldEp1c3RpZnlDb250ZW50AGdldEp1c3RpZnlDb250ZW50AGF2YWlsYWJsZUhlaWdodCBpcyBpbmRlZmluaXRlIHNvIGhlaWdodFNpemluZ01vZGUgbXVzdCBiZSBTaXppbmdNb2RlOjpNYXhDb250ZW50AGF2YWlsYWJsZVdpZHRoIGlzIGluZGVmaW5pdGUgc28gd2lkdGhTaXppbmdNb2RlIG11c3QgYmUgU2l6aW5nTW9kZTo6TWF4Q29udGVudABzZXRBbGlnbkNvbnRlbnQAZ2V0QWxpZ25Db250ZW50AGdldFBhcmVudABpbXBsZW1lbnQAc2V0TWF4SGVpZ2h0UGVyY2VudABzZXRIZWlnaHRQZXJjZW50AHNldE1pbkhlaWdodFBlcmNlbnQAc2V0RmxleEJhc2lzUGVyY2VudABzZXRHYXBQZXJjZW50AHNldFBvc2l0aW9uUGVyY2VudABzZXRNYXJnaW5QZXJjZW50AHNldE1heFdpZHRoUGVyY2VudABzZXRXaWR0aFBlcmNlbnQAc2V0TWluV2lkdGhQZXJjZW50AHNldFBhZGRpbmdQZXJjZW50AGhhbmRsZS50eXBlKCkgPT0gU3R5bGVWYWx1ZUhhbmRsZTo6VHlwZTo6UG9pbnQgfHwgaGFuZGxlLnR5cGUoKSA9PSBTdHlsZVZhbHVlSGFuZGxlOjpUeXBlOjpQZXJjZW50AGNyZWF0ZURlZmF1bHQAdW5pdAByaWdodABoZWlnaHQAc2V0TWF4SGVpZ2h0AGdldE1heEhlaWdodABzZXRIZWlnaHQAZ2V0SGVpZ2h0AHNldE1pbkhlaWdodABnZXRNaW5IZWlnaHQAZ2V0Q29tcHV0ZWRIZWlnaHQAZ2V0Q29tcHV0ZWRSaWdodABsZWZ0AGdldENvbXB1dGVkTGVmdAByZXNldABfX2Rlc3RydWN0AGZsb2F0AHVpbnQ2NF90AHVzZVdlYkRlZmF1bHRzAHNldFVzZVdlYkRlZmF1bHRzAHNldEFsaWduSXRlbXMAZ2V0QWxpZ25JdGVtcwBzZXRGbGV4QmFzaXMAZ2V0RmxleEJhc2lzAENhbm5vdCBnZXQgbGF5b3V0IHByb3BlcnRpZXMgb2YgbXVsdGktZWRnZSBzaG9ydGhhbmRzAHNldFBvaW50U2NhbGVGYWN0b3IATWVhc3VyZUNhbGxiYWNrV3JhcHBlcgBEaXJ0aWVkQ2FsbGJhY2tXcmFwcGVyAENhbm5vdCByZXNldCBhIG5vZGUgc3RpbGwgYXR0YWNoZWQgdG8gYSBvd25lcgBzZXRCb3JkZXIAZ2V0Qm9yZGVyAGdldENvbXB1dGVkQm9yZGVyAGdldE51bWJlcgBoYW5kbGUudHlwZSgpID09IFN0eWxlVmFsdWVIYW5kbGU6OlR5cGU6Ok51bWJlcgB1bnNpZ25lZCBjaGFyAHRvcABnZXRDb21wdXRlZFRvcABzZXRGbGV4V3JhcABnZXRGbGV4V3JhcABzZXRHYXAAZ2V0R2FwACVwAHNldEhlaWdodEF1dG8Ac2V0RmxleEJhc2lzQXV0bwBzZXRQb3NpdGlvbkF1dG8Ac2V0TWFyZ2luQXV0bwBzZXRXaWR0aEF1dG8AU2NhbGUgZmFjdG9yIHNob3VsZCBub3QgYmUgbGVzcyB0aGFuIHplcm8Ac2V0QXNwZWN0UmF0aW8AZ2V0QXNwZWN0UmF0aW8Ac2V0UG9zaXRpb24AZ2V0UG9zaXRpb24Abm90aWZ5T25EZXN0cnVjdGlvbgBzZXRGbGV4RGlyZWN0aW9uAGdldEZsZXhEaXJlY3Rpb24Ac2V0RGlyZWN0aW9uAGdldERpcmVjdGlvbgBzZXRNYXJnaW4AZ2V0TWFyZ2luAGdldENvbXB1dGVkTWFyZ2luAG1hcmtMYXlvdXRTZWVuAG5hbgBib3R0b20AZ2V0Q29tcHV0ZWRCb3R0b20AYm9vbABlbXNjcmlwdGVuOjp2YWwAc2V0RmxleFNocmluawBnZXRGbGV4U2hyaW5rAHNldEFsd2F5c0Zvcm1zQ29udGFpbmluZ0Jsb2NrAE1lYXN1cmVDYWxsYmFjawBEaXJ0aWVkQ2FsbGJhY2sAZ2V0TGVuZ3RoAHdpZHRoAHNldE1heFdpZHRoAGdldE1heFdpZHRoAHNldFdpZHRoAGdldFdpZHRoAHNldE1pbldpZHRoAGdldE1pbldpZHRoAGdldENvbXB1dGVkV2lkdGgAcHVzaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1NtYWxsVmFsdWVCdWZmZXIuaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1N0eWxlVmFsdWVQb29sLmgAdW5zaWduZWQgbG9uZwBzZXRCb3hTaXppbmcAZ2V0Qm94U2l6aW5nAHN0ZDo6d3N0cmluZwBzdGQ6OnN0cmluZwBzdGQ6OnUxNnN0cmluZwBzdGQ6OnUzMnN0cmluZwBzZXRQYWRkaW5nAGdldFBhZGRpbmcAZ2V0Q29tcHV0ZWRQYWRkaW5nAFRyaWVkIHRvIGNvbnN0cnVjdCBZR05vZGUgd2l0aCBudWxsIGNvbmZpZwBBdHRlbXB0aW5nIHRvIGNvbnN0cnVjdCBOb2RlIHdpdGggbnVsbCBjb25maWcAY3JlYXRlV2l0aENvbmZpZwBpbmYAc2V0QWxpZ25TZWxmAGdldEFsaWduU2VsZgBTaXplAHZhbHVlAFZhbHVlAGNyZWF0ZQBtZWFzdXJlAHNldFBvc2l0aW9uVHlwZQBnZXRQb3NpdGlvblR5cGUAaXNSZWZlcmVuY2VCYXNlbGluZQBzZXRJc1JlZmVyZW5jZUJhc2VsaW5lAGNvcHlTdHlsZQBkb3VibGUATm9kZQBleHRlbmQAaW5zZXJ0Q2hpbGQAZ2V0Q2hpbGQAcmVtb3ZlQ2hpbGQAdm9pZABzZXRFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZABpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkAGRpcnRpZWQAQ2Fubm90IHJlc2V0IGEgbm9kZSB3aGljaCBzdGlsbCBoYXMgY2hpbGRyZW4gYXR0YWNoZWQAdW5zZXRNZWFzdXJlRnVuYwB1bnNldERpcnRpZWRGdW5jAHNldEVycmF0YQBnZXRFcnJhdGEATWVhc3VyZSBmdW5jdGlvbiByZXR1cm5lZCBhbiBpbnZhbGlkIGRpbWVuc2lvbiB0byBZb2dhOiBbd2lkdGg9JWYsIGhlaWdodD0lZl0ARXhwZWN0IGN1c3RvbSBiYXNlbGluZSBmdW5jdGlvbiB0byBub3QgcmV0dXJuIE5hTgBOQU4ASU5GAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8Y2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgY2hhcj4Ac3RkOjpiYXNpY19zdHJpbmc8dW5zaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2lnbmVk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",!z(V)){var se=V;V=t.locateFile?t.locateFile(se,o):o+se}function q(){var Q=V;try{if(Q==V&&c)return new Uint8Array(c);if(z(Q))try{var F=he(Q.slice(37)),Z=new Uint8Array(F.length);for(Q=0;Q<F.length;++Q)Z[Q]=F.charCodeAt(Q);var re=Z}catch{throw Error("Converting base64 string to bytes failed.")}else re=void 0;var ae=re;if(ae)return ae;throw"both async and sync fetching of the wasm failed"}catch(ye){L(ye)}}function Ae(){return c||typeof fetch!="function"?Promise.resolve().then(function(){return q()}):fetch(V,{credentials:"same-origin"}).then(function(Q){if(!Q.ok)throw"failed to load wasm binary file at '"+V+"'";return Q.arrayBuffer()}).catch(function(){return q()})}function pe(Q){for(;0<Q.length;)Q.shift()(t)}function Ye(Q){if(Q===void 0)return"_unknown";Q=Q.replace(/[^a-zA-Z0-9_]/g,"$");var F=Q.charCodeAt(0);return 48<=F&&57>=F?"_"+Q:Q}function Me(Q,F){return Q=Ye(Q),function(){return F.apply(this,arguments)}}var We=[{},{value:void 0},{value:null},{value:!0},{value:!1}],ce=[];function j(Q){var F=Error,Z=Me(Q,function(re){this.name=Q,this.message=re,re=Error(re).stack,re!==void 0&&(this.stack=this.toString()+`
`+re.replace(/^Error(:[^\n]*)?\n/,""))});return Z.prototype=Object.create(F.prototype),Z.prototype.constructor=Z,Z.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},Z}var O=void 0;function U(Q){throw new O(Q)}var $=Q=>(Q||U("Cannot use deleted val. handle = "+Q),We[Q].value),me=Q=>{switch(Q){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var F=ce.length?ce.pop():We.length;return We[F]={ga:1,value:Q},F}},ue=void 0,Se=void 0;function we(Q){for(var F="";p[Q];)F+=Se[p[Q++]];return F}var qe=[];function ve(){for(;qe.length;){var Q=qe.pop();Q.M.$=!1,Q.delete()}}var H=void 0,rt={};function Ke(Q,F){for(F===void 0&&U("ptr should not be undefined");Q.R;)F=Q.ba(F),Q=Q.R;return F}var fe={};function Y(Q){Q=Pe(Q);var F=we(Q);return je(Q),F}function lt(Q,F){var Z=fe[Q];return Z===void 0&&U(F+" has unknown type "+Y(Q)),Z}function ot(){}var It=!1;function Ft(Q){--Q.count.value,Q.count.value===0&&(Q.T?Q.U.W(Q.T):Q.P.N.W(Q.O))}function St(Q,F,Z){return F===Z?Q:Z.R===void 0?null:(Q=St(Q,F,Z.R),Q===null?null:Z.na(Q))}var os={};function ds(Q,F){return F=Ke(Q,F),rt[F]}var ms=void 0;function J(Q){throw new ms(Q)}function k(Q,F){return F.P&&F.O||J("makeClassHandle requires ptr and ptrType"),!!F.U!=!!F.T&&J("Both smartPtrType and smartPtr must be specified"),F.count={value:1},_e(Object.create(Q,{M:{value:F}}))}function _e(Q){return typeof FinalizationRegistry>"u"?(_e=F=>F,Q):(It=new FinalizationRegistry(F=>{Ft(F.M)}),_e=F=>{var Z=F.M;return Z.T&&It.register(F,{M:Z},F),F},ot=F=>{It.unregister(F)},_e(Q))}var Fe={};function Ue(Q){for(;Q.length;){var F=Q.pop();Q.pop()(F)}}function Ie(Q){return this.fromWireType(y[Q>>2])}var ct={},et={};function At(Q,F,Z){function re(Xe){Xe=Z(Xe),Xe.length!==Q.length&&J("Mismatched type converter count");for(var Re=0;Re<Q.length;++Re)le(Q[Re],Xe[Re])}Q.forEach(function(Xe){et[Xe]=F});var ae=Array(F.length),ye=[],xe=0;F.forEach((Xe,Re)=>{fe.hasOwnProperty(Xe)?ae[Re]=fe[Xe]:(ye.push(Xe),ct.hasOwnProperty(Xe)||(ct[Xe]=[]),ct[Xe].push(()=>{ae[Re]=fe[Xe],++xe,xe===ye.length&&re(ae)}))}),ye.length===0&&re(ae)}function _t(Q){switch(Q){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+Q)}}function le(Q,F,Z={}){if(!("argPackAdvance"in F))throw new TypeError("registerType registeredInstance requires argPackAdvance");var re=F.name;if(Q||U('type "'+re+'" must have a positive integer typeid pointer'),fe.hasOwnProperty(Q)){if(Z.ua)return;U("Cannot register type '"+re+"' twice")}fe[Q]=F,delete et[Q],ct.hasOwnProperty(Q)&&(F=ct[Q],delete ct[Q],F.forEach(ae=>ae()))}function K(Q){U(Q.M.P.N.name+" instance already deleted")}function oe(){}function Te(Q,F,Z){if(Q[F].S===void 0){var re=Q[F];Q[F]=function(){return Q[F].S.hasOwnProperty(arguments.length)||U("Function '"+Z+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+Q[F].S+")!"),Q[F].S[arguments.length].apply(this,arguments)},Q[F].S=[],Q[F].S[re.Z]=re}}function Ve(Q,F){t.hasOwnProperty(Q)?(U("Cannot register public name '"+Q+"' twice"),Te(t,Q,Q),t.hasOwnProperty(void 0)&&U("Cannot register multiple overloads of a function with the same number of arguments (undefined)!"),t[Q].S[void 0]=F):t[Q]=F}function tt(Q,F,Z,re,ae,ye,xe,Xe){this.name=Q,this.constructor=F,this.X=Z,this.W=re,this.R=ae,this.pa=ye,this.ba=xe,this.na=Xe,this.ja=[]}function dt(Q,F,Z){for(;F!==Z;)F.ba||U("Expected null or instance of "+Z.name+", got an instance of "+F.name),Q=F.ba(Q),F=F.R;return Q}function Mt(Q,F){return F===null?(this.ea&&U("null is not a valid "+this.name),0):(F.M||U('Cannot pass "'+no(F)+'" as a '+this.name),F.M.O||U("Cannot pass deleted object as a pointer of type "+this.name),dt(F.M.O,F.M.P.N,this.N))}function Ut(Q,F){if(F===null){if(this.ea&&U("null is not a valid "+this.name),this.da){var Z=this.fa();return Q!==null&&Q.push(this.W,Z),Z}return 0}if(F.M||U('Cannot pass "'+no(F)+'" as a '+this.name),F.M.O||U("Cannot pass deleted object as a pointer of type "+this.name),!this.ca&&F.M.P.ca&&U("Cannot convert argument of type "+(F.M.U?F.M.U.name:F.M.P.name)+" to parameter type "+this.name),Z=dt(F.M.O,F.M.P.N,this.N),this.da)switch(F.M.T===void 0&&U("Passing raw pointer to smart pointer is illegal"),this.Ba){case 0:F.M.U===this?Z=F.M.T:U("Cannot convert argument of type "+(F.M.U?F.M.U.name:F.M.P.name)+" to parameter type "+this.name);break;case 1:Z=F.M.T;break;case 2:if(F.M.U===this)Z=F.M.T;else{var re=F.clone();Z=this.xa(Z,me(function(){re.delete()})),Q!==null&&Q.push(this.W,Z)}break;default:U("Unsupporting sharing policy")}return Z}function us(Q,F){return F===null?(this.ea&&U("null is not a valid "+this.name),0):(F.M||U('Cannot pass "'+no(F)+'" as a '+this.name),F.M.O||U("Cannot pass deleted object as a pointer of type "+this.name),F.M.P.ca&&U("Cannot convert argument of type "+F.M.P.name+" to parameter type "+this.name),dt(F.M.O,F.M.P.N,this.N))}function at(Q,F,Z,re){this.name=Q,this.N=F,this.ea=Z,this.ca=re,this.da=!1,this.W=this.xa=this.fa=this.ka=this.Ba=this.wa=void 0,F.R!==void 0?this.toWireType=Ut:(this.toWireType=re?Mt:us,this.V=null)}function gt(Q,F){t.hasOwnProperty(Q)||J("Replacing nonexistant public symbol"),t[Q]=F,t[Q].Z=void 0}function zt(Q,F){var Z=[];return function(){if(Z.length=0,Object.assign(Z,arguments),Q.includes("j")){var re=t["dynCall_"+Q];re=Z&&Z.length?re.apply(null,[F].concat(Z)):re.call(null,F)}else re=b.get(F).apply(null,Z);return re}}function jt(Q,F){Q=we(Q);var Z=Q.includes("j")?zt(Q,F):b.get(F);return typeof Z!="function"&&U("unknown function pointer with signature "+Q+": "+F),Z}var Hn=void 0;function to(Q,F){function Z(ye){ae[ye]||fe[ye]||(et[ye]?et[ye].forEach(Z):(re.push(ye),ae[ye]=!0))}var re=[],ae={};throw F.forEach(Z),new Hn(Q+": "+re.map(Y).join([", "]))}function Uo(Q,F,Z,re,ae){var ye=F.length;2>ye&&U("argTypes array size mismatch! Must at least get return value and 'this' types!");var xe=F[1]!==null&&Z!==null,Xe=!1;for(Z=1;Z<F.length;++Z)if(F[Z]!==null&&F[Z].V===void 0){Xe=!0;break}var Re=F[0].name!=="void",Qe=ye-2,Ze=Array(Qe),xt=[],Gt=[];return function(){if(arguments.length!==Qe&&U("function "+Q+" called with "+arguments.length+" arguments, expected "+Qe+" args!"),Gt.length=0,xt.length=xe?2:1,xt[0]=ae,xe){var Ct=F[1].toWireType(Gt,this);xt[1]=Ct}for(var Pt=0;Pt<Qe;++Pt)Ze[Pt]=F[Pt+2].toWireType(Gt,arguments[Pt]),xt.push(Ze[Pt]);if(Pt=re.apply(null,xt),Xe)Ue(Gt);else for(var Xs=xe?1:2;Xs<F.length;Xs++){var As=Xs===1?Ct:Ze[Xs-2];F[Xs].V!==null&&F[Xs].V(As)}return Ct=Re?F[0].fromWireType(Pt):void 0,Ct}}function ni(Q,F){for(var Z=[],re=0;re<Q;re++)Z.push(_[F+4*re>>2]);return Z}function so(Q){4<Q&&--We[Q].ga===0&&(We[Q]=void 0,ce.push(Q))}function no(Q){if(Q===null)return"null";var F=typeof Q;return F==="object"||F==="array"||F==="function"?Q.toString():""+Q}function lc(Q,F){switch(F){case 2:return function(Z){return this.fromWireType(I[Z>>2])};case 3:return function(Z){return this.fromWireType(v[Z>>3])};default:throw new TypeError("Unknown float type: "+Q)}}function Oo(Q,F,Z){switch(F){case 0:return Z?function(re){return A[re]}:function(re){return p[re]};case 1:return Z?function(re){return g[re>>1]}:function(re){return m[re>>1]};case 2:return Z?function(re){return y[re>>2]}:function(re){return _[re>>2]};default:throw new TypeError("Unknown integer type: "+Q)}}function Wa(Q,F){for(var Z="",re=0;!(re>=F/2);++re){var ae=g[Q+2*re>>1];if(ae==0)break;Z+=String.fromCharCode(ae)}return Z}function io(Q,F,Z){if(Z===void 0&&(Z=2147483647),2>Z)return 0;Z-=2;var re=F;Z=Z<2*Q.length?Z/2:Q.length;for(var ae=0;ae<Z;++ae)g[F>>1]=Q.charCodeAt(ae),F+=2;return g[F>>1]=0,F-re}function cc(Q){return 2*Q.length}function Ni(Q,F){for(var Z=0,re="";!(Z>=F/4);){var ae=y[Q+4*Z>>2];if(ae==0)break;++Z,65536<=ae?(ae-=65536,re+=String.fromCharCode(55296|ae>>10,56320|ae&1023)):re+=String.fromCharCode(ae)}return re}function Sr(Q,F,Z){if(Z===void 0&&(Z=2147483647),4>Z)return 0;var re=F;Z=re+Z-4;for(var ae=0;ae<Q.length;++ae){var ye=Q.charCodeAt(ae);if(55296<=ye&&57343>=ye){var xe=Q.charCodeAt(++ae);ye=65536+((ye&1023)<<10)|xe&1023}if(y[F>>2]=ye,F+=4,F+4>Z)break}return y[F>>2]=0,F-re}function M(Q){for(var F=0,Z=0;Z<Q.length;++Z){var re=Q.charCodeAt(Z);55296<=re&&57343>=re&&++Z,F+=4}return F}var G={};function te(Q){var F=G[Q];return F===void 0?we(Q):F}var ge=[];function Le(Q){var F=ge.length;return ge.push(Q),F}function P(Q,F){for(var Z=Array(Q),re=0;re<Q;++re)Z[re]=lt(_[F+4*re>>2],"parameter "+re);return Z}var W=[],ie=[null,[],[]];O=t.BindingError=j("BindingError"),t.count_emval_handles=function(){for(var Q=0,F=5;F<We.length;++F)We[F]!==void 0&&++Q;return Q},t.get_first_emval=function(){for(var Q=5;Q<We.length;++Q)if(We[Q]!==void 0)return We[Q];return null},ue=t.PureVirtualError=j("PureVirtualError");for(var ee=Array(256),X=0;256>X;++X)ee[X]=String.fromCharCode(X);Se=ee,t.getInheritedInstanceCount=function(){return Object.keys(rt).length},t.getLiveInheritedInstances=function(){var Q=[],F;for(F in rt)rt.hasOwnProperty(F)&&Q.push(rt[F]);return Q},t.flushPendingDeletes=ve,t.setDelayFunction=function(Q){H=Q,qe.length&&H&&H(ve)},ms=t.InternalError=j("InternalError"),oe.prototype.isAliasOf=function(Q){if(!(this instanceof oe&&Q instanceof oe))return!1;var F=this.M.P.N,Z=this.M.O,re=Q.M.P.N;for(Q=Q.M.O;F.R;)Z=F.ba(Z),F=F.R;for(;re.R;)Q=re.ba(Q),re=re.R;return F===re&&Z===Q},oe.prototype.clone=function(){if(this.M.O||K(this),this.M.aa)return this.M.count.value+=1,this;var Q=_e,F=Object,Z=F.create,re=Object.getPrototypeOf(this),ae=this.M;return Q=Q(Z.call(F,re,{M:{value:{count:ae.count,$:ae.$,aa:ae.aa,O:ae.O,P:ae.P,T:ae.T,U:ae.U}}})),Q.M.count.value+=1,Q.M.$=!1,Q},oe.prototype.delete=function(){this.M.O||K(this),this.M.$&&!this.M.aa&&U("Object already scheduled for deletion"),ot(this),Ft(this.M),this.M.aa||(this.M.T=void 0,this.M.O=void 0)},oe.prototype.isDeleted=function(){return!this.M.O},oe.prototype.deleteLater=function(){return this.M.O||K(this),this.M.$&&!this.M.aa&&U("Object already scheduled for deletion"),qe.push(this),qe.length===1&&H&&H(ve),this.M.$=!0,this},at.prototype.qa=function(Q){return this.ka&&(Q=this.ka(Q)),Q},at.prototype.ha=function(Q){this.W&&this.W(Q)},at.prototype.argPackAdvance=8,at.prototype.readValueFromPointer=Ie,at.prototype.deleteObject=function(Q){Q!==null&&Q.delete()},at.prototype.fromWireType=function(Q){function F(){return this.da?k(this.N.X,{P:this.wa,O:Z,U:this,T:Q}):k(this.N.X,{P:this,O:Q})}var Z=this.qa(Q);if(!Z)return this.ha(Q),null;var re=ds(this.N,Z);if(re!==void 0)return re.M.count.value===0?(re.M.O=Z,re.M.T=Q,re.clone()):(re=re.clone(),this.ha(Q),re);if(re=this.N.pa(Z),re=os[re],!re)return F.call(this);re=this.ca?re.la:re.pointerType;var ae=St(Z,this.N,re.N);return ae===null?F.call(this):this.da?k(re.N.X,{P:re,O:ae,U:this,T:Q}):k(re.N.X,{P:re,O:ae})},Hn=t.UnboundTypeError=j("UnboundTypeError");var he=typeof atob=="function"?atob:function(Q){var F="",Z=0;Q=Q.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Q.charAt(Z++)),ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Q.charAt(Z++)),ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Q.charAt(Z++)),xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Q.charAt(Z++));re=re<<2|ae>>4,ae=(ae&15)<<4|ye>>2;var Xe=(ye&3)<<6|xe;F+=String.fromCharCode(re),ye!==64&&(F+=String.fromCharCode(ae)),xe!==64&&(F+=String.fromCharCode(Xe))}while(Z<Q.length);return F},Ce={l:function(Q,F,Z,re){L("Assertion failed: "+(Q?h(p,Q):"")+", at: "+[F?F?h(p,F):"":"unknown filename",Z,re?re?h(p,re):"":"unknown function"])},q:function(Q,F,Z){Q=we(Q),F=lt(F,"wrapper"),Z=$(Z);var re=[].slice,ae=F.N,ye=ae.X,xe=ae.R.X,Xe=ae.R.constructor;Q=Me(Q,function(){ae.R.ja.forEach(function(Qe){if(this[Qe]===xe[Qe])throw new ue("Pure virtual function "+Qe+" must be implemented in JavaScript")}.bind(this)),Object.defineProperty(this,"__parent",{value:ye}),this.__construct.apply(this,re.call(arguments))}),ye.__construct=function(){this===ye&&U("Pass correct 'this' to __construct");var Qe=Xe.implement.apply(void 0,[this].concat(re.call(arguments)));ot(Qe);var Ze=Qe.M;Qe.notifyOnDestruction(),Ze.aa=!0,Object.defineProperties(this,{M:{value:Ze}}),_e(this),Qe=Ze.O,Qe=Ke(ae,Qe),rt.hasOwnProperty(Qe)?U("Tried to register registered instance: "+Qe):rt[Qe]=this},ye.__destruct=function(){this===ye&&U("Pass correct 'this' to __destruct"),ot(this);var Qe=this.M.O;Qe=Ke(ae,Qe),rt.hasOwnProperty(Qe)?delete rt[Qe]:U("Tried to unregister unregistered instance: "+Qe)},Q.prototype=Object.create(ye);for(var Re in Z)Q.prototype[Re]=Z[Re];return me(Q)},j:function(Q){var F=Fe[Q];delete Fe[Q];var Z=F.fa,re=F.W,ae=F.ia,ye=ae.map(xe=>xe.ta).concat(ae.map(xe=>xe.za));At([Q],ye,xe=>{var Xe={};return ae.forEach((Re,Qe)=>{var Ze=xe[Qe],xt=Re.ra,Gt=Re.sa,Ct=xe[Qe+ae.length],Pt=Re.ya,Xs=Re.Aa;Xe[Re.oa]={read:As=>Ze.fromWireType(xt(Gt,As)),write:(As,Si)=>{var Tn=[];Pt(Xs,As,Ct.toWireType(Tn,Si)),Ue(Tn)}}}),[{name:F.name,fromWireType:function(Re){var Qe={},Ze;for(Ze in Xe)Qe[Ze]=Xe[Ze].read(Re);return re(Re),Qe},toWireType:function(Re,Qe){for(var Ze in Xe)if(!(Ze in Qe))throw new TypeError('Missing field:  "'+Ze+'"');var xt=Z();for(Ze in Xe)Xe[Ze].write(xt,Qe[Ze]);return Re!==null&&Re.push(re,xt),xt},argPackAdvance:8,readValueFromPointer:Ie,V:re}]})},v:function(){},B:function(Q,F,Z,re,ae){var ye=_t(Z);F=we(F),le(Q,{name:F,fromWireType:function(xe){return!!xe},toWireType:function(xe,Xe){return Xe?re:ae},argPackAdvance:8,readValueFromPointer:function(xe){if(Z===1)var Xe=A;else if(Z===2)Xe=g;else if(Z===4)Xe=y;else throw new TypeError("Unknown boolean type size: "+F);return this.fromWireType(Xe[xe>>ye])},V:null})},f:function(Q,F,Z,re,ae,ye,xe,Xe,Re,Qe,Ze,xt,Gt){Ze=we(Ze),ye=jt(ae,ye),Xe&&(Xe=jt(xe,Xe)),Qe&&(Qe=jt(Re,Qe)),Gt=jt(xt,Gt);var Ct=Ye(Ze);Ve(Ct,function(){to("Cannot construct "+Ze+" due to unbound types",[re])}),At([Q,F,Z],re?[re]:[],function(Pt){if(Pt=Pt[0],re)var Xs=Pt.N,As=Xs.X;else As=oe.prototype;Pt=Me(Ct,function(){if(Object.getPrototypeOf(this)!==Si)throw new O("Use 'new' to construct "+Ze);if(Tn.Y===void 0)throw new O(Ze+" has no accessible constructor");var QI=Tn.Y[arguments.length];if(QI===void 0)throw new O("Tried to invoke ctor of "+Ze+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Tn.Y).toString()+") parameters instead!");return QI.apply(this,arguments)});var Si=Object.create(As,{constructor:{value:Pt}});Pt.prototype=Si;var Tn=new tt(Ze,Pt,Si,Gt,Xs,ye,Xe,Qe);Xs=new at(Ze,Tn,!0,!1),As=new at(Ze+"*",Tn,!1,!1);var ou=new at(Ze+" const*",Tn,!1,!0);return os[Q]={pointerType:As,la:ou},gt(Ct,Pt),[Xs,As,ou]})},d:function(Q,F,Z,re,ae,ye,xe){var Xe=ni(Z,re);F=we(F),ye=jt(ae,ye),At([],[Q],function(Re){function Qe(){to("Cannot call "+Ze+" due to unbound types",Xe)}Re=Re[0];var Ze=Re.name+"."+F;F.startsWith("@@")&&(F=Symbol[F.substring(2)]);var xt=Re.N.constructor;return xt[F]===void 0?(Qe.Z=Z-1,xt[F]=Qe):(Te(xt,F,Ze),xt[F].S[Z-1]=Qe),At([],Xe,function(Gt){return Gt=Uo(Ze,[Gt[0],null].concat(Gt.slice(1)),null,ye,xe),xt[F].S===void 0?(Gt.Z=Z-1,xt[F]=Gt):xt[F].S[Z-1]=Gt,[]}),[]})},p:function(Q,F,Z,re,ae,ye){0<F||L();var xe=ni(F,Z);ae=jt(re,ae),At([],[Q],function(Xe){Xe=Xe[0];var Re="constructor "+Xe.name;if(Xe.N.Y===void 0&&(Xe.N.Y=[]),Xe.N.Y[F-1]!==void 0)throw new O("Cannot register multiple constructors with identical number of parameters ("+(F-1)+") for class '"+Xe.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return Xe.N.Y[F-1]=()=>{to("Cannot construct "+Xe.name+" due to unbound types",xe)},At([],xe,function(Qe){return Qe.splice(1,0,null),Xe.N.Y[F-1]=Uo(Re,Qe,null,ae,ye),[]}),[]})},a:function(Q,F,Z,re,ae,ye,xe,Xe){var Re=ni(Z,re);F=we(F),ye=jt(ae,ye),At([],[Q],function(Qe){function Ze(){to("Cannot call "+xt+" due to unbound types",Re)}Qe=Qe[0];var xt=Qe.name+"."+F;F.startsWith("@@")&&(F=Symbol[F.substring(2)]),Xe&&Qe.N.ja.push(F);var Gt=Qe.N.X,Ct=Gt[F];return Ct===void 0||Ct.S===void 0&&Ct.className!==Qe.name&&Ct.Z===Z-2?(Ze.Z=Z-2,Ze.className=Qe.name,Gt[F]=Ze):(Te(Gt,F,xt),Gt[F].S[Z-2]=Ze),At([],Re,function(Pt){return Pt=Uo(xt,Pt,Qe,ye,xe),Gt[F].S===void 0?(Pt.Z=Z-2,Gt[F]=Pt):Gt[F].S[Z-2]=Pt,[]}),[]})},A:function(Q,F){F=we(F),le(Q,{name:F,fromWireType:function(Z){var re=$(Z);return so(Z),re},toWireType:function(Z,re){return me(re)},argPackAdvance:8,readValueFromPointer:Ie,V:null})},n:function(Q,F,Z){Z=_t(Z),F=we(F),le(Q,{name:F,fromWireType:function(re){return re},toWireType:function(re,ae){return ae},argPackAdvance:8,readValueFromPointer:lc(F,Z),V:null})},e:function(Q,F,Z,re,ae){F=we(F),ae===-1&&(ae=4294967295),ae=_t(Z);var ye=Xe=>Xe;if(re===0){var xe=32-8*Z;ye=Xe=>Xe<<xe>>>xe}Z=F.includes("unsigned")?function(Xe,Re){return Re>>>0}:function(Xe,Re){return Re},le(Q,{name:F,fromWireType:ye,toWireType:Z,argPackAdvance:8,readValueFromPointer:Oo(F,ae,re!==0),V:null})},b:function(Q,F,Z){function re(ye){ye>>=2;var xe=_;return new ae(f,xe[ye+1],xe[ye])}var ae=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][F];Z=we(Z),le(Q,{name:Z,fromWireType:re,argPackAdvance:8,readValueFromPointer:re},{ua:!0})},o:function(Q,F){F=we(F);var Z=F==="std::string";le(Q,{name:F,fromWireType:function(re){var ae=_[re>>2],ye=re+4;if(Z)for(var xe=ye,Xe=0;Xe<=ae;++Xe){var Re=ye+Xe;if(Xe==ae||p[Re]==0){if(xe=xe?h(p,xe,Re-xe):"",Qe===void 0)var Qe=xe;else Qe+="\0",Qe+=xe;xe=Re+1}}else{for(Qe=Array(ae),Xe=0;Xe<ae;++Xe)Qe[Xe]=String.fromCharCode(p[ye+Xe]);Qe=Qe.join("")}return je(re),Qe},toWireType:function(re,ae){ae instanceof ArrayBuffer&&(ae=new Uint8Array(ae));var ye,xe=typeof ae=="string";if(xe||ae instanceof Uint8Array||ae instanceof Uint8ClampedArray||ae instanceof Int8Array||U("Cannot pass non-string to std::string"),Z&&xe){var Xe=0;for(ye=0;ye<ae.length;++ye){var Re=ae.charCodeAt(ye);127>=Re?Xe++:2047>=Re?Xe+=2:55296<=Re&&57343>=Re?(Xe+=4,++ye):Xe+=3}ye=Xe}else ye=ae.length;if(Xe=Ne(4+ye+1),Re=Xe+4,_[Xe>>2]=ye,Z&&xe){if(xe=Re,Re=ye+1,ye=p,0<Re){Re=xe+Re-1;for(var Qe=0;Qe<ae.length;++Qe){var Ze=ae.charCodeAt(Qe);if(55296<=Ze&&57343>=Ze){var xt=ae.charCodeAt(++Qe);Ze=65536+((Ze&1023)<<10)|xt&1023}if(127>=Ze){if(xe>=Re)break;ye[xe++]=Ze}else{if(2047>=Ze){if(xe+1>=Re)break;ye[xe++]=192|Ze>>6}else{if(65535>=Ze){if(xe+2>=Re)break;ye[xe++]=224|Ze>>12}else{if(xe+3>=Re)break;ye[xe++]=240|Ze>>18,ye[xe++]=128|Ze>>12&63}ye[xe++]=128|Ze>>6&63}ye[xe++]=128|Ze&63}}ye[xe]=0}}else if(xe)for(xe=0;xe<ye;++xe)Qe=ae.charCodeAt(xe),255<Qe&&(je(Re),U("String has UTF-16 code units that do not fit in 8 bits")),p[Re+xe]=Qe;else for(xe=0;xe<ye;++xe)p[Re+xe]=ae[xe];return re!==null&&re.push(je,Xe),Xe},argPackAdvance:8,readValueFromPointer:Ie,V:function(re){je(re)}})},i:function(Q,F,Z){if(Z=we(Z),F===2)var re=Wa,ae=io,ye=cc,xe=()=>m,Xe=1;else F===4&&(re=Ni,ae=Sr,ye=M,xe=()=>_,Xe=2);le(Q,{name:Z,fromWireType:function(Re){for(var Qe=_[Re>>2],Ze=xe(),xt,Gt=Re+4,Ct=0;Ct<=Qe;++Ct){var Pt=Re+4+Ct*F;(Ct==Qe||Ze[Pt>>Xe]==0)&&(Gt=re(Gt,Pt-Gt),xt===void 0?xt=Gt:(xt+="\0",xt+=Gt),Gt=Pt+F)}return je(Re),xt},toWireType:function(Re,Qe){typeof Qe!="string"&&U("Cannot pass non-string to C++ string type "+Z);var Ze=ye(Qe),xt=Ne(4+Ze+F);return _[xt>>2]=Ze>>Xe,ae(Qe,xt+4,Ze+F),Re!==null&&Re.push(je,xt),xt},argPackAdvance:8,readValueFromPointer:Ie,V:function(Re){je(Re)}})},k:function(Q,F,Z,re,ae,ye){Fe[Q]={name:we(F),fa:jt(Z,re),W:jt(ae,ye),ia:[]}},h:function(Q,F,Z,re,ae,ye,xe,Xe,Re,Qe){Fe[Q].ia.push({oa:we(F),ta:Z,ra:jt(re,ae),sa:ye,za:xe,ya:jt(Xe,Re),Aa:Qe})},C:function(Q,F){F=we(F),le(Q,{va:!0,name:F,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},s:function(Q,F,Z,re,ae){Q=ge[Q],F=$(F),Z=te(Z);var ye=[];return _[re>>2]=me(ye),Q(F,Z,ye,ae)},t:function(Q,F,Z,re){Q=ge[Q],F=$(F),Z=te(Z),Q(F,Z,null,re)},g:so,m:function(Q,F){var Z=P(Q,F),re=Z[0];F=re.name+"_$"+Z.slice(1).map(function(xe){return xe.name}).join("_")+"$";var ae=W[F];if(ae!==void 0)return ae;var ye=Array(Q-1);return ae=Le((xe,Xe,Re,Qe)=>{for(var Ze=0,xt=0;xt<Q-1;++xt)ye[xt]=Z[xt+1].readValueFromPointer(Qe+Ze),Ze+=Z[xt+1].argPackAdvance;for(xe=xe[Xe].apply(xe,ye),xt=0;xt<Q-1;++xt)Z[xt+1].ma&&Z[xt+1].ma(ye[xt]);if(!re.va)return re.toWireType(Re,xe)}),W[F]=ae},D:function(Q){4<Q&&(We[Q].ga+=1)},r:function(Q){var F=$(Q);Ue(F),so(Q)},c:function(){L("")},x:function(Q,F,Z){p.copyWithin(Q,F,F+Z)},w:function(Q){var F=p.length;if(Q>>>=0,2147483648<Q)return!1;for(var Z=1;4>=Z;Z*=2){var re=F*(1+.2/Z);re=Math.min(re,Q+100663296);var ae=Math;re=Math.max(Q,re),ae=ae.min.call(ae,2147483648,re+(65536-re%65536)%65536);e:{try{d.grow(ae-f.byteLength+65535>>>16),E();var ye=1;break e}catch{}ye=void 0}if(ye)return!0}return!1},z:function(){return 52},u:function(){return 70},y:function(Q,F,Z,re){for(var ae=0,ye=0;ye<Z;ye++){var xe=_[F>>2],Xe=_[F+4>>2];F+=8;for(var Re=0;Re<Xe;Re++){var Qe=p[xe+Re],Ze=ie[Q];Qe===0||Qe===10?((Q===1?a:l)(h(Ze,0)),Ze.length=0):Ze.push(Qe)}ae+=Xe}return _[re>>2]=ae,0}};(function(){function Q(ae){t.asm=ae.exports,d=t.asm.E,E(),b=t.asm.J,C.unshift(t.asm.F),T--,t.monitorRunDependencies&&t.monitorRunDependencies(T),T==0&&D&&(ae=D,D=null,ae())}function F(ae){Q(ae.instance)}function Z(ae){return Ae().then(function(ye){return WebAssembly.instantiate(ye,re)}).then(function(ye){return ye}).then(ae,function(ye){l("failed to asynchronously prepare wasm: "+ye),L(ye)})}var re={a:Ce};if(T++,t.monitorRunDependencies&&t.monitorRunDependencies(T),t.instantiateWasm)try{return t.instantiateWasm(re,Q)}catch(ae){l("Module.instantiateWasm callback failed with error: "+ae),i(ae)}return(function(){return c||typeof WebAssembly.instantiateStreaming!="function"||z(V)||typeof fetch!="function"?Z(F):fetch(V,{credentials:"same-origin"}).then(function(ae){return WebAssembly.instantiateStreaming(ae,re).then(F,function(ye){return l("wasm streaming compile failed: "+ye),l("falling back to ArrayBuffer instantiation"),Z(F)})})})().catch(i),{}})(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.F).apply(null,arguments)};var Pe=t.___getTypeName=function(){return(Pe=t.___getTypeName=t.asm.G).apply(null,arguments)};t.__embind_initialize_bindings=function(){return(t.__embind_initialize_bindings=t.asm.H).apply(null,arguments)};var Ne=t._malloc=function(){return(Ne=t._malloc=t.asm.I).apply(null,arguments)},je=t._free=function(){return(je=t._free=t.asm.K).apply(null,arguments)};t.dynCall_jiji=function(){return(t.dynCall_jiji=t.asm.L).apply(null,arguments)};var He;D=function Q(){He||ze(),He||(D=Q)};function ze(){function Q(){if(!He&&(He=!0,t.calledRun=!0,!u)){if(pe(C),s(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;){var F=t.postRun.shift();B.unshift(F)}pe(B)}}if(!(0<T)){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)S();pe(N),0<T||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),Q()},1)):Q())}}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return ze(),e.ready})})();let ho=(function(n){return n[n.Auto=0]="Auto",n[n.FlexStart=1]="FlexStart",n[n.Center=2]="Center",n[n.FlexEnd=3]="FlexEnd",n[n.Stretch=4]="Stretch",n[n.Baseline=5]="Baseline",n[n.SpaceBetween=6]="SpaceBetween",n[n.SpaceAround=7]="SpaceAround",n[n.SpaceEvenly=8]="SpaceEvenly",n})({}),ZE=(function(n){return n[n.BorderBox=0]="BorderBox",n[n.ContentBox=1]="ContentBox",n})({}),$E=(function(n){return n[n.Width=0]="Width",n[n.Height=1]="Height",n})({}),zA=(function(n){return n[n.Inherit=0]="Inherit",n[n.LTR=1]="LTR",n[n.RTL=2]="RTL",n})({}),VA=(function(n){return n[n.Flex=0]="Flex",n[n.None=1]="None",n[n.Contents=2]="Contents",n})({}),Bn=(function(n){return n[n.Left=0]="Left",n[n.Top=1]="Top",n[n.Right=2]="Right",n[n.Bottom=3]="Bottom",n[n.Start=4]="Start",n[n.End=5]="End",n[n.Horizontal=6]="Horizontal",n[n.Vertical=7]="Vertical",n[n.All=8]="All",n})({}),Rc=(function(n){return n[n.None=0]="None",n[n.StretchFlexBasis=1]="StretchFlexBasis",n[n.AbsolutePositionWithoutInsetsExcludesPadding=2]="AbsolutePositionWithoutInsetsExcludesPadding",n[n.AbsolutePercentAgainstInnerSize=4]="AbsolutePercentAgainstInnerSize",n[n.All=2147483647]="All",n[n.Classic=2147483646]="Classic",n})({}),m2=(function(n){return n[n.WebFlexBasis=0]="WebFlexBasis",n})({}),ud=(function(n){return n[n.Column=0]="Column",n[n.ColumnReverse=1]="ColumnReverse",n[n.Row=2]="Row",n[n.RowReverse=3]="RowReverse",n})({}),f0=(function(n){return n[n.Column=0]="Column",n[n.Row=1]="Row",n[n.All=2]="All",n})({}),Qc=(function(n){return n[n.FlexStart=0]="FlexStart",n[n.Center=1]="Center",n[n.FlexEnd=2]="FlexEnd",n[n.SpaceBetween=3]="SpaceBetween",n[n.SpaceAround=4]="SpaceAround",n[n.SpaceEvenly=5]="SpaceEvenly",n})({}),Dc=(function(n){return n[n.Error=0]="Error",n[n.Warn=1]="Warn",n[n.Info=2]="Info",n[n.Debug=3]="Debug",n[n.Verbose=4]="Verbose",n[n.Fatal=5]="Fatal",n})({}),qA=(function(n){return n[n.Undefined=0]="Undefined",n[n.Exactly=1]="Exactly",n[n.AtMost=2]="AtMost",n})({}),eC=(function(n){return n[n.Default=0]="Default",n[n.Text=1]="Text",n})({}),Pl=(function(n){return n[n.Visible=0]="Visible",n[n.Hidden=1]="Hidden",n[n.Scroll=2]="Scroll",n})({}),A0=(function(n){return n[n.Static=0]="Static",n[n.Relative=1]="Relative",n[n.Absolute=2]="Absolute",n})({}),qr=(function(n){return n[n.Undefined=0]="Undefined",n[n.Point=1]="Point",n[n.Percent=2]="Percent",n[n.Auto=3]="Auto",n})({}),p0=(function(n){return n[n.NoWrap=0]="NoWrap",n[n.Wrap=1]="Wrap",n[n.WrapReverse=2]="WrapReverse",n})({});const B5={ALIGN_AUTO:ho.Auto,ALIGN_FLEX_START:ho.FlexStart,ALIGN_CENTER:ho.Center,ALIGN_FLEX_END:ho.FlexEnd,ALIGN_STRETCH:ho.Stretch,ALIGN_BASELINE:ho.Baseline,ALIGN_SPACE_BETWEEN:ho.SpaceBetween,ALIGN_SPACE_AROUND:ho.SpaceAround,ALIGN_SPACE_EVENLY:ho.SpaceEvenly,BOX_SIZING_BORDER_BOX:ZE.BorderBox,BOX_SIZING_CONTENT_BOX:ZE.ContentBox,DIMENSION_WIDTH:$E.Width,DIMENSION_HEIGHT:$E.Height,DIRECTION_INHERIT:zA.Inherit,DIRECTION_LTR:zA.LTR,DIRECTION_RTL:zA.RTL,DISPLAY_FLEX:VA.Flex,DISPLAY_NONE:VA.None,DISPLAY_CONTENTS:VA.Contents,EDGE_LEFT:Bn.Left,EDGE_TOP:Bn.Top,EDGE_RIGHT:Bn.Right,EDGE_BOTTOM:Bn.Bottom,EDGE_START:Bn.Start,EDGE_END:Bn.End,EDGE_HORIZONTAL:Bn.Horizontal,EDGE_VERTICAL:Bn.Vertical,EDGE_ALL:Bn.All,ERRATA_NONE:Rc.None,ERRATA_STRETCH_FLEX_BASIS:Rc.StretchFlexBasis,ERRATA_ABSOLUTE_POSITION_WITHOUT_INSETS_EXCLUDES_PADDING:Rc.AbsolutePositionWithoutInsetsExcludesPadding,ERRATA_ABSOLUTE_PERCENT_AGAINST_INNER_SIZE:Rc.AbsolutePercentAgainstInnerSize,ERRATA_ALL:Rc.All,ERRATA_CLASSIC:Rc.Classic,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:m2.WebFlexBasis,FLEX_DIRECTION_COLUMN:ud.Column,FLEX_DIRECTION_COLUMN_REVERSE:ud.ColumnReverse,FLEX_DIRECTION_ROW:ud.Row,FLEX_DIRECTION_ROW_REVERSE:ud.RowReverse,GUTTER_COLUMN:f0.Column,GUTTER_ROW:f0.Row,GUTTER_ALL:f0.All,JUSTIFY_FLEX_START:Qc.FlexStart,JUSTIFY_CENTER:Qc.Center,JUSTIFY_FLEX_END:Qc.FlexEnd,JUSTIFY_SPACE_BETWEEN:Qc.SpaceBetween,JUSTIFY_SPACE_AROUND:Qc.SpaceAround,JUSTIFY_SPACE_EVENLY:Qc.SpaceEvenly,LOG_LEVEL_ERROR:Dc.Error,LOG_LEVEL_WARN:Dc.Warn,LOG_LEVEL_INFO:Dc.Info,LOG_LEVEL_DEBUG:Dc.Debug,LOG_LEVEL_VERBOSE:Dc.Verbose,LOG_LEVEL_FATAL:Dc.Fatal,MEASURE_MODE_UNDEFINED:qA.Undefined,MEASURE_MODE_EXACTLY:qA.Exactly,MEASURE_MODE_AT_MOST:qA.AtMost,NODE_TYPE_DEFAULT:eC.Default,NODE_TYPE_TEXT:eC.Text,OVERFLOW_VISIBLE:Pl.Visible,OVERFLOW_HIDDEN:Pl.Hidden,OVERFLOW_SCROLL:Pl.Scroll,POSITION_TYPE_STATIC:A0.Static,POSITION_TYPE_RELATIVE:A0.Relative,POSITION_TYPE_ABSOLUTE:A0.Absolute,UNIT_UNDEFINED:qr.Undefined,UNIT_POINT:qr.Point,UNIT_PERCENT:qr.Percent,UNIT_AUTO:qr.Auto,WRAP_NO_WRAP:p0.NoWrap,WRAP_WRAP:p0.Wrap,WRAP_WRAP_REVERSE:p0.WrapReverse};function N5(n){function e(i,r,o){const a=i[r];i[r]=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return o.call(this,a,...c)}}for(const i of["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding","setGap"]){const r={[qr.Point]:n.Node.prototype[i],[qr.Percent]:n.Node.prototype[`${i}Percent`],[qr.Auto]:n.Node.prototype[`${i}Auto`]};e(n.Node.prototype,i,function(o){for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];const d=l.pop();let u,h;if(d==="auto")u=qr.Auto,h=void 0;else if(typeof d=="object")u=d.unit,h=d.valueOf();else if(u=typeof d=="string"&&d.endsWith("%")?qr.Percent:qr.Point,h=parseFloat(d),d!==void 0&&!Number.isNaN(d)&&Number.isNaN(h))throw new Error(`Invalid value ${d} for ${i}`);if(!r[u])throw new Error(`Failed to execute "${i}": Unsupported unit '${d}'`);return h!==void 0?r[u].call(this,...l,h):r[u].call(this,...l)})}function t(i){return n.MeasureCallback.implement({measure:function(){const{width:r,height:o}=i(...arguments);return{width:r??NaN,height:o??NaN}}})}e(n.Node.prototype,"setMeasureFunc",function(i,r){return r?i.call(this,t(r)):this.unsetMeasureFunc()});function s(i){return n.DirtiedCallback.implement({dirtied:i})}return e(n.Node.prototype,"setDirtiedFunc",function(i,r){i.call(this,s(r))}),e(n.Config.prototype,"free",function(){n.Config.destroy(this)}),e(n.Node,"create",(i,r)=>r?n.Node.createWithConfig(r):n.Node.createDefault()),e(n.Node.prototype,"free",function(){n.Node.destroy(this)}),e(n.Node.prototype,"freeRecursive",function(){for(let i=0,r=this.getChildCount();i<r;++i)this.getChild(0).freeRecursive();this.free()}),e(n.Node.prototype,"calculateLayout",function(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:zA.LTR;return i.call(this,r,o,a)}),{Config:n.Config,Node:n.Node,...B5}}async function S5(){return N5(await w5())}const M5=Math.cos(45/180*Math.PI),g0=[new ps,new ps,new ps,new ps],tC=new w;class T5{planes;facePlane;originalCenter;constructor(e,t,s,i,r){this.originalCenter=new w(t,s,0).applyMatrix4(e),this.facePlane=new ps(new w(0,0,1),0).applyMatrix4(e);const o=i/2,a=r/2,l=s+a,c=t+o,d=-s+a,u=-t+o;this.planes=[new ps(new w(0,-1,0),d).applyMatrix4(e),new ps(new w(-1,0,0),u).applyMatrix4(e),new ps(new w(0,1,0),l).applyMatrix4(e),new ps(new w(1,0,0),c).applyMatrix4(e)]}min({planes:e}){for(let i=0;i<4;i++){const r=this.facePlane,o=e[i],a=r.normal.dot(o.normal);if(Math.abs(a)>.99)return this;const l=g0[i];if(Math.abs(a)<.01){l.copy(o);continue}l.normal.crossVectors(r.normal,o.normal).normalize().cross(r.normal).negate();const c=1-a*a,d=(r.constant-o.constant*a)/c,u=(o.constant-r.constant*a)/c;tC.copy(r.normal).multiplyScalar(d).addScaledVector(o.normal,u),l.constant=-tC.dot(l.normal)}let t=0;const s=this.planes[0].normal;for(;g0[t].normal.dot(s)>M5;)break;for(let i=0;i<4;i++){const r=this.planes[i],o=(i+t)%4;g0[o].distanceToPoint(this.originalCenter)<r.distanceToPoint(this.originalCenter)&&r.copy(e[o])}return this}toArray(e,t){for(let s=0;s<4;s++){const{normal:i,constant:r}=this.planes[s];i.toArray(e,t),e[t+3]=r,t+=4}}}const sC=[new w,new w,new w,new w],P5=[[-.5,-.5],[.5,-.5],[.5,.5],[-.5,.5]];function R5(n,e,t,s){return be(()=>{if(n.value==null)return!1;if(t.value==null)return!0;const i=e.value,r=n.value.clippingRect.value;if(r==null||i==null)return!1;const[o,a]=t.value,l=s.value;for(let u=0;u<4;u++){const[h,f]=P5[u];sC[u].set(h*l*o,f*l*a,0).applyMatrix4(i)}const{planes:c}=r;let d;for(let u=0;u<4;u++){const h=c[u];d=!0;for(let f=0;f<4;f++){const A=sC[f];h.distanceToPoint(A)>=0&&(d=!1)}if(d)return!0}return!1})}function Q5(n,{overflow:e,borderInset:t,size:s},i,r){return be(()=>{const o=n.value;if(o==null||e.value===Pl.Visible)return r?.value;if(s.value==null||t.value==null)return;const[a,l]=s.value,[c,d,u,h]=t.value,f=i.value,A=new T5(o,(d-h)*f/2,(c-u)*f/2,(a-h-d)*f,(l-c-u)*f);return r?.value!=null&&A.min(r.value),A})}const uy=new ps(new w(-1,0,0),Number.MAX_SAFE_INTEGER),qp=new Float32Array(16);for(let n=0;n<4;n++)uy.normal.toArray(qp,n*4),qp[n*4+3]=uy.constant;function x2(n){const e=()=>n.root.peek().component.parent?.matrixWorld;return new Array(4).fill(void 0).map((s,i)=>new D5(()=>n.parentContainer.peek()?.clippingRect.value?.planes[i],e))}const oi=new ps;class D5{getLocalPlane;getGlobalMatrix;get normal(){return this.computeInto(oi),oi.normal}get constant(){return this.computeInto(oi),oi.constant}isPlane=!0;constructor(e,t){this.getLocalPlane=e,this.getGlobalMatrix=t}computeInto(e){const t=this.getLocalPlane(),s=this.getGlobalMatrix();return t==null||s==null?e.copy(uy):e.copy(t).applyMatrix4(s)}set(e,t){return this}setComponents(e,t,s,i){return this}setFromNormalAndCoplanarPoint(e,t){return this}setFromCoplanarPoints(e,t,s){return this}clone(){return this.computeInto(new ps)}copy(e){return this.computeInto(e),this}normalize(){return this}negate(){return this}distanceToPoint(e){return this.computeInto(oi).distanceToPoint(e)}distanceToSphere(e){return this.computeInto(oi).distanceToSphere(e)}projectPoint(e,t){return this.computeInto(oi).projectPoint(e,t)}intersectLine(e,t){return this.computeInto(oi).intersectLine(e,t)}intersectsLine(e){return this.computeInto(oi).intersectsLine(e)}intersectsBox(e){return this.computeInto(oi).intersectsBox(e)}intersectsSphere(e){return this.computeInto(oi).intersectsSphere(e)}coplanarPoint(e){return this.computeInto(oi).coplanarPoint(e)}applyMatrix4(e,t){return this}translate(e){return this}equals(e){return this.computeInto(oi).equals(e)}isIntersectionLine(e){return this.computeInto(oi).isIntersectionLine(e)}}function nu(n,e,t,s,i,r,o,a,l,c,d){vt(()=>{if(t.value==null)return;const u=new AbortController,h=e.value.panelGroupManager.getGroup(t.value,s.value);return new k5(n,h,t.value.patchIndex,i,r,o,a,l,c,u.signal),()=>u.abort()},d)}const L5=new Je;function Qg(n,e,t,s){return be(()=>{const i=t.value,r=e.value;if(i==null||r==null)return;const[o,a]=i,l=n.value.pixelSize,c=new Je;if(c.makeScale(o*l,a*l,1),s!=null){const[d,u]=s.value;c.premultiply(L5.makeTranslation(d*l,u*l,0))}return c.premultiply(r)})}class k5{group;minorIndex;matrix;size;borderInset;clippingRect;materialConfig;indexInBucket;bucket;insertedIntoGroup=!1;active=bt(!1);abortController;constructor(e,t,s,i,r,o,a,l,c,d){this.group=t,this.minorIndex=s,this.matrix=i,this.size=r,this.borderInset=o,this.clippingRect=a,this.materialConfig=c;const u=c.setters;vt(()=>{if(!(!l.value||!this.active.value))return e.subscribePropertyKeys(f=>{c.hasProperty(f)&&vt(()=>{const A=this.getIndexInBuffer();if(A==null)return;const{instanceData:p,instanceDataOnUpdate:g,root:m}=this.group;u[f](p.array,p.itemSize*A,e.value[f],r,e.signal.opacity,g),m.requestRender?.()},d)})},d);const h=c.computedIsVisibile(e,o,r,l);vt(()=>{if(h.value){this.requestShow();return}this.hide()},d),d.addEventListener("abort",()=>this.hide())}setIndexInBucket(e){this.indexInBucket=e}getIndexInBuffer(){if(!(this.bucket==null||this.indexInBucket==null))return this.bucket.offset+this.indexInBucket}activate(e,t){this.bucket=e,this.indexInBucket=t,this.active.value=!0,this.abortController=new AbortController,vt(()=>{if(this.matrix.value==null)return;const s=this.getIndexInBuffer();if(s==null)return;const i=s*16,{instanceMatrix:r,root:o}=this.group;this.matrix.value.toArray(r.array,i),r.addUpdateRange(i,16),r.needsUpdate=!0,o.requestRender?.()},this.abortController.signal),vt(()=>{const s=this.getIndexInBuffer();if(s==null||this.size.value==null)return;const[i,r]=this.size.value,{instanceData:o,root:a}=this.group,{array:l}=o,c=s*16+14;l[c]=i,l[c+1]=r,o.addUpdateRange(c,2),o.needsUpdate=!0,a.requestRender?.()},this.abortController.signal),vt(()=>{const s=this.getIndexInBuffer();if(s==null||this.borderInset.value==null)return;const{instanceData:i,root:r}=this.group,o=s*16+0;i.array.set(this.borderInset.value,o),i.addUpdateRange(o,4),i.needsUpdate=!0,r.requestRender?.()},this.abortController.signal),vt(()=>{const s=this.getIndexInBuffer();if(s==null)return;const{instanceClipping:i,root:r}=this.group,o=s*16,a=this.clippingRect?.value;a!=null?a.toArray(i.array,o):i.array.set(qp,o),i.addUpdateRange(o,16),i.needsUpdate=!0,r.requestRender?.()},this.abortController.signal)}requestShow(){this.insertedIntoGroup||(this.insertedIntoGroup=!0,this.group.insert(this.minorIndex,this))}hide(){this.insertedIntoGroup&&(this.active.value=!1,this.group.delete(this.minorIndex,this.indexInBucket,this),this.insertedIntoGroup=!1,this.bucket=void 0,this.indexInBucket=void 0,this.abortController?.abort(),this.abortController=void 0)}}function fo(n,e,t){if(e==null)return t;const s=n[e];if(s==null)throw new Error(`unexpected value ${e}, expected ${Object.keys(n).join(", ")}`);return s}function en(n,e){return n==null||typeof n!="string"?n:n.endsWith("vw")?(e.component.size.value?.[0]??0)*parseFloat(n)/100:n.endsWith("vh")?(e.component.size.value?.[1]??0)*parseFloat(n)/100:n}const F5={static:0,relative:1,absolute:2},m0={auto:0,"flex-start":1,center:2,"flex-end":3,stretch:4,baseline:5,"space-between":6,"space-around":7,"space-evenly":8},U5={column:0,"column-reverse":1,row:2,"row-reverse":3},O5={"no-wrap":0,wrap:1,"wrap-reverse":2},G5={"flex-start":0,center:1,"flex-end":2,"space-between":3,"space-around":4,"space-evenly":5},H5={visible:0,hidden:1,scroll:2},z5={flex:0,none:1,contents:2},y2={positionType:(n,e,t)=>{e.setPositionType(fo(F5,t,1))},positionTop:(n,e,t)=>{if(t==="auto"){e.setPositionAuto(1);return}e.setPosition(1,en(t,n))},positionLeft:(n,e,t)=>{if(t==="auto"){e.setPositionAuto(0);return}e.setPosition(0,en(t,n))},positionRight:(n,e,t)=>{if(t==="auto"){e.setPositionAuto(2);return}e.setPosition(2,en(t,n))},positionBottom:(n,e,t)=>{if(t==="auto"){e.setPositionAuto(3);return}e.setPosition(3,en(t,n))},alignContent:(n,e,t)=>{e.setAlignContent(fo(m0,t,4))},alignItems:(n,e,t)=>{e.setAlignItems(fo(m0,t,4))},alignSelf:(n,e,t)=>{e.setAlignSelf(fo(m0,t,0))},flexDirection:(n,e,t)=>{e.setFlexDirection(fo(U5,t,2))},flexWrap:(n,e,t)=>{e.setFlexWrap(fo(O5,t,0))},justifyContent:(n,e,t)=>{e.setJustifyContent(fo(G5,t,0))},marginTop:(n,e,t)=>{if(t==="auto"){e.setMarginAuto(1);return}e.setMargin(1,en(t,n))},marginLeft:(n,e,t)=>{if(t==="auto"){e.setMarginAuto(0);return}e.setMargin(0,en(t,n))},marginRight:(n,e,t)=>{if(t==="auto"){e.setMarginAuto(2);return}e.setMargin(2,en(t,n))},marginBottom:(n,e,t)=>{if(t==="auto"){e.setMarginAuto(3);return}e.setMargin(3,en(t,n))},flexBasis:(n,e,t)=>{if(t==="auto"){e.setFlexBasisAuto();return}e.setFlexBasis(en(t,n)??NaN)},flexGrow:(n,e,t)=>{e.setFlexGrow(t??0)},flexShrink:(n,e,t)=>{e.setFlexShrink(t??1)},width:(n,e,t)=>{if(t==="auto"){e.setWidthAuto();return}e.setWidth(en(t,n)??NaN)},height:(n,e,t)=>{if(t==="auto"){e.setHeightAuto();return}e.setHeight(en(t,n)??NaN)},minWidth:(n,e,t)=>{e.setMinWidth(en(t,n))},minHeight:(n,e,t)=>{e.setMinHeight(en(t,n))},maxWidth:(n,e,t)=>{e.setMaxWidth(en(t,n))},maxHeight:(n,e,t)=>{e.setMaxHeight(en(t,n))},boxSizing:(n,e,t)=>{e.setBoxSizing(t??0)},aspectRatio:(n,e,t)=>{e.setAspectRatio(t)},borderTopWidth:(n,e,t)=>{e.setBorder(1,t)},borderLeftWidth:(n,e,t)=>{e.setBorder(0,t)},borderRightWidth:(n,e,t)=>{e.setBorder(2,t)},borderBottomWidth:(n,e,t)=>{e.setBorder(3,t)},overflow:(n,e,t)=>{e.setOverflow(fo(H5,t,0))},display:(n,e,t)=>{e.setDisplay(fo(z5,t,0))},paddingTop:(n,e,t)=>{e.setPadding(1,en(t,n))},paddingLeft:(n,e,t)=>{e.setPadding(0,en(t,n))},paddingRight:(n,e,t)=>{e.setPadding(2,en(t,n))},paddingBottom:(n,e,t)=>{e.setPadding(3,en(t,n))},gapRow:(n,e,t)=>{e.setGap(1,en(t,n))},gapColumn:(n,e,t)=>{e.setGap(0,en(t,n))},direction:(n,e,t)=>{e.setDirection(t??0)}},Vu=100;function V5(n){const e=n.create();return e.setUseWebDefaults(!0),e.setPointScaleFactor(Vu),e.setExperimentalFeatureEnabled(m2.WebFlexBasis,!0),e}const _2=bt(void 0);S5().then(({Node:n,Config:e})=>{const t=V5(e);_2.value=()=>n.create(t)}).catch(console.error);const q5=()=>_2.value?.();function W5(n){return n==="measureFunc"?!0:n in y2}class X5{component;children=[];yogaNode;layoutChangeListeners=new Set;customLayouting;active=bt(!1);constructor(e){this.component=e,vt(()=>{const t=q5();if(t!=null)return this.yogaNode=t,this.active.value=!0,this.updateMeasureFunction(),()=>{this.yogaNode?.getParent()?.removeChild(this.yogaNode),this.yogaNode?.free()}},e.abortSignal),vt(()=>{if(!this.active.value)return;const t=new AbortController,s=e.properties.subscribePropertyKeys(i=>{W5(i)&&vt(()=>{y2[i](e.root.value,this.yogaNode,e.properties.value[i]),this.component.root.peek().requestCalculateLayout()},t.signal)});return()=>{s(),t.abort()}},e.abortSignal),vt(()=>{const t=e.parentContainer.value;if(t!=null)return t.node.addChild(this),()=>t.node.removeChild(this)},e.abortSignal)}setCustomLayouting(e){this.customLayouting=e,this.updateMeasureFunction()}updateMeasureFunction(){this.customLayouting==null||!this.active.value||(Y5(this.yogaNode,this.customLayouting.measure),this.component.root.peek().requestCalculateLayout())}calculateLayout(){this.yogaNode!=null&&(this.commit(this.yogaNode.getFlexDirection()),this.yogaNode.calculateLayout(void 0,void 0),hh(()=>this.updateMeasurements(!0,void 0,void 0)))}addChild(e){this.children.push(e),this.component.root.peek().requestCalculateLayout()}removeChild(e){const t=this.children.indexOf(e);t!==-1&&(this.children.splice(t,1),this.component.root.peek().requestCalculateLayout())}commit(e){if(this.yogaNode==null)throw new Error("commit cannot be called without a yoga node");const t=e===ud.Column||e===ud.ColumnReverse;if(this.customLayouting!=null&&this.component.properties.peek()[t?"minHeight":"minWidth"]===void 0&&this.yogaNode[t?"setMinHeight":"setMinWidth"](t?this.customLayouting.minHeight:this.customLayouting.minWidth),this.component.properties.peek().flexShrink==null){const l=this.component.properties.peek().height!=null;this.yogaNode.setFlexShrink(l&&t?0:void 0)}let s;this.children.sort((l,c)=>{if(s??=l.component.parent?.children,s==null)return 0;const d=l.component,u=c.component,h=s.indexOf(d);if(h===-1)throw new Error("parent mismatch");const f=s.indexOf(u);if(f===-1)throw new Error("parent mismatch");return h-f});let i=0,r=this.yogaNode.getChild(i),o=this.children[i];for(;o!=null||r!=null;){if(o!=null&&r!=null&&J5(r,iC(o.yogaNode))){o=this.children[++i],r=this.yogaNode.getChild(i);continue}if(r!=null&&this.yogaNode.removeChild(r),o!=null){const l=iC(o.yogaNode);l.getParent()?.removeChild(l),this.yogaNode.insertChild(l,i),o=this.children[++i]}r=this.yogaNode.getChild(i)}const a=this.children.length;for(let l=0;l<a;l++)this.children[l].commit(this.yogaNode.getFlexDirection())}updateMeasurements(e,t,s){if(this.yogaNode==null)throw new Error("update measurements cannot be called without a yoga node");this.component.overflow.value=this.yogaNode.getOverflow(),e&&=this.yogaNode.getDisplay()!=VA.None,this.component.displayed.value=e;const i=this.yogaNode.getComputedWidth(),r=this.yogaNode.getComputedHeight();Lc(this.component.size,i,r),t??=i,s??=r;const o=this.yogaNode.getComputedLeft(),a=this.yogaNode.getComputedTop(),l=o+i*.5-t*.5,c=-(a+r*.5-s*.5);Lc(this.component.relativeCenter,l,c);const d=this.yogaNode.getComputedPadding(Bn.Top),u=this.yogaNode.getComputedPadding(Bn.Left),h=this.yogaNode.getComputedPadding(Bn.Right),f=this.yogaNode.getComputedPadding(Bn.Bottom);nC(this.component.paddingInset,d,h,f,u);const A=this.yogaNode.getComputedBorder(Bn.Top),p=this.yogaNode.getComputedBorder(Bn.Right),g=this.yogaNode.getComputedBorder(Bn.Bottom),m=this.yogaNode.getComputedBorder(Bn.Left);nC(this.component.borderInset,A,p,g,m);for(const E of this.layoutChangeListeners)E();const y=this.children.length;let _=0,I=0;for(let E=0;E<y;E++){const[b,N]=this.children[E].updateMeasurements(e,i,r);_=Math.max(_,b),I=Math.max(I,N)}if(_-=m,I-=A,this.component.overflow.value===Pl.Scroll){_+=h,I+=u;const E=i-m-p,b=r-A-g,N=_-E,C=I-b,B=N>.5,S=C>.5;Lc(this.component.maxScrollPosition,B?N:void 0,S?C:void 0),Lc(this.component.scrollable,B,S)}else Lc(this.component.maxScrollPosition,void 0,void 0),Lc(this.component.scrollable,!1,!1);const v=this.component.overflow.value===Pl.Visible;return[o+Math.max(i,v?_:0),a+Math.max(r,v?I:0)]}addLayoutChangeListener(e){return this.layoutChangeListeners.add(e),()=>void this.layoutChangeListeners.delete(e)}}function Y5(n,e){if(e==null){n.setMeasureFunc(null);return}n.setMeasureFunc((t,s,i,r)=>{const o=e(t,s,i,r);return o.width=Math.ceil(o.width*Vu)/Vu,o.height=Math.ceil(o.height*Vu)/Vu,o}),n.markDirty()}function Lc(n,e,t){if(n.value!=null){const[s,i]=n.value;if(s===e&&i===t)return}n.value=[e,t]}function nC(n,e,t,s,i){if(n.value!=null){const[r,o,a,l]=n.value;if(r==e&&o==t&&a==s&&l==i)return}n.value=[e,t,s,i]}function iC(n){if(n==null)throw new Error("commit cannot be called with a children that miss a yoga node");return n}function J5(n,e){return n.M.O===e.M.O}const K5={borderWidth:["borderBottomWidth","borderTopWidth","borderLeftWidth","borderRightWidth"],borderXWidth:["borderLeftWidth","borderRightWidth"],borderYWidth:["borderTopWidth","borderBottomWidth"],inset:["positionTop","positionLeft","positionRight","positionBottom"],padding:["paddingBottom","paddingTop","paddingLeft","paddingRight"],paddingX:["paddingLeft","paddingRight"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],paddingY:["paddingTop","paddingBottom"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],margin:["marginBottom","marginTop","marginLeft","marginRight"],marginX:["marginLeft","marginRight"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],marginY:["marginTop","marginBottom"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],gap:["gapRow","gapColumn"]},j5={borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],borderTopRadius:["borderTopLeftRadius","borderTopRightRadius"],borderLeftRadius:["borderTopLeftRadius","borderBottomLeftRadius"],borderRightRadius:["borderTopRightRadius","borderBottomRightRadius"],borderBottomRadius:["borderBottomLeftRadius","borderBottomRightRadius"]},Z5={scrollbarBorderRadius:["scrollbarBorderTopLeftRadius","scrollbarBorderTopRightRadius","scrollbarBorderBottomLeftRadius","scrollbarBorderBottomRightRadius"],scrollbarBorderTopRadius:["scrollbarBorderTopLeftRadius","scrollbarBorderTopRightRadius"],scrollbarBorderLeftRadius:["scrollbarBorderTopLeftRadius","scrollbarBorderBottomLeftRadius"],scrollbarBorderRightRadius:["scrollbarBorderTopRightRadius","scrollbarBorderBottomRightRadius"],scrollbarBorderBottomRadius:["scrollbarBorderBottomLeftRadius","scrollbarBorderBottomRightRadius"],scrollbarBorderWidth:["scrollbarBorderBottomWidth","scrollbarBorderTopWidth","scrollbarBorderLeftWidth","scrollbarBorderRightWidth"],scrollbarBorderXWidth:["scrollbarBorderLeftWidth","scrollbarBorderRightWidth"],scrollbarBorderYWidth:["scrollbarBorderTopWidth","scrollbarBorderBottomWidth"]},$5={caretBorderRadius:["caretBorderTopLeftRadius","caretBorderTopRightRadius","caretBorderBottomLeftRadius","caretBorderBottomRightRadius"],caretBorderTopRadius:["caretBorderTopLeftRadius","caretBorderTopRightRadius"],caretBorderLeftRadius:["caretBorderTopLeftRadius","caretBorderBottomLeftRadius"],caretBorderRightRadius:["caretBorderTopRightRadius","caretBorderBottomRightRadius"],caretBorderBottomRadius:["caretBorderBottomLeftRadius","caretBorderBottomRightRadius"],caretBorderWidth:["caretBorderBottomWidth","caretBorderTopWidth","caretBorderLeftWidth","caretBorderRightWidth"],caretBorderXWidth:["caretBorderLeftWidth","caretBorderRightWidth"],caretBorderYWidth:["caretBorderTopWidth","caretBorderBottomWidth"]},eU={selectionBorderRadius:["selectionBorderTopLeftRadius","selectionBorderTopRightRadius","selectionBorderBottomLeftRadius","selectionBorderBottomRightRadius"],selectionBorderTopRadius:["selectionBorderTopLeftRadius","selectionBorderTopRightRadius"],selectionBorderLeftRadius:["selectionBorderTopLeftRadius","selectionBorderBottomLeftRadius"],selectionBorderRightRadius:["selectionBorderTopRightRadius","selectionBorderBottomRightRadius"],selectionBorderBottomRadius:["selectionBorderBottomLeftRadius","selectionBorderBottomRightRadius"],selectionBorderWidth:["selectionBorderBottomWidth","selectionBorderTopWidth","selectionBorderLeftWidth","selectionBorderRightWidth"],selectionBorderXWidth:["selectionBorderLeftWidth","selectionBorderRightWidth"],selectionBorderYWidth:["selectionBorderTopWidth","selectionBorderBottomWidth"]},tU={transformScale:["transformScaleX","transformScaleY","transformScaleZ"]},hy=Object.assign({},K5,j5,Z5,tU,$5,eU),I2=typeof matchMedia>"u"?void 0:matchMedia?.("(prefers-color-scheme: dark)"),v2=bt(I2?.matches??!1);I2?.addEventListener("change",n=>v2.value=n.matches);const E2=bt("system"),iI=be(()=>{switch(E2.value){case"system":return v2.value;case"dark":return!0;case"light":return!1}});function sU(n){E2.value=n}const C2={sm:640,md:768,lg:1024,xl:1280,"2xl":1536},rI=Object.keys(C2),nU=rI.length;function iU(n){const e={};for(let t=0;t<nU;t++){const s=rI[t];e[s]=()=>(n.value.component.size.value?.[0]??0)>C2[s]}return e}function rU(n){return{hover:()=>n.value.length>0}}function oU(n){return{active:()=>n.value.length>0}}const aU={dark:()=>iI.value};function lU(n){return n==null?{focus:()=>!1}:{focus:()=>n.value}}function cU(n){return n==null?{placeholderStyle:()=>!1}:{placeholderStyle:()=>n.value}}const dU=["dark","hover","active","focus",...rI];function uU(n,e,t,s,i){return{...aU,...iU(n),...rU(e),...oU(t),...lU(s),...cU(i)}}let hU=class{apply;defaults;onLayerIndicesChanged;enabled=!1;value=new Proxy({},{get:(e,t)=>this.getSignal(t).value});signal=new Proxy({},{get:(e,t)=>this.getSignal(t)});peekProxy=new Proxy({},{get:(e,t)=>this.peekValue(t)});propertyStateMap={};propertiesLayers=new Map;propertyKeys;propertyKeySubscriptions=new Set;constructor(e,t,s){this.apply=e,this.defaults=t,this.onLayerIndicesChanged=s,this.propertyKeys=t==null?[]:Array.from(Object.keys(t))}peek(){return this.peekProxy}subscribePropertyKeys(e){for(const t of this.propertyKeys)e(t);return this.propertyKeySubscriptions.add(e),()=>this.propertyKeySubscriptions.delete(e)}clearProvidedLayer(e,t){this.propertiesLayers.delete(t);for(const s in e){if(e[s]===void 0)continue;const r=this.propertyStateMap[s];r!=null&&(r.cleanup?.(),r.cleanup=void 0,r.layerIndex==t&&this.update(s,r))}}setLayer(e,t){let s=this.propertiesLayers.get(e);const i=s==null;hh(()=>{if(s!=null&&this.clearProvidedLayer(s,e),t===void 0)return;this.propertiesLayers.set(e,s={});const r=Object.entries(t);for(const[o,a]of r)this.apply(o,a,this.setProperty.bind(this,s,e),e)}),i&&this.onLayerIndicesChanged?.()}getSignal(e){let t=this.propertyStateMap[e];return t==null&&(this.propertyStateMap[e]=t={signal:new $s,layerIndex:null},this.update(e,t)),t.signal}peekValue(e){let t=this.propertyStateMap[e];if(t!=null)return t.signal.peek();const s=this.defaults?.[e],i=Array.from(this.propertiesLayers.keys()).sort((o,a)=>o-a),[r]=Hy(()=>x0(0,i,this.propertiesLayers,e,s));return r}set(e,t,s){let i=this.propertiesLayers.get(e);i==null&&this.propertiesLayers.set(e,i={}),this.apply(t,s,this.setProperty.bind(this,i,e),e)}setProperty(e,t,s,i){if(!this.propertyKeys.includes(s)){this.propertyKeys.push(s);for(const o of this.propertyKeySubscriptions)o(s)}if(e[s]===i)return;e[s]=i;const r=this.propertyStateMap[s];r!=null&&(r.layerIndex!=null&&t>r.layerIndex||this.enabled&&this.update(s,r))}update(e,t){t.cleanup?.(),t.cleanup=void 0;const s=this.defaults?.[e];let i;if(this.enabled?i=x0(0,Array.from(this.propertiesLayers.keys()).sort((a,l)=>a-l),this.propertiesLayers,e,s,a=>t.cleanup=Gi(()=>{const[l,c]=x0(a,Array.from(this.propertiesLayers.keys()).sort((d,u)=>d-u),this.propertiesLayers,e,s);t.signal.value=l,t.layerIndex=c})):s instanceof $s?i=[s.peek(),1/0]:i=[s,Number.MAX_SAFE_INTEGER],i==null)return;const[r,o]=i;t.signal.value=r,t.layerIndex=o}setEnabled(e){this.enabled!==e&&(this.enabled=e,this.updateAll())}updateAll(){for(const e in this.propertyStateMap)this.update(e,this.propertyStateMap[e])}destroy(){for(const e in this.propertyStateMap)this.propertyStateMap[e].cleanup?.();this.propertyStateMap={},this.propertyKeySubscriptions.clear()}};function x0(n,e,t,s,i,r){let o,a;const l=e[Symbol.iterator]();do if(a=l.next().value??Number.MAX_SAFE_INTEGER,!(a<n)){if(o=a===Number.MAX_SAFE_INTEGER?i:t.get(a)[s],typeof o=="object"&&o instanceof $s){if(r!=null){r(a);return}o=o.value}if(o!==void 0)break}while(a!=Number.MAX_SAFE_INTEGER);return o==="initial"&&(o=i),[o,a]}const qu=1e3,Kn=qu+2,b2={important:Kn*0,placeholderStyle:Kn*1,focus:Kn*2,active:Kn*3,hover:Kn*4,dark:Kn*5,"2xl":Kn*6,xl:Kn*7,lg:Kn*8,md:Kn*9,sm:Kn*10,base:Kn*11},fU=Object.keys(b2).filter(n=>n!="base");function Wd(n){if(n.type!="class"&&n.type!="default-overrides"&&n.type!="base")return n.type==="star-inheritance"?Kn*12:Kn*12+1;const e=b2[n.section];if(n.type!="class")return n.type==="default-overrides"?e+qu+1:e;const t=n.classIndex;if(t>=qu)throw new Error(`class index "${t}" exceeds the maximum number of classes (${qu})`);const s=qu-1;return e+s-t+1}const qa={scrollbarWidth:10,visibility:"visible",opacity:1,depthTest:!0,renderOrder:0,fontSize:16,letterSpacing:0,lineHeight:"120%",wordBreak:"break-word",verticalAlign:"middle",textAlign:"left",fontWeight:"normal",caretWidth:1.5,receiveShadow:!1,castShadow:!1,panelMaterialClass:Nt,pixelSize:.01,anchorX:"center",anchorY:"center",tabSize:8,whiteSpace:"normal"};class fy extends hU{conditionals;usedConditionals={hover:bt(!1),active:bt(!1)};constructor(e,t,s){super((i,r,o)=>{if(i in e){const a=e[i];for(const l of a)o(l,r);return}o(i,r)},s,()=>{this.usedConditionals.active.value=rC(this.propertiesLayers,"active"),this.usedConditionals.hover.value=rC(this.propertiesLayers,"hover")}),this.conditionals=t}setLayersWithConditionals(e,t){hh(()=>{this.setLayer(Wd({...e,section:"base"}),t);for(const s of fU){const i=Wd({...e,section:s});if(t==null||!(s in t)){this.setLayer(i,void 0);continue}const r=s!="important"?this.conditionals[s]:void 0;let o=t[s];r!=null&&(o=Object.fromEntries(Object.entries(o).map(([a,l])=>[a,be(()=>r()?l instanceof $s?l.value:l:void 0)]))),this.setLayer(i,o)}})}}function rC(n,e){const t=Wd({type:"base",section:e});for(const s of n.keys())if(t<=s&&s<t+Kn)return!0;return!1}const AU=new w,pU=new w,Zf=new w,y0=new Je,gU=new gs,mU=new Ge,_0=Math.PI/180;function xU([n,e,t]){return mU.setFromEuler(gU.set(n*_0,e*_0,t*_0))}const yU="center",_U="center";function IU({relativeCenter:n,size:e,properties:t,root:s}){return be(()=>{if(n.value==null)return;const[i,r]=n.value,o=t.value.pixelSize,a=new Je().makeTranslation(i*o,r*o,0);let l=!0;const c=t.value.transformOriginX??yU,d=t.value.transformOriginY??_U;if(c!="center"||d!="center"){if(e.value==null)return;const[b,N]=e.value;l=!1,Zf.set(-M2[c]*b*o,-T2[d]*N*o,0),a.multiply(y0.makeTranslation(Zf)),Zf.negate()}const u=t.value.transformTranslateX??0,h=t.value.transformTranslateY??0,f=t.value.transformTranslateZ??0,A=t.value.transformRotateX??0,p=t.value.transformRotateY??0,g=t.value.transformRotateZ??0,m=t.value.transformScaleX??1,y=t.value.transformScaleY??1,_=t.value.transformScaleZ??1,I=[A,p,g],v=[Ln(u,()=>e.value?.[0]??0,s.value),-Ln(h,()=>e.value?.[1]??0,s.value),f],E=[Ln(m,()=>1,s.value),Ln(y,()=>1,s.value),Ln(_,()=>1,s.value)];return(v.some(b=>b!=0)||I.some(b=>b!=0)||E.some(b=>b!=1))&&a.multiply(y0.compose(AU.fromArray(v).multiplyScalar(o),xU(I),pU.fromArray(E))),l||a.multiply(y0.makeTranslation(Zf)),a})}const Wp={};class vU{properties;starProperties;list=[];constructor(e,t){this.properties=e,this.starProperties=t}*[Symbol.iterator](){for(const e in this.list)e!=null&&(yield e)}set(...e){const t=Math.max(e.length,this.list.length);this.list.length=e.length;for(let s=0;s<t;s++){const i={type:"class",classIndex:s},r=e[s];let o=r==null?void 0:this.resolveClassRef(r);this.properties.setLayersWithConditionals(i,o),this.starProperties.setLayersWithConditionals(i,Xp(o))}}add(...e){hh(()=>{for(const t of e){let s=0;for(;this.list[s]!=null;)s++;this.list[s]=t;const i={type:"class",classIndex:s},r=this.resolveClassRef(t);this.properties.setLayersWithConditionals(i,r),this.starProperties.setLayersWithConditionals(i,Xp(r))}})}remove(...e){hh(()=>{for(const t of e){const s=this.list.indexOf(t);if(s===-1){console.warn(`Class '${t}' not found in the classList`);return}s+1===this.list.length?this.list.splice(s,1):this.list[s]=void 0;const i={type:"class",classIndex:s};this.properties.setLayersWithConditionals(i,void 0),this.starProperties.setLayersWithConditionals(i,void 0)}})}toggle(e){this.contains(e)?this.remove(e):this.add(e)}contains(e){return this.list.includes(e)}replace(e,t){return this.contains(e)?(this.remove(e),this.add(t),!0):!1}resolveClassRef(e){if(e!=null){if(typeof e!="string")return e;if(!(e in Wp)){console.warn(`class "${e}" not present in the global stylesheet`);return}return Wp[e]}}}function Xp(n){if(n==null)return;let e;"*"in n&&(e={...n["*"]});for(const t in dU){const s=n[t]?.["*"];s!=null&&(e??={},e[t]=s)}return e}const EU=({text:n,fontSize:e,font:t,letterSpacing:s},i,r,o)=>{const a=r;o.charIndexOffset=a,o.nonWhitespaceCharLength=0,o.charLength=0,o.nonWhitespaceWidth=0,o.whitespacesBetween=0;let l=0,c=0;for(;r<n.length;r++){const d=n[r];if(d===`
`){o.charLength=r-a+1;return}if(l+=bh(e,t.getGlyphInfo(d),s),d===" "){c+=1;continue}if(o.nonWhitespaceWidth>0&&i!=null&&l>i)break;o.nonWhitespaceCharLength=r-a+1,o.nonWhitespaceWidth=l,o.whitespacesBetween=c}o.charLength=r-a},CU=({text:n,fontSize:e,font:t,letterSpacing:s},i,r,o)=>{const a=r;o.charIndexOffset=a,o.nonWhitespaceCharLength=0,o.charLength=0,o.nonWhitespaceWidth=0,o.whitespacesBetween=0;let l=0,c=0;for(;r<n.length;r++){const d=n[r];if(d===`
`){o.charLength=r-a+1;return}if(l+=bh(e,t.getGlyphInfo(d),s),d===" "){c+=1;continue}o.nonWhitespaceWidth=l,o.whitespacesBetween=c,o.nonWhitespaceCharLength=r-a+1}o.charLength=r-a},bU=({text:n,fontSize:e,font:t,letterSpacing:s},i,r,o)=>{const a=r;o.charIndexOffset=a,o.nonWhitespaceCharLength=0,o.charLength=0,o.nonWhitespaceWidth=0,o.whitespacesBetween=0;let l=0,c=0;for(;r<n.length;r++){const d=n[r];if(d===`
`){o.charLength=r-a+1;break}if(l+=bh(e,t.getGlyphInfo(d),s),d===" "){c+=1,o.charLength=r-a+1;continue}if(o.nonWhitespaceWidth>0&&i!=null&&l>i)break;const u=n[r+1];(u===" "||u===`
`||u==null)&&(o.charLength=r-a+1,o.nonWhitespaceCharLength=o.charLength,o.nonWhitespaceWidth=l,o.whitespacesBetween=c)}},I0=new Map,wU=new nr;function BU(n,e){let t=I0.get(n);if(t instanceof Set){t.add(e);return}if(t!=null){e(t);return}const s=new Set;s.add(e),I0.set(n,s),NU(n).then(i=>{for(const r of s)r(i);I0.set(n,i)}).catch(console.error)}async function NU(n){const e=typeof n=="object"?n:await(await fetch(n)).json();if(e.pages.length!==1)throw new Error("only supporting exactly 1 page");const t=await wU.loadAsync(new URL(e.pages[0],typeof n=="string"?new URL(n,window.location.href):void 0).href);return t.flipY=!1,new QU(e,t)}const SU={light:{pages:["data:image/webp;base64,UklGRi73AABXRUJQVlA4TCH3AAAv/8B/AE1QciNJkiSFaURvY4z/P9jNPbOOc4vo/wSoW1Lve13ve+V9G9rYr7nKg0eVOaRbphCKOxskjr8TOeBBkI300qVU2TZkKV1oYswnj7Gdxy7yhWvKRFK+2x7n/bWu4bGvKVDoJT6s5TYOhToRIeLlsV6Ce7M+BKrKXNWqG90eh7sbijtdQtH6JMoYYtseZFpjHQp/H2PTw/gvifO279K+G70cvyGbiH3Ish7kowjPQbeie2naWGdaUbZl7c2F9FF8kMUmydAnKFMeSYyJ2lHdihb74UlCUnigPmG6kzi9nSbi9sVsNIon+iAxJhOq6K7pMO4OYu32YZK8/XAb73bRIUs57V7uP+bhsK1V6OnTDON17QotWYIessnSPi69cTnu7tLdVXXtd0Xrru0XhO/U7qJOTwpddX3d4kdEXT+JH6qfW//XWMCNJNu10iH8/KO7JppbWFrunsf/Jh6TRpIEVR5tHo2ElvD+lT10FMm2q4yULwD/OnJO/cOKFYUA6P8EgIiwoKNCRDhIBCJACAUiVAiAAEREAqLnDATEBkQAIEQkEBARUPoWpABCBBAJ0TFFIBDoEyBAoA6CAAABAAsAAgACJUJAFEREAhARgAJQgohABxmhaEJsiEgwWMRIRKAKIiIARCSDEIiIACIhAohIAM4EEBFA3UXsiQCASIiIQCRERCBCVI5ERBAARESQJkQEkBABQSNECgpAtEUJ4kEAEZgAAgCLiEBEpAqREIRIgQACQH1BI0664goRAEREslkMaBaNjQgDEQKCRkCpCAL9EfwlUJ8hUAUEAJEQiN6ZKOEiIsJBqgABBE9ERCAUAgjUF6hERAC4A0Qg7CGShiQICAAJFsSwvIiIAEUEEMAP4AkSAgSAoBMAISJ0IgIAomcACATYACAiAhWAQCQAEQEggAr4EU0QYA9IESAEAgFERCAigIDt8+QL2gsQ4g4EqC0W1AWgBAgCUCOgYREgIhARFYAQFhF9PoSqEBGISIjQ76xARAAgJEIVICWFiFAJwEKARkgqRBAQCZEA7yKyiKj4oSwcgEhABIAqhOTGG9SIAuRNuAAIAEQMDQUgUE4gBAkYKUEJSBBAINnWBIhAiAgQIhCBCCAXoAhEAggAEBHm0wcgAQgEAggEAAQQAbRB0gxBQ5yTUUAAgc62AAg3FgIAOi+OXoAukrK41P+2yh+ybdM3OZJz5Y9vvgliwkE4CIIgyYn5HKSTJEmSJEnSiUgnQVEIIYqmKJqimKUQ5d2e1fu+7/vu2WjkomhmLYqiEKIQxUc6EWk5SYRIkiRJgm9igiAIwuEgHA6HP39+k/l97/L7QtXSn302xUjYoWrPCFvew1vZ9Ggc8t7trcprDVnVM25K6c/lLfpnB1gNmYlJp1Pu9BJWaijvS5S3Gdcw1ch7h1cpavCUq9thLLL+yDL6IxIkb9GzFWrvy2tcDrtNlZcWfF5b5U2WjMKLQBnJeOkAK5jl02tTlmcR8iLvLlNeutpb4hqVvJRJcKSXQrhy1pj69Mf3x+scptpLCtE/qlzGrxd5qR5vYTqnvBVOnOn9Y6wGQcjIiygQDfJS7T28zFom7abHW9WgfL0FGqXDi3IYef28e5ZytUE11XgvCFODnaSNotpbMbQ/yZv+CEESiavIpnB4U3gr763Zt9KQyLub6gDV0J3EUFSSf6R7lvhDlEnX590iquWlO+xJr6nZRx+I9v7DZCFioEADWT9vCaKgzM+RXsS0nd5K3iq81TCV5aWSKrpQeVND2AgLLGRnEA1K5CXLuF2d2O1RW8243zEKyvvuYoQ5oP8/uG0+6e3vMwyz8x+GWaHVarVCf61OCGGMzxhjjDFClwshhFwIIYRSQgihlIdSSnkopZRQSimllFLKQymlhBByJYQQQighF4zxDlrjMz6f8RkhhBC6OZ1OCN3c3DA7NyeG6c8ckP0f3Li38/p7hrnT6XQ6FUKoQtVRhSqEK4xrjFFdH6EuxizusizLEpaw5C5LCCGEEEIIIYQQQviThpCmSwhhWbbLNoSwpMuSLluzGFf4GONrjBFCFUIVunOEKoQ6HaZizlwxzP/ngAXJVtVoDlfUZLPEByIgkN/lt1Gb+QqRi9xIvd7qbGJRDAzAIvFPAD9c/u+WxVZLWj8N/k0+zXz+y9YA6L+AsxaB9YCzjkoW/i8ZANB/+19oi+9KdfQ/o0O+6v+VL4Wi+G+/1+9V/M/iTP6Z/r9/Bfiq/vUf86q2aFzt1y5eieP1+OevCgDI81wAVP2vr3Y1UTzuuI78X53BLihaWtG//tPVrib+s+PEPxd47S/5PypJUzTHiTKIv4vW5Mlf9f/5L19yg/nz5+s/AJepq6v7qv83dAE2ahBTPyR3l0X+M3Vf9QRoyan0bVAS6d0B+S4mcmBxaAqPB8tBY7AgThBfAmo21W7eRO3i/Lh0AIDr2pEHLWBCphNMAy584SaQ6QhdwAn74Ox54Jap9tAVnJm552JQH7pBOwC23HNR6DN+ooWWAKBCRtFCyzZvi/r9/LvVlp3fvitpW4htdILGY4B8aKleaod7IYpCzgJzTaxvQsOh6jmgCNaEESZajlsAsh2FgZw1xIgCKHBZX0pJGgAQD0M96ityBpiQ23mK8zW7jXZgbkpMAZvmt8uwvg5PpW8PvoJvYVlYBprDh4Ingfs3BDPiCvGtOIRx71Bs+pY/a2nx3KWwYc8Dt5lZD9xe01gCDjx2y1xw24IzS4I5OONZCg48dmbGbQOOnHCfbZrBCSw8nJk7Fgeg38T1LrBDlQISNEPDQJzq4ZdDWj77DW0M1EyL3Axlz6sVLoppGbzwNJupWBH5VjBtmgvoPiZk2xLRfK5CFc4MmHjflvdbAMo5UviSHeGuDtvrFetjcSedVDeuHsvfu5nvWG4LC33usEvPB5DaVI+fDIH1uUDcQhNbrgSngKXhieFLhT/BfbBK7CKG40RRTebrMt8+xbYI2Fpmz20uvAv9pk2cGg9AT7ef86TPhc3B6XXCgdvsuWV6/DRHjj32wAOnLuw3sRAO3ObCB2YW9ju8KMMGFbPSdUbpbKpffwmkaUNa7r5Z4F1B25u7Emg6LqZl/EpZgrrdDiubbcm7QkyeCTkOaLGU8fu6/NoVgxEGAtRZg9KVaBUYTxz8p53Vjvjx8oXQCrhbQAENRFSoR7zi6OwZf8T8ujLHXzpH8ju72nCHXRYTFs3I8ShMjY47vvHugHVhNF8S/woAXRNGA8fuvPPOTwxPAKeCG9kwUrmUZpbY+VvoPdRCa2nVK8pnnNZCA9hyl2123HrEiLl9tux54Da95k5zZOaWuxx44MS50+aO3bLnhXv2mjvCBlUwMbUpHPvCCzvAiBELJ0zY5Q7Tdps2oksMILbE+YUBlXKE8j2NXKGicI88z9V0IgS0uRVE/2YlIZzUnLECH7ok60YFUpMB8nANxMRiMl355MeW7d4Tt0UNYBqgMScDSVl2xJkNPNAZLRjB2lk7V/fk107BWRtyrZ9XpNdBHPPe9Z4/Pfnx/l6NCW1drnGNa1hf3eXrXiyisFdajXqbgmFYW7W+Ose6uMKqYmauDCvCHRrAjjfa0cKGKudrQpRriMF8tfJqN35zRqth7DRULYI9mbFT2S0+WWjA2KnuCLffCOdJPDhz6TeiMh6u9LS0fbh0D4CFfTIj3PHTplHWJ7MbC0eMAMRnogUwUoYRotNLfEKoVRiA1jfAH1UKVEOjKNTNvBDQ0hUAi3BFGHNsGpYsTadRA/VuY/sxdER6AzGlqq7CSI/O2EXRJAAlAOIt8YG63mwXHRp/WSa/t548BVcd6mxjxGbCLurnVz+pdyEsFN01jHqt9o9wgDvcoTlsXdYMzKtlGGpUZJphGIY3UbHxT/5S29ObGK2mdna0va2t+j1GYq/xBvSbO77fNCoXps0BcFRlcXCmTWN8Oj1txPhp9uHSY4Ctqdyt3/hpLiOonNvPFGzx2mT0CEHnHZ/QA0bhSTfUrIBmc4D4pJEEsksHUVaJ1xuIoeaFdBVrhqGExSzxmDYaD4B5BJ2wFY5ACACT+Wfn+nKGjoGOjNtp1PqsuGz2Z9UL7E6ZCS/VzGft/k6bSaorZhesIsSVUceR1J4T1oZpKQBkWaqXk2GYVBrPCAc3GY/1jKdwPlpz516H7VtXuYc2NrW2rnzanq37TZtm+svtF04bMc3RNwVnxDTT1j4pHi4HA43QHzCiV79pc6f1g3679RsxYtp4xA/jxBwzoF7PhxAo7SmVgFbWQFmiwAPKFUfQiJQcaAS9ACoIVSuBEYVdwxiaK2TDtDRgeaWjgz7BYq6IXZShK4qArOcuxjhGsS6wjfK3bCI0nbPOoNp+ni1Ev7lYiISoNw4yFOsOaT8nDTLQAgjVrCbD5GAdnFRl0Sn5fk3T7mvnfIxuFRtoLJG062eLrC/PVRxir5QBiPdFQ4yfa93hq3YzijJISJtMtGyOdWCii7P0AXUaljnoAAAwBUDc+E2Cid0Jiwm1tCKESKyguYe3bQ2MAVDoEzSSRHd1KuaC5SBjRmfLgkYR2223HWYGDqQIrYtCEVgVweMDAF86v613sYKtEf+HOxSRGMgOOCkPF0DrxfnzlWezOr2bFVSzcFSYTGo0ktvKZqWUerDKWUP1qQajmKZyMnKKxDbXF88GDVVQ7ms0BF2s2PHfrlFp5/xXA6EXqNjwIDFlGsN2Y8syFML4LjDX3s9DqSUAaCQn2X6DA2WhfA2AkyB+OmU3NfuA/LnrejtaUBBAYzzlMIARZmqmw6DOjoMwYpFtx0joJI4RALbuEj9uAMDB+CDohh6xsSPrA1xHuTVglF48zwcG9giTCy6QLfc1RY/QZzzVR7eaytzID2JjL0fjg3JNclYrS85aWf/zj6HUhtM8ecqk68ponB82OVxV0BMSYOyxE0gBLuAuPHyi3Rf0i50OTjSE04INpwEeOL/YqdfLX27CPNgUIjO9FYXZiGePCKphkQv1UtCAKGYQM6FyPMVplJHAjE62jXA6hwU75kFHpesDCRwcqwLrUoaAhHQ3Z8wubv4QelATqnNcXl6OSsjA4/iYqbUj7uhRVpZjk+NsL6bGWWUq5s/Yw8Jp798H3vy6Wm+cnxET3V687/s6pzonpEilSAG4rsv4sXZfMO5uqe/+9jzwSyo18+0SZ8wnpkq//ZoPDK0pJr48EwB6IkT1oosfB6qJtrsxjAAzfXt2M4xCDGF3jgqNIhrDzKk2kxEKFbgOjtEEWoLEJHYTguuI9C4+Q5BtJ6k+OlsOgQcYSEXnMe2FsrJYVS887fqRguCNLmHmJGDoda+rViO/wqrVX5+w2iYmqr0CRy8H7lOWSmVS/baeuzDTZ8KigAFptutj9wV9cfrGfhwOtHyFYhijOZ/WH8JsCAfZLEM11KiYhb4moqAxvu448EuwHmT7Qyccg1THINU4xOoNTXJItwzF2M7B5hHY28Xm609sA/XXs+dkLDqSsDUwkHCB71uBul6pTNtpvv3yuipuVK69I0wYALDtda+7xoOLVfjCuMtSFTYKOgsLQRUCe8uQSV1uDTjcBVJMvcNFMm59KEs5fMFiLIelGYDt44TVfX07FAVCQOUCKAosx+D/TU7JMpleA4P8sCO5GHqn0DHC1HbbzbTuiU7Kvgzg5Fynef2E/oFtoJ4LWy3ClZkQ8LkH+PgAmDGgsoOfXndYFpaqZdUmaP/QbJcC0Fb9ul2v7K16+c9V+JKllNoItwOMhv3suE8qlRl/OuiVxsWFTCrF/R9dlkpXAoCFS5ncaNxL2QGz4WgfO7SIlS4RonIWAsUhoCQqp56K6mlcDDqFWF7Zn7ATRf6EHYNSI4VlMhI6augjKLkeq3XoLsrCUJLJahvo4Ftrdmvuo1yVq2pO4xMDLPto3nWv2+b9t1cpfbsqnwtZkpFuFz0p6WVeE5g5cGqKEU8DBqRdk3NJZTKpJSHlLuw3IgFIuWBLODBkFGB9BaaAijkif7DpjyMaCTc2Mw9GDYZCMl2wOgapTmG+UUD8+mZhrkLh6YuUoAx/q+nJoWPGeIE5pUQr8iAxQJi48duvS1kTSB20tORjEesuS0lXWu3GLJwGsN9+QWBK16VS6acG102nsWjLHe9zh0cvDbjpk3CUgeCk6SH+GJNvh6dc2hOCiZfCbZT4sds5DDBNTL4vUheHFqPAyAEjTCG5+ECldC+ERCVGPmSzj5RhJJODNes/iIAUcDAHXx84GOvtV7g7hbq+g5gLX6Ka4m15b+gFYHnXNikyv+K42V+E73Aj3m47mLiQkmogoMB3YLAXeHLSoEVkSXk05l8NG2nQJSTN7DD+CiCkIynIzczF4skDmAvzoKNyFEJ3oX6CIdAV4+Yl5x2yWTUqWl1L1qDaXCejt/AqXEAscR8FRABWv0M+LUIRCa86ppJm0UDXyxIxoINivSXs7ri2y3CXrR0MZi4PmdTObpqtuwvVDtQCIyMeB5CdEmXGmhZHUozPeqx0RlXxni1mrnTFiFszEjo56FN8hJScxgEfVKSRbks2xoIKwE2cJ4Gdf6Sfk81mH37dMOnJuOz5Iz6/s2Kj0onlOTqQRkxEGikTDJGD7ekgafFhJAL5MxqpIEevxhzib7ZhQorMauC6Lg7aM8OBE2BiiamBbK0D5cBQKMea9NZ9LeXeyvSppstCVWfaPCpvNLu3kMt838mhbNzvMiW2BjRuxANe7fvubFM05cwUc1jkkJTwxTRrBiw9Ocj6/vTrPtz19JaVCycxZuJN1XHtyLQl1w9P9MGGgbP52XQiFWMKmveJmorSPYH2iA1bppjYy9mYSoY7kHZHlJQk1IJvh7hSmgCyzGLEinnxmHu73CqcbV4eDRenqvkkzLGAESPhHIokgBIyriHcCCOk24KuC56KPYNxLvFhYtK7hPCVTBtPMvkh6+MP1GptR21vr0xfPK+KhLhVHXFaUdpYvD9unMja+u0LGYl/cIUr38ZtxlT5NWZ1Ulgp60PqLiQA00g9GkpOCOU4TKIAkuAD9O7r04hAOjKhW0i3nAPB/gBwDirulBcS5y2hE7o+nAdeieGE5U4vjQOe7hKr0365elzWYygESkp9oh9p+N1Pcrif9UGZQhlr3/psRZ+lF7GMTYN0UFVV9bodJVUKtrQnHws/itw3ftnyqL6K6ktpo5RdFJsiVQAGgDNzU4zdDvp1B3yc5Fux/dBOtgPPPspMF6xhXChvIg+kS0bRRgo6KhQqCSX3oMEsrBcsOySpM6+tdTUzuVmkaKwB3QEKU2ZoMvF9FFCnvvcVflD9sA+/7PLnX7lN7m9QrBpW1Ublf5l2KdiBdDXNQ6TmVd4bswCaEug9x26Hx30m4pLQhGaAO56zgkL8wHpNeylorAK970DHXAo2BasnpMXIu3dMIYOOhsOt0t3hL0WLvfX2Nbqyq7+/f8bNrU03fak3KdnCMOjD8ilnBDTjTTUq6TUgv6+2HyMxokUz58+G61FRtWbgDCtCCih2w7BffmM8l2KaMr/3vvSxiWAYX5nQZHwKtoOFJcWHJE5vCCELWCbQSPwb84hOpgPyAPYAuDg0CVRDFoZw407K4Rx70x1Q1JLbIk+bFLy6fORit7baqNyz3wJKDkUpbilScplHPeq+x0kkZYjWOF40z10WbdSKcIYNu7st7amITyIhYgaDp5AjqrFCBZhgIQMJHlsGpElNBdctIVkYCGG5HckQpuCZGfDstUEDwhzhYoZDEfohJjBRxZ1ahC5Gjs44dBT0iXQHFB+f85yEI4fK0LW2rlT1dybzITvv/CFWNoaxwCAA2FtjJTknmayHWmw8LqrsD6tqTyYNALuHdLbtbogIEAIDKhZU0Syb6EauykoK0iToIBdcKCnl+NOTYIt0g4gp2Hsn3PvG7KAwuIyVhz4U4TT3xveO2eoQQ9cPukx3eQW/2peIRNswCoaUeDI1hWuXn6bpNDafGaaZbLxY5qIZpIZVdQIbv30uI3mAEDEFkO9VGIpjYtbq/74ZzOTphWot5Ql2yDQIqPYCKy8FjdK57qZlCxeX54KNR5Bn+yryCEPoYJbcWATdSadJfjntH5onw4zwSkZRY9W0INKF4boYQOABQe8pihYDJdKQ6EJVlnMqOQ9u/64RbwxQXl3BukdsNGGCDSkSO7xSkO4ODDblPDLYDplWBGMQYmERRTXcVGbxet4OtpwDryE0toIrua3JKxx7QXfCh5CSqqhtaVGPcydxszDVjsMmqV0OOUoZch8MsElzG1QeGyzTpaGEAGjWVX3GssePTme+N2FCykQl9ElBZQKWgX7dB79HyBQ7hsIC+42mKOCmoqgKPLTQmwIuKUCsXBzu1BwXCsTUZ9DddFruPxlPqgBODz96eLvEKWpj7BhSjbHCkOzdtdvCEEdg3Zk1UIQhHkAU6WLFTAf9icGzRqGs9Pa0vhlZblJ0OpJ1wVopEyxepUufMmIw3pk+uIwgVfJjYgpMAvraMBuGg2f/QgNJTQ6qvzpcT38BRKOpujh3ysOF1grFuHRXuSW7AnZtg65ST3YanX2RoyUxSV7jOMyeEJLz/GwXjCMqKi4LMH0otKe5VF+WPofrYXF6G71cGwsr44EJKTqDMycYAL3oDupbTEi1jS9NgmJCbF9ouJjrNCP2jcm0izJdPHBT5heEthgetBYS/CwheIlxPCVUpyIGGCLB0oqtcvU4R1PrDLAGPjSa1dryrprWBS0Hn4qr5wNwPbjeSr8dNfFBJrKwcA04y2q8fEGHLjAemAZsk9CkMWBAv7ndAaph4IagwLcyUgjR/oQhrStYmHILWnijevmMZP90y6vNJ9PWXmI4qcAjmCHGUZyAhpJr+MXsx1z48cv3CLiMIx4uJOTu3lzGylRJGVGZTq9YPa2vZe5yl5hctpnk288zAPuqkJtUXl5eoOdjPMghziHh5vmICa2hW6g40HDO9QILv/77sqT0l7mC8kBx9lPleAN4dAoWOlEPTnBZB0zLWWA6YSL324pDMz7bEk4pt7A70Zv0RUhIfhubPRPNWbHNyhsHT37588hAe0sAuUeiBexgIOeO+d6X+Xq46tO1omI5hQISmQdKPc4K2t6AdFGJJ3Le5OqZrXK0+AatZNrWzgU8QvWybmfcWr9VIV/I7VwmqRwSGAI3vhj6DnVB+kDHiQoKrN5iMmnIH80k3aTgE/UCmOu6zWBCKtMWnDgW171tqphafPZyZqTv+/I9QijvCw8HxgBAzTzQYECILQp8JB1Q3dS0jJwUgNyieGD641gaa++Qqp5aSSlBCxKxl0BUzjpuYr90Ore+/FD2m4Z6KkeTipimzkLQ6dhBhawePOAWXXW9lZEv2r2dwygH9VLEuVLqenoAfECE7D421Pei5hwi1Vz6g86+BlRO82Ci6/J2KXZLO6xrBG66NfSimCk+2XiZ5ob2JHtk/eG1hMAY2L0HLDDTowe+er2Q0H6iOnoQAirk5BVkGgByvwbgp6MzQAhZ1TRni9BD9C0g3nNwy3EZQiBdw9uphKy3tLK2woAiIW2UWb50try49TUtJn+KD1bfiLo6WePOxpPffeeU84M1SXXGip0/yGGaQ1JBKVDqxgrA85h28ehSzJ90SBfaQqKl8a4H7VFw6/EjMGBx2CXTb6FDIZSbZgimSXlfn9uEyW2n23JUNutfOUxiIhtqpQaDbdB02hNCKKhiIbisDthss8hA0CYBNmonrMLOKjRXAZ1d7qrOSSKmPfQVAOJ3sHE/Sn7R0kpYC7Id6eI+S0m9n9YSH/EAA1WEfH6jxGJ5Ft0oNvrlRu5UGjNcaVdOd+eD1XkrNn//uasv8m8GAK5nACl1AYc799sL5TYQMy/vQi/zOetyKkhVupmUlQm7uOn0ajDCZLDAz/o3CR9+G9m2DTsms9lRGgxCQsx1DW5DaDkdVczuFemsg4nFMK8mmkXsdqO0QxVEREQRQsurorZSC7V5jHOmel2dXK8gn7Z7NQIAntvqdmCRC2YyGD9SpTRnknKphJBh4A8GkgBrwwgDXNeLjGcszrDbMW2Lh5I/qiRJRcW/mVILcMDXSwp7OpAScrywl7aGMjG7fr0MSJd9KCAzdsKxY4Gy7ZrBVLfSXRc+ojWoR5eT1fLqUbe54D2OMs3U7D7Jz5b7evuaZDIEGIU/8IaY2WuvvbLqdk1Gy+NIm11wDeR+rSkcst7SP1B6ayBaXzTnQwLZJ2P06sUQmzyW+zRNvRcjS8tpa/31119ZjufP120A+B2BLq4Uh1k/q40N6YbW1rS9fZPraqdui8S+Muw1uDY7gzA0oSU6IId3EQwIDliC4aLs1RVUCwXVkpeqwKpHyAE+AKrCmFJ2RJVfSAhLM9ddLF4rqMSAEzJ9GsMuBy4NNzoFpFK46bR7udUgZXMc7p/1ue4FL3mPeLHdPe6RTJKNS3uH5XEzMaYcLgkbAgM33HAvnVxGhMW0dNExcVc1bNiD25G1Kb8bh/VcBC/wzOZb+Ju9632avgKyD6Gl2yp2LTme3xINGx3tZ1XMaXNTm/VHPlLtnfm2jNO6fWVq+9aOGTWm2u6yDYvXh03EFV/p6pnKtLPoGCAW70rE5qaT+UWBh+FdADjy1haDJngVXHvpeQ++70qAtcAAl8ypoWcqQwpw07hD3i2TstpVFPjFq+5xwWSYJASyfnbB5yj/APX5dwInmTaL32NbQk0m8ty7bwjo+Jxw9lAY9Foc3WCDBthS2aIsVZjqS0nvzhaWpssHSJobXBsAri1S5gPwXUUX1uwC3B1u0trV6uo0QZ1k113zXdbnaJUK7y9KojWuQBW/zq/TQnjJN7+hqkVt13vIEF2GOlvY+crZ8sF682rQ8FHWuVIQh78ood1/j2so4+N8+4Bpxn1wDyifARoMAf7bXx8gXAAMQGIu7YDFS68Fbhp3z/dZDFIU0xVuO89NpTLYaIbCIOuz+z12DAnx8cfo5EK9HuEeXy/AEBMIQ6XKGLJ68Ue+tqdilo0eq3FKCKoUgF1XoXGAGqK7s0Z1ltX7y6WzwrS0BANr7anHciF1b0sViFzAACF4ELmI8XyQeyyuIJ8mqK19nDibyR3tuv/deYSunKuojHu872XyWVenvatNYvY8R03KDj1azTz0toWd1e9f5yE1596/2mbu7xGfcG7NCqqU4MX4swJEuPn2zYE85uvVrIxbba57cGvEU8ubIe/dWcOkZqxDLwAq3y1dPNNnl8ZQ5k7rNTFVLGw1qGfW90lu1WNgmO159JiQZKgRWGEG3F/56zxMf/yeX77HK+gTdIi0gk702bOLOUIN9ME0JipHUd9Wi1X8FZLJyYsyvamZIy4kbkMkJAJc0ye5ETyQXT9+aTEvMf/19D56RlBX9xHUOT7iEboCEChiSL5a//tjVXKrDX38UWpmwQbRhv31+6MwWXNuDQaA55UCYoc45/5o7D/FA17V/M78wltoG33OByiXVS+dtFY/EPexcm49frJUr6/huorlXoDpD3oZQBpcgFQqgfutBYOy+PjgA2GxSu0YdaHvDbEtRCvr5JcbL6eflfeqPKeqBQKPXfPJf+aYQJ+x9XW1/FanCV5j/GPM5PvNqUS4pkncXDAFgfnHFU9e4sXmvx7EqXuhfOqfjwC8ywzZ7P2xle/DKLWzpbZZkvv/GkkmQ02nALfGqtf6NUYuMySFAKvyC43n0s/wAYhVFV0sKqg2LVy8cD7X65dCLd3tcs72dxrWb9Lv8N0wwGwkpOzw4b4PAKHJYS54tx4DiPr5aX3A28LX/AzaTMmCSErYwMXtqugolOVAjs1Nr7qFmc6xP3nyZMkYAIiIsEhcA2g91Q7WPlj0mIKB1L3mZppJAMCACtsbHIUL7b55yK5gR9xCwhBHne98z35O+/AVHPK28JF4iUNx1pkKW8/xHJfTwakOjrFT5dwRieXAVgD4oY+1pHn6SOVSA8HMAQDQCBoHckJZioWdTtmtH0EQWGvFMS2VkkE9wnosT0y0yJYHydCTSfzywVlAiGclxHZjoxq3u51W2Gyzv1veOvPn33uzOrnTglLOFoPJKrVGPgx5M8BEYL1bagLbTU0Z0BXVCelln4i+NbCfqXz5hKkZd2G/3exuJyPMXPrOVz2xoqobxq3OcT/MCIFZJmpUyIycnqT8NpNqspbd0DwXqmXPn79BXV3r09RoE987cMKFx744KTxD4aV326RI4dluxTTSeKkK63Zc5OKqt5ZWSntv3hvAlW3tPlKWNQcXHyiv7rkArFwF1g8iLzBzSbWs28lkM3VUfkeedKOndm0+gWZTPf/jzUbb8d9WZVs0x4nc5MlKWmPuXpybvR9AqgU0h2awXQoDAtcQ2qBaIzhq7IHHTtiuT5wRux1+ks3M5qYqbIsxwbRxXCFVw+5uSSb05shZ3zRsu5f5FPPxjx7EAID1FS12Bh6GjXoem0mlYgl/m8CABxom6XTlu9ntcpUgYW2oUlaGhScEPAB8fI4eXp5AlSKg5pEtc7yE5qjjnfPHfn77w2z8chO1azzv+zEE28CpPFA9BygJdfxqDFjXFlceiikUE0vZ960N4dVerauJCaeNkyEFBpB23V62FQpu+llySCqqOfiyMYmFCMtQ2vFFmXb8kvSx0/QbSiRpwff98nMPBmgJKELrQz5Av/Bkpx9aaRSy2IQP+qDcCV1Cex2q7ckOy83iJsFsqXE3p7wsylOoY8C7WdF7kCg9Dk0K8byOuXRn2+5i2101c5gBQmK6OrG+7zUMg8aBXy+JfPweduxswzx0jpw19Qd61CPfubU+6vWE835IxAFUGqiRixvyfRteOJP6+eV4rDtk4vh6KYtNJS+lqMGrvdqjnWxCJpNJ3aUtLMxMWBzKDEi701qBlTv3q66oiDHulI9bV5lbmYNqorwWymugbENljl+W9ovY2VFhTZgcPlxxyOytevhZP6vBoBbYGRQhxj80WGkx4oN+fjkjzkjzzBQMAoPIFVqOMnJwVj4+XzzrGzn1tXZTHL6fCf0O9pzLSrjj7DD8BtuW8+20rDHUjKloFiv+TCqOECL0WP49l4bZYtHJpOlsFu1uF5l9iA0jcXUU6ocZrJK7lXfHJQCPkxzgHVRS35ltjk8LyGRyE9oMOMMeX12aB6SaxJx6j/p1KdLZszHYcsKxqVTmI76ZAa5LKnOjlSCddudONJNLvDjDihySHLx25XDVLdroGBHGAmV4MYuYw5LF4eNll7GssgydpehZE0rEq7KGw8/ZMwthqGL2Jj2yWf/cNpXPsPEbxDwg1+dMNNqwXLjxMKg+sT72iifdJo5niEofzoMA9eltj3hgsy8fHoaGprWqldpTNdA0+/xdDUKpGAOBCrh+DDumfRBDq6eWLYajeSOn12BRb7FyCS1dWfA0dCG8vtjCfL3e3I6TfQ8XO1K7pMo6DlhlQbeUwpS0AamyeoqyJ3pLYZNjd7GvRUAm82YnpSvTpFKZzHZPCG7a3b7SxDWqq/8JZ15njRJFPkUahoBbQSaTW+MJzdc/99e6xlXNxKpFQ9clknzYIdmsD4Q1NdfdKuvXDgccecAHaaatTvHX89BbgdsVa4tcFeeQb3lwWJSXH6gopL0vPo4Sz2wP5bBjPr2uU77b38Ng6lZRZYmgq6kQ6Rx5z+1czsu0apI4amgNgbwROFxbf2r8x2YGVzjnE6YyMZ9VYzEy9Wf8nLAw1WfqRsvOmDDTdt3UTOrM0ArS6UpIV2ampk54PMCA9PYAW5y3orqgHp8lVy1MpVDn1V4N0oWKX0lZJrfC4hz3e8fXNzFwrzCccWW/vNwPGVxTU5PU5d2k7ydC/QRoR66I5bCumACHtMeJEcTwmvnOosMkiP6AgSNTsJBUs0rYrpRrR62ID1+oCLgbQiQLEYn4YNILu8DcLkRUuDnkupLp5jhJsuU2WHykkhmOHIHQpUeE/q6hY3Hn2BQ5kVojcwwjkcR+b9iaqanmU8aO7WObiZZa+KkNSFcCjD+JTOrRx7r0qgQuTfUvbNW1elHMNa8JQOX2lWVl3erB6zdjdl4TkwhD7R3GLSyuUja8bzKZ1Pa2n80q8ElAMcXGEVVw9as/ZzssNxUbjpbKZgZrf5MR2OFh80HAw0m2L2bbsWXwiZgNM9DCKVe3S0J2w9y6A1FFjGRjA70ifhtV64xGLs4IXezJ3BoMu1peE2IlQ0qLcB3KZMcApEn9/OzuG9luaoozgV3FqrtkMqkVANftBVNuWkFHmw6+XajJNd9UEaAKvddbgpOmpjpWacz0pjc9EWCvMGWcdwZns+HMsLXKQ3h0eTK8YBa/p6c8TsTP2IapH8OoOOwcHAdCOpAi1k1a4KKzwsGddL23BQPYN5flYSfaXW+nS6SzOG2oiY+LWBhow0IAZoX4R9IoDN793d/9DNsfnvLXA4NBFS9VLwg+WGHQ04F5oNEQQgfy06aO9iDudg19HORC8ifJx0/IyxnlAN+iIYSdm1TaVqNLkbqt62KhcjfYpjHg7gaidSKxwO8wKhklDI1vXYEAr/jb3w+3K6Q2rcfixMMOA3qARK5M3Gbq4qq5TJ6cd/DDUclQa8hqXNkfbEkge9ZP6jQnuGZD3c+bRrmoLS7+GuKm1KceHVVKva6++1sjWTTJJSNHdgwAvABYyJyGTO7cBO/kHBLr3RPhumHF4L0i/LsZEAIP2mv36SFZIw5js5nCYEcwhA/98sWPd7Uao3zYFv/Oxt7orceMUoaDjzzX0cf0wKHMGglooesajtnw3fN2kmuq+7/EUrhwUZfZRah1RB5g8b070hjgpErbAvR2QCa1J0xLM7kiNp/rxfONNcypXHY3B/QIABcqhEAA80IW9MwSAgOe9OmzJ3v8JPQVh7yPPmAjFTbiSQ9HtS9QeMSrFdY49d5fuZRySXJIbvV1duM3UY06CcZhysin5NhL9AeuoYlp0QM6n5H+WnNy4+YMP8sKnK/M8UqcfC95ZbdgAkwKw9bVYhFSxISqEGZNUikrTScM8X1tb19Q7VW1mze5iVYbTVhdlfdFJYefYxRibfK8kQ8OTLkonhMvN3lyokUPBrhGgYZasZ6mhPiajLlw/X1mFwpbFyh+JQDoa+qgbCqpVgB2jK+EA12YxuTPq+d/UISORnlVSgH6gfn0BqbCL+fmli8dajTy8UMAPsyDBy1GI2pf+odiI1StDsJZ69YpKmLk0XX1pT54FpNKDL2Cy/9zrs0Zt7eXePzkyH8lR3ZJ40JdB0qBdhrp2WteU82cl8vz20r82ZLW+ouXh/PrYMPQ0LQ2VAw+jb6dYjtqaE3YxXE++scmN40bBr6xvX2P+T/ETbTaFM1xtKIU44iYudG4ctQgWjguazj0nCd5/CfjrraDOJ48uQAVOTJ+mvtqRmkz79QPvVx/tkQQ5b5RB6TTTw2xL3nxMuDjzAf6pEht7TrsI1LH4rrjuYFGKqSKQKrg6SP0DgCaAemiBT9ojLAaqKkJ0WRypBtPcMybXkN5q9W1mO+NusG3yr09ZBSdGdhhp9K+qhUZ89+YkfEj5FGMnRgWDGuFdw4h7/VmreGct2z68k/rmxe2PqJbjjN9xBn/pGPUW5lv4xanR8i//2ADryos/p8Dw66W3apRHpGGmG0ftcbf31/nvbs6zOtXtLo6Ls7FO9O7SIy01mXR6cxXPm2DNG2oeXk/B1r+L0fasAB2zW9fc32HO6uA7Q1wjarU173FtFkTCfLUSM/53gzBOOcpj9CqZDKgz7idrkMxwG7Yu/FQNpbUeDgShoFEtIz6BAATGkNlulNsro1TXQFMD2GBj2qlDS3pbjeWJTP02QR0CjhRNfDhEq3z2trqd946PburIatlqRV4tTwjSVEYVHTGLiDqhgFCgtvr//5/sahtMdOumFvt0/qqn293LpkGNJ+cWJ/QaS8Zg49cA02MwagUBiY7FTKtTDOdTruEmdUsa41bt5ubptbRI571WZ8V2iIV3v+66R+/sbvTK4GjT8v9Ix2fa9PEr9PXXw9JoMiuU0iHI9xA26mOh5VTyxvQgA6KpxKC2G1iHt4G2uAc3uYAZaTS/RKsU2Siinxui1RjCYBUfZhZVlmIKhxxOm7nMDQxEEIFPnvtmAwNTetqWUWadmT9OMxJY1xfa1Gs173FNzPf2R1VU2hZ6yyvLlyYFlIPGhC15Ghxlt8QVLWh0JbcrQ/2wII0/dAORm6ND9/TzrbyGR153506w7o6mOd97C7YBj6uLmY8aMNkN8ta17aLDk6KlKqMk8qBl7ztqYbD5rVxzv0EQKx8oW8nipGK1VSjwJfj2C+PUhx6CYCOzp5N+0f4zgCbGCf8a7SKZPVL/a3hsabijANIZTzYF5RiIoEKBJWQmppy0yZWJvXdidu8kuluy00X+hRO5Kn/3O/Cl9U5KCEiNDHFR1v1WR2KmbblwlxIprZb1HObzGa+f4CMbmwR44hse2Sydb1cuXB8N1QmB4lYjPHj0WrIhsjADmtT3VwX2LBXTU39WmnMlW+pTuu7kzusY3oy7OQ4NxdRVVicokm2qpeNvcPKynQI40esIfJurZRaTIpiDczl0TFMlWkYLWbX2E4GmZ5oceBL+d//vX2Gj9NHtM5HXRNDMfqJH+vdVqvdxtMKBRlKeEXXw44MLHTCAHDrAaQ5Um7rx/r11/ku4mvA5FyjhxFwlvPWKp2OoY5juIcJAWgch6BkiXLOm6+9UhthgJsmRSqnWtxuyb3DbH9lGNL3HJmXDDvoemVlv3DhNIDlaJ+C9rkMzKqqs7C2HmKDHHtWEo0nGvSX+/WX7+6ct9SBq53iUOhsO2JRhQigR7KLZY0oSqJ0sUHl2tAKtm+n1NXN7FBBLG/WTyIZxnSbp9KKkSIEB3z7AAixp3ll3CR/KMZdMbrK4dOOykv3R6utVSRhT83DD+gNeJ4ZwIAEIGMJjeh89ZHJLRn0FbCv+9TfsaZ+TYaZYya5eijVedNSoOXBiYpZlMWoUT3zZ5+6ptiBTAwymZzLu8vsHSpN+tf+3x2ZjqHrC0m7A5hbAJVAPeJT8aYZW28wrGotqnaRMmFfhf4YeeNygIGekK444qPobmKBYVnJsEMxmzbADQEgPbHXbhYeCjKNer/9OrDGbplN8RIhIUXAazXgr4sIX/L6LPTOssjFFD/ae8Mfa/J5pMFQ510togHFFqekMtYl/xMQZ5bqIc3OZ43Fl651trLdtNtF7a3V1FZMxTM0cjWfP0sptJRjDQYq5bIiVr70YTc2CwPfUGrPLxEE8Kf54cITQCaTe3m3xasXWf9ZEvjaR4aEuMDW/xwhpFIrcrE40bWHdcG6vBXP88q1iF/dug+CQjSDBMSS6WHYybaH2yWDRvTrZ7A0MwyEliOJR9Z+GboPiBVea4uLCIkx0O6b5V+ePfFPD70mn6m1R++dgrOYqIuo1w/FZo6WLEM7wEjByJSkc5bVdcADgo9hT8r0xQNPr9Ctltn0518EXqiz9g0brpU61OvxpPZbazYdwPrsPUlMWvucHtKV1gYWMmWpZsurDaKFr0yNcqLW9xtZVkxk6tQ9ANxWyIhUDCk7BeeNcQz0b6cNeWxvuoX6UfKDmSRsfDBCLosMA7otlrapwIULKwtRZgykAsDxldKEcVz9+jetrojR06tE33671vKqi1Eidqm82OyivooOOM9B47ZqTLAUXZRR/pDw63JdppKiUMCGDLCQYkCnv2+mT7NCUBh8Fz6EhNW685YqBV29Xu4ri//vtSytuhFj1lqmNYfpf53NYZ9OZdSsLvriue8r8JxQ4PvZRcOgrKwsfRcDYHTvESeVlWVW4ryIwrCH9oMl4EcMHxZwvjYaaBEMIAwxsgRsnOu6rpkKiJASC7OTsCmEJEIEQhxX55Bco7oih4FeJvq6FMuUt3aKjpHJvWPlzSVGBwf5tfI+zNFfcunFGcYW0RX85JBKaAAYQHq0DWXYXIqCRwS6OdMrxVtFQohqFYeDw5rkbF3Zu0W2vyZT+gMdRAzBgCIFVg5PZTKNHcenrxMKgynZppNJ42iRY9uZVOqk3QAqJ5ZNzWNShGOt7be1C/DU6maiFelSVpdKhaFl48HByjRbv3ZUohAkUDfn9U+uzmH+Tr+AzQ+mcJVWp4BKyL6+ZPdP6FHfnO/Foqq7WPQX1AxZCGV9HD5wKjDNMnkE3FtzAADFkcZuue7eq1Gt9B/1lSnNZ2QDvkHXNZQK7dOqqdxcKnexxLn+76Z+doler77vxfLpVCrV76R+QGXGodzCdR022DMKoSJNOUwl5XcVsZArUlZWBgCHwWD9/JPDckJ0vTAsJ3wb8ha0wMR5L10d86d69Di7DzCi3SlwxVx9v4W4hqKi4WweGEoUz2OPHnFQOCKOAVuS6mdHA8Bd2M/CvkCwFqtLub94BOAF+9ckpYmaq76f/WAlS48i0ZKR65RYiRlGjlI+jigOZ/jZxQeDRt1ubKUGMPekNI0hnf5OL1vBZe1muijTSjbgMKERVVKL3yAOZVl2Nd1OGDs2B93MFoEhoiAa6JmRyEjL86zO5NPwUR510/CbzqcJskHTipWr3pTcwWw2jwOYOMIlds1sFE9eiSa+MtToM8kLRgrxQvoBiwJMs+ME2NqAFNBiCF6ccmUTvvzPR6dUB3hC8EOly1f3qlTKBH6kJH5tgovIsvEM6A5t0Cw4Gr/ZdNr81YtYuzkPXCb2SfWrXJ21HObV7JVoFd0ThVHBePpCI9/L8EV7WXMFGsN2dwKAmxqIiDRTQwlLcs8NkH/xT6iCbqFcTecpznlEdLHvDzWymlbNVB92WIylYiSaH2KpRuBpI9dsXvgmYwvLiJ+IE/2py3bmhCGVC10OTMFcm+UG4LonQQpa7h9LGjwCqeQhvs+PUb474servohu+t/zhezjejVA/8/vR/Xj6JlIjbdzU6FvDR7g+Cf7439teeNxE7d1E2Cq2wUWrkl5XdKvfhhYEOJ5dkRBg3gh64FLP2JZ8rJ+0/mcTIbtTexybDORCdc2ceJVq56zaKw9S2iDwqA6Mf7KapfV5tk2k4vczurZ2tN57sV0A3DV4OjwIQBVkPJ8DJEjwWPtHgEPVG19xa++MjTtIxthS4tHFQAUVyzKpOg12kIzcF3WhlQKaLl/uOvV1Bbv5Sj3CHgKeedL5XcCr8LQDXwlywgoH8zlx2ZI7WZbD9HtG4ahExVwQLkGg8Fw1bzHT+pvbN4mU+Z2wjwjG2tTzKVjl89EEoJAmbCN6QwNoo8bw6KigBIYpdy2h7bZqk/MlPXbHlLHnlCoVPqMYzq2isuiVfBQ8nCHDStKPf3z4QeasD7OjmOiG/gpRf8VAHCSVl0AZOQAGFZVZWAor9VfLEN/SrHDXecMqmIt8kvf/iTLeSFP8PnHT3XrlsqFEGA3A2AZSKWsj5GWTXDdw+emAFq+exMFU1Qc6Jef57w1AG2kwKJMhAz9wGygydgN3eIrKk2SKGaamdThVrZJpw3oGUpwRNfQW6gADE33oanv5T3/I3djs3WhtEreKEhnOYxyuMxlJuSrt8k39gL/Zp/7vizC1ZMCexpQ++w0nvvEsPn/AJM27NGpUviimall41NT05Xd4Ce7sSltpvfuPiGvc0iuusUWhRh/jiK8oiO2kmieiZrp5uUBlEBvWFenGVh1caqMZrpJECRrBmGIVADjC86INdhX3/HljqcftvT1qUu5L9oulxoBMLfSAPftUpnU9pUmHl1cqSplYrFez4+UqRuGA3f6gYRIFAEsL5dPrd/5NPrwvfL+33k4ByLN5j6LTiapVCa1LjAaoAVgQNo4a3+SUIgjitAXqMXfbbPNXiamkkGG7/vQvpjtcmX7l9PGeV8TlTNbanD+ICxM7/G4Z/cf9CAlCq7CJnvSM8hRcWP8a3OtX9lojEJG+fRswzTLyjKZFFRWFo1GP/F2U/lU7y9dntTHPubEqkO6ERaOx5r/qHxmjo3P/hBSIm2zZWba4f3MdCA9rMow1pqWj8t2Cr+VKVVUeCpkOzYK7ZWhLJKKF+2+Wp5ONQZ6K3YL0SnOiDbAnXoKSGUyh8+FPheO2x7bY2LKFN+/4Ehpeg2aTsYAyR4qZrPl2Sv3nSMEGKwwyOakcXPfy8mnMykDtu8HY7fJuJVGlujF84HJ0BGF4E0GGdCIoIXmthJtcLtCpqtthaoUO9+6Vf3pqjUalgJop6J+HwYrCh53/zdVgAIBAMZEmzcdDGKNm6nWFIovmENrWPrps3o7O7m1UiqFayhVdHiqb775Sm7dHmqkcef9J/V3zPoY+/UvJCzsdd9LjepO4Uwv8LQEI2F4eUm5z9ipqfT4TaaZaEd22LBCSRnkl3j7OiZazZzywRi6IcuOlKlYMdNFGT/azz97cmZnvvr5j/PtG/GlpMraKIQmrjg87brPfGCqLENlpqyyMt3vacFaqWq4MqUszurW7WTNTqFEe3WhwoH+T1Q+/VF2H/TXeKKjsznXDAFm+P6i4/EJZZlMxk1nMul0ZfqdDq0JQxwnMLmh0AgapV6j8PgFgh/lzz/9RO/eO8nQ9PLY/ftKE21s7pNVFPYVV8B8Favn9ssf97y33EBTucxVzFS/etR0Pj8sRvY1bv/trAdAeXlzz232+EmDXGq62/O9Jm2VrClvOPeW+P1R/dIiZinjLZoYyn2jWvGaydDxnrsEbNkY+jSA1Ph+C08CgGsZSFUhZeNqOi+7aBSHyTAE3+/fJsudcbJ72p9iyWcxjQ89GKg5uzYG+rWit4RNXDe9MlzYdKBTmZ77VGAOAbCg2s+GunVLtpOc5XkIIeuvka0tl57p8CQ5aw6jcRe5+PuUUX52iVcv6l/bzzUMc/59Ov31XkE//pAME0gGNAj5BI0UjQ1iBZB0qsEQaVUvo8Hgsw8cdcmsMtW/mmJQsTposE4vdHQ+8N8pT2HVG9E7r9fT8t79OpLaAaCvn/V/erlZ4g+sqUnOisVhbTbbMApyF/E15djJmqRlSw9NOn1qawUegMZiy3aZPlv2mdhv4Qgz53iNYVWFUjbYqU/8dTVIohM54JCOmd1+no8kn+RwdFhMU//KZYN2LLdRYcAObdkGRmwddy+8EkxNQdpdA84IdlXqvmkN+o/zs742NrS+JdsKhUB/jr6j4Y1TySTrASavr++3GAyanrVja+sZU2CNblfP/1C9HJq3yoPNhCZWjl6LNeXzqMr++mf01nhSGJqW325SvsCTps/z/WcvBV4xqNXb1z2F7FSjPvLF4lM6qtxv4s8bKb8z6Vs9dBjAIGOxzAIkwzBFbDBY4PsGhGEYWg+0kSFZe/IFro0aU9gVB6Xtk7htyMffY2AbFIoab2EoDaWiuYp5i1j0aUzGOVoi4tRpb1578vPOvstuHS171s5N45hSa/EBwNbtIe267oWbQZ90r00qU5kMVpWq1407+m+oYu5vJtH2URjMePFwjmkeADQcTslmG4bBYo+fNHGc/2JNuQK/r376caTFyKcJYmOy8h0eYmJljhUuLiC1UN3W276X7BmG4br1Mj2+JfAjAKgrfyefZFijCNvmv/b3WaLX7yrpuB0GEAuD6sHlWDRYwc3c8KeUoesYIiGXSjTRnQ/XFrdRqfI1RPaMWDh+xPgtT6gHWPUaD64aViXEwBE6NxfRP7aiAldcnHl2AIFusTRdS1ZpuxmHm9sVcEnZG5S+yhhfmYoCIgiYE0o0Q9MOsrbUwiIXatAYP+tTL4lylGJ6SNJ6Tnx2jhcfo9XUddShFOBDFOD726pZ3V259Acr8OEr5t3H148Hl5cP7hkKMSE3ficIPaeIqqcCr3eMpNAyDTQO2+LO9QnBZvdGiCCH4+a81dhMrV6N9RB9SwVUQXCl0B0J+9u/kr/SvJpoipQ4Fi1NWwWl3Gg7dusIXRWdBQP6jLXjLf/x/5tzVLkACLkILnm4p/1mjBd8DnRGwUcAQBdoBZ3BfBuUSuEgXVxVD1cUbB5FAYQhYRja3/33nDEF3ycE8zlh4viPJwQ+EQC8nRKGjpRhqN1MfqB0o3ywP7DrZlP3708pf8HkrDkm1tH1IUOGTMRRGrm1vhvkEG3RkMV5mzE7+fbfqWuZ45gmxE1YVBVU+ci76XdUQQ5UQFXg/bJCeG/7vy7AK+AF2Owpa/Hh3EoDyjLY66H32+GQjbHo7gzSQtAqV9wGsMz0mrYwTWIa3LPv4KwfmuSY/dF3TN/arCVAmChwnL2PE0fYaPNR2ew8tZo1H5gk5HcbS5flP5DOLmt2AhDbV7vawccdJ86dEVfq9bL+PvUCr0E4aczg0osxacGIis5cHrLxMAOpqMfwqg0JkBJDMr/sda9B+31e9VV1E4157HoXUJEM5aRA8UL+HMJLWRlNQmon2D0qICTRzBj1eKzuQQmVMhFwJQ7As8sTACrsMnlCfCDhREDpoGw2u6Gu7A1Mhvh+9o5XrklK0wFa7vylfBVRdHnBwTbk0wQA1OtlB/dV4Dc97y6qLvI4X5xhhQtQQWQgLgZKmO1zdFpns046lcAeACjnJFDebMa+imGPkUMHhn7tlJ5jAIAjDZEIXJBpqpB+FpmGRCM7RaG/wHqwVFTZViHLTqlekDWvMYDoAACPB/0Gbngz7Rgh5a9+g5F9CUMgCqiIiAAiosN+dY0ItjgsxgkbP3SHc9wKm51t3ZJx3XDSbAZrOq3KhjU1ALRUL86tZuZc0bn16HE1zhpA35dacHTDbjdv72jx6WuVUjHMzyAMobtEB4tILIqINBnrnayTbt9LUrB7ymstbW2oidlzKIFUKUwKQ9cDfL98+NHY5fMN/CjzhLavC1EQ+JpN9+fFLTEo1BzaIwwJ8cE/en8WUQqgVKzsBzB00u6uF0JAhF87fBQvDpvPBNZDLPfDv+BjKqggAgOh6v/Qhlx7sta2zHqbKFe3qyzpr0z5+MW3HxU7zcJES15yAW1rR+/iJwIwZtTwQZs2OLlo8tuv9XLL7yHmKJnIAGUoUkYgX1CB8QvoUS+N0dvXUvkO5bX1yljIz90Gsa3cSMY5yjlu4gx8eE0yDIt0rZtuFOl6Tpa819eGnx2sXs/HejSqWpgVznGLNL3Q0MldxDnEvp/1zz0Fi+Zta602XhyebFUtNtq2R+iFrot5N/oM3nQK9nqt81ZUVMBFItc1kLgLbnWtrmI6HUmbau4dHGQB28hpZf2glhd4J0gQsjPeW4OBej0/N4sbxNF7/adz0gRkmDebfU28X2SoYvbQLhJ1TUwL+c4t4SC+F67WFG8UlcDCZNi2Umin6/0MQLr+Xzxh0dGo6WyWzfrqdvXX381s2GNWmGxTLUzsB7MbWDTTvMUy189m31vxohSAkbdJJpMMGt6X2YdOKnbnvq+F5A1rwnBW+MGaThQEj9t3aA8Vc/hZssMX2HHiUvRySCqo+KvGIi82CRQsN8dwdBUtFVIGOQNjGAZy9/vhoNfWzFPo12ZN16yDAMD0t4eC33cCialcY1e9XoC15oiHF+aINNaNmEZkIO3nWHbkVzFcf8PjngvRBBJ+5w3DZDfLWruQWZhOmy6iObVSA1hq900sjf3suQGYt1dyTqec8xsv4sxgYYBLak04qX0u1aWUq0FpMlgqMVd2C5PJ/c/ZNwthuLsuXeuRzfp7Wy1JMtxbpxcaT4IIhHgyzdtoq570/eyoBTb2WeJrcxjHul0NDP3+SCFK2NwbIouNikoYOzmDXQOG0Zbc7cWKmSNNBFcSYomhsWUvGYaDl7LBx6Xn1cPB5eU+VqnfA0oda9F+i5/1W6y34AGG0NWkk0P7ImFz5GenNtpks7qCF8ryFzUSKTLNtQ2jMp02IE2YyoFMJufK3jLvDsr9vgsAjgqTHfOZ1lDEKJ0u5jdz+NyuImF28H9Zw9EiKODQsCZ82HXKs1mfMJmsUauxoV8+ZYxlH4bJwVd4XmUcHEQBntC8MPxZ7eiTHd7Xws89bjlhZzP9/NOrRApQwubIRDYqoDKLzWZN1kdGrWZgDTOQNuQ7Y4kVa81cmK16SmsbMrYfiV87Za8FoZkKFPimb0vPmSRQ9JXccLaszZo5V4ttbg2e0rMvowFsXku5AOyHuIJvMc+jUUgs4wGAIYRFQpsJbUuNleTkyFeokxue9qVZamKSRJLrlnKV6fg0JL0wk8mFstwre3mjUbmv6ZQreSoX5iT/5K0g/a+rTKdDxm/Sa7xbVn8+77mg5xR8JiXpe8fy8vIwZAo1NTUXzvrZBX44k0NlGCHVnyOrTB3c2w/CwPeEJOeEN7xk76i3hkNzpPpaFRU5JLFZ+/1+A4G/z39MCSBdyRGVlCriNVxEeXbbWFszlFk1bF0plxbftQDsNWm660Hog8+MQZhvM7JTYFv8vgOsLJxaamLopB6EeK4PfvxSNYoBgLUR6cyIk34QAGDRKYtNeEBcsYTAEIYYGq/2amuutgpprnRwGttQ6oSWVPfIZLKrbe+WTi807eLKw8eXZXJFFj04iWWJ37cWNgzDgkImHVdYCtAFZUDZCU3SODadDvePhnlhmHxB32QwSmFQk5RhnMf3ewJDe4RhVn/+5fvZW4ThIrKyOeXVC2olmjSZpeXqw32//GiAm8ar5SkevN9bBv2zoeXIUJFrhrmoFvbIqDWrKFR6aylg19qrJ8RzAb9Ye1tOtZ7F2C7exVwR9oo9QpKYgonvk621i+SXgxduDplel2s1onMEANt81pyMD4rF5IzZo9fC3IwmAXkhRolvr1BnTb4Vb1puvoq5LQtD4zUXDSheCwCHU5b6GzcKA9+fwmwZutD+5BNtQzS1EdIMjs1zW/v7LxpEbbRVQ4k3S6NhNjt9JBQ7Ick5WwVRNgzZKiR5BT+bLV4zE4AX1XQWd2o3pOmRPxzgZHJIxFzuci8/G860OToWJMMGi6jp2sLgjoFUtSFv09prMszKG110sD9w3lZDfbL+jDHWF2bPs2VtyOwJ+2qZR4RhksGaTF+qNhzaY0PTnrI+N7RlvBHhqZu85OdsO8UUiAkf9IDYhLPAqlBpAKTqpax8yOJzjBXWoixsTj4ZAGqgm4h9K2HTUqlYLlUvDqGc2UL27VDIGOC6oV11wxaw55KTSazfjwIFXpAf7Hl3E5HWlpE/23qZCEcOVeAHvJMnw3zLWd7en66/MmV/d6R4oelszqxQ29v9g/KecNWb5pAQ6/X0y89+b/v8j55jwlmLzabazhtoVVW3x9zaa82UW8av+z6E4bYPmEfWHzTFdDcDbGs/4YRmsO+3vi/J8NxXHh4FEDL9PNqq12R9f4HZbRNvRHrLfBhiKD4nkLpw6oP+TWeAw9PpNKQymaUHLPOGdnGmq2FgKzfBJOl0T0gXEUWkDcCGbZZC7vDMTfePoJp8f1cY4vrNpdW1uWQnC8l531L2PGM4ZxvyKmaEeELTyUUU9N8KW73oP2HfWf+5IH5ehtGlc0gQM/WNVyFbbCl23vmXBDAcwhU4MwADuR8xhSGyrelylo3ntUBIMkxqc+s82ay/P3440/Khg+1gUWiwjOftO/gKo3y/NxEkSYaPvKGf9Uf1tDYiHp/kaABsk0rFQlaDiel0JbiFikxZZvlzmi5La33QcjNv29RJXUzXU6l+Vvq4rsKgBkKSUJjh4to3nrYCfGOLv37pM4V8r6nj6xyM2BosxFr39zfoL+CoVlPjyR6QzzXlUqFs+3kX+L03TGIvzWcSzXtn2Ts6s4K+u9IED3ImE/36SxT34cj1IBU/LgoA4Og5rtZ6K01PGvmL6FZEMd0wirk58dZeH7dP7/5hSHmWmmTyPDv62SljwnBA/IXw0BDfZgFiVZYw8LjMC/hZ3/ejMOrNnHBWUs3KPeid1WgodWVpRD7Tay2oZwCwSyrVMea2BlRWWqLWTGalZrZdqYqVKb7fKPBjtVIqM2KhtVJp2i3y3JGWJJ8bOh2eETHzEAbzukK4OchMY+aof2l59tyGrnM0+dHe0G11751Nt5rRfy8cqHav+OnfRuV1DfNTdj1sC2LEGgTxfKQQKsyLXzr8CAEYE15R90OVWFo6eYy7JXpRBqpkvGuG5yzfR2liTXAOveAl73GTrO8vsLZAuiFYWYcKQ3uES2ij8u/ivoqRzwZKFKWXcPepfhMtojmhRFej/FuMfH/QAGBNGL+QTB/TAZNJxSJWR31km7hl+3Sm+Wy2EuSBzWYp9xv5Xv2VWqYss/14gIawS7oyven0ZJz+AbmaRqrOjjJwa6A8ErWAg/FgtCnR6pd/poeNCZMh+YsbF9QnH4UzGLl/jWOi8Hq6DW+DmuVRn+OmIBaKrCB+DoUV1v35FcOeUL6RboLKcHJDp9c1Qch5Ypq0pjDl6PLykfMATNdgbW9fd6DqZbJ9Z7AIMCULh9rRGbvd6XSrkAYSLXr22ue+XOISIK6gNxc9OjnH1XZ9JMrUqHJxBelNehkAQr85NAZSsYAb2EatbRVeJoWNhitL/LwwKMtMTU0bkS7b7oTKynTh3qG++SZJCINNla9n2i64aXYiQBlC4GCbttmzn8kfdc5kMk4rarp7D0bBbGwJwNPyiDiokKUecYyEX5diK3KK4/bwQfUxPBP0fCtkGjSX6ZPP9kb52Xl2IXvkTURexfwgandlAFT7HAXTsaitWe7i5A1NJzboN9t91jDzH2F/zzZleJjkJj7Rp4M8z1V1UzTHvac4Fi1N3xSkRdPmaz3GPgaZC6mFdtRmG8/nzc47uatrmVxIZcCtTFcWHZzoh++nJ4ujhr5kf+BU5tjtrJxwQtp1JRoRQZybI16PWw8bHj7U0DTKh79TsYXUhNTW4juk7PcDlBAUw8ATA2+wHj3GgUsZUAEaKnUQglqcuv1qlVajS8mO7gFPqp6c5vvqKD/p23APrTQ1uiMsVStH806WxUlJbI7JHutIleQd/cXVwLMHBX7fMNyqB8H3BC3d1sO0kgaOfr/zQR9S7WY41JXqovCOHI+N1O9nP3vjs/YTXb/xI+z3W45GqSPBdZ+mUfkKl1d/0v/4pE21aBhGuMjSSpx/8z5+vThsAqk8WBKmWtYd6FYW0j8zRte1W4DORGx4kdhC/I+AsbaeDH10cnFIGJp2VA0Mxg8hgcIEr5gH5ZBQoTjZqZgKPBAy2RKZEUMMEaGtwUY+zR8trw0kIkskyz4t9/Nub9ba3lyotj6OR6FSddRDAHoSxhdHWlE+HT7fqAW+jwPMCMPwNvTP/pt5dx528bj5ccrY/KtzsaUbwEI7yn9h2fLyWKyahyy2Qyrluutw1mFgSWoyjIExTZ8FwNG+n3fWzllb3/GFb9QMAHoWR0hfMSVVitqmHOQeCQnETWAWRyXj6M2rBdZMxBCyQAI8CH0Ft9NbeFCFh+8ShcB8ULs1Ti7WRmAiINgBBmf9raYXaOWbjFHg2/DZxiFMUNGEmVA+GLa1oWY6XcRuOwgP4Dva2onaviEPz0J1HB4mh/fzOR8Z2LzbAuxJY38YnudVkluGy8jZU6ImukAL6ottG5L3u5hm/Tjs/+IaDHqbS4peOm86feFn/sZOASvBjW5U7bqVlT/Cm7eWOSvGqu8EV6nlnOLylWcJgf4yzB47SdP76+WfylT/oIQFOqBM1GnoUkN8cpx+aB33UbHIDIybbMYLgB3Ep5MZY27ttWbK8CmWU/dcJjgY06IfZ57FDQ0J23nLztj+0KeDzuAAPQmHzsOfQvPxGOBIwk+JD57j7XYKbHh4Mllomvnb218Z/ATBnMJKrXx09mRn7bWOzpY672T9D35vwN8/6zeZzZYdjd7nG7vIznGl02nj3cFP9O/va7nmPTva2Jxyy1n8XXqDEBXTEm3WTto9LFe23Dy0mA8hIb4zwoaXjwCq8FLgmyme7XiAde83NpeSupLPhLgDGGxq7TUZhrVjek6BAcBx4hm4FkC51OyRFqYTMmpdVTpg5IeF1cEAB/qG0AMGOx1l++YixBRpbMjYzvSYXWPo+lqFjLH7ptJ0d00qk6NU6udZtvTrl/soUwv6+jFBiIG/IOsftW3rcr19bHUK6ZZCri5R0XCkTktffF5QL//nMJKYK3mwyNKVKX9tdjin+lv5we74A1m/cxamA+XOXB/35S2t2cnS/9MB5YDmAHD7tZrvgQtiY5yMRsuh/BPhONjf3NprGEJY3rNnTx96i/WPJ166YEl6h4daGQiDy3k+o3MCLAkOed6Eji23QWWV11hnWr8Rdq6eALU1llzZSclw3UYlbXmqJN2vV6osk6l/ebf5yO3vzwAqxERF7zNtu9Ve8wqtVKFm+rlJoNkTfWeqWppj1CuxQiZQHGCnV/Hcow+We3zOwViohZtJN6DWkeg9iawYplnvj9/gtd3IrQNoT/rzukTgMlBXr7fcO/LAK6V6uKm11xtCCOAvOHoKgPABwO8Lh86blzSRhMHQFbONXgLqwTa2+D5MD+hvT1fAgGYW4/uNn2bFawSuO2UoAMyeHnazrF5puzbBT+qXC2Uxy2q+d6hM+S+F1pg//5M/b8wyDzXKheLsZb+2JkzOUnsnoKcQwHIzshNMCXb97myi7xZJ94IIUTFDqNHIEVe1DLwxjGpVrP053Krnb2CG+wpN0SIy0FLF3H4takS4uNFQXb/BSnJy81SEuIIFcQc1t1GjMskHwO+ZtD2pqmHbkSbPJpJvL9lOpwATtivFRlmoAeyZZgDNchgp4xdOxK6ijFteY2ZkGH5rtk1kw/Zkym7YZD73fe5LcBm9RLcivWL67oadutmsqHZWGM57EMifAwzB8tUfcV8daLve0squLeNXw7dlUjhDz34vdyI5XOUSYkq8k6Mu2C7v2dAJ8RRH5ZGp4ZLPi+mfRqjdxIBVjvs3j4RcFqDv3lnfx2fgUUcdVePj+/eYB3ZxKrKsYhwSboUnkOLCGUqm7xGMAouNqEyP7whmUsemDXDbkIfhlvirH/YwIkVOMVs/DqOAJRbJM3jc2FNnOQNT3ZYwDGeH0WD5vi084ttH2o7cEztapm+UhDprz96x7xXCUU7M81UNlFt7+ftr8nDokIc+FANdDbuxLPDexP6gLGUen6mrrht+BEQwgAHMGO4D+LDtBY/C1/rGBW3cgCm+z8h586yEgM9dwIDi92TsQpN1nixMGzrL9Sm6BEwbAVD26Mr02oRnFPuRfdkVQH/7hxDXdQhlJakw59nvAbRcHPTVuo1y8JtWvwd8+bxfiriCHr6/P14xVvOgTgdnNrRUrZ7+FVTK6eSC5NG+Az38qFwH42+d2UPoSKqKonKu2dHLUMjzKlNVFeLKxuhhQLaj42gUxEhSoEvM11cAMMqc8Ahh3iNVKVzwhg+vsfNC5o0cORCgHKaHUL7eBQvbnOKSyhW24dEWS8JgIie3vUvsfZYHMmWZylSqATSGyspuwummZtv3tnjzviZ8+GZIUWnHVPhM+uM3SLZ88QGazdTMyuTK53xBgCfhj1IYWYP7QwBwRjARqXUOcXQAVv2CR+EH2tqSaMzRcGTP55qeVaZ03sGbFR5OO7JUiWzDjaiBFs0Rsv/Hqarg1pMnT34uwMilZtfSnkos/agCCNA+Xt1mrwkD/J49q7MQhskLnufhRx1qQzWMtCyW+0yvgVpoD8Xv2ZIdtzExHRIonllviV5doUjxgKYGSw8o69PnhO0gXfkJvrJfiZlWm6+/ruLNAdD//x/wG4jETDOT6WVDaqYBaWM2k2V5QvhL4KvfV3WkJ+EFLtAT4JVgK7JT9g49QFxdAoBXrasDetuXtwaRGpUN58waPOPj2DBUpbxUokxFFwjdMISumJ1wqqrULDQvvg7nDNZ4ogt1Nx6AKe2a3Mr3OzhON5Y5BFTAffHGEXj3tZbQLiAcmKzZdqsNkzb49LUsDgZ6hPQFVd1WUBQQny2sskSV/1HjnH2ve8FsfEYlkI90lzSGQWOHFc8YO3a7E3DdThZPfYeiPWKU/1KAqUJT9XkeXrS8uq5pbj9x2h6MNvPodGV673kSTRo0yyZ9yWq1NitMmmrrhxyaLPd1eOaFtnF66sCZjHCI8WZEfqCre7NmzXntT+pbX+VxfcfsvpfK+Q1DgAdXUSS5egt9sels1pzB+/emCqC3HEvVkl/uFrAWkw8rclBAADIANscqTaZjdnrQB16yt9+/mlKAAYOz+NtC9QDoC2xFOAWYn9umQdtu0N5s2Fr3nsA5qXirVqNSYaaLFnJSUaAk7IkQe/Q9P9TLdDti3R9JG5A26ixbYHGNJkI9oVDRXrG2Yq2EnDE5AblUNRz4EFDMUdtu1XZtfbd+rnv4CIAmcCzdoLLI9/T0WXJOCAuy1FwymawZ1BcGblWT9Y9Wr+tQT+6Zp5alClHPnLJjEcUHazb3/YG6th/P/9npTcZMgZ3kOHsNrKF8+sjde2Aqd+yM3RGnCA3D2P0nNQn9WXNmfU9jYvECZsm2ry7Licr7r22XY9zLIayIgEfDOBijhW+D1/f5PnDWVpEfDGY/mz8+yic7BcoH++wYEpaPRk+Y36DNLg3a1uAnXBle31BNb51BZfJAOXYQqT9w9F9RI377dLnJOkcUdTnggCKde/9r9kULckJyIjI5law+WCoK7KLFDXcf+mtnaiZDVzAgNdZ1K4uUKlRKr15sKE2bFcJw3/fvsXvNwKSfDWuy2fLy7yI0ND0m2HFg2dix9FsSDsROpfJGt+jvz/v6krNCLwyz4Szf94fWkBw4eygzLdW5hlUZhd0m8WLR+TwsVpYk2egW6bXtingrJrOKCoCWciZjKxxHX715VW6Dzy/3K5T3qTF/YgLFTz19f68eSY4GecyPO901m8Fy02pMFIVppcBrTaK/fx0hngMbcO93DtLrzunoYUBgLlo7yFPd+mAASgGYNz3pfwcnZFKpFLik07+zWxZXiQoxJYP5B/dIJkNCP5ud8sOEszzs2K5s7JbsNmE77KVeL+jvD9TV/auHyRDA97PzpmTjDqs+r4FUVRnmzXptvXnab7CICIXg4ft+u3y6DWsx3okxMz2ZBy051IGxryxqtfuGWhtCan7EPPpS+b3WB5hpA4cSKvCBUfjcIwzHZEejCpMnN6wAy5mDRcnE0MW4g6862Nf799Z4PCp0nMAz0EzII2iy+/onLG93DCiKwABS3lshXfPtK/yHvpKoZ7PTy283ZhgpCP20EYfG8bkePZ6UNGUjwJgx2ax/yaskQ/CzOmufM0wmnb6Q60ME9t4+6vUC3++vRkXrmyrnQiEQoTi8zoKeg7NgRaw89PkMGGaIGOQMrjcgbpwsGhDVk2UOSVCo5JBOyunQdXSykHz8K6+oxkTL7HVwBRk7dwyTY+wmyd3LP6y6u+i8bb8Vy6fAUfh9fRjcE3/HDZNTagGPDMQq6tT6QUzK1xf51rzbLdN9ua1wDs40sGixRj1FjGnfH+PRzQ/FX993YQrKuBkgy478np5N3FRcPjRj0em0iWHk5tPfffKOf77q8q1qktYbyQHy3L7ZLP5RPQaWj9m/vNhmGogdcyv77WYIW06ci4OyDzPlA8swN1TOkW74isLv6U04ekz1YIe6PPFZQ0mVQcbgnsq2HMMwxFWi5IcxeRCTuVjkEKcqMNPsv/aj3tywJpnc1OaA2LE8W9626x9EEvsPPdTyb2b4Prqyl6z1awC8VqfA6z0BB+K2dJVdJyu9oELfcXm9CxSIYloIE57BM/DmxMbuGVO56x4A9AizvTUe2YduzNGDfHKT6DuIKcX0ZJgMbbMRZozys1hKQWriZWkz7RMz47ui+lEfWQsKwIkBM/df4PsBkbngOZwxajCA7cpr3c+AKkM0H0NpQouiioi7puy26eP6Z68yvaaG4aaVyd23ytaWH61+f++YJphwLn6acijZgV8fNbKs3bcaCiPan3PjxzS9MV/h6Ucx0/a7DScFZ4EQ5/olTZm3UAuRMUz7EY+QFiRVryhdGkFQATBpZO3j+uu07XByVu/v+wCEhJZ5y73uoMHFjpBk6Jy7chboV0k9ODMCOM5MGd6zf0AEuMxZQALaoY3kz2EgHA/AXe+KrTQZ9876unkr7iXDweXUDCRb7k95gRqHyL4nhNtCT+DW1JKdlxw4csNtb/jm2t4OWzeNrmoqNY4l4TIvaX7NNAbD2NFpR0l30LJJRz6WAk/x8nNIpbSS0t7hjjUSzZ9SzsDZfvmzl28f1iTpTqru2bfWXIcsgQ3cBuko8PRMX/BXrozNa/4DQ5NhSAj4WX/4C6iH+jyPIgxIOS8OLgfYd182H/gP3pAwCbBOvRTodiBjcSp+yXGpSRZEqcIUR1Y8OmN/X7pxva9PtfJOc4QYoh0ElGeVJuq0hteEmFuiLAFH0h1U6kBMUWLcknMp9STo7fe+xyVlGq4HBP4ROjpXr5fUAPWUPH5H8G7OL1wAAAIl+Gx7ya0I8SkSrVUxc51z8gR6+qctiVWM1yni8CRZ4K1wdI7iRbh7sI+aVW1tz06CF/j+s+xaPSu5E47KNIGGkFg/iXkVpbbMn69D5FKnoevAUOWbojlOzEVrcgHzhPbCelACxBUl11/0DaUk29/3VS5c741qGHzE8It6YfJ57gmQD/ZoHdkNndvo1ctSE5vv7Wfxp284Uobhv+yLdlos2xcyoduUr1bc/UZtpQLdenIS2NRnRjJmxeOzcOaCUdms7x86aZ5hGEcqCRfIc986nLXTHJwYe+yisGUjiGNAevy03Xol0k/iJ8JBY6z9JAItoBmU9TtpN3MARpw0wsb13KZP5eGtAdjl2D7d4PDDwcIu20w1B2ObXaaO334i9tqj2sf3sUSCYRgqBiemlL+e7nPFE4fr9QvrIb/AFE58gNa1UjfTFCK0ZckvWpaYgTd3N3PNROXxNC277Mr/fObM0gWD/P74+AQQhnPCRHrJ3maXCY1h7NQ4/abttvXhrWCTfk79JAaAB4FncZZ+EoFHjx2bqhy//VyWhLF9SL/b2/ezuJ7PvON24+9y25PYZTl49An9xveyumOfOR6Mu6wBh7PNjfYcO+Iuz+fgSuNVc32ssnku46sAbHRHMX1VUCuPlSkkLXOekHAdkne57L1OzSimJx7bd1MUs9FHQo2cphUpdgWAZ5c3vmj/IAIDqQhJQJn77Ljngds0g0y/8elU2dg+vbY+aQ8DDp9o309i4AEBeAFmZ+knEcp6jh3bZ9q08Vv3mdDnhKkjVoNV4S4W3ucUsAIcu9vbHwvbPPp9dpk4bbyVt1sJ3qfnxLffBbbZ8UYTDj8T7PJ8OKmvAr/vlHIIE4zrGQCl9hHerSGesqn1ASgi1Yof78XgJ2jOYnYF9zceJ25B3O2KZZvtc1FFwZRyZcojIVsG7rDjjhcev3WvEcWcMHOXbba+i5vuZXYnUxJtD0xNlW034aSF6fFTU1O3O2HrIUNua+FD4rn1LzmkT1l66gm7fMhz9EsvdE2k4sFZCZ5jSB/K+pxw7Dc25IQ+WEkB+CEAPt1dowHE/Y58cj/e6pWWHww+s6zqv64Vwt3FuO41f/1CIrVyb0UqALwo8IKQBHWHZ37mpeHYTfbYvtfc8ZWpqSdM2OXAR6cMcF2nJOUiSpkS/wNmOn/bhW7ltF7H9smw0F04bVpTeEmbyY2qiyfjK1k4beJzbN0ng91kl61fciGV46cd/qknThtvYnnf23nnxjBkSP40V5hq3EsUgCmjqTJTQffVZB7czQ9vyRPwlxA9s8RGJ4Wp0mGTvDQt0MCSMsbvdrgBHwPEyn7kiTvDhKpVsSU2xfZH/ajvIq8DD761TT+JpwNTxTsXMjMnbLPnjvf5xkin93DpDqJy4vgRCxvCCVMZ32vh3MrtmoHNcbT1+Gn9yrbrA4ePHzG+z3Z9rBweD0+f7W5rWn3C3IY29U1MqJ0eAzyrBneFIJrjxo0DuJRJ0J0RrtPptGMDyGQwAEOp9CYdEABO+iVBPGtcga9c6bOJn5B3oeOLneHJAbt+EtNuYv0kdhfdZdrC9NSpwOX6xQNQhpWJW49PZ/oQZ7fxlWVTMaEN5utHDu9VHJ6tTX/Wp1/cxEfiWLSZr5X0GJ5V3BVCMU73dhYubMOrjxsnapMnQ2ASTG0GM/uk3K4zOnVpN6DrcwBO6JPezUzqhTNlmVSKdDpdiGxtDsvOwAeqXIwQB8N1QsvB0FQR7qzfTyIAe2ydtu9q2s6Zq3LA4Yfbhl9vuHebbeyCkXJ5l+cWH0cwn4trltPgbSgGDFawlfUNTwZWLqAtHZgGHvvFxTa7ZFIpkE+RYAifGrjPgSdUbn25Eeau/srKNlkT5pbteZHKyso9DIWVo2CBjl9/6756vacn/SQCAK+iXGq2YZpJPrviUNHC+S4jnpTJkB4/baKVPA9AH1Kn/UlBOW8hz/eUb4wTf0Zw0j1VwUNeWpjWBiUTPd2+EBZJP9W2zrQ1SgAewJ4nlKUysRhleEaGMRqJ4ao390p5dJ/7bDl+k+d7SRemTsiU3fbdii8kDUWeCD5BurLNBIBtittqgysA5U9P+kl04UhGTjLyaUsgfGKTiT3bHJtJAZBm65NcEy3dbnF67ehvKu/JU057/76p5+rpN1GhBtx2RB0WCVnvghJd5Wxc521rjdIGFvVsBGU5UG9KgVea3m1hxnAXHb9a6p8PmUeqZ59v7MJz3/5TrwITYctUxoB5CzujuiKZ7frMvE8aAF2spFyZqJQnUr8/CF8il3p60k8il8IQ2Vb5dNIPw26GUWgYfAfvRdY1tuqGbc+aZTl5dzTlZaXAdV03vckIgHd/mPI1jn4/PwSAOGM+cdywIITRdB+1jgsqAcIweceWleVOON3b/dZjrSgLDaVizFW1Yrtvlj3vwNRUauf3OWnIkCHbwwlk7mJA5XhvYTqT2dNmu74elGv/CMJFRJ6+9JMIPHx6Muxi23/xDpSGwQNzi3HTaJo3GuUkS73/9lVqzGx3YCqTyuy29TT67NLTTbvpw3crhodd6P18sIExZ86vdcJBiIXIJUX3k7hOqTd2QuaDVj/Z6eD7XRPzYYaKLpuDUlNxbhYakH6fA+fe9lO/WS8oSzHCdYWU0gVSqe0w4E9RlAEwOc4V8MMQKz8sIMX2Z8V+Ekdsd+j0ZPJf1Y4dg4XB50XEIkai52Dm2PdiLVnyvPPpP/15TEy9cHxu4pttnQYyW1Zv47rp7fthrg1BeKQdnZTdqZoCNiAw+ZEs+9DbXPKSF1Sj0qP7OPEd1BcaQConYK1etijTusRWxyD1/gd0xVTF1MnFLTFg6/GP3nJ8K7jt6mB/0XJTNjcLsiRWx9iQSOedo4t9m+RTH0hNdDmr9ZO4Co0cy2iiaU3C4L+6br3aedcoWnxRRFKEBPEHtCtySXJJ5a5WjeVV1UpbjQTYM243eMl0erfxTN3y2Eff533SrnuXxO/YAQ8IhK7lspHfDyHEx9+K7qOMFyihc2R+y0WZLgS6cetbar+xCmzSb2FxM6kkJvMnTtHBSURxtSorf5oU4xdy1usncVV2NgyTMVsaU/nGC8kUKW1jDx5KPaJ6LHOxWrcak1TM7g5MGEtmj+KqnhOBCRcuTse4buXhJc2XEJY2ysYDneTf9G9KvWSZkyXZ/ve4YI3Tnf7uQ4t7BXEoUhNnog5gKHGjKHgLuS/r6pRgHuRByvoOd2oqtRCmuu5CM9vOCSqMd2/AIfn9JQCMB/es1k/iqlrTyGdUlpjq6xKLnsyKlBRiirRkCWKF+53jxMM6SDVeMAocm0rxh01by7On3uFGmVNAH9ctKY8SZa1qRYbRul5qb5jdmIuFlxr7vTebTC95wdvYutmHziYJkL2KtVZrnuGqWAXhvsbG3vMY6tsohmxzzwA0nxdUMwCV4zHTz+XYTIZeudAYipT6yK0VXgoYuTv8UWP+DCHY3bSd9ftJXK24WcRAn4DOaBCFjST4Z0pG0d2ufS5oL5nDKrqQNSxrugwDGkDPVOolbQy2WwFSmbdLUzm3ZLzYhm1ePD9jpZA2GLpuSsh+sXJ+bNHm1m3O83AbJu2VDJN87D/5ke8Vy5KrXNLC+qNGE7lnZHvjOtHcb2UFxaYXz4c4RZwGHNBEaA5TG0IZI8anny+TMq9T4JtKkVkPeHqj63UW1SEv7QsUdYlaDLOSeRRxTYBhFGEYuh6GsOXMVOa2ruvQFf0dSFMyxN4XUV3OsrpWaa0anzlLuxkvcJ5kYat5ybCrbbepFHZLu8n/YiPH6XBt/821vFoBwPrEHfy+Cr/VYzuNVwmCfeOGEyPGV6ZPDX3GZpi28PTgFnNU6HOFxA6vFKTcBEhBujvwTKB9OlXokEfMlQwicZpDUo/wwBNPbEDUitJD7wrACdvRaxq2zMykUnkAI0qEaIhwueDkyQvpIkW6UEHoLsxMzVxuncu72267VWhi9x5hsm2lcHg67RKmUqtd3l3n9p2HY3J5uCAjVvFc1Ym8o39nQXuaVxu92L1AzGT0CE9yvB1IV6ZPCY/OuHPPAL1yhDLYfSRcQOHCc+anCZZ+EteDs1I/iY/UAcgAGhA2ZtKQYQPOcllWCAF/4/aETZm/CECfsamtHaKsFCkWhZJexsYtdyrddJ5qpZauDAdAeusRZXfZo9Pa+qRJe2F5/Ovfv5v1iFwd1liprXXz1orH5ysenQE8lkfoypkqyijLv7PZh7PPUnBwvw1D8fQGvP+jZJxF6hzj5B0ed2UnVM79ZsrKIKlqEUbprE3kzE8D4mRSnNX6SQSiSy/GxVURUgFwWYPQIFjjlKfaNJ/k2e9L93opmDrV+RSrNCBV4svYMrq97jJ3cSuFlAIwcfz2h7erl1XM9ugBsFUYftH4fGU6xIDKzPOtCWtvbLYcjd4doLg/lYBmpdmSzb54LJdrfZ9CIg9tGf9euS1xBSJ7tXHifTE+7rhPBtBeOCltgIHC3S+TMb0p9PX2taVEyrFOGrtw1usnMYpiJEvSvWnqIhW/LrEQ0WW7KkZ0FNqtUNCiyzeceW39n7xWswqZTIpKXAegD6RLRJeUrjquazE4PBUTSTXpHF/e75uFDQkLbNuAOCGw8PAbXG6TloNFS7cDkN/e1pVTgn2byWxJ+gitjn9AGxQBfCYdATy/EBC+7eE+FlLm2pWway0kwE8VgGPPKv0kegQALC3dw6qrY0y6slg3o/Ut2is6JhSmGAuUEEt509ztzb/JOo0KAKmSXrAqwKXUic4K+5u/fpWQU843jBb4ikNG1oRdbHtEnBAATtpj+w5FlsjxTIAhCAGJ/FWJ3MALDKUhOXMhAq5PFO3luL8HQM2hPvJc9fvWUypDP5tvWNkPHp0iVdnd+0kM+GBT7FeP5WE5xIUM8+FyhqDnGAGPBE8ZsUou5x/FdetlANd1yZBK27+QotK1ziW4Z7qAQ0CmpejRIA5hMPOQiMPjX1tP7GU9HrQFREJs88KLJ/CciSY4LZ/YZ5sJKQxg7gkAdv0kprp/P4mRMjWGEBZjUl1diPuNVqZdQ8BoEXieYrRVUOBjonIh26VIVzrEY9OsJhFIaKbSIRTjSQ2t9/SZX/z4G4zAdW16BOzVQWTuiM1NfEZrX0MBvJH4zoTQ7oYrxomw4XR4J98PYcI2mUwGDEgvCRMsTMTlG0uldkuPLlk/iZ5zP4m9NZ3UEtKIoKI6F/+MsHDh+PQj4L4PgqQfAjB+vNsMIDXNhhNwmUjKvDYEy0yuRjcFYaKV4dPANwM+A8PQ6Yjs16+fEgD0DnFF9NwA4Hul4vObQQtGyDY/MTw3KAxaORu97Zm+YehrMDBVh20Ex5aVZdx+ZVPTF96lj2UHz8V9dHfoJ1Ganmg/iSd6FTGC7dP98ADAMC1akz/d7TtdTdMQcWHaNPfYslSqlw0TXJc9UuBXhDW2HYvL4FSCDKOGkmogRSJp7I/78QsXagFws962F9HA45/2KNZnaK2MOmLM/nryNB+c12W1d4j5bjBTdnq4nJva5vFhl5ljF4JdP4kL3TLOGv0kVsDBNk3QGwi7+22ynDl0c3czJTX7Wb2pM10ulyZFbLEE5VJJwmoLGwU/fuc7m6+T8lKkbYiJpMAHkmBomtP5mU6nzQsRNmiJwCu9bJzpwHPr+Fw//TjSga1qTG/yoQlMzZR9owv7pVNj+/SciuuCtZ/EJwDKxm65TUn6SVS9dJ4E+0kcBkKrR5zKdEWZzJ89r02WHbiXmYmk3y6VSZ1k2ZB7kq58ezIwGH/e7GRygdlTERncd6+1p8+s5AophCy0j6dqb0fCcjYg7oonHKJmpINED7/059kzdC/C68wIAbZMpbY+fOG0hZmZZZl0pU1F9LFTM/x5MplUXOlUynXdtPtuL+nYT+KkZFhDWO5b+0lUr6fBcP8Xh66YXZVZJJpBanFGmanpwwF67JVtm0+fW51LAGg7JU2fbyyTyZw0DeizJwvT7zYxlQIFPr7/5jU1NZpMesLADYdma/XiiTa+tDnZnSIql1GzCfHhyCSha0cmk/HMncY4Ot6R6aDZNPAJDwfXdl0sWtzSsjNTmZPcSujXryxzrOuOt/kmuPF+Ei1daxTbkMulEuwnEcA39ZOoblf93t7iCrpgdSBtIEXYKzIsmzo1bGcYbQuZItOcnswWFLOSk3rZos5MmwnpNMtBcRyfHk9Zn/RCd7c3M+3I6tqsf8EecReWh0m/vPwCdomEE1Ip5tr4U3GNyWR2CH6WnDSO2XYKW6aWldl1mu/wIjXSdBgeCQlD7HKvD63xMXbfHAmjgTIsKY6FKcZiW9nYXYi75422IQUu4z/ipy5JP4mQNfWTeO4qANqSGzYsh9KpOSwr+6JJtFUn27qY7UI6993Pi3vUAQCbuGl3JbhwpowUKXehu/XpwdI2mzyXcl/X9kfWJMMQyv1DNBjw8lYa6vwhUzmKb7mjYGEX/w/KApvHHx3S/2PHjpUJiUqm5UVoMsUhkTByd7jyAkqs9DRzP4nbTXX79dqaTAL9JCpT/c39JCbLLf0k7k+pqXmyh25soDWicEpajQnDL/PXXxadzf7gHR3n6zFYz+GzHEZLDXp6Q3syD34wwIit4+6FV4ZMBki7n/rtra1zLejpZ8u1vX3JZAj+mFsOT4rz+29gYfWUFVwWbZOKCZYs0Jnbpd2i8fjTkgxN1/3t7GksMnPmCY9IGFkmgdJE8xmePUeBwuCOuKnRCeBir14urgsu4LgGYIG8kTKFjw8+lhLxAdaKlMOGDSui3ILlktlolbs3MFKJTcjpRrHkbzm4DT+SxZdp76bzx015x7sCMHFi3LlLwi7bMW3rtcHN2MRie9eW+1m2nRfWHj0mrBFviw/31nRN6zZCAPJbTUkrr1k9Zb+fyezRD5gwIV1pgM7a80yTavwmw2GsXk6lplrZpRlsuSWJT+CNcJi8HqH/OUJCm6TddqlUPxjruo43lf0O380FFxM4M8CfMdzkTIZdg4HrLclHXpO1QjQDuVuVoZznF2JADkGMRSqH5Qruxe3z3eaj8r3GZ7bsyZNIm3dmioztdzl33yx+FgjDZCiivT+aEEXrWncwN8A240c+GmUyZQsXpsam0gsNKDw6+yTJMAxhjO//ecemMjta7cBjj23jsUEJJgxHSPj3tMlZ2ujGcMdqrEwjvWeqLDN3bCqd3iMFUKJ+EhN4Q/WU2mxC1SGudfuqKqqgoiKHREi9XmYtaqL5KNG6JgCwcI8RafP3yGCvUYPKrTvwWTV4+dFASF/VbICnuX7j42o4/DJ/+zXn+o0y84lamS487/gDk+HMEPxRvp83GsVqpUxLuE8ZwHYvvOOeqxpGQdUt2cTe965oymwgDE0NyLKbAenGsOPU7crcEf223iOTofuowkTggX2FiNCMEIDx7WFEv0ou2/M5n5vvTxzhcDDvNmJ8JYloTDi4HIBCpvmNZj4MGbXrQ2AD6LCeLrCsvc+52IvnsSu7OblUKhWkDShaLNVp/V9nWyvdzCDbKPCbZkmOpv0WTgkfcocl4T73ufAz32fJXq9A0yYnTBcz44HGU5gNU2B74PUgfCc/TB4KMwBGTEtX7nzs1Iw7fsTTQJnZfjj/aVM0xE48n+L7Mw/dz0fVtatJGgeLk+MKiKwD+VN152pXu9Nxz9VRdTt55C2jK+gbtMP5XvVVde5CHjMoYBsQRRqyaLzsv4T+wau+bcFjqtdf/yvmXYDd1bDU5Ouuq9usIGWWmR7zZFk1Yba275i+mDnyXrbc617krbraQptojXgv2YpD4O5AXUuaS9O8/qA6nrTJFRvv/7lVzLbUR1F4tOLHrz1jb/V6UwYADCgf7mfzsmFDM3mEqQydyvRPv8X9+6fBE5+JWqLkmzfggToVIcyDXQfw2aHHbDaqUxcXNcoB3LMUYJN0ZfqZX/iEfnf51GWZMhMtay9UKXIud+vtuwHoCS2rLUiq7KpagGiTw4GWXgsYqcBXroYYRWsr1hb0mi7zGyvJaSMVoGXQZKznf5QDXA0YR1PmS/V76AwYAjwF924G286Dt4AfLL+9Y2o8Z6utQggB358yyJLGvpoNgTeLxZg0NeY3RSPi3UQDUMzSNMddf/Kgba74YarkZMuGKsghCT4w3r/GjP3LsWj4lKyflw6aDoc59XLKdL9YdHqp7787y/qGkL3EZqIv5Fv7aIWXEOsMnRWHODVb3Tj4jHrLN+SpmP1iHmi/BcD4YmeAS8pqtPx//rcra918sX6tgLlQtz7M81QOxBq7be2OgNO690/LfZiHL9kRg1UVf0CFvGYH/46RsdRKf2m6WuWD34kFAOLpe5hgqV7vAxQGUif5d26YWsscqEYlpmsghU7hAvrub0PMzZiFyfBv+rENkZwsaRAtfLL+qBkm3kM8s00wH7YYE05GI8Z8e76VDm56XJzJg2hVJOubapCFU7DT3oOzfuP5fLHnfzQqZP6LNeXGfL6/Hn4ZqxbzdD3G78i1ZW+AGEcA4MrDhnxzX1voczRBK6Jw7ZfFLOS2SuOonuO79firyXJ+aZMIIO/p04Jq0eR1gctVGpC2v7S2DF74enegnfRZrB1XSCdUnJb3i4TziEi/G8wF1oe3JOhA9BwGoIC6ce1m2bs2IlipfFzfvvRYAMC4OE3wckiCH7jp/tFHYwjAaQqvt+LB9DtjYefxX51c4FfOm0HNw5PJ8P/STsvfSggxQ33zTfLeYqeXf96srzAYNABAvGPbY941YIsmmaexF7fQQoFXNDEZDN+PV6R3jtkH7N/Tz/r1Fsv6cZiTJUwfmQzHie/rfgCd2h81Ek8xcwHJNrhm1ugZl62TBdp2rugB8F2qiG64QPA8vB5E2PS/wOG9+tlfXJoHbXho0VoV5pprmM2rWE7aK3+29XjGty1be/dO7QZe8+qYgV8sKBRtbQsXeMXXaT/P+LDs4jyHBCVLxQuIccXrwOu8koGgdFjvyVPYHii+H6svy3X1ftuzcHmXomRn8ed/+JwEDw+TXW177ULtP1bExwahwTISWkzMHOzYeqNZbZI3GmWzY8YUu1sDrwPgCTlvQwLEolvS7uBbo5oxxY0siAv7aD7ATl7xFX7Agv1938cPQ74oMUZfh75Ws/i7qh2K+xb7lasjb4JVrgceFmnGy+iEl4G6V5AB613gliTFNaWceizraXnZpAxkhDf6oKqYY4fhxQcFi6NuHC3sCt56f63ctUpOCs6hYIgH0CWxusQWQmKJ01R5sGARgFsTkasndwZ157sDTN8xDLl7x6Bu8JO7vGui1u+EfjhpYLLQNNfRVwt5t5D5R66qwquuyEXLsW41bC9aDAd+dn/sdYliv8vJ/Ct78ZbMkhq0O50+iTyPgkW4AlQFVmISH/WLzXXwinTFyOfaEUes7m0i3NHguQBUjBozRemSMAxhkJ4QhIHHcSZ0yK88cm1cXjVdfPAe9/u9ZwMWTZg3JDyMqi6YF789ACA0AyyH5lDlU7LsD3TjhZe/NQ5s2Wm1dFvLnV7mt5uf/SnXNsSVqQp7Y8VGZq9i95BO81jRgkVFr2fH5mDwltARzfgQAOCHDLhX0+orL9LcAwCaFgIQc3nmFyNERa0c9z+2TlopTPVfhTjMG+Ubf+W/hT7D8hx3q1KlkHeKCDbeuAjNY+ONc0i+rVySHPN608Ggke/52aPBNpv1GiAmZ3hMZ9PutLnBjl/JT1O+fPkAYD6Zeu18S/I7nwKw129O+cbV+JhOFe8CzCfU03EtH26rTuvr4Aam29v8VB8y5AfblQ3MtMy3tJIGCqq021+2qI0ac5CKKjAQl6oHP5hbAxGXorep8NKd4xKRNSA2GqkxuxpwMXG5HgI9/bBxONLNkmVDz4POIw8MVW5hj6RhE4yOyleIhfazDBgq3WB12YCQbE8bXvTTRoRoHa3qlB+g3fti4EfLn6AyMgEYGe8AriPpIqYbb+yVArd6MDmS1COONbPfmO+PwVY3PS+XXbtBmxdos7D2xz+fiJrVUT9y9fP/5yrFNIB6bf53K5NeHhyIV+yGPMt75XHjftk4SUTiobh9XAH+Az2ixbF33vlGQ4Z89vZGBmCvUoD14y1tfIEvsByXL5WDqo6xPBhhCBk2rGrjz/vfcS68LNK1mOK9YlmSzernSz1k3GMvphton/1Mk2NkIBPGL4TpA6Fo6N4KUWnBUA5MS8NIl444SkdKsJwrn+F+xEhEpukfv8EoE1fdgsvqPFAhAyHaALqQWjv76P0Dr+M0dd8AgNlh2FHSRVlQlGnfsvXsv/th1Tk4jXOe7/cF7H0xOsM2z3iu8m66HjLbgCWbVIFaUE8gki1rPKdOX2BDPYmX7Pbk3wVEp6XfGvOJSUhrQscO8wEtpzVfBRB1LW6Ah9TxxzDBwwpWi19A77GMdHKJ/n1dVdiaTGcsXdpowOwdmxLlYuVcUpvVHUZChZeLjseG77VI4697vtob8+cD0BO/sWAeutg88Ad1wkGkW+DdWEgU9+SkPDqSMu5DDLDpWP8NmubnoNDPAlwa3ljTlOny8Bkf+cjVq5vguoCJNcwdwuYNchc9ijIRAcBnFit0FXMYMbRYXv75ZLN2vGMuMWL2dJcwxgTn2t8mon0M9RTwiqdPUur6uopGWNO4imnmz5ZkYN6Qibkb7FY3H0DLmbgTdfGZi/hEN9lM3Ngc4GRoneMZ8sRtwN0chmdQrEXFEJjWrxuqIbV/ZEMc927/SUik8DLTuNvN6/VeT2uowuTJZvzwPxJ7PwVzYV7IpnRUjhDhNEBvlsMcDOiIrwCwcI6NEVbOstYk8AkWWNhUP/0YEsJjg1vFS1pcCMzka7s8RpdYkbOAywLw8XQhVMGcI8G34cRFmRK1LcVr5apKkGXrU01hAASwB0AZ7v/k9LIvq6uTaFwAEIFr7rptGTrgK48NLvBi8xtfTt+gwx7nQ//QRfzYYqfFarE56PNpwOLeMEb7K4HipNWIft245rIcncY4wxZn+I4kUniZyVmprXlyoZqhJs/wEgDmRdnsGyccSZzO4hjKPDqG00KXBwqZi3RDlkEXZRXK5FGAnadypmn6HIo5JoeEq6uX7A4zQ96C1dnw4OaAmSMeo3vAyhynIoB/8eZwGCiOayD0o/VE7Nadob27AcW+w7PeWgSnl31f2oXixLP7Xw3imfp9OAJuZx4oXgB4oBKPbWgvlslexYwHMQsiYfyWtX4QeARv8NuByNU/+eR2zFdKXjd7eibdkHQhYgDT5qZJZVbk8qNf4+SKRAovyzI5G5vNdH3+/NvpS8zp+sH+FrnCvVNup5Dd8dkUOgZlrr8443vj3ko5R0jxp9pShSTT+NDPTWMUh4OL/QotZnr8xCccAG/xy/nDCw8gsJBPSfdcD2hwetLfGsdWYKhIb3UZhu2t4KWvytXPtEln3w6DDZQBENly+wpkxBBAFQTAlGJup68I7KoleTzTR2mZ2gpizZ4J7VEvDeI7yecQ4AJvqFWw5W9vwCbpSg9wd5tWVlaPa8tQfsd3fCUAlXKhfeHlwrJUy3jQrDmfb1nNmJDGJHqgQceAeTCqL2EHv3JXFmXZIBe5pmB01DA+DknR20JXzC5YCF3LdlPfgwVUN6GFgfr/KZ8SQkicr0W4DgVdXVCAS6Q4snDysGEGnvxMGNpxDehse2eqo1Ci8IKR82QgrHfxH4Fntw91AfnSvN14sE48L1DBlL79BA8vu4i5v0fwOnnGTMUq4qyAu3iIIn2aAtC3wLOtrLSzzDmSp6CeTnsAMMKAsj5LMH2lS18amNfDqfDSzXQguwTZOHaLymFmU6BjUMJQIpwl7KF0oo6ByHEoRO8iKIBIiP2i4RSbvX4Zx/RujQyZtmd6Dq9oKO7B4BLgqFJTzvCl83AxSIpOL1T83gtDWxPjM1xmV9gVbEmVcV8RStdsWtn1UAwAdFGia4rAzCy8IEAbqzSUxcteB/ctDUVLaf12Vapy/CpugyPEjfoiK3AeQF+9ucynaaVDZGhBkWAApVhcnwYwtimzJnjHVMPI3emQTzsUXqZ6dUQ94hGPsCY9/cYSeIYD3ZTeTbPMY5wpyrROYZuYOK91b7pm+k+XjqRupkQhBBteA2Kkc+txoyigXGEQZ4F++RmhQkokk22xBIPXqjJSV0+fybYkWjiTMLIkOUS01jJtUwJC8HABBlh8Y4GMpV0L7aVcDJ7NpqTRusBeOxHcEZhkrnRz/CrSeJe/1woKiD+qHeS7WOkcYV94vbBs7NiGTG5606vC7NkOhZf0ypgLL62e30i4N4+4OLWaTm1GMsaQTsqhI9bXFKYAe08r6aZvn0L92G1gHUYiUje86IKLYiZBHyJgSfoERcrTbqh6xXPtfQP36WI0B683DiqD2IJPQwoGhpRnTTO8BXbyAGCSi5KFxuPifvvplyduICNW4Tf9gdGmtb6ZV3kmVu+FWMjpRhR4WOkCYIBD4fUrXb+KriBEpoGbSOGlDWMIG6czvZ/lEeco9v31IA4x5bQIR96QTjjs9md7gAtOXtPlOTSVcSREzDRxNJtfVNnfSy2cPwHTaz6ByZaiR5VBdP9PQmg6QbcUXXOS4wzguM4yua/0Zco7jxwnDIsfqF7QN4Gz2NzraBTo8Gz48GcprnSzimo84k9jXOEVW+A2f1lay6dDrvseLy/G7ymnjTrHiRZeL4QGRD8EVCLdoEiXBAsvbV6485AHxif7A3BINwzes8VotNGQi5/DcSBHYuWX0w0zupBWtEvTRM2FH8VGQ/34w0VtfPEl4MA7oJ+JTAfZYRysyVDTR7PDcOZMmyTHwW2UWntWvRlcJhEeV//3n+pZmrbqs0PA39j3e+5fTkI+LJoM2p77w59FcQgcER9NBy1wm+PqAbrHmiu1DnQBrTrKt78OK2nnJmTIRYE7BwzREi68BKDab6AWORqPYeND9sc3L0pZLbyxarBxG/KK2RxwWqxSNd1s77f6KtxCeDHx1E2Uz1xUQWBBHOHk61deUy+JzJ9+VVDc+0Qq5mwyvf9Z4udrwAudIdvdADzsEdmXL+Y0yY+n+qy2V2y5ShiG+If5p0+vkR3pZGaf4ALRcFNXpfls50OxgVxYU2odUFHAz+wNOStrDGFDpfSTCKHzZFFLaKKKpn7coCrC8Aqw9BmBB06LFddu0Fw0l0kkfKnZR+NNMBM5mrpohYj1+AeAVzqmAoOB3jz/KGDjN+WXBlznOc+0SeeRhWNAxV3xPLpZPQNYMX3DXslN9x9TW6NCRrXSUafi4EeffkN2tq3Z+B/8nTNjCoChqEJbxI4U0cU23zc4/vN4ENkVXmN7gGWAN4Uo4cJLh8XHuAd1GnqE1qG8Sdkt6i6sq0QRKSwIiUyL/7FOpCJhq6ktqfocrN5QuZRnXR7g+CaxLU7WW9IsPReCGOpVoq8qoZ1V5OHGkxxnqm86/lUkfhUfRNSVyWDIqXaed44snWd1fD7YB8LkSF269uMvPVwxPfYfHpp5hbfQX9j4/u8tGjMc7CudBB5iTTwExJVN4bV9Haqp0BXjXwc3l2IfctIkZlspDKi0C1Eu8ppDHJpzuOljQr+z50MVR5oW75RXdaFAsNtGpUKAyPTmWMlZ8uu7oP7gLVHyH+xadU9MN12MSQVi/AL69lvMVgEhLXCJ/g5P+3ZXu/IBqYMIAK0CESB6CyIOqJvKmc/W283WmuaSeoNOPRXVy8J6RL/ME39NS2pDiSQ/kc7aZ6q+5VtaG9JnrPfjyn52/uDr4FvyI7VLb7s6N+IjcRuwMBboAva1XdqTFhEVYsmrR4wlRWdwKry09xoSPIbyblP/oRbvftFXw0G0Sriv3aHZGxACuxmcRhdastlH6pH++TAJiZv4SnwDbJGHC2L6EH3/HWE4M6SCkH1pxOLvjIjWDGk3zbKksALkKPAABR2t+gDvsgAu184lt0NRpq92VO+2MMSZxJQ+6O/LsqeHSpcFgZ2rqXq6qi9xPS1ZTeorzv86tLi2xMDf/K3Bzr8AnouJ+5YSfRHLF/cGiBcXsi+8Tu1m3yHi3WP4FYiQKUHUCLAt1m4MWAsvvyqwLq78Q3/lX1Mr5+6trFqtB8ukYTvMeCExpqPvhNT/qtr0g+KPtLP5Yz//lqoERrLVfp4xVFbcWrr5lRB1+8qnXEqoHJLPUsG7XkA//VhDGFIB6FvUQXsELcqjnbj5UwyrK0h/BeEEAEzOQ5yLH4guN7Gu8Mg+4+E2/C2QrXY3N7AU81yFgaHrSWn6T/zTjyZtuBeMXu9iBRx85DjWrLuIyG7PP2dvK01smkAz6LmdTeWxtAHuOqQjuDkKfbS82nlr6y7xJ0ut7OJaCy/zwYTisJZ7a2eqlzUdiL97gNzWcRFVnUKH8h9h7egrs5baMNhbGc60m2VjkuLLLL6r0ajbk/buhCVkabpwdeOs814yjDAMK4BAR+g7ArjGjHFdTGOp+eJbAGycTP9dhIjKG1xuInXCoNtC77YwutHpJkYh1XhaoBZglBbRobp1W9XSkxSOdp8H4Oj31bPfE6l0oqWrgFJMrAKQYxI75Ng8aAGW6HLmCQa4BeQ7kFRUAGP8o476V5209W4LLVbmHttmqjTDgtnzboeQq6NcWqI4jXv/tDwAOvqp42NnCgy1FmqOw8G0Eif5NKFLYnfFwjPCXr+BXon4tYjdnzuISIPB/3UeHAQQEAB8aP5cnc0zsblWkSWWedXAWmPTQ6axeP0if1jI514++dXZbc8uuHdDvCdaLgAfuxsUq5vvF17ZC+es4tzMc4LZAFVWv8Lsy7IA50on+wVYj6Fn+3z5bT2XweKwFNyhD8CECQYUQnoV1p+zugIIRqlS3KrT8mo7pBOMd8sqgWO3S1euquttiwPsmQKgiiPPfcvAPJavDkH63634KWigq4jD8jEVP2b/4y+Xn9i9neSo2P/SYViydlY/SzU313SgR493r3CKmB7r6tIJuqX2fVUI8ABupqv1nd9jK9CZLWcdtDJRuzVfFTarq7PpYHGK2800P3Zbs1xgVAcOpKpqEa6s/gHo6AxSKudKeLwPeTZ9BmdeW2/N5D53uNEp4JmXBFPhdXpV6p3wqisA0GSsUlbFzPN2LucWumUTukBl6gS3stLodrcWLTMnWSYifFV1AWOniEWFKatMG6t0WPUAHZ3+j9ECe84Lq/vFPNwe7VU67KnpdIurhpSEfltURAr6nzVWyoahU7ycT+MPCeif7Ks+gNm8lu2KeKTJSMMCQnTmfO0E8IiIILC7DuImk8kQrmLzejhFZ22oUqOaIJ6VcxB8l60otWH/Rm+3EqwMO2NAujK9Out3+cea2zTq/bjnlZMaulNV2XYHpki56cqi8XjJ99/WYiR6Zh6DRYuTrL8yx6/02Hyaq3o7kEeL3WU1rybq4nhyR9Wd5iGPUjNa41HyUcIxVNA+dWKWWaSkQ5ZSrwvN1LREvP6dQYveE9+4+RV+8G7DnMaDZAOgCDO1XTDWUthtowDQWtU7fo3TrugHInx4FZo5atJCAfuCwkCZb8O8kBbixuXw+h2BsHfpk8GFE+D1sNX/bB29shY3CnhrCVIrwc5x3C7oZ6DZhjBGaPEBWeZO1DYcu82ExSEDbto4udD33515fUMM3tjMfCv1d7S+Fe3JHC9ZF/ehpTxjui9pvGv0/ZxFGBhQh5mXgMYLYoEl3+87/ais316ljJM2NM2rRWSlBAtN8Zowrzj4i/xkSx+tvLx6yt0WKhB7i8n3zKZ3B0+3DwD7veE7Y1GVf/zBQlhSBl/+fhWilupU+jbSCaa8gG8l0mCwIS0XBy3TN7/6X73Dp9zffP/2O1oEngB+guCEPuVi9nSxrLWWV8/C2uo0z8SD9typx1ZTVumC+VtYBzuHYYzkMPtii8cpXGg2b3xyseR+a/eYrj3O8Of76+GXsUphCU17m8iMnsBRZhoIv0tjuno/sa3wCxEh7rekwHSXN14LWoEWKAMb1AK2lFr1zj10sLGIY+my40G/KMNLxoqZ85I4S2W9GKZbtRZvFK61fCWxfyIHlQgA8AIsA9uPXFjvguIKkkAV+EBE9CNFnsR9H1qqw3NKGjKofSfKrchJMUqNSsv41V+iZfL6V5+Ab/4XlzoT2KN9ZHMxD1v93L6WM1FfjfqqNFfh1ircMeDmMYKKCrt5AMUL+d6z7H2dj5uTqn1lWHLsZPJtsJHuc0+ATBl7dehsiG85gsktOWY611l9tdCeLAOx42bvrCJNfFTXjF41nFc72BgMY91Oey07a+i8S9uwgR37tq4VPMIvc/ty2bazTDvVtG1rQEeXurpx2PmvfgUfi+wju+aV9hGAcL8Svm/mCi0XcXQFGY0LYDfK4w37K1O1OrnQwck51e0m5Ceii3mO97GddLNVqndj9pGrgIqKChzVY3fZNpEQb9bXwLkibPSYAOiDpz4dVBVAjJvjItPyWqtC1xyeB7CBuDKjQ2ikE1tGqzLknEOzd7y/oWn16/nkttz5RCt1dpyR7cK2Lu0EuUen3X6sdkPtyvx/Z11dnUPEoMmE0A7rgLtv3ERaS9MBoB0ui8WLwI92rJGm144yo0q+xs9e5wIXuOWoRPyEuDEElsitigoAXqMD6lYPJWHVEoYH4aBnlUwJ4rh/wkIS7oqLK8OY43fF1AIfF7zeWGkc8IBaFTp6+aev8dhP1nTV7GXvrU33w0uXJsDvqxAdbWvSTs55mu2B2uX58/fVrzjB62lSwYpE8UuybC/dhPO+iE3XD0oTbW8nd6qJd7oA0yfJMLPl2Yf83zWZjiqxX0VVvVRVxBQx6GrD1IbQcD68FgBgKMIHALiRWClxTaLIluuLu5/Mo8GUyMikg5/uCS5UGKYFXUU3Pl2ABx+Kv55abg0w84YPauIvxNB4/gcjCZPJa4ZndpofWl7ApX9Hzvy+CvkC0I72qnnbzI+D7mAm8OxmAfuUjnJ8cgLO28DrAsBwv/8sXd2rqUnOKu+fvGb/WyiLb3GFUKORPJcS+4dUEUutxeJZTkYjaOSQeXHN53ry9HNhlSHAA4pdSQ1sEab7McVt6guBEjr4mSNwAf6UB9CVaCDeg1Zl57E/ytXDwVjUIApzd9+M8f04YRiGfBXc+THKd/6JJ1iw1vrYupBT2EFyLcBW9ivUyqMe+pWPBJ7Nm8RYrsID4R1hQtOJkqUy1V/FnC5fS15zjufiZ7PZK7zsHA0Gmk0vVeLXO5KqqipS2VOUug0sdUKuziM8cRmcD7Bd8YASuQqJQIQY2AM96cPA17gsps0w/aCuyjDwB3oeh3jBa1u51arwZs/xHL4rjAtdH/DDMx7y58TCyRb8KaCZfq7zi4aYPNdztWZpxgCAe+blFlcTzXFiDWiOy7Tm4gIAX2Ty5CJabT19Pa6so+kQV6a6iP2zytQXU7upeikUApGv87b2W8y5pvo9q+2VhARf3/j2G2/ceJY99X6rfo6Yxksb3Z5++P4f0HYKOMw8QFwl/mLFTCKH1DQ1sjbhOd1CbAM2aD+v9rzrPxxAtSUdzbxR855RCsXOb+qpXywPYHijCi2lvf76y9BheS6+FgBEUZl69s8/MH7xnMkeCQ1qC3qU78D7P1crJs9hRghAXUuO+sresAmfDd9aPi0c9Dt6dvUH/j5kh6panJcsX6CRmyWZlMgiS2D1QxSHxX4CbH6tYRsXYhpZdfHMb0BUmIYd1rXW73q8wACAu2NVK6HFCNwoYROjGxDBDW5ws3veE1ifoUQccf2vpaijPbKDv8+HNNgLgUC+q5X5061+vPjG2V21tqZbqYcaIERS4xN87feHHzU/LHd/TffvY1FUq9n8WfxSSBS0DO/fie5zPEd7FACYWJ++sjec+dbe59MncDlQv1+etVbsDXeSaOEirACwvdnfm9CflIhXtSa1jf+ZG7uGMu4WxlbKsXT5OQDIp8n10KwJLvBhavBkj5+4RInYrRFPxNMIYLLSltyLujoT019Qm2YcXrLL2/NUS+EzygQYh5LeT3b1fp5C23V9kTIWcauJzi9b80//afOJu9vok4+sc4EfHNz7vV90QGKD+mLodGSNV2GySuWXJ6q2rc8rzreGSxFnScMhXzYoSGFHEdVV2YcqcWWLAQAaj4fHVOL7QGhb7SqfZrEvg4E6M2DkbHw7zgkA/511hpU/4fHH8/wxBJl7mHjSjZ7aq/PvrSajLJv7Sd0HT847JPCumFIzEe9YhqylRUtua9f/TH57EzgFpwxFg4FWAP1MTH5Zw2V5JcG+Q4rxAqmLogUrm2frr/HnJE/cXDdW8hXi1XyQs/E0p7knePY2dmNXiZSq/v3f5Gg7lwcWwogeBKs3f9Lky7suWeHedIZuCDZqDtBF0XE20LD5RLCGkio7WlNQtKF1O9GKvUBxI73zRoKVvZLvrA94W1W1Uf4k7LWrCwB0CvlBuggG2OX8Nt9g/vx7o2bWer1u7j57sOO7jmQmr/MxMVG+665xBxzBdNTg27rxO29QWLqVU+rH5jDOM02Uc7RZEef6is1upmM+1sERquChn1BuqvIwCsx4X+yjaHX9FGX3jOlWtv8oBb7di9YQbB7nG+yGG7lLKjaCXt879hItTZZv5TROurj7ecpuxONjJz7V5MldOW/vcWsAO1Q2JGf6buG9LTKzg2Y7QYmkdhY7uWZSAIS2Ff/W1UsA3NqE1vhmeJBMbqiPPhijykyj8TiKUTmnu+tjtBop6EpHom623xcH0A3Go+GkHDwAwlk/Rv37H6/xjXZ2lMZZx4pkADAvScd8yqD/AJaUke6UEnhgdzKaLDXccHRq01K1+n5UsCVyI+gKZ8ptgT0FFOFtdcTbAlou4nBFN+21u4nT53q5AhIgMpE3dm1QZfv85/8tT548ucCbOezZ44c9tDP2MNu9YbN7jxj4El+Qm3EPffYpC1B+pMSXAlCzrA8rLEB1X/HwZm7QgFD9C3jgIyHQcCp7YAmw97Tc+DHvtHTnLVUKWt/IKlPl9u8Bu3HIX5YXkcaNqxZOc0AsQLGFrQuAP0zg6IDxZ8rhmbboK4tzcfGPA9tfGIMKWRlNSWPcJ5w8ucALrawfD7TIRrQC08j+AfSU0/DUyosqDmWt89zFubnFYYsAzB9dRRfsdmTbkiMBdcGStdQtBZ50S9dv4I8BmQpAOxkoDoJhybdA5OIpIsAj2AuAQMSFLM/wdCrdGFijrTr9/Ytig9M45KMm+BM2SsCLXEpNzpSTUuVBsH5E37Ok+SO+bB7a0zXYPJPa8XCLt5YoYfNsbcG4+BEIPEBbS1EHVocuLjbQ96MKRxidYCITrde303LfiopZ4OW53ETzFc9WVVXDhq1L+eI4SyYeV0SWCVNePQJg4CwvkD+HL8bNCAAPAjxKS4H1luARr67Z9Jo7zVKj4vuKF6UJ+R3yaRGJ8GfZN0clTcOBblSgF44OazirzJPoZOiirI6zrob5J+LFGmrDADt+r0rq2jT4BC3/bNH3o4oy27OHZXtar9e1Muq8fReos4O+sk/Ep5fDDu5uZuhQBql6erXLTSwOcfGe/bLBjDRlWIa09IX+dAwbdvnXcEbjityGOo/FFV8MFuABMN0LfPk+yALdQ9wR6QSu9EWpYkw4a45yaagdnRD3+2cRH4d8I+X/2m6MuxvOsxZXAZt+hZ0KBACTNRn+SXEoDo279aGv7NLhwCZOULu6sXEr5Epvu9TuCupspU9OV7IOnmBnfyMWdnIEz5z8r7L60RofVVZ9m1+29XNe6xvQWJrjwv+l48FS5eETwRooF2C/X1z9Z783KEbGRqrI2ioSq2rY5c/hyPX5mFOZDmPADLwoQhj3t5gsPkrAfB+3v/Hll+xEABYSGId8RFNJdE9LxLNaAM+jDj/iu4/0dUvPWpb4eDuNbDje3t2u+foYPjTPV7iRfaLqb0tt3hvCXNOqDQ607pdzdKlY9pkcKZpvZonN1ZKix/JJKuJ77927N94AWATMeP+XrjNy9biR9pVUBgjAe00NJioNhNz1eMAjzDTzvWa1y790Ean4i5s78CXxrzI3cCX+3UQNxkRuT4BvyGUBngjniL9cvkOUQAKq0Vdf8TjbFF1C45BvquYqkEADI+bVAWiJ0djttKu77A1UYTN2Th5IBcveLoexkXo83FhVwR7GEkAAiyypS2wOltjKzuggGe8aUjeWzj/1HB/pYS+43zM2yc8RGZvTUYOprAF3NRQukAxr6im1+Oll4fpWEWZVVWvyLr3taPlv/p02lLQdbh6pFyneYgGf8FMBaDL7tTKG9/9UIoJe70adg6+//k6ICmmlCVnNpsyy4DwOed5VYag0juoTNhA2wtniJPT7NyIXzO5SA2ZSBXg5+SSkgNKcX0pMbjye/VA5MKCVku8dAolKuaUkpkO6YhlzWIb59WgGCdBe4zffrDjHUBkLe3scEXDXKiHZ2jG1yWQuLJp4hnmnapjTyy3Nc1yOeJSrE4Ix7/JtXB/gURoEitYvKgaf7G6XZY/L3YzXTOD02rA821feeI7njGzbaRzyCRgQlODZYdtrspTC4+KdJWVMTSUPlyS/aHVKqpPQQbEf0DtVlahrLxkltuKHi6L+m47Mns4OhSb3bFKY31ySh2AjIAi8+D3i5qmqRVDMVOAvGJj8Zg2yRehVDz3EnlP9yz/T7bijVeOrP2Lyu9Q7XnZbJOJrnh+4m9BcncVnNu4sk/v1Uz1KYqwlbI8SqLNsYNcyN69HeXn5Q+ZI9KR1uTuMQx7g/Oevz4ZOsTdvkNRk1Z0dp1kA1upLABgQQCspoxEx0o+vnaosuCe5lEgdyHCNN1ja6T6iGTQCR789mWvQjLlI28VlgWWoBANAgZ8NachS2FTdyp78f/kfqFdGty6e6Yq3a9BabxpIK8PDxPWJVto57bTHT7I7W4Wv77eWrHbgulriKgbmPwjgLXVp3YMqn6D/LVTK6Ztv5LYWXHMnrCQ4DvkcVGNQASbYIpr12WoJj7WfH/RZ7YY8aSHgvnVLub3X1vetXQEoFOM1jKFQn+1TlHiE5QPXu1iJIQbYhLDUlt9IZ+xnZBm86zUDey/sAR0KGA/hld7geOycB/SuMEQbAH3DsD7R81fxUAce8+lRggyaFufLy58/SPuj9Os+vws8SoZxu+WDMKYudWa7W3RVpgEcVIw2eFDcdHPdAwiIgv7/910VeA7mPA753hUXrYqaZRPdzBtgz592Z13j2Wwzigd9VrAiBEt8DAHQ27z5HmyM5IC7Lc+8US2oYMRu+0nJlS5BonJvfw1ysZcoSM+eZU7vLkqIRTRyFrmi3hMcHQDlITkkBjpU2ZP/L/+oj8aghBa10VLyVKrbfoNvofVxoR1+BOyuzdveCvPRx1TUVy992CGphylXuxnM59keVGwBgBf0P057kYwNGaZM41Vs/UTGIS9/fmTVMTkWMuk5046uii6t48nvYodw1fQ8lykA4Ea9E4qPQ1qlJY0PENlTWqfXM4ASroojZS1rjnr27OlAe3R9CE0L8zfAHs/2+3B8BNjzU64A3n2bB+PIEKvDVV6RbosUgMrrXkcn9dRnE4MJkignS56mY4MWBLABBIoCrS+wqP8t1Hz3upKP/Gz2rQf1diA5D35I6zjkb6HQP5J1fa43wdarW0U1DDkWWmRD1EM+EXUBeHEDAmt4bOmYS3XybdeAJoG9nN++K6xbB6AiUQyR9qSlnpDnLe2ZPZ2NO+a4xgHNOHkDhEB0bSBiyBrCrQEMRH+taGkFhuJ3S/TLUuGA/gVQzBafyr1shwXK8AYCGLZNW103QBIKERFdxYTBpVCHuuhXUHRpcnc1QAj81ydptXZDZWqf/m89KoE0p6EqMVkEywgNnRAAzXuqT1n290enu/XehAkpO1hFNQxp2ydVlM++aVCHB1KrEUswcIiPNRhgbrUIrnVkdLcVjmaNri+CqJMDQUm8dsXsM/IGzTKaQc/GYOtfXnP5S9GM6Pld5/mq0v1g6PQsnQNTLCpwQg/YjB/cpZuhuiQQ3AwwDJOgi20dfPNIRDwxz0/j3neVhMT5gCsF8O5qLIAACMPhunpdxayu7ytT5dEgZzpETwz1rBGyUnRaPx9h4ho6Hcm6ZK06E2y9x3qcmXXsnfIGAFyN5ZEGzwmw4zp69JghJlyqCpgbaFz7lEensTy4KUpCZ9vuGpnQbIadl9wd2uXQZ3FATxIwgOlblZd3tKyifphDhBNHRdAAl6oOeYwENwYP8qqK+w7uapoiAhHinpb7Td3ng4Hn0Z8EHiA1BAh9v3ZKsqZmqC5d87O+PdOHQvt5cymRpRW245B/rjbNPXtwqCwR2V2PfpkNfkcZ9qZffvYZYhOpdGYQhU1wlvcvpBHtWbLWx1/DjTrOVheFZtCzHti+WxFRriQN48PIch8MMgkeUVNDFYTT5438NZdnW7GaM/+gotrp8iWugB8cEX2HA23uOrqSFp8DRG5XjFfvTQKq1WikwNf9+8kde9iRT9Ps91ipe9QEnMYhH2eqc9QfAdZU/2pSD2hQtFq2Lxq0//wfYIeizgv4oe1QWFtRqkJoy5/MG+dw99yyRIuXfznazUrNAuKeDe3Q9HcCL3eGbUDVArXTajdN8yFZP1u+ll3O4e0cgmrHfSj+BajPEmF00HhGBsKD43iNxRP9VHRZuEEXxuBERRU+4abmoYTVOKC1dd26bTsOeU8BShVLSr/pHAcvAHCYP4KhuravoKauJ26Iy8jKzWVtfOPAOW3u04f91eANTnWAiuy5Z6pkH1LVbpaNzTJWRsowOKQzPCP8trBjfo+b3KQKIPTJdnCcAioxuZfL5N9cjROiBWzB8PZcV1sq4hzBUC62hPO4UbTuSyII4D3EfRJS+ZRQoqmYwZdh2DFyNvrubw9zGof8YjJtyCLmp50WA8+CCzwlHJFP7iMeMfTrCwP5tX822LhQbPSFh9imKzurviFCo6i+4oQL77lniXgN/vTtZrVmC3r23NLiv4Yxw02Fh0WuDWpndPvO07R/ABNFmtZN1zv4z4yzF7HJF7mMUjnEJMIWqN/Xo8f/Q+KTj/Bk8hTDtFRG7zN+2VMOExEAXJP3sGe9CyqqQnzKQ2QYPqENFTvqwQN4mO045IP4OOSj9vNa04wJExpCQhd/A2DEUz0GyFfNrw9gtrqxfTx0vNZjzmklnky8FhVS2nL4e+655wS4a8LcqgvtttPcn/5nF3/Z8u52BfQ5gacpgImvjLegweZqy2tmS/dglY+LbwHw+YwtGlWDJU9Uq+r1TjknJvwdqoWIcSLUNyOdXn6S7+j2xams/IdNatRAH8CjaM65iEhUFYWZEBI6di1siBZr7YAGg3KAPWzis2Vpr8QJpnHI21hgeQ39lSAEA4CNEQIQYu9cp+dWGol/zJ3vfKqDMxUVQUFGkSYl8NrNclFw/2Uvt6FzQlcLk/8gRXgedjGillf19/eRef4yXgCeRtBCRotep8Vb6ahos0c7QfaQ3r1797bnBtDBZ5W4ke9yPu0dPgSFUNAuUi6mm9WB2moKJdHAoVl/FGFow+6GaFSo1/MdKx+txLHbALNFYQQTHS0hldpdkIDeDnDMnY9pRHqFqcR0IjYpAT+kwakQYSx77l6PaGIxE/UR8Ix23PD6IUxXP/ICL9jg7/ODi49W2n2oVZRHFVqPwVk/7CotaZsKFtdg3XxS3KJWcbgPwX6mr987IQ57Wlev2ba8fB91e0khDokOI1Pq90k58FLfCzbjkAc5BNzJ0fra4eAwkCrb8HDMMUKWOw2a2nNDcLvMaV+iwglDYfdyVUUTXxbLpjBxXg236gLPaM/aVP8DphJm8IAthO42ZG2ZcjfyCsfqP+SM2jgULEb4iqMxMmY3t3stuLGJO5kJa07pnP8Yz+/uqB9/KNdgqPnMtmu7mpEQ9w0IK+yIWIoeLIUXKyi7ErhJulF2snttYIfFOc6UYva49ikPzmIFgn0Lconzqiob4NrLDrsxUxmCMad9MSOEdmTe9wCJeHa38g7PLbUhoSqGvpL0VZbAgDZjAkccChZ9AN+PtzJkU6xwmU8OqJz7m2OR/+Pli1P88nb5mI8vTU+G9j4PgzCsosLGaIIHb7B0oQsjClNMTNLdMoYSBxP3RcsVclcfAC7hCMwyBJvz8c7QMM6cYowMDFDktXovjaNc18xDLw5L9fycfIz3x/Sqel2j2E9Uw9pOx5Ar9RXK5+ASBIETfO1Pc5o79bN7li1WM5RAKsH3A42GCnwbp9foZ5i0B1Z69z+jquvkQm5Lou2UxIp1HPI9gIKx5OHadX4S8KiltgHaz3kwNJCocUvX3cpTqtvL1QLbg/KmjZziNRFHQjjAwwVImeMYHGawk5QsQ7bpdQg6OX6MJEpgxoSQdnhVFW+w9LzrKc/Fk69hLNhbIlyGhNV6nHcD9xTb49h7iiClJfbDHv0rxAsWVR5gUah8StWimlWVC5GvLAlGPW+piQ1An6AwvweBFUXBe1/neSXaTrOwId+6Md08DvnPBXBat/gRSq2X6h8S8vqnDbR1rZtsfwRonWV+7K//5M6Hge0JEwvVsmNuanMpDi4FpGwYbbvS7F0r4tqnPDh/GyTDICDRlR0ltTGPWqbrvo3yStzs0Q5NH+MFDnGTRBwS7K3HBRD5lYqnvz+3OWAvS8GihlMbF6+U9rm005gU+VnNve/J5Org/k/gvH4abtis++CsG4ZzkpiwH4f8TrIdAD7haeX+NbGiQV/ZkxfZVMVynHf4ZjwctRyXJhcA3u8ITDPOh9UiCgvnOAc0ilIrTM6lKwMWU2MfSHDla0DTuWqqzZUj7JwrdhE0lxTOOkAIYciRENF2li1KNVgOv/77kbdNmSOy0Z8A8YJFS6E3c2aFv6f/tx9lP90UcWXi/u9Fz9vY5l2EYQgkPg75vMdP/zcWOkV24WSu+UuhXoRztm83DlTbVpv5WsWWfDD/BFCn7QukRITr8D9+RwakSoVEm/O6Vd7dlj+dNsxLbEieDPuTkKoqoJ3KGiIV134RWNtYj0XcDDyIROz4xquYQjea1hTgDVYanMsgxUkO7KcIALuRLSrw3TlJibaVtuuB33//0mLu/14+P+HPP/tRB/62lomL8zFUcMSrJjwO+TN5W3/OP+fafS5wTrqfDCGGIQ7AJSFdC76hx/+zpWXyGJ1COyZhxVuEkDKWFpeqtdC/IJELEZEb4QKu5RLU2xK9/y8eCkuybGLOvWDut8oASqBSTSeazSWyU6hGVY1y4A9+0VLo5JHfXs+HIR8x0sYWichUQizGkyefBKrAYyZrXDDTgKhJ25s//xp1dQXHFAfq/UXrlQvwnZCHHa2rBecMlRniuul+18ED2LyTOOdwWXSmL7noN2fUHDdBqo40Ldb7w2xxHylZC97UvNsSPzzh7hDDXrnbloUBtEaAErkPlueG0nRPl/f6+/6ngzxcHKRqddw4sXHcZGWtAk2zKfuGsyg6SgoA5DbB3A51EzwC1Ovls2oO1JqKDoITR9mR327CO9zrOnYEF/wIOMtNAfC6IJV+PE6bs/gz2dNaikAEAcyYwg63qhD5J66zxMGfP/EztIBn5J5XnAJwtw2A1lKwudsL0GQ8BeiEvQNCmo/txVR4EJ0VnUIomeJPH3uzwnsEkeJwCus7oaMzbRm4UVZ7h0Nsyr75iHMxI/fZ3xcAeJHzUvV/PV9xoKI1wbn0FXve4ZtBuTU75/IJxbPT0qc3Xy8Q2IVGuJZVx5/6g+QnaP20wQYb2HAEvMMXNvWhsOtk+AZwNVAKslp24BmByQAaDDSvqJnFPYLItGddIuQeT47AfTBcdGVjJra0RVjgSe8SMnqUMuWFWlv3fcbEScBlt8cKfc9i1+ZioW4cVtdkfvx/JQ5917RX74dbEkyXoxceZMUD8tz3C7hbatqioqBumsDMe0wGuPj9oNX+WJ2W3KiuzpZ3+GaQufWCEZzm/v3T3n8Ar8ECvX7JZyu2eLWqKG63CzSrnpcjzHvWB4/T7N8vfpiILljnQCOa4C0pAw3qypU/JSXW9+QyT4U0gcIgAbjjO2xPaOZk6KLMjlXwAvAIPHncy0QEl23OBXzKk6GrMjpUM3iUgALb2UsdXhPQetFmwXaLesqvPSwy8Usqrk0RwN2HKYvX3ZvIbe36g9pi2mv/g0GYHxNqq1Ts4EQoNBDlq9cI4LgId+/bmX5TwxGWPRtxABL1AQC0Jvveev4HK3GK3qRatyktMW89B7aCvpycaAdYCaTr90s8e9jxCD/QobbVxnZ1gdzeDlv0Ew8CrGcRsC6pV4yz6w9qQ0Fgi9C017RcBABaSWlVeI7vSQenKAK4ARRCvC3DKbs+hILQMe9ZrRXhShyAiYWr1eqrwWpHrNnljjo67w7d6WoRKVMeKmSliHylSxa5uDJ1//c7uoq5F8CnB2oJe1urwkSAayihU+icFy5xiUvgOh6P2ijioM6C5XcRn6I6/eJf/IsvSf/HzLfHrR5tdgxSAHADVQAPiMEKzL748rDz27/925/BI97ylkiJ1uS2DCoB4J7iCoIAAkv9+YE5jtPyrN3y+LylfvptZgf3PZX/W368uTEl1Gu7yHGIeFyFgdCd5NHbjWDz7oBjXaDjj+/3+luYJnmbvMIrvIJ+Q8e8jIYulsa17mXhmIbNxSvoa9RDR7xMwS5mmtxnBZhBA8LvhVdsNSoZCnBh8nwAWAIMyd6fp9MwQNhoVGqZ97Q8B7ZeByx1sXoDrCeAEEoBadq2uyd37AtEQdh3aEkpx5VpANlniB2q7jUH4ELUHcC2tlUo2zAk81s2lLkYk/Pe9LBimpysLt3tBXw+nldvXinwCDxchoyzsDjDxSYTNlMCw/M/yJcCcNSeulo4aP9TNV1JSuyx7rAMxPna9BiAZtAAiJFrreQsC+OgjyeJP+bOKhxpJc3W62yACcdKA7PVqCTDMLygFkt8fvzqs1N+s5P1VcyWEGUKryYK8PmC3dEA3JK7beD76HgQP9sT8WINNqoA3FyJG7z5o0EzMjYyzZjEH2EpUhq4rdSDerJc4eR88eFQG/D+kYYjvAAY8h7vYWmo4+M2DnztocAX5/rmmyF2CTddKr1Pk/wadI7s2wP3KuUTWMadcu3TnWyLDzlejF95Zx7WdiV3F8w8xiHOG7ptMkwmRw2vZrqKOdWKvp/V6lpJHRAAMJ9UdzR6u2JBd5Bc4nd5lvM5zNXUotq88citx4KNb9VFLNyOcvsL0ShcrDA6W2xy9u3B/pbqhibvzueFxc4GOj3Xjz8QWghYVwi84NTG8Bvi+N9roegwBVQBeLQBKOD0Z/viSyKJYso20NrB8jy5Z2daYBrQeFgz6iFjavX6JaEn07ruw7Pn2VGGUSKkCShNMCMLSJXQ9BeA3Wx3IX6XZ3HJZPJxYSHODvdrSw5Xqvi6VTGVuM0qzpJ//gVjFC48otYArwNwDRBzuf0Awu3Xu8DMfp0UvfDq15Yt6d3J41oAsB/b5AKxlLV6qwUSG1CSy51SNABUzE5Huj7ojuXlPj5JTae6cfPh2tg8atutSkSNkEhxiGfiYpux3sUVqRLOdz93JROX8RAhxU4qeXUF3qvXzBraqV7+L7VR+QJVvL1L1d2pipFtuJk08T14lUWUwmW0KRLvl0PCwYe8F4QhVvY7KR1IY8mr/TzR8LpiXh4ATmgG0GVkrtKpGiq8a6LbQ3UCk9EjmUR7h+Xl6vX+KAPDcmoGJm+zlUq5ki1OJ1Dog2uirg5Gl8ACnF2JDQKP3sXuKr0vIX+uIBipUraoVmpF81r/n7VYddn8fp1wiFRcb3FwUsEtZliTRVe9NCge6o/fkqClFWyATYg2OpX9JqaVqGpL9hAwr3ur07+7JsbAJRKzcYEy1CeAcCRJnXfKy8tH7hVyFfm+5jNfX3ye7BHvH64EDA2jQLOZZ7MFpXNfbh0TqKIiAW58MWbPtkex3OlOJdhFpU4xWgXA87phDjQoxlJWFZ0BeF14fm1nW5gvYYHiMLJ8IryrOvGGoeNwebtAOxSurnKqq+cXwrxq8SEQizmuHQug1MnuVawDD8z7mj32AApQMiwvdGf0z2a3B8LV2FohPBycDLfC92sHJMw8gmiG8xFUQVUCzJ+vck7XKzhINMeJuyWwnR1cqckpDGZ5VzWwMUQWAsMeHGBQaHw5bCwBkUYjgv2AdzyM6GGfApyfuGqDLIS8urtkP3bZuDVAE59GIQ+gXZxZnWyMCA+cv/+4cTEay+K0FFb+Ez0Dhn+e/I9FuuPi9Q386XgQcNcpYSjLjuAWb58wewX9FyjwQw+cZw5wRu283i97Ttxk3LjE7ccO4DQLUA65JIbokAa4/Q4eorb4pAXlGk9MRQWvD1oMv6npHiGOugvEbFr2juov7sAL7JCTkXdEgMacnp2Xdz4iPDNSzcVU+e47642S6n6ef3WPfLB8V8/mfVVRAPuSKJPCbFQ8LolEdJCj+03cBBy5SaKUMoTuoNcFYamVaWG8CHjeweZPFL7ccFJIuN9MJ7R0Vfn9cKXJp9o7EdkqrxW0GPGX8vZehUZXplSRwJ3UR//oHzxuXH21tYIsV+b4U0T02GuIC0QAIfiuNxC/J4Qkimy7h99fcaTztuuSmKtwQJPOdZy5znUSbgPJ4cLo2TAQChfazeHmJgpFfzBICk3ioBGLiE+6H6+/BZz7/5rIOoBe01whzdZZ9syPoVNIlDs0vaB1WlgL00CRmF7ndV7nG6I5k5MhDNkex2pSWV/DYTJxmzcpm1WmtHfoJb3uMhwJ0dJ56x8dOLGrXL+u+1kVwDy//xeMsaBCRCYu8Q38HyIhqlRaNA5xVYrE9LDFOImQGr3f0JAQEmC/TQIeuKJ31jDMIIrPqITYgNOx/a6JXQwj67kd72QVsMGHMFKjupd++jF75TDJ6ISomTTSz2Z11n4WiUbiSh1py2Sd+wqKTvzgdfqFxKhI2FQp9lcWd9P0rhN62o0svJUqUSWxY5JqcfI8Coa3yAaRKwLtetsm6oMBe0RCXvqU7rHYNtB5tTOwa+CSmPJwj0dKPMCz72MWpoeEQ1XKP3u2MEXvDrKWSemNCYA7AYQ7TZftzI567+P/Kn8Fbpiku0iMhMs9PXsedM97kqAWgQRtKy1XtYizbaxcrPdONURmxEo30dtMChExKTa+5DeSRdRY+Y3CSzeKjYb67dcEzOY7dgyk40hBE9Nb5jzNX6r1qLAO1sFV7nMn4PdrwKvjj3e90AOHcOuadrMLgL+PDOPnfssZYU1iBYtB5PfuH9xS/R5Js+UIEABZAOCoBBp3i6DUJJsNEyTKfjY8U8AbuBgiPuH0eZSXd7Dtzshf1bYu0CV+tt0wQY1ii7evyfNGV98rxlAntpwUCawrtSCuWtXEOEWO+rpWWiH3TvwdnYGfv1pDTe4qBjjr5Ia8qkBZV69/V6MK4cz9sGU+0us6MvCVKY3dwsOzZXcPOuYzsW5nU9uCRVVy/3yLEQX+q+z6stSEmGjJUps6HvxrLbVh/OEmd+78VgN756BELeX05dUo6718sQF+ubKkveO0pxmTjw+rcPrAqmvntPSmJxf1FsvvKEbnnPr+u8i03RLWOk1Ul8D7kT7nqUm6/pZwcFjqTDN91pTXkWuonl7+/nA855N2Psiotw4qsUwtKhc5KjrFsJMqMlixP2gKZvR/AN+MwpzFQItI09lY9Xr/5tBLuphZP/4kDP9afRvbHNDF7tyfdgiJu8TnHfja9GEeA/EBz/c7WXZbI9MVYvLJYdXV9hxyeSpkbS33/XcBseBIvz9KhmEIibOoOXh5eKpF44n3NFCOAg/nd7/0MuNO5Br09OKPWLM6iwSCrR6Bd602xRuS5ZIEpxar4VZYtI2xyedcXrEN1oLFJ3AOTsf1KgD82lpI2gd3fZTUpRlx82w26nAVs+f+tAwhcRcoxnkjOPlrA9RXqqUcteRpS7e83MnlWqgIMJQULvSuoWGgYvJuDm4Oic06y84+vJCOyIgbT/eF8RPMpcT9L/tm87RXr6+1UrOLZglmOnLphhyIcYzW2t8ftk5Pcy//uvLqe5/vfhqqdREnVCbHSpbkp0j0TnPl+lPc3X/zIxO55NVxrbY8ALH2B2nq+8udXy49ay8Py8LSimYKKcwFi58kXrCIRaHTqX4KdQI61vVDghfYbMRgUz1+AmcEBza3cwFBQgY2DAG1GqqgyUjcE5cHHwBEkqUkjOHloCpySBzWgLjiWvAL/DGGfBW5VLOTvACbC2MK/Q3HfXxYHieRWyTTp+Oa7y5znmla8XA7DdjN/mvqLuqzzElH7Iu/PS3+4+0dKeOf2YqN9SgkcNbrSbLulWobChC5OcQ5yPfaNNCXHRIfakgGqIub9xNWn/6oH/jbmiYJRHNZkGF6UG4eR5YrQwuo9QkhURd0h7vSIWhnRw+/RKOCxiNzBpVHBRUViWQVHNKOZSiTcS36gRKlVEssXbC5hc9igJCXf9oraA8eYLBzSv04VhYDKIAi2M+2quX0pUl3ZvZhLftLTaivfg3u1Im1dkICX+m/2YZdqryqQ25VfViuigsG+0v4XHibY4Gfikc+6/ku5zvLOWhjI/EiKJjnhckXBwCeJfJHhSEk4KIEP8MLcEY76MsvQtCwoIlnm0NXSgJqXSgU2hWe8PWLNVcuUeaeqyTZuO94IjHitZsUZDxIGRcSTgN2TlFkHGyCHWqbura1mOucTr3e6Cf90Yer/GiJG/eiLYsdEmoTDcQKv5ECisfnSlzgFXOm+V1M1RXz/u3/L7sZLz19ZXH8swK4Zz8zqhbEulgT30wR7c9T4D3pjeLQ90funpRoCuaPM4dHaVIefVISc5tHbiJ24wBhubJti0wooj188tAnQL5gCCXMo21VK9Ei8MW337TISpn7JU4DwteHbvo0fwUjwk0pK1XFkGUIm9VnRF2gHdix+KLTZP/8K6ZscCQDnnj/uS4VLwTrEtuUalgZ/ff465lyKF73sPbzTEe/0jijEWxnV3raUbB9yHGSfGcjxIFYsHA1F5DvkeWSSem6dEPTiQIfkpOmP/stFC406CeRCN1LaoNKud+FXaQXE+BOOkWOCokA8/3r5iVg2tOiQIxfBxLAuq6KNz79Ze4JXivKcO1T75++NIbQpkw3AysdVLrdKKtFePwUQ4/ljf5bS6QdrW4JA9ahsh7C5nFBGNo8AyVOAIYdwl2bSiRTud0W2JWe2mEaN4B43uvMcJcfGvoqDv2sGlXVijU1NZQz0K+tzW4vkVnJ7siGev9tXKz43EncEK33pDs0iwOYQhshJHGuUcGnPPMabRJ4gMcOHRhVCZWbFh6vdyQLl+++t5n2KtNOsiguGb52sCavXpb6i2ix0lSl/Qq6Ydzd9qs4aNhdyUF5HOBQevoYnpRnPJjd9yLou67Nmcm3I4uQH7o3yHOzWf8mk3aSpoeElN9CWSy3Neaa0iW0UFyjqrG6RIynTDGzgRWZtF7Lh8xoXSlAfVk2buV1995TqlvL14PWnrLhgOZVW6c3cY1cmu8IwKW0ZHOW+vtRwhxzTAUdcsFqFZQA/064+zCkZIlhqYW48PUfbuK/1F4yRqOqD9/jrjIMBkHT+axxtpB2Wwgdcf4XOEpcmDkMuimMDJQBXwr/YlN6ygZ4vZsznrchnOMsDl0+wCXFBqWgMNBs5u9zC62va7shTZLg+2O111K8SCatvqmEeJn26TGTJ082U2dlTVY7tDPq9dg1v9WwVLcyEBu8vEtcA8ASkIoSvgOgBCtzSK4BU07X4q2AAHg+KqRSp9w/z6kAW/cDODPrHOSjwaCWngsgbzzOvaqLHBVtyDt+H/HjniYayuKwokwzlGqrUEzK9rHaj4EXVGnp70JkWyoXPDorq3WJf54ySQEAAzSZ9FSW+MqUVKx6pcd0v+eMnmGxLYKYyrIwl2svIx0r76sHBBbrQAYtZ9TrPST/0rWEqlud3AI32AhMlBoiBiS+uRcBO8QKEc7lsvBaIBar7tB5Dg+wSaZyrlMdv1EOyweehTUVs/r2WzQYPC6C4YpDWLJzrFb1Tq7jNxM3AaA+0TtuXJjqRZm/1pxU6jKOSSRvuqoljy7KKsihj+Rmtptsxpv076+MyAeQaL/aWWE4eqZ9CXFQZ6EOG4NfvKlaQYCz8+IIAaJLlV4Cx5nuV6rbjNlVYygKKsmaFpuDmVtf/hBoPtGXSnpeKl2A+vrgRyvfL/30s6Xpvkh1hBD0V7J3QI5KFu/31dwRGv9JbNRQ1Nd7QkN78ZmBw256zD/zN1KUsVpKtzGZlOY4phBrVC+HdFNGKwPjAwZ6AWBX1XCKb7LQqwpDnMu+hXsD+ypF/TrQNe+HAtuOB0pdcCM7ArCGwgs8yynWfWU9ZEAMT7d1XT62B9S1QMpauTOofyuC3Wyf9V7kQs1kb5+G0WJRf6bcPv/Jk23opGTnljYt262v1nTuD+uGkW6Vxmf2+AIZ3soh+qvihlCkZG3R9eBCEXZWAQSewoXEU7S42eY86vkvBJjIc7HtD6i5uPaR2uTJrVW3uRjjrL9O3W6nIJaTJ09uzUyeeksejFWtwSRw3e7Na8G7nv5q3aHd+o3vDn/mU3eOVAQDnIYJNHgGNJvNGl5anus/+Z88L1btvPPOxVQxrAjvLMucaUzMJ5NxLj07DxiKtcTW/dPL2D7rlWoETaE+sB58jAHrsWLS6LhMBSDrm7rDicBNIEdwzV7t8YxTbevgQuRcCrs2bB2a4mpTXSCbHXsanjLa/Hs+HYmcMa++wcnxm/Q1S7T2C1U86BnNiDHQgdTFXRoHxRX0ceSyroIH22Z/KPDk+xEtFr3Fb9jA/7NrYplqM8GXq346B3Jb8y9E1FXxl16jSvv3iEVkMoCDr2Y1hDXJ6G7rTQErWy4OU3deCRYXcJBDf0AJ2FpQt/4F/ikkpLUV7QTqsNYFcj3bVgjXu7iCCHd7Jxpb8ZRiJUBDHn4sjDjs2jNXKd01NkhFGkpgDsxk86qqiuUm7aaarzpMi9dy3cjTtIIbuRAhb1wLDQuD5bYv/5Owdr9i2t+iohOLYwCtBVG3TP9VxgJiIalMBkceniRYi6zeO3wx7JjaAvpM3fnt7nBgYu0qo/yFBT2lyT2PJ/ff+XdYaM/e50VdWYYO59a2OGSERQYYDyhvdqe4do52p+gInQBY6wJhq5P2gEhIPjihLVGPyZMnT06A5aktv7h4i/c6/ZU9Q0TkkSf3BXhfPcHSitS1eA69eXUq3sTcI0NtqmGvO+SI4rFmaTq1nBKR+oPoEdoKdJMt/jVL0WOdPqb9/f//BYFW0SeAm0jPuh6oXpZhwDrkC2+iicJ1bWgGZQ1gu5XhDhfumQCr0IDjVAEgksbt1OYpvb3l5Vd1Wk/mvnPEMBOtn5W+Z1hFGlxPd/pvA0BEFYD3Ds/TUMLFdvUmYfD8NQFY6wJpvRjYsh5XADihLfTF8gPkkhhPcnS2/MnFkTzNjZscqZpYTw5xHJm4+G5/ME7FAahzvG67kU9Nt3sEXtyZJm5/BT5og7ehnizzgrbOMe/v31jPuAUejmuqIvAONSw7G66rit2uvdIYhwigLJNpCEvBlmOnJsAR3E4PlQfgBbdTe/Mmv2zFrfzj5j1jnaPjAfivf88ccT3dAYDACwA8VOEP/LGWGPb17nzdkwsGGeUiP+txV7vQcaZaQaoCyMN6W50Ir6DP4eutq0sIOBOsDv9XHZ9f2XmgUdHdV9/YXJ2tnyhILnRycQgFJ2z2mgoBtXNY1Pc5dYo+A4CCwDHvb1XSz1n3mm8oJcq4r2KU4OgHG44kLFCFLluv9QIlgoR72rEwXTnithOnLUyE2+khHhDsGwTr36RT+9bV8t2bSlrPU3WQAWY3P1+t6k6PwObi6hF8iuU5+ysQm7c+bSfHESLLLO4XzyWy1grSE0Zjz0m2jNpMrpiv6LaWwFCWehlAKaPpTR6pcePEE3HvdU66p5yUco4sq4asklBBMMYSHsuPC7U+IzZdhWa8JvBxkwsI7plXtcaNE1uTJ08W1XHjbj55siYtALi3iqs/bvnqaZ/7S5SjzgNiHyZoiAd2tIPKLjBiyG03OTwBvrCuYZkHtZudsUGER3zw8VGqCgJghBDwAHC9IIDl4ks3iuHKTU0KfdXLxf3iaTnttVWsI2DifW3NvMtksJEshuxLueJQYdAz9IS4UHFrElFz2CblPJSllt3jiwOtarRO0moXdMMU4oX4gZ8dZH5koKV0PzFw9PsBkRuB+VJx2xF1La2W+ZfGqclbFicq9T/+ryYeqIqlTwrrlps0eH3U8XrNYEPUlBRvYE/lXcYvzIfV4CyKw0lQvbE2JhVBb3MFd7BNXQHwWlK/IwnPqe+/g0k1sD7Kdy9vmVeV0diyCMADH3NvPI+gOPdzxpssgvreSUxjl4QLJzaUpYtz39YPULIltH2TQoAo62df3DSi0PXNQ1zywI1cAs+3DHGppToy/9K44p6LBunpswGmPX5Fscq1jHdvFMU/6stnP17jG9TrK/DGYKsRm4wHj8R4CwDY1WZTXyKBqHwA0BivEW/CCs2GHy3pnco9Nh80zUUp7z0wADzW88Axs1SlnGWsl/i+n1XoazDEkZIOZanVjWLrewWtpvSwWCPRnndUbVK5lGplr9zPKgrljQbA+jxMOO/nI8Q88SAwD3GppTpER2faUA/BB01dLRI9+c7X3zTAEFFDeV+YdTqzUQf9rlp1P3x8dRgxKJbF2KtfmtKECQB2TfwW2QOIaMFFBVKuXhoqZh1LD70EchSfaaOaZIiGwwVKouTsQ0f62ezgTR0p6VCW2lwr3Exa1dD1Tf/wChYRJMN7aKtens0uUBiQUJ3ZzsoyDXGpuXKxlWn8UWqyl35IvWB7L9qBfXXdWdQv/IHBGAwdSlhHAyWcYOdSiVgLRhcJRGgcnqjwvRcvP/nxg12QEjiQU4bJS++bTN7xBbM+hOFRurIXKk36K/DHOGE/lCXXJZXKZO5gN5QlVfCkla+sfu8Wvk+IDP2aPXR5N5v1ZwAWPg5ipffmJqoAAt+MZAUpAC2Jic92bvV6/rXcd/7VxiosPjyAwUcvwhXQHYbn81jzYOSsbB7B6JSDRdCI4BjQfCT/sQyNcObM0tWAkihWxtDYt0bvDhZksz5QU1Oj23f6F6bSKbM6eaNOju2A/VCW0rAwVZbJ2A1l6ZlC3XtHZ53y8v5QHl7zA2tUKahR8f2+gwkihESEkXO7LT5WWUjp47qudf/wBsC6K8BGOc5unozh6Cl0F72MhYRKH3imZ4TIkkH2/joQFXNCHNZ5AcqlRg6tITvY7tjaKKYxR4PB8PLB5WHoD04W6WYnPdPJyHZq3eyqDL9Tt9NJcMBhKEul0GvrTMY0lCUzKm7o5Z/ltQD01HQi3UjWvLnv+9XYqORQFZkumO1PgNhVrUk0ujNsSveRFVs3+u1M/FAQAaZqc1LRH175HyJL4bELAChva6Miw5AmQjwCP7qFxu6oUoAh+3pfgzFyywfXhqGBXPzincaLLqmeTIp9LaPK4v/TKfCcP3Gsw1CWFm6fsRvKkr7MTcqWY2JAbc9kuOEHBhhxVGEiJPjeuwOKupdRpBO/n9y+8BhQs7j4RANlSqNRd4DflQ0O7kcPoAF1RABw00uDEYw0eyJdc2ox2nuM8lvhHIkWQhT42d4KAw0HAPsCsUVkKOgkqYtfvDM2MDx5Y/HJjWXvdqLTKeo7siU4DGVpRBewG8rSy0ZZm61ZnSSUk4rc8u46EV2UDaTKAHcB2XK9JXoviXr2LDl6i7iywcmdHvQ//R9EoAtsulfebEPP6RMnyzH1ebUmfA7Np69+zd+AaiX63yI7+HkAZQBDY7r2dNqe5VwZLNE1uIVU9erHHedIQyDlNJSlXimboSwpXQbYUE6IYRj4fkmwy9GMzIhfz38uABYeDirT0Ny5NGg0ypYUxfSmqnQmCcrm3518GCJ6Qf34g3IiR5zSFzKRtprc9PemyA9g1px73CObzY5R4ENtNps9T/LxrPMfZfb9lDHVWUAHI6nF1d8AcesbcqRPynEoS3NTdkNZctrOLiVTN6VjK0PTABCLO1kS2tNAW+nmQftE/O7wHlfqCoASlcFc9ZXACF09eTpwI5zYV1r5yur1sr6PF9ZI01XI6vI1yxVS87lf3uPNa36i1leLR5eECwbNGMRzHSdO+eOKdedUB8x1+uoOQ1nqjka+ahBt9NsAIUTgSlYcDhYtsa4Cb19V1j8ZTBlVYitBLqkQK9cAMZWbqJxHNlYqQhO81ddUvo9SBeXUDNyp+Ar5sh9cyoxstvY82qqH62rVKdXl4Fcf3RNEGycywMLuM5QlQ+FScl76k8d/aRy+tpEYijcJAexORAM2gevVs6+dHDLczDbvswLcZ2zJLCxRyehlr/wD2OyGlCWEz6S1NW2+3KccgJ5HJ2tqLpn1oxeH8v3Ls/7QN1ezOhQAP9tXg74yRffVkVCR+NoUuJTa80w/FMhZ05kjxXf1GdG6pWjjh7CLNIWIKy/Yb0QHhRfoktYkWv9vgYn7rAgf0hIushyccNbJHn59UDTS02fTCa3fnasdB6Av0ir0+u8DAAyuToYqZgcSGElUwR5jhmezvs+8SYduNRTfz95CvW5CJ1PJhrIEJgwkoT2yBylcW84UVr5InY6B+er3RFwH8+0jTCEAJ1VCrFlefHwEhwJN4dF3WAl2fp8l4cASEZYke9hgLjfeMLQwGtGaLJrmvl/iF1ubK2QYolwaA5QsAao3Lfd9nxCUT9/wHn55/1skQNpluxRpEhvK0kqdk5ad1rvvWg6wCFeJrAUgZcsASrkGs5Vvjrsaxx3Xik4CbhOqLqbCtf8lalTmwQlbbrMsrASLQzNoDHRfifIXAV7/RG7+sE/ixlNclrXjwMTjItsrZAiGaQT9A76Z+XJ4VT3k6FFT+LM0Uv5N73wmqScH6sbNoeXZ2QkNkKsnpEhgKEslkEOYUvUQ++Tv+si0tFjKrPP+fNL8/+bWV8U/wk0bSzsAm8KT8YeDKuTWr9H60rXWl3db10oA6UoD4KwwOfEdQcnoE41EQkiK0WYSlCHiR0LgQbx0oMs0OKDhfNpoMWsYjuuFs761VY+vtX6s+nc1A3X1enn5ts5MwzSUJZyHslQC/BQ1tsP4HniqOBxYY4ssM0DI+7/gD5APxTnSy7RPGotPYPtc9KPf530aUUZh4KNHj0cUKjV+7vgJY8vCAd3XE++Kx7wWvLH2l1vhhd+RGwLRemhAlBAHAMRpKDQq0NCmkRAbDt4vBGr7jvpJTm4vaw0H7r47t8FZjWHLLctGTJvmOJSlgxLHNMSlMAyrLew+8sfPd7PtJxyiZqSDWA+/9IeYcqSXodMY3wP46Lr3DACWF5bCEpvfm+y3nk01/6N1RO3WRRif7vN7nEr3lXndwer13ksIKcQ/AESjgcTmrLHeh8BL1/4wsSiw7IXsmY361yDRhvpv7szC7Wae0AL6jU+dZMBoh6EslYAPJpg3O1kzqtzEXodO2mvtzWc2vCNfI2gyxedwc450XtR5cQA2M7Pd31Js/fXeE+VuK2S9C/kIIxaSydDdyeXxYlyrQIvhv3F2CgCi7lC+zsq0Yn9bU8XZyOAiuc+/uSIslkwze0DF4IQmnDB25naVZeaR6fS5MJWmoSyVhBenv//mNcmB5iEu3ebh2+qkJWbYqEaaDppOAi+k4P/9T8050g6FpwAeBDBxtzR0fxZnFPHc2l3GKoVwDkDUfVJuK6u/Ap3ktFLWC3+68hktojAEeoysfZwRLWKzabhtAvSb2qfswLGZTKZyPFP7pCsrd1sVUiWjWpvL/r3/yD1qamqE7OPu1Pu/cZspz/3cdgzFMkKjvOp/fv7zn/9ZnsvgdPvIqaF/7qnq1vmvJirP9VwFHLfwPbXS8+e/g11uU11dqz7doWB8C0R0nQbffNNAxI0RXoiIveyY0sWyIFjx6Exu98gjbwE4pIRWXvxZI8veXVf3Zk+vKZ/iJ2eTHVz+EEMzYrok8GcwvizDNsW/9i8FBlSmJ+6dKuk5obG7uVT8uXVtf95OyTlCCB6ura0ajUY3eDk7psMtNJ8V0/Jvz7XD+T1R4916YeE0T55aGKmyp/wqXz2j8otvvfsYraTBhoBR+e1sickhObni/b/M7/62+q3bpy7nX77iNxnhghlT7/BPBwDOrwHk+hPfL7/heWqSYRJ8vzarwxONJzsZopMIleMxoPKFP6Qsjuu6z/H2lrEctVZ5CBNixn5v/FK9+5dre/u/kQzx/Iu++HWq/r572TXdMBSGU0zL+XO0MxWlc209wtpTxPta+y/ogZrq/J/wyvrl5yHvjoMb9X5DSszi6XAnWPTRyXNW/PVEORICuERW80sS4k3L+/dWs6pWY2BIMWMeMip5zZ0MhIS8funxBrhLwrENgPGHvxuZlHk+X66xEZqWhdiz5WOujH/OAQ5DXNLx2ZWV3jlOg5bcRV2d3WQ4XhjS8r/+74N5wW6bm60oQXvETN3dLXwuUOjqINSXX/hDluz3QUp0mrHh5aX6XA5oXSk40JxjBxYfDgfJpHPRWmr0Unz3ctd+TwDAxsKS0HfGLfpnfTUqk0aG5Qr8QcPDsGZOeOsEXa/xaQNwwSVjMzKsIzbSLeLDS7Y5Mzy2FB+gdfuQ8CHmIS75ZIEwvOMhonWzXXf9A9U5TMJ4vasF0G2Q0fUCWBY3yKu6VdaGpFGvh8/2RyA0HVz7hmx4//l8d+IKPrs9V2zePm3ByJ4PzZ9nYutMbK5dYtHNawZbhvoEHPg08orwMAAfSCDHYkDPQYdOUjEjJ/U11giJahWFCrxR/3d5IxLN1Ri98KQ+lnI3bD7jj6lbXQ9bFzcX/syDdgUYNSibxQT31/SVJo8ARZtXNI/QCDgaZjOFOP+tHLsiAwyY+zEAPLyrmJcRom4HQvJpVolrLjZEojm/Dieu+L40l7G9O8L7Q5KQDh1k06ZmYsm412a68hk5tkxrJzd63BSF/oJsKYlr9PjtcVJxWStqS6RWrsbypRRH8jlOHAGqrooxvcE0KGlzm5CF6Sx/2sh3Od+oXR9iaS2seIRGIW+E3P+T8mqYoAIWzwOvFEjOA/W6QTH5WVOH14Q4XDy944on9uYRNGcc80Zg37+sm6A7pwV/JmdVjXYmr2qKvfOf/68nrr9cAQvzZXOQ50bubOV2zi/6n+zlCrynK1Un8VYqlhgMftQ//rD6xuaZKlsPBW6gKgAtUF/8Yz0ZT1Zn87jjntLbyDf3i0doFAzdCf3nFiyApkFfV6uwmwFYm6i3aUxPSEjXJBHHk19ZtG3N3CqEDf4UU7JlSmRDwYi6urpXTAAX1C5inWBHAFcKKjyCBPC4V15rPH/+fHuCurq6v9N36UzL+PkzbMmWbN+mZVcCtPSeQuRGLwqfB8637qU8M/h5rHh6GcbYvBaWJioaQ+NV+esYitXz16l6C549PkIjrYrCtZGwq4kGhPUNLubUVcjuIYP3h9Alr5oaN05Yx00u8Nzk1edNn9VfcSjfexN6Q3TnY256YkURWhesjqTMXTi4VdZeCWYPTJKd0veiEUCFaRg8kwtwc4mbMrvpFp/nlYuy04LU7dSDB5OgJONS2C8BejPu5GvgLA0Ht8SZlv6fvpa7WnHEWhfYnl4QHy3TaeW+FMDVz61m+hNW60DlW3fbteiC+nw77H+q+fwVeWgb8nGOOoqDWiiQ5K58erVnqPXY6buB5PEaXf1gdQC1sBu6eVOJ9J5pQ2mFIcLA2T7q9oAQWuaPLw6cVDAqTJJoYYjv+7UPelmu2oLOVXOIK4CqqqrXbUeOUlPRFoycNA9C8AmiTxePOOPVDLTSjFNQ5ZtrxnFFDklwJQoUv8U68rnGRmhaBd+OLV9aziXurgk3gzSOBNyD9OixDk8TYH3NZ8h5ozi7lrXj0V4BQEtKQA9YoHn3o3G++esgELtUarkf1aPuEq+bOJn5LK7wUgY8XfdetxMjpn5GMhEHK28n0jZ3kGyJS3Gm9PSOiJVi4NLXA2v9itExUQbSg/grxJQKtbRiHstOAZykeGNWMgy9wM/uo0zt3yQeNqeVo1R1SoQxEiHXZ9iwYR1xCrziPx8Att09STJ86MYcVo/I7+33Vr83BdZ/vle4/h/mC6zgnucQpyq8inVrtBGow1Qr6NeKrf250Zr9b2BXEmVLOLnF6ciOn+QnH7Z0W8vIrJM/X91zH73GYpkAJ78JQhmiFa5t7Bt0FfqBx8lmajeF1mNUwYBWAFc61V5W5GBdykJg8oQTUEark9I6g6Lre4hxy9ETrbe1pnM1vln/aHEFvf/N5RzWSNjIdrHCKGRBvjcKQkyl1wUrxYLLBa1l9DBfo3T5SRV4zNsxeYvyRoHXfNq6SA5+Dm7OdJrjJYpUaOQ1o5E1zFqhOMOGdQxSbac5EzccmAy7aE4b8h380rfs8sDcctzUmOapYU62zH7uKz8766vVfL6ClZp+pHlu3OT+5zkyzWUa89yYv1y3drvNRk05rqdDIZ/V3xEBanC00xVy50GJc1yEztrNX/1k5cjlTi9/lKXc86iWWpeULJG+XD1dJnSD+fmpaEK2+Mqx3tIKXmmORhXJN8L7VZoO7v06KjoKBoTNLJY7nUlZFKK3Fkop24ZU0VCedrf+xgC0nP0xWPpv/041qpp7L4Am40tg8XQrjRAbhg4k/ABLJHsytF4vKOL3IU3/w+u0fXCAREs+QMvV7BK93n8/l6OccJLzdqlvv50n0wxzlWoUh4sWjosoFZIfNqw1hWHBL7ZRGBw6vSYsaFTasWMQGXxusBQxQo9h5djvZJY47zT0PWWx6mU4+bdx8ie/4pL0cznPPbnUCfrhe5lGZ9tRsqkrFlDgU1enAFArJx0Lksh8hVS1JtyEES10hn4GMykWH43EsitrXXYqq1N3kVFIsJksgqZerBsFz+a46YEXfBYIi12rKoYQyGaFwnmjXPquQbtZeCsWHwLPeHqufxG4EtASNAL06oWOzwN8Tf8fC+eVU3tEauE0a8BTBhDHszTRqRL7Si9p93BB/88dkayp0dr6YiI5aZzDMic8yPnnQ5WyA4NIiHfND1zSbRmtSqGkhxlweVbd2YmZZhNNa+p7P4NW9Wpn9CI+LyL+doZBxUUOyyWVu1pdwm3lLJaqFmQ7APOvmCdOrvuL/C97+BB48DrxGqmiiIP2asbveTzt2jw/S5+vueVTWj79q+WTpyu/funIbykfhjw1TI6bB3AkNI3nN43x8F/TWgpnYY3o5omxIKBx6OWYqw8kPdfcOPbV4aKjODLOaNgkEqIKp9IP70WwrtBsRoM/IRazJqutSaLjuQSAFkrTaYBKOTXKuIv8XxPii1os+wYVTQQVwG7H+alBRgx4YEIF8TS4NaP2FpDdZ+DAazZtlGNpkkOc8+54ZLI8DPdRpnYaWLOY4xncHlbVgTTf2oZhMsem4bOeoZaFZDYuQoCHVpx4WD3M3B1jMc990c9lQu31RUeTnM+eXj2bDTz3BVXeAoBbs58d581jlIMyhDNtoiO0BTu4isMZfRPINN1LkY0XwJEkOXExziowsE/H/l8PxCAhdIEvfw5NyeieWLfb0OlwHevlfb/OivYCNKoFKzIwSFPILHeUJaboOjNXofacNqn54eXwdXlksXhNE1c3ijaMTIY8LHW8Ddd7Ea0eKFuWMxr6jqppYCT1Les3oNmNnE+/Vj5dHs4sfiRBhlnTJA7ewEC7260MWOVSU/lMrIQ3f9HTWSFSiHWhy0Ip9zvHiTkkOVq16ZtXyjmmibZrNDs4me2HYRgoXSoIFC60bINT8uLOJ29BxRm3II5qWR2c+CgMBtUmWqYwE1iCAfCfJeDjXZYEPYKmMlehBnPTALFC+m5QvBxicq2VdAMutlyh0xRTiFRBL9GCV3xa9sSoqsLCbdkfvsb/BlUAA+Ick2PyQHNvadZE111dK/oypfygv8mg2m8ifkpbdbmtkVE4YCYwZZ/wAbmo54eFZ7qxWaT1jU9C9w0bBovG86AQ7YUQ2rVfDLFy+8MuEsOsb4avMhBgzIKmk8nIcCZ4QqLAuWTi5DsDHfJ893oLdc+gFju4wIIZ2YQtDzeHlxWchfut8UASvDyJMaA66zcgrC9l04lTCj3uaig0GNbihli0LoAq6pRif2aDjCHEzlmLWluWNvYThzvQdwwSeQZix2cA+Ao8gqaCzR/3MDUkzUEYUGpicNTbBwDKv10hWV+FdO/QkonukUMidAzEgOt1ytEhL99h0Tm08Fyp2cFYR18sNBlIkzmmYoZ/c6PAGxommDvR77xAjIWRRquZt171gZwP/ikFd6KTK4Dhw51JFdsxjTm6COc4I9vXF19f6YuQsEaFQVMJ/vLQC5iX5CDjvAvhTMAD6LagzQkc0PBquCIWekXRvuS3t4SHRF7IUstTSsPb3xeTYL7qdayLTeddXV2FuUWZALuHmEflvkfKNRFTcUBwgJmbnmiIwDwsREKoAAx4JgK5dKrQoYCymRZDnss0+uKrvm43TAMJACC7T0BinPyOVVQYJGKsw9NOr192PGvfS3m7Sod4t29VK8l4WzvWosvT5jLBD/1BCxhgx48Thui/B6huwXn8C343gAj/Na+cMAugqZrJQQZ0ga4J5kRHbNCnKtzcYuKKiV1O1JDPt5z7fWM+/0hnePXo72sQIHpYuBIBv9qX4HbW33NzCxqwqKdV4l4HH7tUCyQ0HOVLx9/1W0hk9MXe22IeffFhFQAbt2fRhVVl6RLmS58MRMLVWVvntr77299xlhAN09+VupyFtVvhXSgmd4XRXBu/PlA7o6eVPVYB/RfA8qZ8mofAy4sQEqa2mlxJGoEKQPs5hLvDw6BiFjDauuqKnl7wpZI7kzVdl9msGDMXC9MCgJc5n3bZw3pX6NGUUO9bsD0k58HDwOIcOS8JD/oxeqXXb8DryK0Al8saKjSUv8YjnsLa+krKT5ain0qc8558GDBFg8EvSD98/ywRqN8fDOf4La1G/S8GIqPS7Ryk+XDYdD4Hii9B9nrHeryKUutSWpsqj/oTvz8lkeYB/AZ1q1hMD8x/ncIQgv0sNNVmLyROyX+1vbwhxM6VDLqUwUbNYUKqX2voh1XTzb2ldZ6zkB74qNez0hsgZZO9e0zObBJsuV1Ca6hYiu4WOSQV1tEXt1MUtOgaYcg6a1MhUW6ah7sF8NwzdKTppx93B2arUrD0Ibc6m8MAkVPtRr3NZfNut7HyTD9PuBbgXOPEY15ItBryVzOGYux2Qz8DeyAu3VeeXAKvNE5T8fa9N4VzRvSABQsARj/A8qw2WyzKyXNObqtertmjwc5vK330tt5DdboM2NrKUnBCWaoQFm5i1z+s4pDDTAdu8Ss9j078kKkwYAKJaRk61YdVFI++uH2ejgam0Rfnbm/Ue4ySEDOJXWwqDDz5Yx0kn2RDIAxHYtXlHwwIeR0t79ZvLfPm5zcFFshzfQDxu3jbtM70JhdKgXcEEkx7BjTV2AjaR8Zs27MmMrM4HSp+z0/79a5ComUk0zTvyVS0HTA+CIIgYMISUA9OyIzvoljYSnCIuXQ7G0eGYR9wEnklQfqdWJ3L0jT6YiPkkeAFsUou9mlJs6mGo8QvNhUGInzFY3WWn8I0LsVwJqHdkcOD25DHQ6LHJK+N7YY7YXOOG0gURHy64dGLEblxi9wzsfnzsmZhf8W8m0+ThHkTaDrr6GpNGrQ3ipZlANgcoN+3hQjOuEWXIwvE7imzN68HdzH9VgNOaAL1oTE0gIldoJswwj7t+u3KQiZ0ndMlnwa7ZQxIAadQoo6qq1OKCW3vvPl1xybGO1Yf1g33adjthhSPvthoYx59sdVfWR3/WNU3APDMACe/PrCXsrEOwk/7aaTpeAk9vm0gD25HFhCWpCA2GhtBc3HrqdiLlKmX8UxP2b2QuNVObazBZiTE3LjGtT7Ml8MgcRQvBtOIRY5UN0L5QgfJsP9grLI2Xdg+H565jCKJhRjqlUg1lMyK9tm9bcrtfYoEA2KIl8IGZUnPKChOe3fIp+Foa1Gli+VrWn8TqxcIISF+4BySilz8M1KptB19cRT4OOgSXy68+xO+fsmKR2dXVMHkbT7M8uqTX3/ntPfvty9kbFoAQmHwlG7KggtAZWvoQERVTBJRkXn00ZtqW3mMUVV0NDuX+Sk7nkZuCuVGbwNU0WqoDIUHJfhgvwmh7lvjxt2Ph9mMvsDEa1HxQqe7xAYPUIaiUmAoZ9n1abPazKNRiIkRE02/MrsM7Bf/V7pVQgYdrLSNbwD6C7qX6rGsqIgR/IN+PePxAMAwLa91ll+b6sqLNwbiOkWMYqVTztluheNzHnbFNUxiPdXEk8WHw46w/UKbzOcn4gWUIlria7BcJg/5lJ0jQHSVD7WVWrHWF+5HehlgcRlSwenUfhXYta1SEnyaiCcTVZjVUTmYhlddZdpoo+G1KjAIVmnRdQp4rcdleJ1Tc/h6fLcmdrvL+GkOvzKbAT19zrvvve/dTYwu2JEZdyZaortRASL5x2M7+uI2KreoGsfCgES02ladB3IKVV6qRwMvfJ57T25foXWFIg0w8dOuq3tDbjd/vi4BANRP2OaNNniQVpRsT/PTM08qkpLKurEt0AL3pbjBmjz6B2GOnqp8DghLsFC6TzUN1SJHeB+KROvcn/pQhf76u2WjXfrORAUVtZaNkfIAT1wVpkbr8RRy2X0850h5lhhQB8A6InMrDVRZBpy8La+3EfeT5w4GquiurQwbSqowRB+bSnUFgFn+7HltitmBi61vLDDjATaX/9XYeiFd9tAmywsrKzxcaHvE9kCAIvQaACAwMXWbJmfgogH6daG3Jzp72IoimuS/KyFN8l7jnPfcz9qi9j+tcWKvfsLqJzdX7+8YKKjCB2A2JXlzdIyeOfeSko69GW6VllasRRuHnQxf5PQxxowUzwPtJHsrHrXkIGqhRh7TJnqUDgDAmSZ+X+9X/nB0IKVeH6rCvwt0T27lVQknD8n0sRl9cdtcWoP+oq8OdLzu2mxQr9TC4YcDctCfrAQ3SgE6YvutAwhs9k5vyGwzAdhbXqLkRL/+onK+RqJRQ64e/2KAtfvqj7R6759WhxEYgA8mZDdLgAJPmeIYNVfv9fvpMPCrCAEsb7qrobzTgzEkBVoArKvKHlKZU3IWu6fg8G6KBG/eFC1qOeaG8NCuvTGGIhwws/tyyCHx0RdPLbMdfXGzt8zHRnanr1uAtEe9g84I6LMyLAkARYe0PqG9AjzblOAugBI20NGZHj2eJMsSAluplGWJymAnvNa/kE8rn8WqYN/5pmRTNBNge7vspybKa74MX35vZ3kuW3sqMgpZsxskxosx2QLWivjOAxShOcCUz3B3EOVTaX1gXVGJx9wVjU6ysR78UjsuDAMhpHvr8kVoG9ejcCqO7EdfvIFaJHCBCAB+Pa1RHRVXfFXYsjoPCCRQuf1utj9GCFDGBteRealvvpmNEC9UJY/L4moo3X1g14Xevs4Z8PPhxw1gpXku/BP9iRNhiN2i1/yT3sqfu0/xZp9oLwIT6rQa8OqVqO16bK7Sf9vYICagoQR6ot4X0eJ+nbBxm09HS+eNDVn4Ke34lTosLm2Ochq4T90rL6bNWg9jw7SGmrGWapeI5vSe0zT64kOqCjEakT8VLdvRF6tP+w8yD0Xj8S8awAMXAGZAhFuc2DcAtllJ0UwAl/GtUZ0QExO2yQAbaDiUdq7vv5tn17XJE/JydTYmr13ifR12W84oWWlHEyI6JWGw4vCBujJBDdG87KqQJTIh93hxHmdjx+pTnE5dN0SLSS7QiABMA464VpXSZcw/ORUHevv6l61KZt0hCT7vWNuXX+2KX7LSx6+efPapf+4emLAp1da0Aq5niUTeEy3P3IgQgACZNG6/Wea8A8D/Z2On0Rfffq1rNVVcPr4lyAEAeObsZf0D/cTcAo/CMYC3OHxIQ4UHdFZq+y6x0Bi2mQpcI+aNpZ3ppx9VzASm370FLhH50pSGLp14gVOjtV/zSpyIVgmwdAenfEZefjaY2HWJ40f67VcDOJ12o8L/CyrA5hHVdXE0IXp8DnNJuMI67eulCT7vuQDRA5UteQVscS4reM8/LipU/+tYNU7XoHHgL33exUOs/MfWpDbMQBuGoRwDS0j02MfmoHJYLu9e3v7zolpRnqv9liXIHgAEdtnr7eBTysMQgDtUlwHyvdUUorYM7hbwB9V4rsXpe+0FFM/NtJZgeuAwccmRJBFOsgbsSprKzXXIK7q8QxQCAF/Z5la8KXr9+mv8aVSw1izqJKzO5pmO+TE/RN1OcUgSRLOZKvL3x0Nm4XeetCX+JC+owdGRxcRNcFWsqjmzs4DGod/wrA3rweZcqz3pqqoql6iiosKt38usRQ041Bpk32ECUMr2WwOwIrydFssX0pvFakeIOq/UgpF6kRGdfFqVc64X2M5BwRB1kIv2eSsrLonLknWgJdgcSjFtBEjkidXepUBpb3D6X3fHXm+7WXQ3tAyBHa3nCvgE7nf5CAMAuKc4fuXnJlCx8fw+AOrzmnhEIrB8+O3PccgwQMhzU+CV4Eogxt+5qZihoJQjEQX7pZm6zYHbHNg8pLkbrHxwvNLByY8VxKM/qzhRepL3+MkMee6MGYOctklvSinl6b1ubUWFTLziE9nBCoMxPmD71Gu4+0itmtI3n20f1aPqMQC94/vZs6nB6iV6TIjzV55888TLykf/3Wxq4jeEbbbJC2nucsdAx2c3EPPobZmhsStvXL4IV3w4rEMnEYYAfnbUe0fianO7AGlnJww9CPCzw4czAKAKYOTsGmp7NknGVSYZmm6opqGuieYNjpsshq62lQcAB7ZkuP4ydFahcUR+t9kpdMxo/USnOPsAQGP4atgBHZ3/LaJR+uF7ZigOWQT4cBdZVvEvjw8JCSKfrFSiwbDaLkDJMAxdIPLJ1mowGAzAx3FVzKhSlGF4LpEytXJpOGgwwAW0bYBBYoAxm61W3HG/bX15BACoXNKwAFvK/9AzoX98u5mjYSOFNHPRFhpsX+BvwfkI+XBaIw+NW7LncEULpquU6+H7fnb4GPsALdB0oihk9qR5xQHSaNQXgG3n7TRrloffv2W+6w8/GkheWesOIprxTQ0BfQvaAwBULivwtxQfAsDPCMxsoKc4nK0A8HFb3wPxcEj+zXeGvNmH0wzcNpkMj77lcHy8WXtpe3tS0D87Y4o1QAy/5ahAKDwhWz1gLz/r750FNnxLaXrNTrXyfTb0v2zz8Zpqlb57w+ysej2jmdVoqCdP/Tjim3G63FAKHoCkrOBDIgCh/d2s/oBEbxj5cF9qVMIwVLd75XI/6xOGyaRW17Sx0dvPdpnNQuCoZBhe+TrZbP/Ac5NhzT0e7mf9TYFDkzXSDe2+Ub/f33O1ta3t+jJ0YiqpOCg2GR8UM41YEsbSpRYXmj0kfDOA6FcbABBICXjgKqKOs3XqMT2Z3PQ65dnybEhtmKxJql7ptLPTwbE7Os7CHwZ6DCX5MA0G2fJsIBNEpJJcc6dZX1zlgu8r8Puy+5xr1ujd6ym12eADk7Js3bgh05oTyjCZ8sGPix2eplJfdKHNeaURHgHgQqAEzuYxKQz9h2SVsbm3H94B8pUxmXbUMh30XEc9U7ST8/bP6sVzU4AG6/A0bqz37wBeXvNZ3OnyNT/L0XSyC7O8KbHBoDYWBVMOkmEcNCeVWy8wvC/zDp2y4Jo72ZRGDWDfzQFcziZq9vSQ+BPvm3seVHaEDtApNY3xJFkjbRRbUVotfmEYOj1M3jGbzVpSDVNGJZPTb4i/gHzjOqFycp3ywRv634qSEP+UtdGhe8m2UByNkjdK1jhkpHoWCwjO5jEvJKmztu97XleYu1s/A6D6O/rW9aV6HwPZ/O/GvFCI9zX5/e1S5ZB8uO9TnS+7zNeNRNaaTi7CJByt6cz/KD/eyq/KpWWZvPoYTcYPKvabaL6cdYA3drkfKoDIinSOOE3AMrfb2bYJyVFT/M6Z2cFh7niAFOxr3OK+F1OEQjTnxB1D7737+71vhlUqT+a4n4agq9JjcZgvDfQ1ATK3rgxQreHgv3zG8h05KZkGtS+u2TQ0VdKqLnZu5Hbl/EwwXwSikSM7O1/GbIPy28XSs2VMD+k4izuoVEflbHxjLAqVu3zU3rwej1q/7wXDBb4S0DvwLOh0KrvtJWezoxbRWRAD2Ny9ksEmhsI0rZouw6B8CiEh/uNxhAJfuTUhRESG0rqKNV+c/gZ2rnsUAF/ss+YDZ8MoQuto5O53DsOyNR4TxnTAI/DkS08UEoCacI31a2q1Ve97mW9CBhBYuK8OQ+knoUzrRzv+UG9e76MzwtfUAhJRBN8L9FVOAKS50o6Ws8jRNle+dPQzsjz+8IlYBc6W8VPQ/ntQq6ErexuOSXp4b/qmlwHgUeh93hRaaieQ1cLSS9gXPCuokzSst9Trrf3JL6gv3zuc2I0q5K248+fvW1enMxcKWBURAKWm9ri0hj5eBHioptSiQTtaNrZWVcnkySIARCiKqrmcc8DZMOzaPN/8ayUwoW5VB43zX+048c5vCbRSk+Q1mmCA3WRz6KKpjYzzjKmaZB7uz/+0tLjq8lwAOmvfH07L958QrncNc3tc36o+JfAIPBrY0Vf7EkUd7TczWSwigBv8U3blbBg//KwF5QM31euXWaDTAXN3q4Rb854IEQPIbzXi3fbXqDqSN9ocQgufm29B38EnVjet/eNv/Z6NpkGj3Tc/9q+/Rjw1lFz1Y3HlHyDJaZ48Fft7yfRV5YGYyMc2xTBe0MAOl9+44MbfxLBVJcGNAuDQe54tY0DjdNYE75icfjf24g/8mxngxRSu1wXm3u9zCkvoIIZxjtKDB8iyvYdrPrCbePK5nRBQfo3viryQQT/2+/dPw7OrQT3iFdXDHwDyPPc9Xqo549abysNER5yOyFyTcQwRb7pvUaB1BiK8wAuek7NlGozfqGg0luCYehJfhhSAARQenHeoVDqGNzpFTjHtitkLQg9CObO+YCEQ62L7ePQRXOMVmk2ppzt69WL/tTyzPllD9XjjevjNmJK6bGNetmDotS0xxDGb5SCRCCEIvANwr0SIF51No6/PpGTyqo19mkAfACoM5I20yvEd/KSjr3UIMjDFZyvPnVXc+7K5iLSjXexQKXTw0x2Dg8IM/Xr6XK/8CnljkEq7Mo1u3sxIVHQlKg46LI9BIwzaF6F1GeMQhyRnJFwXIOBsohT4+P5tSCrmMlMbw5bbAdNvNtgw9l4IVgV6kp2j5mrSk++bq0Oejv1zfIXWJ0Yhq8pSxnU6R+49b1+Z95LbaQWR9VQpYqjlc0dULyqz5kx4HbddAfXYrHURpwtw5BIBUgLhXmfzUBjU+v5VwnDfDe4LOTBzy2OOypZHMelo7P7VVrl6W1z1LMe/R/w+XIMBQFWXt8fMHpmN3uay5eqz6urtvGdwz7bvrbfbGC4mE2MRL357XeeXMTlnGbr1za7BDzESMTam0/bhuowU7QvY+VLxzV0A1zx/XxmO1F9n85wmE/yB2t5OevtucBngYof+nJuk0y+cO7jQcGH88EO4KoCmU1+ZUj51wWSyZv9qqvz6Kmxc1JsUpEHmK01EovhUA/mmwlWgvbd1+V/Z3VS/EWupZvbFYkx0aij94zl+xB9+Lx6/v5JJ3a+8m6b/wqWykqwFfQXizUnmd2i4dnEAPO0qXb0lPgnOxnF03LvNto/Yd99ACYEMhvi12QUND19/S020RX0tfjMYXh4F99jwmnNqsorDbHI22Xrpol+T45cNnv6STKqce4612O+MjXDf81xa3161njyZ/puO1NpZ5Um3n4rf7qgff1C1JMfOm4z9N9rKgvgCsQcAm/4w8msXBwB9yQ94Ns8beskLnueGOyaTYQjZrD9Ie4ezknPqW9IVgE2zWV/ta6oVk2FoiAa+X34LHZ9tmisrTUQ1jhaNdf3N7vWFWuN0xeMNrib97Mf5zdHTHGVWIHjywfbTudurpNurZvV2ZD1lau2p88vChP6G+O/+t5YXNtWjxzBbKxkAQIcb4rL0bJzb/TZfjalZfeTQEPAH3/JhoXkXMKDvp5NK/OyLaKcx/dz4kJXvfXxNZ7N2CsOcLCkCcf9d6JCvti6vF2J72oInEG9d3zmVnPtuUChWgWp0DCpL0rujjjdx0KBPRBhQLXEAgLN1BvMevq3vHzpJth32Hb5pOGvOHMsvlxmwYFS2/+bRtpNmyzDKxwwa7u40Z1ZxL2Y/0Ir9/gqzWaM05j/aury9StrM7xx9mEV5BX1w+nD7x37pWHrjavd3uybHrcezTmH/mjaIK3pDAcV8l+LfBnFOznYquW02C/iQDMOkze+r7j3mvf3+ypQBPkGEkHAnNzT9YMeCa/tDU80n4465VIEqFmWb4ldDJdriFCIv86Tq2dpPz5//XCIlxnSO7NbjfGIZygPOhgKaz7Eb9aPdqHJL93nvMf0DHwi9kPDtmQm0vr1paIWehZreifLxkh9uEFvfWOuXo6/kUt9QP56nOeNm1mO1+P4MZVa2hbYKzuarfEH14HLCBH7yCbWG78v3B5cf7NqGqOA9PG2k2vcrmnw15eYDtfLuclwi2uqFsXjHSFVzGbfv9Nu21jrm4VFns+kuhX0VzinoN3rND7g990KVuTGZtJ/EVQeLmXE8i6nkwUVKYhrGCrfb4Gw3PzxN03pTNMeJbQA8CyKaPFmqtdqxlofrmVClevTRV3+5blxYBisjjwGjTRgn8sugHZkqYbgGqz5EkRZJoUzbhmYY8Irf1dluWtJSu/kSZuxvHB5yvvVdgIGaTlUqErEulcOdRk2hB9wzb+QUeHdF/ZqtKD38JjdZQ3s/321+Z+Lf85Pn3/7I+WW5f/3/9N/x6/qzni3nJi/xmR14/ujjcz5LD0x++bO67eELVTrlm7/zPRU7b/RP48Pw4IY3UXvTO3Nn/TsT/8s/l1Pz+hiZvLP+B852U3WTm6i9/g44qK7O9VvSigDpeg/ocr64cds6KQ7HUZ/tjZ6Ua5xH7Y353mZncdfEv/11/Fp+7oD+PWe7OeImn2G+tnFACxBN1GmdfCQwiZ80H1L/WGsqs1N9lFYFxs915FHNGYBWCqZ8V/GP+++/BcDZcD7DfEdg/jjRYj9IfujiyY5P9Od9HZ9XLK7OWki6ScmDrUdzdks/Jf6b+cU4VnCL3oJSmuBNavzhHX3zDZ2O+itwIXxxfQU5VxG6oKatt7Rydgtl2jhxiIM8EJ+KTQgremh7G3TWXtBWZRHlpZg3KIfQBuHsl8YVpztc20++7OR/ogu6UFUq5Q6CF+Ty7/n8IreCdq4CbifoAuLq7BU/PO3fad0G+FuYsQbBP9PJZjiTSVUV6verMTRpx2ZgiL3c2Sg3HxsCW3P2ivVlX+6Ms3x1jvK55qJidg5VOjq/K7Rh1Y2+oRW65zEHOqK6Ime3YMzOlyWyv6ZGH58hMAneW/7s+BSF6B3ou8Je4bivEhhwdsurAjkLrV/ioF9inZAreSpkdkqh47PAZTRtyEOM7PJ9iVm4vSrPTnEEN9aNtkwcUAKiidyWN4lA0+lwqDqSrmJ2wkEqtcJJ95ng8LNX3Fg38IJE0l2r5G/XuJ6OPZijQvaWryx13JYs5KbaMi8VtEcVZXJ2Kt2ly22c5RK9RX7pnvd6uoactHqOq3KOr0McRzvsQGzkrnDUfyM107SZcPaJzevU4TV1CAkov3JL6kxfzXWsEBU2pOU3X+e3rxFcXnH4Tiscn7uHGBptp3B2SqVQNqERTKVyRK+F5tzW0bcm/308XgZVNWuGxDOfAn7S8FOEnzg8MXD2S3mwKGRIYQDpXpuAeYV+523fFhjN2UctDX1SmQy4rluZXhNs8ltZD+HspZaCTCaTWgt60QSWBNx0mrO/agYnZDKt4WmhMk2q7PFgcahM73L2l8Ugk5l4RqhcmKasrGx5aA7pY8/u8sOCPmRWhcqFC2H81LKylSE94YSztzQAMuMPr1wILDy8T2bL7U4Ye/aWLwFSTHPdNMC0VCY1FirPzvLTAigjlaocDWXgVrpwdpafOrjuln0yU7cHtllYmZ6YOrvLTwVIp9+urCy1m7sllZWrQSZ1dteNbgtu+pmPnVqWSaUrx09cHVIZzu6qANLpdEvYsyyFu3D7M0CmLHX2l/QmcXfgC+/CxHfbJJU5O+zDiPis66ZJpVJlZ5cNYJcJ2wGZFGffdfZ+biFn9/Xh/efD+8+H958P7z8f3n8+vP98+H0AAA=="],chars:[{id:124,index:95,char:"|",width:7,height:57,xoffset:4,yoffset:3,xadvance:14,chnl:15,x:0,y:0,page:0},{id:106,index:77,char:"j",width:12,height:46,xoffset:-3,yoffset:12,xadvance:10,chnl:15,x:8,y:0,page:0},{id:36,index:7,char:"$",width:26,height:45,xoffset:1,yoffset:9,xadvance:28,chnl:15,x:21,y:0,page:0},{id:196,index:133,char:"",width:31,height:45,xoffset:-1,yoffset:4,xadvance:30,chnl:15,x:48,y:0,page:0},{id:214,index:151,char:"",width:32,height:45,xoffset:1,yoffset:4,xadvance:33,chnl:15,x:80,y:0,page:0},{id:220,index:157,char:"",width:28,height:45,xoffset:2,yoffset:4,xadvance:32,chnl:15,x:113,y:0,page:0},{id:40,index:11,char:"(",width:12,height:44,xoffset:3,yoffset:11,xadvance:15,chnl:15,x:142,y:0,page:0},{id:41,index:12,char:")",width:12,height:44,xoffset:0,yoffset:11,xadvance:15,chnl:15,x:155,y:0,page:0},{id:87,index:58,char:"W",width:44,height:36,xoffset:-1,yoffset:13,xadvance:43,chnl:15,x:168,y:0,page:0},{id:91,index:62,char:"[",width:11,height:44,xoffset:3,yoffset:11,xadvance:15,chnl:15,x:213,y:0,page:0},{id:93,index:64,char:"]",width:11,height:44,xoffset:1,yoffset:11,xadvance:15,chnl:15,x:225,y:0,page:0},{id:123,index:94,char:"{",width:16,height:44,xoffset:1,yoffset:11,xadvance:18,chnl:15,x:237,y:0,page:0},{id:125,index:96,char:"}",width:16,height:44,xoffset:1,yoffset:11,xadvance:18,chnl:15,x:168,y:37,page:0},{id:64,index:35,char:"@",width:41,height:43,xoffset:1,yoffset:14,xadvance:43,chnl:15,x:185,y:45,page:0},{id:167,index:105,char:"",width:23,height:43,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:142,y:45,page:0},{id:92,index:63,char:"\\",width:17,height:42,xoffset:-1,yoffset:11,xadvance:15,chnl:15,x:166,y:82,page:0},{id:47,index:18,char:"/",width:17,height:42,xoffset:-1,yoffset:11,xadvance:15,chnl:15,x:227,y:45,page:0},{id:81,index:52,char:"Q",width:32,height:39,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:184,y:89,page:0},{id:103,index:74,char:"g",width:24,height:38,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:227,y:88,page:0},{id:37,index:8,char:"%",width:36,height:37,xoffset:3,yoffset:13,xadvance:41,chnl:15,x:217,y:127,page:0},{id:38,index:9,char:"&",width:28,height:37,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:21,y:46,page:0},{id:48,index:19,char:"0",width:26,height:37,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:50,y:46,page:0},{id:51,index:22,char:"3",width:25,height:37,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:77,y:46,page:0},{id:54,index:25,char:"6",width:25,height:37,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:103,y:46,page:0},{id:56,index:27,char:"8",width:25,height:37,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:0,y:84,page:0},{id:57,index:28,char:"9",width:25,height:37,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:26,y:84,page:0},{id:63,index:34,char:"?",width:22,height:37,xoffset:0,yoffset:13,xadvance:22,chnl:15,x:52,y:84,page:0},{id:67,index:38,char:"C",width:31,height:37,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:75,y:84,page:0},{id:71,index:42,char:"G",width:31,height:37,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:107,y:84,page:0},{id:79,index:50,char:"O",width:32,height:37,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:0,y:122,page:0},{id:83,index:54,char:"S",width:26,height:37,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:139,y:89,page:0},{id:85,index:56,char:"U",width:28,height:37,xoffset:2,yoffset:13,xadvance:32,chnl:15,x:33,y:122,page:0},{id:228,index:165,char:"",width:22,height:37,xoffset:0,yoffset:12,xadvance:24,chnl:15,x:62,y:122,page:0},{id:246,index:183,char:"",width:25,height:37,xoffset:0,yoffset:12,xadvance:26,chnl:15,x:85,y:122,page:0},{id:252,index:189,char:"",width:23,height:37,xoffset:2,yoffset:12,xadvance:26,chnl:15,x:111,y:122,page:0},{id:98,index:69,char:"b",width:24,height:37,xoffset:2,yoffset:13,xadvance:26,chnl:15,x:135,y:127,page:0},{id:100,index:71,char:"d",width:24,height:37,xoffset:0,yoffset:13,xadvance:26,chnl:15,x:160,y:129,page:0},{id:102,index:73,char:"f",width:18,height:37,xoffset:-2,yoffset:12,xadvance:15,chnl:15,x:185,y:129,page:0},{id:105,index:76,char:"i",width:8,height:37,xoffset:1,yoffset:12,xadvance:10,chnl:15,x:217,y:89,page:0},{id:112,index:83,char:"p",width:24,height:37,xoffset:2,yoffset:21,xadvance:26,chnl:15,x:204,y:165,page:0},{id:113,index:84,char:"q",width:24,height:37,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:229,y:165,page:0},{id:119,index:90,char:"w",width:37,height:28,xoffset:0,yoffset:21,xadvance:36,chnl:15,x:0,y:160,page:0},{id:121,index:92,char:"y",width:25,height:37,xoffset:-1,yoffset:21,xadvance:24,chnl:15,x:38,y:160,page:0},{id:33,index:4,char:"!",width:9,height:36,xoffset:2,yoffset:13,xadvance:12,chnl:15,x:8,y:47,page:0},{id:35,index:6,char:"#",width:30,height:36,xoffset:-1,yoffset:13,xadvance:28,chnl:15,x:0,y:189,page:0},{id:49,index:20,char:"1",width:15,height:36,xoffset:0,yoffset:13,xadvance:17,chnl:15,x:64,y:160,page:0},{id:50,index:21,char:"2",width:24,height:36,xoffset:2,yoffset:13,xadvance:27,chnl:15,x:80,y:160,page:0},{id:52,index:23,char:"4",width:26,height:36,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:105,y:160,page:0},{id:53,index:24,char:"5",width:24,height:36,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:132,y:165,page:0},{id:55,index:26,char:"7",width:24,height:36,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:157,y:167,page:0},{id:65,index:36,char:"A",width:31,height:36,xoffset:-1,yoffset:13,xadvance:30,chnl:15,x:64,y:197,page:0},{id:66,index:37,char:"B",width:26,height:36,xoffset:2,yoffset:13,xadvance:29,chnl:15,x:31,y:198,page:0},{id:68,index:39,char:"D",width:29,height:36,xoffset:2,yoffset:13,xadvance:32,chnl:15,x:0,y:226,page:0},{id:69,index:40,char:"E",width:23,height:36,xoffset:2,yoffset:13,xadvance:26,chnl:15,x:96,y:197,page:0},{id:70,index:41,char:"F",width:23,height:36,xoffset:2,yoffset:13,xadvance:26,chnl:15,x:120,y:202,page:0},{id:72,index:43,char:"H",width:28,height:36,xoffset:2,yoffset:13,xadvance:33,chnl:15,x:58,y:234,page:0},{id:73,index:44,char:"I",width:7,height:36,xoffset:2,yoffset:13,xadvance:12,chnl:15,x:129,y:46,page:0},{id:74,index:45,char:"J",width:22,height:36,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:30,y:235,page:0},{id:75,index:46,char:"K",width:27,height:36,xoffset:2,yoffset:13,xadvance:28,chnl:15,x:0,y:263,page:0},{id:76,index:47,char:"L",width:22,height:36,xoffset:2,yoffset:13,xadvance:25,chnl:15,x:87,y:234,page:0},{id:77,index:48,char:"M",width:35,height:36,xoffset:2,yoffset:13,xadvance:40,chnl:15,x:182,y:203,page:0},{id:78,index:49,char:"N",width:29,height:36,xoffset:2,yoffset:13,xadvance:33,chnl:15,x:144,y:204,page:0},{id:80,index:51,char:"P",width:25,height:36,xoffset:2,yoffset:13,xadvance:28,chnl:15,x:110,y:239,page:0},{id:82,index:53,char:"R",width:26,height:36,xoffset:2,yoffset:13,xadvance:28,chnl:15,x:218,y:203,page:0},{id:84,index:55,char:"T",width:27,height:36,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:53,y:271,page:0},{id:86,index:57,char:"V",width:31,height:36,xoffset:-1,yoffset:13,xadvance:30,chnl:15,x:0,y:300,page:0},{id:88,index:59,char:"X",width:31,height:36,xoffset:-1,yoffset:13,xadvance:29,chnl:15,x:174,y:240,page:0},{id:89,index:60,char:"Y",width:31,height:36,xoffset:-1,yoffset:13,xadvance:29,chnl:15,x:136,y:241,page:0},{id:90,index:61,char:"Z",width:26,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:81,y:271,page:0},{id:104,index:75,char:"h",width:23,height:36,xoffset:2,yoffset:13,xadvance:26,chnl:15,x:108,y:276,page:0},{id:107,index:78,char:"k",width:23,height:36,xoffset:2,yoffset:13,xadvance:23,chnl:15,x:206,y:240,page:0},{id:108,index:79,char:"l",width:7,height:36,xoffset:2,yoffset:13,xadvance:10,chnl:15,x:245,y:45,page:0},{id:223,index:160,char:"",width:23,height:36,xoffset:2,yoffset:13,xadvance:27,chnl:15,x:230,y:240,page:0},{id:109,index:80,char:"m",width:35,height:28,xoffset:2,yoffset:21,xadvance:38,chnl:15,x:32,y:308,page:0},{id:59,index:30,char:";",width:10,height:34,xoffset:1,yoffset:22,xadvance:13,chnl:15,x:204,y:129,page:0},{id:116,index:87,char:"t",width:16,height:34,xoffset:-2,yoffset:15,xadvance:13,chnl:15,x:182,y:167,page:0},{id:97,index:68,char:"a",width:22,height:29,xoffset:0,yoffset:21,xadvance:24,chnl:15,x:68,y:308,page:0},{id:99,index:70,char:"c",width:24,height:29,xoffset:0,yoffset:21,xadvance:25,chnl:15,x:0,y:337,page:0},{id:101,index:72,char:"e",width:25,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:25,y:337,page:0},{id:111,index:82,char:"o",width:25,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:168,y:277,page:0},{id:115,index:86,char:"s",width:22,height:29,xoffset:1,yoffset:21,xadvance:23,chnl:15,x:132,y:278,page:0},{id:110,index:81,char:"n",width:23,height:28,xoffset:2,yoffset:21,xadvance:26,chnl:15,x:194,y:277,page:0},{id:114,index:85,char:"r",width:15,height:28,xoffset:2,yoffset:21,xadvance:16,chnl:15,x:91,y:308,page:0},{id:117,index:88,char:"u",width:23,height:28,xoffset:2,yoffset:21,xadvance:26,chnl:15,x:218,y:277,page:0},{id:118,index:89,char:"v",width:25,height:28,xoffset:-1,yoffset:21,xadvance:24,chnl:15,x:194,y:306,page:0},{id:120,index:91,char:"x",width:25,height:28,xoffset:-1,yoffset:21,xadvance:23,chnl:15,x:220,y:306,page:0},{id:122,index:93,char:"z",width:22,height:28,xoffset:1,yoffset:21,xadvance:24,chnl:15,x:155,y:307,page:0},{id:58,index:29,char:":",width:9,height:27,xoffset:2,yoffset:22,xadvance:12,chnl:15,x:28,y:272,page:0},{id:60,index:31,char:"<",width:23,height:27,xoffset:2,yoffset:21,xadvance:29,chnl:15,x:107,y:313,page:0},{id:62,index:33,char:">",width:23,height:27,xoffset:4,yoffset:21,xadvance:29,chnl:15,x:131,y:313,page:0},{id:126,index:97,char:"~",width:25,height:11,xoffset:2,yoffset:29,xadvance:29,chnl:15,x:51,y:338,page:0},{id:43,index:14,char:"+",width:24,height:24,xoffset:2,yoffset:23,xadvance:29,chnl:15,x:77,y:338,page:0},{id:95,index:66,char:"_",width:24,height:7,xoffset:-2,yoffset:45,xadvance:20,chnl:15,x:185,y:37,page:0},{id:42,index:13,char:"*",width:21,height:22,xoffset:1,yoffset:13,xadvance:22,chnl:15,x:51,y:350,page:0},{id:61,index:32,char:"=",width:22,height:16,xoffset:3,yoffset:27,xadvance:29,chnl:15,x:0,y:367,page:0},{id:94,index:65,char:"^",width:20,height:18,xoffset:0,yoffset:14,xadvance:20,chnl:15,x:23,y:367,page:0},{id:176,index:113,char:"",width:18,height:18,xoffset:1,yoffset:13,xadvance:20,chnl:15,x:0,y:384,page:0},{id:45,index:16,char:"-",width:17,height:7,xoffset:1,yoffset:30,xadvance:20,chnl:15,x:32,y:300,page:0},{id:34,index:5,char:'"',width:14,height:15,xoffset:3,yoffset:13,xadvance:19,chnl:15,x:242,y:277,page:0},{id:39,index:10,char:"'",width:7,height:15,xoffset:3,yoffset:13,xadvance:13,chnl:15,x:0,y:58,page:0},{id:44,index:15,char:",",width:9,height:15,xoffset:1,yoffset:41,xadvance:12,chnl:15,x:246,y:293,page:0},{id:96,index:67,char:"`",width:10,height:10,xoffset:1,yoffset:12,xadvance:14,chnl:15,x:246,y:309,page:0},{id:46,index:17,char:".",width:9,height:9,xoffset:2,yoffset:41,xadvance:12,chnl:15,x:246,y:320,page:0},{id:32,index:3,char:" ",width:0,height:0,xoffset:-2,yoffset:45,xadvance:12,chnl:15,x:184,y:82,page:0}],info:{face:"fixed-font",size:44,bold:0,italic:0,charset:[" ","","!","\\",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","","","","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","","","","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","",""],unicode:1,stretchH:100,smooth:1,aa:1,padding:[2,2,2,2],spacing:[0,0],outline:0},common:{lineHeight:53,base:45,scaleW:256,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},distanceField:{fieldType:"msdf",distanceRange:4},kernings:[{first:176,second:38,amount:-1},{first:176,second:44,amount:-6},{first:176,second:46,amount:-6},{first:176,second:52,amount:-2},{first:176,second:64,amount:0},{first:176,second:95,amount:-3},{first:92,second:176,amount:-3},{first:92,second:92,amount:-2},{first:92,second:34,amount:-3},{first:92,second:39,amount:-3},{first:92,second:42,amount:-3},{first:92,second:43,amount:-1},{first:92,second:45,amount:-1},{first:92,second:47,amount:1},{first:92,second:49,amount:-1},{first:92,second:61,amount:-2},{first:92,second:63,amount:-3},{first:92,second:64,amount:-1},{first:92,second:94,amount:-3},{first:92,second:126,amount:-1},{first:34,second:38,amount:-1},{first:34,second:44,amount:-4},{first:34,second:46,amount:-4},{first:34,second:52,amount:-3},{first:38,second:92,amount:-3},{first:38,second:34,amount:-1},{first:38,second:39,amount:-1},{first:39,second:38,amount:-1},{first:39,second:44,amount:-4},{first:39,second:46,amount:-4},{first:39,second:52,amount:-3},{first:42,second:38,amount:-1},{first:42,second:44,amount:-6},{first:42,second:46,amount:-6},{first:42,second:52,amount:-2},{first:42,second:64,amount:0},{first:42,second:95,amount:-3},{first:43,second:92,amount:-2},{first:43,second:50,amount:-1},{first:43,second:51,amount:0},{first:43,second:55,amount:-1},{first:44,second:34,amount:-4},{first:44,second:39,amount:-4},{first:44,second:48,amount:-1},{first:44,second:49,amount:-4},{first:44,second:51,amount:-1},{first:44,second:53,amount:-1},{first:44,second:54,amount:-1},{first:44,second:55,amount:-1},{first:44,second:56,amount:-1},{first:44,second:57,amount:0},{first:44,second:63,amount:-4},{first:44,second:64,amount:-2},{first:45,second:92,amount:-2},{first:45,second:50,amount:-1},{first:45,second:51,amount:0},{first:45,second:55,amount:-1},{first:46,second:34,amount:-4},{first:46,second:39,amount:-4},{first:46,second:48,amount:-1},{first:46,second:49,amount:-4},{first:46,second:51,amount:-1},{first:46,second:53,amount:-1},{first:46,second:54,amount:-1},{first:46,second:55,amount:-1},{first:46,second:56,amount:-1},{first:46,second:57,amount:0},{first:46,second:63,amount:-4},{first:46,second:64,amount:-2},{first:47,second:44,amount:-2},{first:47,second:46,amount:-2},{first:48,second:92,amount:0},{first:48,second:44,amount:-1},{first:48,second:46,amount:-1},{first:48,second:55,amount:-1},{first:48,second:95,amount:-2},{first:50,second:52,amount:-1},{first:51,second:176,amount:0},{first:51,second:42,amount:0},{first:51,second:44,amount:-1},{first:51,second:46,amount:-1},{first:51,second:94,amount:0},{first:52,second:176,amount:-1},{first:52,second:42,amount:-1},{first:52,second:44,amount:-1},{first:52,second:46,amount:-1},{first:52,second:49,amount:-1},{first:52,second:94,amount:-1},{first:53,second:44,amount:-1},{first:53,second:46,amount:-1},{first:54,second:44,amount:-1},{first:54,second:46,amount:-1},{first:54,second:95,amount:-2},{first:55,second:35,amount:-2},{first:55,second:38,amount:-2},{first:55,second:44,amount:-5},{first:55,second:46,amount:-5},{first:55,second:48,amount:-1},{first:55,second:51,amount:-1},{first:55,second:52,amount:-3},{first:55,second:53,amount:0},{first:55,second:54,amount:-1},{first:55,second:55,amount:1},{first:55,second:56,amount:-1},{first:55,second:57,amount:0},{first:55,second:58,amount:-1},{first:55,second:59,amount:-1},{first:55,second:60,amount:-4},{first:55,second:95,amount:-7},{first:56,second:176,amount:0},{first:56,second:42,amount:0},{first:56,second:44,amount:-1},{first:56,second:46,amount:-1},{first:56,second:94,amount:0},{first:57,second:92,amount:0},{first:57,second:44,amount:-1},{first:57,second:46,amount:-1},{first:57,second:55,amount:-1},{first:57,second:95,amount:-2},{first:58,second:92,amount:-3},{first:59,second:92,amount:-3},{first:61,second:92,amount:-3},{first:62,second:92,amount:-3},{first:62,second:55,amount:-3},{first:64,second:92,amount:-1},{first:64,second:44,amount:-2},{first:64,second:46,amount:-2},{first:64,second:47,amount:-2},{first:64,second:95,amount:-2},{first:94,second:38,amount:-1},{first:94,second:44,amount:-6},{first:94,second:46,amount:-6},{first:94,second:52,amount:-2},{first:94,second:64,amount:0},{first:94,second:95,amount:-3},{first:95,second:176,amount:-3},{first:95,second:92,amount:-3},{first:95,second:42,amount:-3},{first:95,second:48,amount:-2},{first:95,second:49,amount:-5},{first:95,second:51,amount:-2},{first:95,second:52,amount:-2},{first:95,second:53,amount:-2},{first:95,second:54,amount:-2},{first:95,second:56,amount:-2},{first:95,second:57,amount:-2},{first:95,second:64,amount:-2},{first:95,second:94,amount:-3},{first:95,second:124,amount:1},{first:126,second:92,amount:-2},{first:126,second:50,amount:-1},{first:126,second:51,amount:0},{first:126,second:55,amount:-1}]},medium:{pages:["data:image/webp;base64,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"],chars:[{id:124,index:95,char:"|",width:8,height:57,xoffset:3,yoffset:3,xadvance:15,chnl:15,x:0,y:0,page:0},{id:214,index:151,char:"",width:33,height:46,xoffset:0,yoffset:4,xadvance:34,chnl:15,x:9,y:0,page:0},{id:220,index:157,char:"",width:29,height:46,xoffset:2,yoffset:4,xadvance:33,chnl:15,x:43,y:0,page:0},{id:87,index:58,char:"W",width:46,height:36,xoffset:-1,yoffset:13,xadvance:44,chnl:15,x:73,y:0,page:0},{id:106,index:77,char:"j",width:13,height:46,xoffset:-3,yoffset:12,xadvance:11,chnl:15,x:120,y:0,page:0},{id:36,index:7,char:"$",width:28,height:45,xoffset:0,yoffset:8,xadvance:28,chnl:15,x:73,y:37,page:0},{id:196,index:133,char:"",width:33,height:45,xoffset:-1,yoffset:4,xadvance:31,chnl:15,x:9,y:47,page:0},{id:40,index:11,char:"(",width:14,height:44,xoffset:2,yoffset:11,xadvance:16,chnl:15,x:102,y:37,page:0},{id:41,index:12,char:")",width:14,height:44,xoffset:0,yoffset:11,xadvance:16,chnl:15,x:43,y:47,page:0},{id:64,index:35,char:"@",width:42,height:44,xoffset:0,yoffset:14,xadvance:43,chnl:15,x:134,y:0,page:0},{id:91,index:62,char:"[",width:13,height:44,xoffset:3,yoffset:11,xadvance:16,chnl:15,x:58,y:47,page:0},{id:93,index:64,char:"]",width:13,height:44,xoffset:0,yoffset:11,xadvance:16,chnl:15,x:177,y:0,page:0},{id:123,index:94,char:"{",width:18,height:44,xoffset:1,yoffset:11,xadvance:19,chnl:15,x:191,y:0,page:0},{id:125,index:96,char:"}",width:18,height:44,xoffset:0,yoffset:11,xadvance:19,chnl:15,x:210,y:0,page:0},{id:167,index:105,char:"",width:24,height:43,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:229,y:0,page:0},{id:92,index:63,char:"\\",width:19,height:42,xoffset:-1,yoffset:11,xadvance:16,chnl:15,x:229,y:44,page:0},{id:47,index:18,char:"/",width:19,height:42,xoffset:-1,yoffset:11,xadvance:16,chnl:15,x:134,y:45,page:0},{id:81,index:52,char:"Q",width:33,height:39,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:72,y:83,page:0},{id:37,index:8,char:"%",width:38,height:37,xoffset:3,yoffset:12,xadvance:44,chnl:15,x:0,y:93,page:0},{id:228,index:165,char:"",width:24,height:38,xoffset:0,yoffset:12,xadvance:25,chnl:15,x:106,y:82,page:0},{id:246,index:183,char:"",width:26,height:38,xoffset:0,yoffset:12,xadvance:27,chnl:15,x:43,y:92,page:0},{id:252,index:189,char:"",width:24,height:38,xoffset:1,yoffset:12,xadvance:26,chnl:15,x:154,y:45,page:0},{id:102,index:73,char:"f",width:20,height:38,xoffset:-2,yoffset:11,xadvance:17,chnl:15,x:179,y:45,page:0},{id:103,index:74,char:"g",width:26,height:38,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:200,y:45,page:0},{id:119,index:90,char:"w",width:38,height:28,xoffset:-1,yoffset:21,xadvance:36,chnl:15,x:154,y:84,page:0},{id:38,index:9,char:"&",width:30,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:193,y:84,page:0},{id:48,index:19,char:"0",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:224,y:87,page:0},{id:51,index:22,char:"3",width:27,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:131,y:113,page:0},{id:54,index:25,char:"6",width:27,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:159,y:113,page:0},{id:56,index:27,char:"8",width:27,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:187,y:122,page:0},{id:57,index:28,char:"9",width:27,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:215,y:125,page:0},{id:63,index:34,char:"?",width:23,height:37,xoffset:0,yoffset:13,xadvance:23,chnl:15,x:106,y:121,page:0},{id:67,index:38,char:"C",width:32,height:37,xoffset:0,yoffset:13,xadvance:32,chnl:15,x:70,y:123,page:0},{id:71,index:42,char:"G",width:32,height:37,xoffset:0,yoffset:13,xadvance:33,chnl:15,x:130,y:151,page:0},{id:77,index:48,char:"M",width:37,height:36,xoffset:2,yoffset:13,xadvance:40,chnl:15,x:163,y:160,page:0},{id:79,index:50,char:"O",width:33,height:37,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:201,y:163,page:0},{id:83,index:54,char:"S",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:0,y:131,page:0},{id:85,index:56,char:"U",width:29,height:37,xoffset:2,yoffset:13,xadvance:33,chnl:15,x:29,y:131,page:0},{id:105,index:76,char:"i",width:10,height:37,xoffset:1,yoffset:12,xadvance:11,chnl:15,x:59,y:131,page:0},{id:109,index:80,char:"m",width:37,height:28,xoffset:1,yoffset:21,xadvance:39,chnl:15,x:70,y:161,page:0},{id:112,index:83,char:"p",width:26,height:37,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:108,y:189,page:0},{id:113,index:84,char:"q",width:26,height:37,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:135,y:189,page:0},{id:121,index:92,char:"y",width:27,height:37,xoffset:-1,yoffset:21,xadvance:25,chnl:15,x:162,y:197,page:0},{id:33,index:4,char:"!",width:10,height:36,xoffset:2,yoffset:13,xadvance:13,chnl:15,x:190,y:197,page:0},{id:35,index:6,char:"#",width:31,height:36,xoffset:-1,yoffset:13,xadvance:28,chnl:15,x:201,y:201,page:0},{id:49,index:20,char:"1",width:17,height:36,xoffset:0,yoffset:13,xadvance:18,chnl:15,x:235,y:163,page:0},{id:50,index:21,char:"2",width:25,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:0,y:169,page:0},{id:52,index:23,char:"4",width:28,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:26,y:169,page:0},{id:53,index:24,char:"5",width:26,height:36,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:55,y:190,page:0},{id:55,index:26,char:"7",width:25,height:36,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:82,y:190,page:0},{id:65,index:36,char:"A",width:33,height:36,xoffset:-1,yoffset:13,xadvance:31,chnl:15,x:0,y:206,page:0},{id:66,index:37,char:"B",width:27,height:36,xoffset:2,yoffset:13,xadvance:29,chnl:15,x:34,y:227,page:0},{id:68,index:39,char:"D",width:30,height:36,xoffset:2,yoffset:13,xadvance:32,chnl:15,x:0,y:243,page:0},{id:69,index:40,char:"E",width:24,height:36,xoffset:2,yoffset:13,xadvance:27,chnl:15,x:62,y:227,page:0},{id:70,index:41,char:"F",width:24,height:36,xoffset:2,yoffset:13,xadvance:26,chnl:15,x:87,y:227,page:0},{id:72,index:43,char:"H",width:30,height:36,xoffset:2,yoffset:13,xadvance:33,chnl:15,x:112,y:227,page:0},{id:73,index:44,char:"I",width:9,height:36,xoffset:2,yoffset:13,xadvance:12,chnl:15,x:190,y:234,page:0},{id:74,index:45,char:"J",width:24,height:36,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:143,y:235,page:0},{id:75,index:46,char:"K",width:30,height:36,xoffset:2,yoffset:13,xadvance:30,chnl:15,x:200,y:238,page:0},{id:76,index:47,char:"L",width:23,height:36,xoffset:2,yoffset:13,xadvance:25,chnl:15,x:233,y:201,page:0},{id:78,index:49,char:"N",width:30,height:36,xoffset:2,yoffset:13,xadvance:33,chnl:15,x:168,y:271,page:0},{id:80,index:51,char:"P",width:27,height:36,xoffset:2,yoffset:13,xadvance:28,chnl:15,x:199,y:275,page:0},{id:82,index:53,char:"R",width:28,height:36,xoffset:2,yoffset:13,xadvance:29,chnl:15,x:227,y:275,page:0},{id:84,index:55,char:"T",width:29,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:31,y:264,page:0},{id:86,index:57,char:"V",width:33,height:36,xoffset:-1,yoffset:13,xadvance:31,chnl:15,x:61,y:264,page:0},{id:88,index:59,char:"X",width:32,height:36,xoffset:-1,yoffset:13,xadvance:31,chnl:15,x:95,y:264,page:0},{id:89,index:60,char:"Y",width:32,height:36,xoffset:-1,yoffset:13,xadvance:31,chnl:15,x:128,y:272,page:0},{id:90,index:61,char:"Z",width:27,height:36,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:0,y:280,page:0},{id:98,index:69,char:"b",width:26,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:161,y:308,page:0},{id:100,index:71,char:"d",width:26,height:36,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:188,y:312,page:0},{id:104,index:75,char:"h",width:24,height:36,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:231,y:238,page:0},{id:107,index:78,char:"k",width:25,height:36,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:215,y:312,page:0},{id:108,index:79,char:"l",width:9,height:36,xoffset:1,yoffset:13,xadvance:11,chnl:15,x:243,y:125,page:0},{id:223,index:160,char:"",width:26,height:36,xoffset:2,yoffset:13,xadvance:28,chnl:15,x:28,y:301,page:0},{id:59,index:30,char:";",width:12,height:35,xoffset:1,yoffset:22,xadvance:14,chnl:15,x:168,y:235,page:0},{id:116,index:87,char:"t",width:18,height:34,xoffset:-2,yoffset:15,xadvance:15,chnl:15,x:0,y:317,page:0},{id:97,index:68,char:"a",width:24,height:29,xoffset:0,yoffset:21,xadvance:25,chnl:15,x:55,y:301,page:0},{id:99,index:70,char:"c",width:25,height:29,xoffset:0,yoffset:21,xadvance:25,chnl:15,x:80,y:301,page:0},{id:101,index:72,char:"e",width:26,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:106,y:309,page:0},{id:111,index:82,char:"o",width:26,height:29,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:133,y:309,page:0},{id:115,index:86,char:"s",width:24,height:29,xoffset:0,yoffset:21,xadvance:24,chnl:15,x:55,y:331,page:0},{id:60,index:31,char:"<",width:25,height:28,xoffset:2,yoffset:21,xadvance:29,chnl:15,x:80,y:331,page:0},{id:62,index:33,char:">",width:25,height:28,xoffset:3,yoffset:21,xadvance:29,chnl:15,x:19,y:338,page:0},{id:110,index:81,char:"n",width:24,height:28,xoffset:1,yoffset:21,xadvance:26,chnl:15,x:106,y:339,page:0},{id:114,index:85,char:"r",width:17,height:28,xoffset:1,yoffset:21,xadvance:17,chnl:15,x:108,y:159,page:0},{id:117,index:88,char:"u",width:24,height:28,xoffset:1,yoffset:21,xadvance:26,chnl:15,x:80,y:360,page:0},{id:118,index:89,char:"v",width:27,height:28,xoffset:-1,yoffset:21,xadvance:25,chnl:15,x:131,y:339,page:0},{id:120,index:91,char:"x",width:26,height:28,xoffset:-1,yoffset:21,xadvance:25,chnl:15,x:159,y:345,page:0},{id:122,index:93,char:"z",width:23,height:28,xoffset:1,yoffset:21,xadvance:25,chnl:15,x:45,y:361,page:0},{id:58,index:29,char:":",width:10,height:27,xoffset:2,yoffset:22,xadvance:13,chnl:15,x:69,y:361,page:0},{id:126,index:97,char:"~",width:26,height:13,xoffset:2,yoffset:28,xadvance:29,chnl:15,x:0,y:367,page:0},{id:43,index:14,char:"+",width:25,height:25,xoffset:2,yoffset:22,xadvance:29,chnl:15,x:0,y:381,page:0},{id:61,index:32,char:"=",width:24,height:18,xoffset:3,yoffset:25,xadvance:29,chnl:15,x:105,y:368,page:0},{id:95,index:66,char:"_",width:24,height:8,xoffset:-2,yoffset:45,xadvance:20,chnl:15,x:130,y:368,page:0},{id:42,index:13,char:"*",width:21,height:22,xoffset:1,yoffset:13,xadvance:23,chnl:15,x:131,y:88,page:0},{id:94,index:65,char:"^",width:22,height:18,xoffset:0,yoffset:14,xadvance:21,chnl:15,x:186,y:349,page:0},{id:176,index:113,char:"",width:19,height:19,xoffset:1,yoffset:13,xadvance:20,chnl:15,x:34,y:206,page:0},{id:45,index:16,char:"-",width:18,height:8,xoffset:1,yoffset:29,xadvance:20,chnl:15,x:163,y:151,page:0},{id:34,index:5,char:'"',width:17,height:17,xoffset:2,yoffset:13,xadvance:22,chnl:15,x:27,y:367,page:0},{id:39,index:10,char:"'",width:9,height:17,xoffset:2,yoffset:13,xadvance:14,chnl:15,x:45,y:338,page:0},{id:44,index:15,char:",",width:11,height:17,xoffset:1,yoffset:40,xadvance:13,chnl:15,x:55,y:169,page:0},{id:96,index:67,char:"`",width:12,height:10,xoffset:1,yoffset:11,xadvance:15,chnl:15,x:241,y:312,page:0},{id:46,index:17,char:".",width:10,height:10,xoffset:2,yoffset:39,xadvance:13,chnl:15,x:0,y:352,page:0},{id:32,index:3,char:" ",width:0,height:0,xoffset:-2,yoffset:45,xadvance:12,chnl:15,x:72,y:47,page:0}],info:{face:"fixed-font",size:44,bold:0,italic:0,charset:[" ","","!","\\",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","","","","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","","","","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","",""],unicode:1,stretchH:100,smooth:1,aa:1,padding:[2,2,2,2],spacing:[0,0],outline:0},common:{lineHeight:53,base:45,scaleW:256,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},distanceField:{fieldType:"msdf",distanceRange:4},kernings:[{first:176,second:38,amount:-1},{first:176,second:44,amount:-6},{first:176,second:46,amount:-6},{first:176,second:52,amount:-2},{first:176,second:64,amount:-1},{first:176,second:95,amount:-3},{first:92,second:176,amount:-4},{first:92,second:92,amount:-2},{first:92,second:34,amount:-3},{first:92,second:36,amount:0},{first:92,second:39,amount:-3},{first:92,second:42,amount:-4},{first:92,second:43,amount:-1},{first:92,second:45,amount:-1},{first:92,second:47,amount:1},{first:92,second:49,amount:-2},{first:92,second:60,amount:-1},{first:92,second:61,amount:-2},{first:92,second:63,amount:-3},{first:92,second:64,amount:-2},{first:92,second:94,amount:-4},{first:92,second:126,amount:-1},{first:34,second:38,amount:-1},{first:34,second:44,amount:-4},{first:34,second:46,amount:-4},{first:34,second:52,amount:-3},{first:38,second:92,amount:-3},{first:38,second:34,amount:-1},{first:38,second:39,amount:-1},{first:39,second:38,amount:-1},{first:39,second:44,amount:-4},{first:39,second:46,amount:-4},{first:39,second:52,amount:-3},{first:40,second:124,amount:0},{first:42,second:38,amount:-1},{first:42,second:44,amount:-6},{first:42,second:46,amount:-6},{first:42,second:52,amount:-2},{first:42,second:64,amount:-1},{first:42,second:95,amount:-3},{first:43,second:92,amount:-2},{first:43,second:50,amount:-1},{first:43,second:51,amount:0},{first:43,second:55,amount:-1},{first:44,second:32,amount:0},{first:44,second:33,amount:0},{first:44,second:34,amount:-4},{first:44,second:39,amount:-4},{first:44,second:48,amount:-1},{first:44,second:49,amount:-4},{first:44,second:51,amount:-1},{first:44,second:53,amount:-1},{first:44,second:54,amount:-1},{first:44,second:55,amount:-1},{first:44,second:56,amount:-1},{first:44,second:57,amount:0},{first:44,second:63,amount:-4},{first:44,second:64,amount:-2},{first:45,second:92,amount:-2},{first:45,second:50,amount:-1},{first:45,second:51,amount:0},{first:45,second:55,amount:-1},{first:46,second:32,amount:0},{first:46,second:33,amount:0},{first:46,second:34,amount:-4},{first:46,second:39,amount:-4},{first:46,second:48,amount:-1},{first:46,second:49,amount:-4},{first:46,second:51,amount:-1},{first:46,second:53,amount:-1},{first:46,second:54,amount:-1},{first:46,second:55,amount:-1},{first:46,second:56,amount:-1},{first:46,second:57,amount:0},{first:46,second:63,amount:-4},{first:46,second:64,amount:-2},{first:47,second:92,amount:0},{first:47,second:44,amount:-2},{first:47,second:46,amount:-2},{first:48,second:92,amount:-1},{first:48,second:44,amount:-1},{first:48,second:46,amount:-1},{first:48,second:55,amount:-1},{first:48,second:95,amount:-2},{first:49,second:41,amount:0},{first:49,second:93,amount:0},{first:49,second:95,amount:0},{first:49,second:125,amount:0},{first:50,second:52,amount:-1},{first:51,second:176,amount:-1},{first:51,second:42,amount:-1},{first:51,second:44,amount:-1},{first:51,second:46,amount:-1},{first:51,second:94,amount:-1},{first:52,second:176,amount:-1},{first:52,second:42,amount:-1},{first:52,second:44,amount:-1},{first:52,second:46,amount:-1},{first:52,second:49,amount:-1},{first:52,second:94,amount:-1},{first:53,second:176,amount:0},{first:53,second:42,amount:0},{first:53,second:44,amount:-1},{first:53,second:46,amount:-1},{first:53,second:94,amount:0},{first:54,second:44,amount:-1},{first:54,second:46,amount:-1},{first:54,second:95,amount:-2},{first:55,second:35,amount:-2},{first:55,second:38,amount:-2},{first:55,second:44,amount:-5},{first:55,second:46,amount:-5},{first:55,second:48,amount:-1},{first:55,second:51,amount:-1},{first:55,second:52,amount:-3},{first:55,second:53,amount:0},{first:55,second:54,amount:-1},{first:55,second:55,amount:1},{first:55,second:56,amount:-1},{first:55,second:57,amount:0},{first:55,second:58,amount:-1},{first:55,second:59,amount:-1},{first:55,second:60,amount:-4},{first:55,second:95,amount:-7},{first:56,second:176,amount:-1},{first:56,second:42,amount:-1},{first:56,second:44,amount:-1},{first:56,second:46,amount:-1},{first:56,second:94,amount:-1},{first:57,second:92,amount:-1},{first:57,second:44,amount:-1},{first:57,second:46,amount:-1},{first:57,second:55,amount:-1},{first:57,second:95,amount:-2},{first:58,second:92,amount:-3},{first:59,second:92,amount:-3},{first:61,second:92,amount:-3},{first:62,second:92,amount:-3},{first:62,second:55,amount:-3},{first:64,second:92,amount:-2},{first:64,second:44,amount:-2},{first:64,second:46,amount:-2},{first:64,second:47,amount:-2},{first:64,second:95,amount:-2},{first:91,second:124,amount:0},{first:94,second:38,amount:-1},{first:94,second:44,amount:-6},{first:94,second:46,amount:-6},{first:94,second:52,amount:-2},{first:94,second:64,amount:-1},{first:94,second:95,amount:-3},{first:95,second:176,amount:-3},{first:95,second:92,amount:-3},{first:95,second:42,amount:-3},{first:95,second:48,amount:-2},{first:95,second:49,amount:-5},{first:95,second:51,amount:-2},{first:95,second:52,amount:-2},{first:95,second:53,amount:-2},{first:95,second:54,amount:-2},{first:95,second:56,amount:-2},{first:95,second:57,amount:-2},{first:95,second:64,amount:-2},{first:95,second:94,amount:-3},{first:95,second:124,amount:1},{first:123,second:124,amount:0},{first:124,second:41,amount:0},{first:124,second:93,amount:0},{first:124,second:95,amount:0},{first:124,second:125,amount:0},{first:126,second:92,amount:-2},{first:126,second:50,amount:-1},{first:126,second:51,amount:0},{first:126,second:55,amount:-1}]},"semi-bold":{pages:["data:image/webp;base64,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"],chars:[{id:124,index:95,char:"|",width:9,height:57,xoffset:3,yoffset:3,xadvance:16,chnl:15,x:0,y:0,page:0},{id:87,index:58,char:"W",width:47,height:36,xoffset:-1,yoffset:13,xadvance:45,chnl:15,x:10,y:0,page:0},{id:106,index:77,char:"j",width:14,height:47,xoffset:-3,yoffset:11,xadvance:12,chnl:15,x:58,y:0,page:0},{id:214,index:151,char:"",width:33,height:46,xoffset:0,yoffset:4,xadvance:34,chnl:15,x:10,y:37,page:0},{id:220,index:157,char:"",width:30,height:46,xoffset:1,yoffset:4,xadvance:32,chnl:15,x:73,y:0,page:0},{id:36,index:7,char:"$",width:29,height:45,xoffset:0,yoffset:9,xadvance:29,chnl:15,x:104,y:0,page:0},{id:196,index:133,char:"",width:34,height:45,xoffset:-1,yoffset:4,xadvance:32,chnl:15,x:134,y:0,page:0},{id:40,index:11,char:"(",width:15,height:44,xoffset:2,yoffset:11,xadvance:16,chnl:15,x:169,y:0,page:0},{id:41,index:12,char:")",width:15,height:44,xoffset:0,yoffset:11,xadvance:16,chnl:15,x:185,y:0,page:0},{id:64,index:35,char:"@",width:44,height:44,xoffset:0,yoffset:14,xadvance:44,chnl:15,x:201,y:0,page:0},{id:91,index:62,char:"[",width:14,height:44,xoffset:2,yoffset:11,xadvance:16,chnl:15,x:169,y:45,page:0},{id:93,index:64,char:"]",width:14,height:44,xoffset:0,yoffset:11,xadvance:16,chnl:15,x:104,y:46,page:0},{id:123,index:94,char:"{",width:19,height:44,xoffset:1,yoffset:11,xadvance:20,chnl:15,x:73,y:47,page:0},{id:125,index:96,char:"}",width:19,height:44,xoffset:0,yoffset:11,xadvance:20,chnl:15,x:44,y:48,page:0},{id:167,index:105,char:"",width:25,height:43,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:0,y:84,page:0},{id:92,index:63,char:"\\",width:19,height:42,xoffset:-1,yoffset:11,xadvance:17,chnl:15,x:119,y:46,page:0},{id:47,index:18,char:"/",width:19,height:42,xoffset:-1,yoffset:11,xadvance:17,chnl:15,x:139,y:46,page:0},{id:37,index:8,char:"%",width:40,height:37,xoffset:2,yoffset:12,xadvance:44,chnl:15,x:119,y:89,page:0},{id:81,index:52,char:"Q",width:33,height:39,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:64,y:92,page:0},{id:119,index:90,char:"w",width:39,height:28,xoffset:-1,yoffset:21,xadvance:37,chnl:15,x:0,y:128,page:0},{id:77,index:48,char:"M",width:38,height:36,xoffset:1,yoffset:13,xadvance:41,chnl:15,x:184,y:45,page:0},{id:228,index:165,char:"",width:25,height:38,xoffset:0,yoffset:12,xadvance:25,chnl:15,x:223,y:45,page:0},{id:246,index:183,char:"",width:27,height:38,xoffset:0,yoffset:12,xadvance:27,chnl:15,x:184,y:82,page:0},{id:252,index:189,char:"",width:25,height:38,xoffset:1,yoffset:12,xadvance:27,chnl:15,x:212,y:84,page:0},{id:102,index:73,char:"f",width:20,height:38,xoffset:-2,yoffset:11,xadvance:17,chnl:15,x:98,y:91,page:0},{id:103,index:74,char:"g",width:27,height:38,xoffset:0,yoffset:21,xadvance:28,chnl:15,x:160,y:121,page:0},{id:105,index:76,char:"i",width:11,height:38,xoffset:1,yoffset:11,xadvance:12,chnl:15,x:26,y:84,page:0},{id:109,index:80,char:"m",width:38,height:28,xoffset:1,yoffset:21,xadvance:40,chnl:15,x:119,y:127,page:0},{id:38,index:9,char:"&",width:31,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:188,y:123,page:0},{id:48,index:19,char:"0",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:220,y:123,page:0},{id:51,index:22,char:"3",width:27,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:40,y:132,page:0},{id:54,index:25,char:"6",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:0,y:157,page:0},{id:56,index:27,char:"8",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:68,y:132,page:0},{id:57,index:28,char:"9",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:97,y:156,page:0},{id:63,index:34,char:"?",width:24,height:37,xoffset:0,yoffset:13,xadvance:24,chnl:15,x:126,y:156,page:0},{id:67,index:38,char:"C",width:32,height:37,xoffset:0,yoffset:13,xadvance:32,chnl:15,x:151,y:160,page:0},{id:71,index:42,char:"G",width:32,height:37,xoffset:0,yoffset:13,xadvance:33,chnl:15,x:29,y:170,page:0},{id:79,index:50,char:"O",width:33,height:37,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:62,y:170,page:0},{id:83,index:54,char:"S",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:96,y:194,page:0},{id:112,index:83,char:"p",width:27,height:37,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:0,y:195,page:0},{id:113,index:84,char:"q",width:27,height:37,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:28,y:208,page:0},{id:121,index:92,char:"y",width:28,height:37,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:56,y:208,page:0},{id:33,index:4,char:"!",width:11,height:36,xoffset:2,yoffset:13,xadvance:14,chnl:15,x:238,y:84,page:0},{id:35,index:6,char:"#",width:31,height:36,xoffset:-1,yoffset:13,xadvance:28,chnl:15,x:184,y:161,page:0},{id:49,index:20,char:"1",width:17,height:36,xoffset:0,yoffset:13,xadvance:19,chnl:15,x:40,y:93,page:0},{id:50,index:21,char:"2",width:26,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:0,y:233,page:0},{id:52,index:23,char:"4",width:29,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:216,y:161,page:0},{id:53,index:24,char:"5",width:26,height:36,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:126,y:198,page:0},{id:55,index:26,char:"7",width:26,height:36,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:85,y:232,page:0},{id:65,index:36,char:"A",width:34,height:36,xoffset:-1,yoffset:13,xadvance:32,chnl:15,x:27,y:246,page:0},{id:66,index:37,char:"B",width:28,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:153,y:198,page:0},{id:68,index:39,char:"D",width:30,height:36,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:182,y:198,page:0},{id:69,index:40,char:"E",width:25,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:0,y:270,page:0},{id:70,index:41,char:"F",width:24,height:36,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:213,y:198,page:0},{id:72,index:43,char:"H",width:30,height:36,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:112,y:235,page:0},{id:73,index:44,char:"I",width:10,height:36,xoffset:1,yoffset:13,xadvance:12,chnl:15,x:246,y:0,page:0},{id:74,index:45,char:"J",width:25,height:36,xoffset:0,yoffset:13,xadvance:26,chnl:15,x:62,y:269,page:0},{id:75,index:46,char:"K",width:31,height:36,xoffset:1,yoffset:13,xadvance:31,chnl:15,x:26,y:283,page:0},{id:76,index:47,char:"L",width:24,height:36,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:0,y:307,page:0},{id:78,index:49,char:"N",width:31,height:36,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:143,y:235,page:0},{id:80,index:51,char:"P",width:27,height:36,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:175,y:235,page:0},{id:82,index:53,char:"R",width:28,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:203,y:235,page:0},{id:84,index:55,char:"T",width:29,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:0,y:344,page:0},{id:85,index:56,char:"U",width:30,height:36,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:0,y:381,page:0},{id:86,index:57,char:"V",width:34,height:36,xoffset:-1,yoffset:13,xadvance:32,chnl:15,x:30,y:320,page:0},{id:88,index:59,char:"X",width:33,height:36,xoffset:-1,yoffset:13,xadvance:32,chnl:15,x:0,y:418,page:0},{id:89,index:60,char:"Y",width:33,height:36,xoffset:-1,yoffset:13,xadvance:31,chnl:15,x:0,y:455,page:0},{id:90,index:61,char:"Z",width:28,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:31,y:357,page:0},{id:98,index:69,char:"b",width:27,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:34,y:394,page:0},{id:100,index:71,char:"d",width:27,height:36,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:60,y:357,page:0},{id:104,index:75,char:"h",width:25,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:65,y:306,page:0},{id:107,index:78,char:"k",width:26,height:36,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:34,y:431,page:0},{id:108,index:79,char:"l",width:10,height:36,xoffset:1,yoffset:13,xadvance:12,chnl:15,x:93,y:47,page:0},{id:223,index:160,char:"",width:27,height:36,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:34,y:468,page:0},{id:59,index:30,char:";",width:12,height:35,xoffset:1,yoffset:22,xadvance:14,chnl:15,x:88,y:269,page:0},{id:116,index:87,char:"t",width:18,height:34,xoffset:-2,yoffset:15,xadvance:16,chnl:15,x:238,y:198,page:0},{id:97,index:68,char:"a",width:25,height:29,xoffset:0,yoffset:21,xadvance:25,chnl:15,x:61,y:431,page:0},{id:99,index:70,char:"c",width:26,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:62,y:394,page:0},{id:101,index:72,char:"e",width:26,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:88,y:343,page:0},{id:111,index:82,char:"o",width:27,height:29,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:91,y:305,page:0},{id:115,index:86,char:"s",width:24,height:29,xoffset:0,yoffset:21,xadvance:24,chnl:15,x:232,y:235,page:0},{id:60,index:31,char:"<",width:25,height:28,xoffset:2,yoffset:20,xadvance:30,chnl:15,x:101,y:272,page:0},{id:62,index:33,char:">",width:25,height:28,xoffset:3,yoffset:20,xadvance:30,chnl:15,x:62,y:461,page:0},{id:110,index:81,char:"n",width:25,height:28,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:87,y:424,page:0},{id:114,index:85,char:"r",width:18,height:28,xoffset:1,yoffset:21,xadvance:17,chnl:15,x:160,y:90,page:0},{id:117,index:88,char:"u",width:25,height:28,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:89,y:373,page:0},{id:118,index:89,char:"v",width:28,height:28,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:88,y:453,page:0},{id:120,index:91,char:"x",width:27,height:28,xoffset:-1,yoffset:21,xadvance:25,chnl:15,x:88,y:482,page:0},{id:122,index:93,char:"z",width:24,height:28,xoffset:1,yoffset:21,xadvance:25,chnl:15,x:232,y:265,page:0},{id:58,index:29,char:":",width:11,height:27,xoffset:2,yoffset:22,xadvance:14,chnl:15,x:116,y:482,page:0},{id:126,index:97,char:"~",width:27,height:13,xoffset:1,yoffset:28,xadvance:30,chnl:15,x:0,y:492,page:0},{id:43,index:14,char:"+",width:26,height:26,xoffset:2,yoffset:21,xadvance:30,chnl:15,x:113,y:402,page:0},{id:61,index:32,char:"=",width:25,height:19,xoffset:2,yoffset:25,xadvance:30,chnl:15,x:62,y:490,page:0},{id:95,index:66,char:"_",width:25,height:8,xoffset:-2,yoffset:45,xadvance:21,chnl:15,x:113,y:429,page:0},{id:42,index:13,char:"*",width:22,height:22,xoffset:1,yoffset:13,xadvance:24,chnl:15,x:62,y:246,page:0},{id:94,index:65,char:"^",width:22,height:18,xoffset:0,yoffset:14,xadvance:21,chnl:15,x:89,y:402,page:0},{id:176,index:113,char:"",width:19,height:19,xoffset:1,yoffset:13,xadvance:20,chnl:15,x:98,y:130,page:0},{id:34,index:5,char:'"',width:18,height:17,xoffset:2,yoffset:13,xadvance:23,chnl:15,x:117,y:438,page:0},{id:45,index:16,char:"-",width:18,height:9,xoffset:1,yoffset:29,xadvance:20,chnl:15,x:65,y:343,page:0},{id:39,index:10,char:"'",width:10,height:17,xoffset:2,yoffset:13,xadvance:14,chnl:15,x:85,y:208,page:0},{id:44,index:15,char:",",width:12,height:17,xoffset:1,yoffset:40,xadvance:14,chnl:15,x:117,y:456,page:0},{id:96,index:67,char:"`",width:12,height:11,xoffset:1,yoffset:11,xadvance:15,chnl:15,x:128,y:474,page:0},{id:46,index:17,char:".",width:11,height:11,xoffset:2,yoffset:39,xadvance:14,chnl:15,x:130,y:456,page:0},{id:32,index:3,char:" ",width:0,height:0,xoffset:-2,yoffset:45,xadvance:11,chnl:15,x:96,y:170,page:0}],info:{face:"fixed-font",size:44,bold:0,italic:0,charset:[" ","","!","\\",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","","","","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","","","","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","",""],unicode:1,stretchH:100,smooth:1,aa:1,padding:[2,2,2,2],spacing:[0,0],outline:0},common:{lineHeight:53,base:45,scaleW:256,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},distanceField:{fieldType:"msdf",distanceRange:4},kernings:[{first:176,second:38,amount:-1},{first:176,second:44,amount:-6},{first:176,second:46,amount:-6},{first:176,second:52,amount:-2},{first:176,second:64,amount:-1},{first:176,second:95,amount:-3},{first:92,second:176,amount:-4},{first:92,second:92,amount:-2},{first:92,second:34,amount:-3},{first:92,second:36,amount:0},{first:92,second:39,amount:-3},{first:92,second:42,amount:-4},{first:92,second:43,amount:-1},{first:92,second:45,amount:-1},{first:92,second:47,amount:1},{first:92,second:49,amount:-2},{first:92,second:60,amount:-1},{first:92,second:61,amount:-2},{first:92,second:63,amount:-3},{first:92,second:64,amount:-2},{first:92,second:94,amount:-4},{first:92,second:126,amount:-1},{first:34,second:38,amount:-1},{first:34,second:44,amount:-4},{first:34,second:46,amount:-4},{first:34,second:52,amount:-3},{first:38,second:92,amount:-3},{first:38,second:34,amount:-1},{first:38,second:39,amount:-1},{first:39,second:38,amount:-1},{first:39,second:44,amount:-4},{first:39,second:46,amount:-4},{first:39,second:52,amount:-3},{first:40,second:124,amount:1},{first:42,second:38,amount:-1},{first:42,second:44,amount:-6},{first:42,second:46,amount:-6},{first:42,second:52,amount:-2},{first:42,second:64,amount:-1},{first:42,second:95,amount:-3},{first:43,second:92,amount:-2},{first:43,second:50,amount:-1},{first:43,second:51,amount:0},{first:43,second:55,amount:-1},{first:44,second:32,amount:-1},{first:44,second:33,amount:0},{first:44,second:34,amount:-4},{first:44,second:39,amount:-4},{first:44,second:48,amount:-1},{first:44,second:49,amount:-4},{first:44,second:51,amount:-1},{first:44,second:53,amount:0},{first:44,second:54,amount:-1},{first:44,second:55,amount:-1},{first:44,second:56,amount:-1},{first:44,second:57,amount:0},{first:44,second:63,amount:-4},{first:44,second:64,amount:-2},{first:45,second:92,amount:-2},{first:45,second:50,amount:-1},{first:45,second:51,amount:0},{first:45,second:55,amount:-1},{first:46,second:32,amount:-1},{first:46,second:33,amount:0},{first:46,second:34,amount:-4},{first:46,second:39,amount:-4},{first:46,second:48,amount:-1},{first:46,second:49,amount:-4},{first:46,second:51,amount:-1},{first:46,second:53,amount:0},{first:46,second:54,amount:-1},{first:46,second:55,amount:-1},{first:46,second:56,amount:-1},{first:46,second:57,amount:0},{first:46,second:63,amount:-4},{first:46,second:64,amount:-2},{first:47,second:92,amount:0},{first:47,second:44,amount:-2},{first:47,second:46,amount:-2},{first:48,second:92,amount:-1},{first:48,second:44,amount:-1},{first:48,second:46,amount:-1},{first:48,second:55,amount:-1},{first:48,second:95,amount:-2},{first:49,second:41,amount:1},{first:49,second:93,amount:1},{first:49,second:95,amount:1},{first:49,second:125,amount:1},{first:50,second:52,amount:-1},{first:51,second:176,amount:0},{first:51,second:42,amount:0},{first:51,second:44,amount:-1},{first:51,second:46,amount:-1},{first:51,second:94,amount:0},{first:52,second:176,amount:-1},{first:52,second:42,amount:-1},{first:52,second:44,amount:-1},{first:52,second:46,amount:-1},{first:52,second:49,amount:-1},{first:52,second:94,amount:-1},{first:53,second:176,amount:0},{first:53,second:42,amount:0},{first:53,second:44,amount:-1},{first:53,second:46,amount:-1},{first:53,second:94,amount:0},{first:54,second:44,amount:-1},{first:54,second:46,amount:-1},{first:54,second:95,amount:-2},{first:55,second:35,amount:-2},{first:55,second:38,amount:-2},{first:55,second:44,amount:-5},{first:55,second:46,amount:-5},{first:55,second:48,amount:-1},{first:55,second:51,amount:-1},{first:55,second:52,amount:-3},{first:55,second:53,amount:0},{first:55,second:54,amount:-1},{first:55,second:55,amount:1},{first:55,second:56,amount:-1},{first:55,second:57,amount:0},{first:55,second:58,amount:-1},{first:55,second:59,amount:-1},{first:55,second:60,amount:-4},{first:55,second:95,amount:-7},{first:56,second:176,amount:0},{first:56,second:42,amount:0},{first:56,second:44,amount:-1},{first:56,second:46,amount:-1},{first:56,second:94,amount:0},{first:57,second:92,amount:-1},{first:57,second:44,amount:-1},{first:57,second:46,amount:-1},{first:57,second:55,amount:-1},{first:57,second:95,amount:-2},{first:58,second:92,amount:-3},{first:59,second:92,amount:-3},{first:61,second:92,amount:-3},{first:62,second:92,amount:-3},{first:62,second:55,amount:-3},{first:64,second:92,amount:-2},{first:64,second:44,amount:-2},{first:64,second:46,amount:-2},{first:64,second:47,amount:-2},{first:64,second:95,amount:-2},{first:91,second:124,amount:1},{first:94,second:38,amount:-1},{first:94,second:44,amount:-6},{first:94,second:46,amount:-6},{first:94,second:52,amount:-2},{first:94,second:64,amount:-1},{first:94,second:95,amount:-3},{first:95,second:176,amount:-3},{first:95,second:92,amount:-3},{first:95,second:42,amount:-3},{first:95,second:48,amount:-2},{first:95,second:49,amount:-5},{first:95,second:51,amount:-2},{first:95,second:52,amount:-2},{first:95,second:53,amount:-2},{first:95,second:54,amount:-2},{first:95,second:56,amount:-2},{first:95,second:57,amount:-2},{first:95,second:64,amount:-2},{first:95,second:94,amount:-3},{first:95,second:124,amount:1},{first:123,second:124,amount:1},{first:124,second:41,amount:1},{first:124,second:93,amount:1},{first:124,second:95,amount:1},{first:124,second:125,amount:1},{first:126,second:92,amount:-2},{first:126,second:50,amount:-1},{first:126,second:51,amount:0},{first:126,second:55,amount:-1}]},bold:{pages:["data:image/webp;base64,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"],chars:[{id:124,index:95,char:"|",width:10,height:57,xoffset:3,yoffset:3,xadvance:16,chnl:15,x:0,y:0,page:0},{id:87,index:58,char:"W",width:48,height:36,xoffset:-1,yoffset:13,xadvance:46,chnl:15,x:11,y:0,page:0},{id:106,index:77,char:"j",width:15,height:47,xoffset:-3,yoffset:11,xadvance:12,chnl:15,x:60,y:0,page:0},{id:196,index:133,char:"",width:35,height:46,xoffset:-1,yoffset:3,xadvance:33,chnl:15,x:11,y:37,page:0},{id:214,index:151,char:"",width:34,height:46,xoffset:0,yoffset:3,xadvance:34,chnl:15,x:76,y:0,page:0},{id:220,index:157,char:"",width:30,height:46,xoffset:1,yoffset:3,xadvance:32,chnl:15,x:111,y:0,page:0},{id:36,index:7,char:"$",width:29,height:45,xoffset:0,yoffset:9,xadvance:29,chnl:15,x:142,y:0,page:0},{id:64,index:35,char:"@",width:45,height:45,xoffset:0,yoffset:13,xadvance:45,chnl:15,x:172,y:0,page:0},{id:40,index:11,char:"(",width:16,height:44,xoffset:2,yoffset:11,xadvance:17,chnl:15,x:218,y:0,page:0},{id:41,index:12,char:")",width:16,height:44,xoffset:-1,yoffset:11,xadvance:17,chnl:15,x:235,y:0,page:0},{id:91,index:62,char:"[",width:14,height:44,xoffset:2,yoffset:11,xadvance:17,chnl:15,x:218,y:45,page:0},{id:93,index:64,char:"]",width:15,height:44,xoffset:0,yoffset:11,xadvance:17,chnl:15,x:233,y:45,page:0},{id:123,index:94,char:"{",width:19,height:44,xoffset:1,yoffset:11,xadvance:21,chnl:15,x:142,y:46,page:0},{id:125,index:96,char:"}",width:19,height:44,xoffset:0,yoffset:11,xadvance:21,chnl:15,x:162,y:46,page:0},{id:167,index:105,char:"",width:25,height:43,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:182,y:46,page:0},{id:92,index:63,char:"\\",width:20,height:42,xoffset:-1,yoffset:11,xadvance:17,chnl:15,x:76,y:47,page:0},{id:47,index:18,char:"/",width:20,height:42,xoffset:-1,yoffset:11,xadvance:17,chnl:15,x:47,y:48,page:0},{id:37,index:8,char:"%",width:41,height:37,xoffset:2,yoffset:12,xadvance:45,chnl:15,x:97,y:47,page:0},{id:119,index:90,char:"w",width:40,height:28,xoffset:-1,yoffset:21,xadvance:37,chnl:15,x:97,y:85,page:0},{id:77,index:48,char:"M",width:39,height:36,xoffset:1,yoffset:13,xadvance:41,chnl:15,x:0,y:84,page:0},{id:81,index:52,char:"Q",width:34,height:39,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:40,y:91,page:0},{id:109,index:80,char:"m",width:39,height:28,xoffset:1,yoffset:21,xadvance:40,chnl:15,x:0,y:121,page:0},{id:228,index:165,char:"",width:25,height:38,xoffset:-1,yoffset:11,xadvance:26,chnl:15,x:182,y:90,page:0},{id:246,index:183,char:"",width:28,height:38,xoffset:0,yoffset:11,xadvance:27,chnl:15,x:138,y:91,page:0},{id:252,index:189,char:"",width:26,height:38,xoffset:1,yoffset:11,xadvance:27,chnl:15,x:208,y:90,page:0},{id:102,index:73,char:"f",width:21,height:38,xoffset:-2,yoffset:11,xadvance:18,chnl:15,x:75,y:90,page:0},{id:103,index:74,char:"g",width:27,height:38,xoffset:0,yoffset:21,xadvance:28,chnl:15,x:97,y:114,page:0},{id:105,index:76,char:"i",width:11,height:38,xoffset:0,yoffset:11,xadvance:12,chnl:15,x:125,y:114,page:0},{id:38,index:9,char:"&",width:32,height:37,xoffset:0,yoffset:13,xadvance:30,chnl:15,x:40,y:131,page:0},{id:48,index:19,char:"0",width:30,height:37,xoffset:0,yoffset:13,xadvance:30,chnl:15,x:0,y:150,page:0},{id:51,index:22,char:"3",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:167,y:129,page:0},{id:54,index:25,char:"6",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:137,y:130,page:0},{id:56,index:27,char:"8",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:196,y:129,page:0},{id:57,index:28,char:"9",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:226,y:129,page:0},{id:63,index:34,char:"?",width:25,height:37,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:73,y:153,page:0},{id:67,index:38,char:"C",width:33,height:37,xoffset:0,yoffset:13,xadvance:33,chnl:15,x:99,y:153,page:0},{id:71,index:42,char:"G",width:33,height:37,xoffset:0,yoffset:13,xadvance:33,chnl:15,x:31,y:169,page:0},{id:79,index:50,char:"O",width:34,height:37,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:167,y:167,page:0},{id:83,index:54,char:"S",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:0,y:188,page:0},{id:112,index:83,char:"p",width:27,height:37,xoffset:1,yoffset:21,xadvance:28,chnl:15,x:133,y:168,page:0},{id:113,index:84,char:"q",width:27,height:37,xoffset:0,yoffset:21,xadvance:28,chnl:15,x:202,y:167,page:0},{id:121,index:92,char:"y",width:29,height:37,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:65,y:191,page:0},{id:33,index:4,char:"!",width:12,height:36,xoffset:2,yoffset:13,xadvance:15,chnl:15,x:167,y:91,page:0},{id:35,index:6,char:"#",width:32,height:36,xoffset:-2,yoffset:13,xadvance:29,chnl:15,x:30,y:207,page:0},{id:49,index:20,char:"1",width:18,height:36,xoffset:0,yoffset:13,xadvance:19,chnl:15,x:235,y:90,page:0},{id:50,index:21,char:"2",width:27,height:36,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:0,y:226,page:0},{id:52,index:23,char:"4",width:30,height:36,xoffset:0,yoffset:13,xadvance:30,chnl:15,x:95,y:191,page:0},{id:53,index:24,char:"5",width:27,height:36,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:161,y:205,page:0},{id:55,index:26,char:"7",width:26,height:36,xoffset:0,yoffset:13,xadvance:26,chnl:15,x:230,y:167,page:0},{id:65,index:36,char:"A",width:35,height:36,xoffset:-1,yoffset:13,xadvance:33,chnl:15,x:95,y:228,page:0},{id:66,index:37,char:"B",width:29,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:131,y:206,page:0},{id:68,index:39,char:"D",width:31,height:36,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:63,y:229,page:0},{id:69,index:40,char:"E",width:25,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:230,y:204,page:0},{id:70,index:41,char:"F",width:25,height:36,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:28,y:244,page:0},{id:72,index:43,char:"H",width:31,height:36,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:189,y:205,page:0},{id:73,index:44,char:"I",width:11,height:36,xoffset:1,yoffset:13,xadvance:12,chnl:15,x:0,y:263,page:0},{id:74,index:45,char:"J",width:25,height:36,xoffset:-1,yoffset:13,xadvance:26,chnl:15,x:221,y:241,page:0},{id:75,index:46,char:"K",width:32,height:36,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:161,y:242,page:0},{id:76,index:47,char:"L",width:24,height:36,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:194,y:242,page:0},{id:78,index:49,char:"N",width:32,height:36,xoffset:1,yoffset:13,xadvance:34,chnl:15,x:219,y:278,page:0},{id:80,index:51,char:"P",width:28,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:131,y:243,page:0},{id:82,index:53,char:"R",width:29,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:95,y:265,page:0},{id:84,index:55,char:"T",width:30,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:54,y:266,page:0},{id:85,index:56,char:"U",width:30,height:36,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:12,y:281,page:0},{id:86,index:57,char:"V",width:35,height:36,xoffset:-1,yoffset:13,xadvance:33,chnl:15,x:160,y:279,page:0},{id:88,index:59,char:"X",width:34,height:36,xoffset:-1,yoffset:13,xadvance:32,chnl:15,x:125,y:280,page:0},{id:89,index:60,char:"Y",width:34,height:36,xoffset:-1,yoffset:13,xadvance:32,chnl:15,x:85,y:302,page:0},{id:90,index:61,char:"Z",width:28,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:43,y:303,page:0},{id:98,index:69,char:"b",width:27,height:36,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:0,y:318,page:0},{id:100,index:71,char:"d",width:27,height:36,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:196,y:315,page:0},{id:104,index:75,char:"h",width:26,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:224,y:315,page:0},{id:107,index:78,char:"k",width:27,height:36,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:160,y:316,page:0},{id:108,index:79,char:"l",width:10,height:36,xoffset:1,yoffset:13,xadvance:12,chnl:15,x:72,y:303,page:0},{id:223,index:160,char:"",width:28,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:120,y:317,page:0},{id:59,index:30,char:";",width:13,height:35,xoffset:1,yoffset:22,xadvance:15,chnl:15,x:196,y:279,page:0},{id:116,index:87,char:"t",width:19,height:34,xoffset:-2,yoffset:15,xadvance:16,chnl:15,x:83,y:339,page:0},{id:60,index:31,char:"<",width:26,height:29,xoffset:2,yoffset:20,xadvance:30,chnl:15,x:28,y:340,page:0},{id:62,index:33,char:">",width:26,height:29,xoffset:2,yoffset:20,xadvance:30,chnl:15,x:0,y:355,page:0},{id:97,index:68,char:"a",width:25,height:29,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:55,y:340,page:0},{id:99,index:70,char:"c",width:26,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:27,y:370,page:0},{id:101,index:72,char:"e",width:27,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:54,y:370,page:0},{id:111,index:82,char:"o",width:28,height:29,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:188,y:352,page:0},{id:115,index:86,char:"s",width:25,height:29,xoffset:0,yoffset:21,xadvance:25,chnl:15,x:0,y:385,page:0},{id:118,index:89,char:"v",width:29,height:28,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:149,y:353,page:0},{id:110,index:81,char:"n",width:26,height:28,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:217,y:352,page:0},{id:114,index:85,char:"r",width:18,height:28,xoffset:1,yoffset:21,xadvance:18,chnl:15,x:217,y:381,page:0},{id:117,index:88,char:"u",width:26,height:28,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:103,y:354,page:0},{id:120,index:91,char:"x",width:28,height:28,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:130,y:382,page:0},{id:122,index:93,char:"z",width:24,height:28,xoffset:1,yoffset:21,xadvance:25,chnl:15,x:82,y:383,page:0},{id:58,index:29,char:":",width:11,height:27,xoffset:2,yoffset:22,xadvance:15,chnl:15,x:130,y:354,page:0},{id:126,index:97,char:"~",width:27,height:14,xoffset:1,yoffset:27,xadvance:30,chnl:15,x:26,y:400,page:0},{id:43,index:14,char:"+",width:26,height:26,xoffset:2,yoffset:21,xadvance:30,chnl:15,x:54,y:400,page:0},{id:61,index:32,char:"=",width:25,height:20,xoffset:2,yoffset:24,xadvance:30,chnl:15,x:0,y:415,page:0},{id:95,index:66,char:"_",width:25,height:9,xoffset:-2,yoffset:45,xadvance:21,chnl:15,x:26,y:415,page:0},{id:42,index:13,char:"*",width:22,height:22,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:107,y:383,page:0},{id:94,index:65,char:"^",width:22,height:18,xoffset:-1,yoffset:14,xadvance:21,chnl:15,x:107,y:406,page:0},{id:34,index:5,char:'"',width:20,height:17,xoffset:2,yoffset:13,xadvance:24,chnl:15,x:236,y:381,page:0},{id:176,index:113,char:"",width:19,height:19,xoffset:0,yoffset:13,xadvance:20,chnl:15,x:236,y:399,page:0},{id:45,index:16,char:"-",width:19,height:9,xoffset:1,yoffset:29,xadvance:21,chnl:15,x:75,y:129,page:0},{id:39,index:10,char:"'",width:10,height:17,xoffset:2,yoffset:13,xadvance:15,chnl:15,x:0,y:58,page:0},{id:44,index:15,char:",",width:12,height:17,xoffset:1,yoffset:40,xadvance:15,chnl:15,x:12,y:263,page:0},{id:96,index:67,char:"`",width:13,height:11,xoffset:1,yoffset:11,xadvance:16,chnl:15,x:28,y:318,page:0},{id:46,index:17,char:".",width:11,height:11,xoffset:2,yoffset:38,xadvance:15,chnl:15,x:0,y:300,page:0},{id:32,index:3,char:" ",width:0,height:0,xoffset:-2,yoffset:45,xadvance:10,chnl:15,x:137,y:114,page:0}],info:{face:"fixed-font",size:44,bold:0,italic:0,charset:[" ","","!","\\",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","","","","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","","","","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","",""],unicode:1,stretchH:100,smooth:1,aa:1,padding:[2,2,2,2],spacing:[0,0],outline:0},common:{lineHeight:53,base:45,scaleW:256,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},distanceField:{fieldType:"msdf",distanceRange:4},kernings:[{first:176,second:38,amount:-1},{first:176,second:44,amount:-6},{first:176,second:46,amount:-6},{first:176,second:52,amount:-2},{first:176,second:64,amount:-1},{first:176,second:95,amount:-3},{first:92,second:176,amount:-4},{first:92,second:92,amount:-2},{first:92,second:34,amount:-3},{first:92,second:36,amount:-1},{first:92,second:39,amount:-3},{first:92,second:42,amount:-4},{first:92,second:43,amount:-1},{first:92,second:45,amount:-1},{first:92,second:47,amount:1},{first:92,second:49,amount:-2},{first:92,second:60,amount:-2},{first:92,second:61,amount:-2},{first:92,second:63,amount:-3},{first:92,second:64,amount:-2},{first:92,second:94,amount:-4},{first:92,second:126,amount:-1},{first:34,second:38,amount:-1},{first:34,second:44,amount:-4},{first:34,second:46,amount:-4},{first:34,second:52,amount:-3},{first:38,second:92,amount:-3},{first:38,second:34,amount:-1},{first:38,second:39,amount:-1},{first:39,second:38,amount:-1},{first:39,second:44,amount:-4},{first:39,second:46,amount:-4},{first:39,second:52,amount:-3},{first:40,second:124,amount:1},{first:42,second:38,amount:-1},{first:42,second:44,amount:-6},{first:42,second:46,amount:-6},{first:42,second:52,amount:-2},{first:42,second:64,amount:-1},{first:42,second:95,amount:-3},{first:43,second:92,amount:-2},{first:43,second:50,amount:-1},{first:43,second:51,amount:0},{first:43,second:55,amount:-1},{first:44,second:32,amount:-1},{first:44,second:33,amount:-1},{first:44,second:34,amount:-4},{first:44,second:39,amount:-4},{first:44,second:48,amount:-1},{first:44,second:49,amount:-4},{first:44,second:51,amount:-1},{first:44,second:53,amount:0},{first:44,second:54,amount:-1},{first:44,second:55,amount:-1},{first:44,second:56,amount:-1},{first:44,second:57,amount:-1},{first:44,second:63,amount:-4},{first:44,second:64,amount:-2},{first:45,second:92,amount:-2},{first:45,second:50,amount:-1},{first:45,second:51,amount:0},{first:45,second:55,amount:-1},{first:46,second:32,amount:-1},{first:46,second:33,amount:-1},{first:46,second:34,amount:-4},{first:46,second:39,amount:-4},{first:46,second:48,amount:-1},{first:46,second:49,amount:-4},{first:46,second:51,amount:-1},{first:46,second:53,amount:0},{first:46,second:54,amount:-1},{first:46,second:55,amount:-1},{first:46,second:56,amount:-1},{first:46,second:57,amount:-1},{first:46,second:63,amount:-4},{first:46,second:64,amount:-2},{first:47,second:92,amount:0},{first:47,second:44,amount:-2},{first:47,second:46,amount:-2},{first:48,second:92,amount:-1},{first:48,second:44,amount:-1},{first:48,second:46,amount:-1},{first:48,second:55,amount:-1},{first:48,second:95,amount:-2},{first:49,second:41,amount:1},{first:49,second:93,amount:1},{first:49,second:95,amount:1},{first:49,second:125,amount:1},{first:50,second:52,amount:-1},{first:51,second:176,amount:0},{first:51,second:42,amount:0},{first:51,second:44,amount:-1},{first:51,second:46,amount:-1},{first:51,second:94,amount:0},{first:52,second:176,amount:-2},{first:52,second:42,amount:-2},{first:52,second:44,amount:-1},{first:52,second:46,amount:-1},{first:52,second:49,amount:-2},{first:52,second:94,amount:-2},{first:53,second:176,amount:0},{first:53,second:42,amount:0},{first:53,second:44,amount:-1},{first:53,second:46,amount:-1},{first:53,second:94,amount:0},{first:54,second:44,amount:-1},{first:54,second:46,amount:-1},{first:54,second:95,amount:-2},{first:55,second:35,amount:-2},{first:55,second:38,amount:-2},{first:55,second:44,amount:-5},{first:55,second:46,amount:-5},{first:55,second:48,amount:-1},{first:55,second:51,amount:-1},{first:55,second:52,amount:-3},{first:55,second:53,amount:0},{first:55,second:54,amount:-1},{first:55,second:55,amount:1},{first:55,second:56,amount:-1},{first:55,second:57,amount:0},{first:55,second:58,amount:-1},{first:55,second:59,amount:-1},{first:55,second:60,amount:-4},{first:55,second:95,amount:-7},{first:56,second:176,amount:0},{first:56,second:42,amount:0},{first:56,second:44,amount:-1},{first:56,second:46,amount:-1},{first:56,second:94,amount:0},{first:57,second:92,amount:-1},{first:57,second:44,amount:-1},{first:57,second:46,amount:-1},{first:57,second:55,amount:-1},{first:57,second:95,amount:-2},{first:58,second:92,amount:-3},{first:59,second:92,amount:-3},{first:61,second:92,amount:-3},{first:62,second:92,amount:-3},{first:62,second:55,amount:-3},{first:64,second:92,amount:-2},{first:64,second:44,amount:-2},{first:64,second:46,amount:-2},{first:64,second:47,amount:-2},{first:64,second:95,amount:-2},{first:91,second:124,amount:1},{first:94,second:38,amount:-1},{first:94,second:44,amount:-6},{first:94,second:46,amount:-6},{first:94,second:52,amount:-2},{first:94,second:64,amount:-1},{first:94,second:95,amount:-3},{first:95,second:176,amount:-3},{first:95,second:92,amount:-3},{first:95,second:42,amount:-3},{first:95,second:48,amount:-2},{first:95,second:49,amount:-5},{first:95,second:51,amount:-2},{first:95,second:52,amount:-2},{first:95,second:53,amount:-2},{first:95,second:54,amount:-2},{first:95,second:56,amount:-2},{first:95,second:57,amount:-2},{first:95,second:64,amount:-2},{first:95,second:94,amount:-3},{first:95,second:124,amount:1},{first:123,second:124,amount:1},{first:124,second:41,amount:1},{first:124,second:93,amount:1},{first:124,second:95,amount:1},{first:124,second:125,amount:1},{first:126,second:92,amount:-2},{first:126,second:50,amount:-1},{first:126,second:51,amount:0},{first:126,second:55,amount:-1}]}},Yp={thin:100,"extra-light":200,light:300,normal:400,medium:500,"semi-bold":600,bold:700,"extra-bold":800,black:900,"extra-black":950},MU={inter:SU};function w2(n,e){return be(()=>{const t=n.value.fontFamilies,s=e.value?.fontFamilies.value;return s==null?t:t==null?s:{...s,...t}})}function TU(n,e){const t=bt(void 0);return Gi(()=>{let s=n.value.fontWeight;if(typeof s=="string"&&(s=parseFloat(s),isNaN(s))){if(s=n.value.fontWeight,!(s in Yp))throw new Error(`unknown font weight "${s}"`);s=Yp[s]}let i=n.value.fontFamily;const r=e.value??MU;i??=Object.keys(r)[0];let o=r[i];if(o==null){const c=Object.keys(r);o=r[c[0]],console.error(`unknown font family "${i}". Available font families are ${c.map(d=>`"${d}"`).join(", ")}. Falling back to "${c[0]}".`)}const a=PU(o,s);let l=!1;return BU(a,c=>!l&&(t.value=c)),()=>l=!0}),t}function PU(n,e){let t=1/0,s;for(const i in n){const r=Math.abs(e-RU(i));if(r===0)return n[i];r<t&&(t=r,s=n[i])}if(s==null)throw new Error(`font family has no entries ${n}`);return s}function RU(n){if(n in Yp)return Yp[n];const e=parseFloat(n);if(isNaN(e))throw new Error(`invalid font weight "${n}"`);return e}class QU{page;glyphInfoMap=new Map;kerningMap=new Map;questionmarkGlyphInfo;pageWidth;pageHeight;distanceRange;constructor(e,t){this.page=t;const{scaleW:s,scaleH:i,lineHeight:r}=e.common;this.pageWidth=s,this.pageHeight=i,this.distanceRange=e.distanceField.distanceRange;const{size:o}=e.info;for(const l of e.chars)l.uvX=l.x/s,l.uvY=l.y/i,l.uvWidth=l.width/s,l.uvHeight=l.height/i,l.width/=o,l.height/=o,l.xadvance/=o,l.xoffset/=o,l.yoffset-=r-o,l.yoffset/=o,this.glyphInfoMap.set(l.char,l);for(const{first:l,second:c,amount:d}of e.kernings)this.kerningMap.set(`${l}/${c}`,d/o);const a=this.glyphInfoMap.get("?");if(a==null)throw new Error("missing '?' glyph in font");this.questionmarkGlyphInfo=a}getGlyphInfo(e){return this.glyphInfoMap.get(e)??(e==`
`?this.glyphInfoMap.get(" "):this.questionmarkGlyphInfo)??this.questionmarkGlyphInfo}getKerning(e,t){return this.kerningMap.get(`${e}/${t}`)??0}}function DU(n,e,t){e[t+0]=n.uvX,e[t+1]=n.uvY+n.uvHeight,e[t+2]=n.uvWidth,e[t+3]=-n.uvHeight}function LU(n,e,{fontSize:t,letterSpacing:s,lineHeight:i,wordBreak:r}){const o=Ln(t);let a;return typeof i=="string"&&i.endsWith("px")?a=parseFloat(i):a=o*Ln(i,()=>1),{font:n,text:e,fontSize:o,letterSpacing:Ln(s),lineHeight:a,wordBreak:r}}const kU=/[\t\n ]+/gm,FU=/[\t ]+/g,UU=/[\t ]*\n[\t ]*/gm,OU=/^[ \t]+|[ \t]+$/g;function GU(n,e,t){return be(()=>{const s=e.value;if(s==null)return;const i=n.value.text;let r=Array.isArray(i)?i.map(oC).join(""):oC(i);const o=n.value.tabSize;switch(n.value.whiteSpace){case"pre":r=r.replaceAll("	"," ".repeat(o));break;case"pre-line":r=r.replaceAll(FU," ").replaceAll(UU,`
`).replaceAll(OU,"");break;default:r=r.replaceAll(kU," ").trim();break}const l=LU(s,r,n.value);t.current=l;const{width:c}=v0(l,0),{height:d}=v0(l,void 0);return{minHeight:d,minWidth:c,measure:(u,h)=>v0(l,h===qA.Undefined?void 0:u)}})}function oC(n){return n instanceof $s&&(n=n.value),n==null?"":String(n)}const B2={"keep-all":CU,"break-all":EU,"break-word":bU},$f={};function v0(n,e){const t=B2[n.wordBreak],s=n.text;let i=0,r=0,o=0;for(;o<s.length;)t(n,e,o,$f),i=Math.max(i,$f.nonWhitespaceWidth),r+=1,o=$f.charLength+$f.charIndexOffset;return s[s.length-1]===`
`&&(r+=1),{width:i,height:dy(r,n.lineHeight)}}function HU(n,e,t){const s=[],i=B2[n.wordBreak],r=n.text;let o=0;for(;o<r.length;){const a={};i(n,e,o,a),s.push(a),o=a.charLength+a.charIndexOffset}return(s.length===0||r[r.length-1]===`
`)&&s.push({charLength:0,nonWhitespaceWidth:0,whitespacesBetween:0,charIndexOffset:r.length,nonWhitespaceCharLength:0}),{lines:s,availableHeight:t,availableWidth:e,...n}}class zU extends Nt{constructor(e){super({transparent:!0,depthWrite:!1,toneMapped:!1}),this.onBeforeCompile=(t,s)=>{e.page.anisotropy=s.capabilities.getMaxAnisotropy(),t.uniforms.fontPage={value:e.page},t.uniforms.pageSize={value:[e.pageWidth,e.pageHeight]},t.uniforms.distanceRange={value:e.distanceRange},t.vertexShader=`attribute vec4 instanceUVOffset;
        varying vec2 fontUv;
        attribute vec4 instanceRGBA;
        varying vec4 rgba;
        attribute mat4 instanceClipping;
        varying mat4 clipping;
        varying vec3 localPosition;
        `+t.vertexShader,t.vertexShader=t.vertexShader.replace("#include <uv_vertex>",`#include <uv_vertex>
            fontUv = instanceUVOffset.xy + uv * instanceUVOffset.zw;
            rgba = instanceRGBA;
            clipping = instanceClipping;
            localPosition = (instanceMatrix * vec4(position, 1.0)).xyz;`),t.fragmentShader=`uniform sampler2D fontPage;
            uniform vec2 pageSize;
            uniform int distanceRange;
        varying vec2 fontUv;
        varying vec4 rgba;
        varying mat4 clipping;
        varying vec3 localPosition;
        float median(float r, float g, float b) {
            return max(min(r, g), min(max(r, g), b));
        }
        float getDistance() {
            vec3 msdf = texture(fontPage, fontUv).rgb;
            return median(msdf.r, msdf.g, msdf.b);
        }
        `+t.fragmentShader,t.fragmentShader=t.fragmentShader.replace("#include <map_fragment>",` #include <map_fragment>
          vec4 plane;
          float distanceToPlane, distanceGradient;
          float clipOpacity = 1.0;
          for(int i = 0; i < 4; i++) {
            plane = clipping[ i ];
            distanceToPlane = dot( localPosition, plane.xyz ) + plane.w;
            distanceGradient = fwidth( distanceToPlane ) / 2.0;
            clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );

            if ( clipOpacity == 0.0 ) discard;
          }
          // Distance to the edge of the glyph in texels.
          float dist = (getDistance() - 0.5) * float(distanceRange);

          // Calculate the antialiasing distance based on the number of texels per screen pixel.
          float aaDist = length(fwidth(fontUv * pageSize)) * 0.5;

          // Clamp the antialiasing distance to avoid excessive blurring.
          aaDist = clamp(aaDist, 0.0, float(distanceRange) * 0.5);

          float alpha = smoothstep(-aaDist, aaDist, dist);

          if (alpha <= 0.0) discard;

          // Apply gamma correction to improve text appearance.
          float gamma = 1.3;
          alpha = pow(alpha, 1.0 / gamma);

          diffuseColor.a *= clipOpacity * alpha;
          diffuseColor *= rgba;
            `)}}}class Bh extends it{root;instanceMatrix;instanceRGBA;instanceUV;instanceClipping;count=0;isInstancedMesh=!0;instanceColor=null;morphTexture=null;boundingBox=new Jt;boundingSphere=new Ps;customUpdateMatrixWorld=()=>Zl(this.root,this.matrixWorld);constructor(e,t,s,i,r,o){const a=new Us;a.translate(.5,-.5,0),super(a,o),this.root=e,this.instanceMatrix=t,this.instanceRGBA=s,this.instanceUV=i,this.instanceClipping=r,this.pointerEvents="none",a.attributes.instanceUVOffset=i,a.attributes.instanceRGBA=s,a.attributes.instanceClipping=r,this.frustumCulled=!1,e.onUpdateMatrixWorldSet.add(this.customUpdateMatrixWorld)}copy(){throw new Error("copy not implemented")}dispose(){this.root.onUpdateMatrixWorldSet.delete(this.customUpdateMatrixWorld),this.dispatchEvent({type:"dispose"}),this.geometry.dispose()}computeBoundingBox(){}computeBoundingSphere(){}updateMorphTargets(){}raycast(){}spherecast(){}}const aC=new Je,VU=new Je;function qU(n){return be(()=>({font:n.value}))}class WU{group;baseMatrix;color;opacity;clippingRect;index;hidden=!0;glyphInfo;x=0;y=0;fontSize=0;pixelSize=0;constructor(e,t,s,i,r){this.group=e,this.baseMatrix=t,this.color=s,this.opacity=i,this.clippingRect=r}getX(e){return this.glyphInfo==null?this.x:this.x+e*this.glyphInfo.width*this.fontSize}show(){this.hidden&&(this.hidden=!1,this.group.requestActivate(this))}hide(){this.hidden||(this.hidden=!0,this.group.delete(this))}activate(e){this.index=e,this.writeUpdatedMatrix(),this.writeUV(),this.updateColor(this.color,this.opacity),this.updateClippingRect(this.clippingRect)}setIndex(e){this.index=e}updateClippingRect(e){if(this.clippingRect=e,this.index==null)return;const t=this.index*16,{instanceClipping:s,root:i}=this.group;this.clippingRect==null?s.set(qp,t):this.clippingRect.toArray(s.array,t),s.addUpdateRange(t,16),s.needsUpdate=!0,i.requestRender?.()}updateColor(e,t){if(this.color=e,this.opacity=t,this.index==null)return;const{instanceRGBA:s,root:i}=this.group,r=s.itemSize*this.index;vo(s.array,r,e,t),s.addUpdateRange(r,4),s.needsUpdate=!0,i.requestRender?.()}updateGlyphAndTransformation(e,t,s,i,r){this.glyphInfo===e&&this.x===t&&this.y===s&&this.fontSize===i&&this.pixelSize===r||(this.glyphInfo!=e&&(this.glyphInfo=e,this.writeUV()),this.x=t,this.y=s,this.fontSize=i,this.pixelSize=r,this.writeUpdatedMatrix())}updateBaseMatrix(e){this.baseMatrix!==e&&(this.baseMatrix=e,this.writeUpdatedMatrix())}writeUV(){if(this.index==null||this.glyphInfo==null)return;const e=this.index*4,{instanceUV:t,root:s}=this.group;DU(this.glyphInfo,t.array,e),t.addUpdateRange(e,4),t.needsUpdate=!0,s.requestRender?.()}writeUpdatedMatrix(){if(this.index==null||this.glyphInfo==null||this.baseMatrix==null)return;const e=this.index*16,{instanceMatrix:t,root:s}=this.group;t.addUpdateRange(e,16),aC.makeTranslation(this.x*this.pixelSize,this.y*this.pixelSize,0).multiply(VU.makeScale(this.fontSize*this.glyphInfo.width*this.pixelSize,this.fontSize*this.glyphInfo.height*this.pixelSize,1)).premultiply(this.baseMatrix),aC.toArray(t.array,e),t.needsUpdate=!0,s.requestRender?.()}}class XU{root;object;map=new Map;constructor(e,t){this.root=e,this.object=t}init(e){const t=s=>this.traverse(i=>i.onFrame(s));this.root.onFrameSet.add(t),e.addEventListener("abort",()=>{this.root.onFrameSet.delete(t),this.traverse(s=>s.destroy())})}traverse(e){for(const t of this.map.values())for(const s of t.values())e(s)}getGroup({majorIndex:e,minorIndex:t},s,i,r,o){let a=this.map.get(o);a==null&&this.map.set(o,a=new Map);const l=[e,t,s,i,r].join(",");let c=a?.get(l);return c==null&&a.set(l,c=new YU(this.object,o,this.root,{majorIndex:e,minorIndex:t,elementType:Br.Text,patchIndex:0},s,i,r)),c}}class YU{object;root;orderInfo;renderOrder;instanceMatrix;instanceUV;instanceRGBA;instanceClipping;glyphs=[];requestedGlyphs=[];holeIndicies=[];mesh;instanceMaterial;timeTillDecimate;constructor(e,t,s,i,r,o,a){this.object=e,this.root=s,this.orderInfo=i,this.renderOrder=a,this.instanceMaterial=new zU(t),this.instanceMaterial.depthTest=r,this.instanceMaterial.depthWrite=o}requestActivate(e){const t=this.holeIndicies.shift();if(t!=null){this.glyphs[t]=e,e.activate(t),this.root.requestRender?.();return}if(this.mesh==null||this.mesh.count>=this.instanceMatrix.count){this.requestedGlyphs.push(e),this.root.requestFrame?.();return}const s=this.mesh.count;this.glyphs[s]=e,e.activate(s),this.mesh.count+=1,this.root.requestRender?.()}delete(e){if(e.index==null){const i=this.requestedGlyphs.indexOf(e);if(i===-1)return;this.requestedGlyphs.splice(i,1);return}this.root.requestRender?.();const t=this.requestedGlyphs.shift();if(t!=null){t.activate(e.index),this.glyphs[e.index]=t,e.index=void 0;return}if(e.index===this.glyphs.length-1){this.glyphs.length-=1,this.mesh.count-=1,e.index=void 0;return}const s=e.index*16;this.instanceMatrix.array.fill(0,s,s+16),this.instanceMatrix.addUpdateRange(s,16),this.instanceMatrix.needsUpdate=!0,this.holeIndicies.push(e.index),this.glyphs[e.index]=void 0,e.index=void 0}onFrame(e){const t=this.glyphs.length-this.holeIndicies.length+this.requestedGlyphs.length;if(this.mesh!=null&&(this.mesh.visible=t>0),t===0)return;const s=this.instanceMatrix?.count??0;if(t<s/3?this.timeTillDecimate??=1:this.timeTillDecimate=void 0,this.timeTillDecimate!=null&&(this.timeTillDecimate-=e),(this.timeTillDecimate==null||this.timeTillDecimate>0)&&t<=s)return;this.timeTillDecimate=void 0,this.resize(t);const i=this.mesh.count,r=this.requestedGlyphs.length;for(let o=0;o<r;o++){const a=this.requestedGlyphs[o];a.activate(i+o),this.glyphs[i+o]=a}this.mesh.count+=r,this.mesh.visible=!0,this.requestedGlyphs.length=0}resize(e){const t=Math.ceil(e*1.5),s=new Float32Array(t*16),i=new Float32Array(t*4),r=new Float32Array(t*4),o=new Float32Array(t*16);this.instanceMatrix=new vr(s,16,!1),this.instanceMatrix.setUsage(xa),this.instanceUV=new vr(i,4,!1),this.instanceUV.setUsage(xa),this.instanceRGBA=new vr(r,4,!1),this.instanceRGBA.setUsage(xa),this.instanceClipping=new vr(o,16,!1),this.instanceClipping.setUsage(xa);const a=this.mesh;if(this.mesh=new Bh(this.root,this.instanceMatrix,this.instanceRGBA,this.instanceUV,this.instanceClipping,this.instanceMaterial),this.mesh.renderOrder=this.renderOrder,a!=null){this.holeIndicies.sort((u,h)=>u-h);const l=this.holeIndicies.length;let c=0,d=0;for(;d<l;){const u=this.holeIndicies[d];lC(c-d,c,u,a,this.mesh),c=u+1,this.glyphs.splice(u-d,1),d++}if(lC(c-d,c,a.count,a,this.mesh),this.holeIndicies.length>0)for(let u=this.holeIndicies[0];u<this.glyphs.length;u++)this.glyphs[u].setIndex(u);this.holeIndicies.length=0,this.object.remove(a),a.dispose()}Dg(this.mesh,{peek:()=>this.root},{value:this.orderInfo}),this.mesh.count=this.glyphs.length,this.object.addUnsafe(this.mesh)}destroy(){this.mesh!=null&&(this.object.remove(this.mesh),this.mesh.dispose(),this.instanceMaterial.dispose())}}function lC(n,e,t,s,i){eA(n,e,t,s.instanceMatrix.array,i.instanceMatrix.array,16),eA(n,e,t,s.instanceUV.array,i.instanceUV.array,4),eA(n,e,t,s.instanceRGBA.array,i.instanceRGBA.array,4),eA(n,e,t,s.instanceClipping.array,i.instanceClipping.array,16)}function eA(n,e,t,s,i,r){if(e===t)return;const o=n*r,a=e*r,l=t*r;i.set(s.subarray(a,l),o)}const JU={verticalAlign:"middle"};function KU(n,e,t,s,i,r){let o={current:void 0};const a=GU(n.properties,n.fontSignal,o),l=bt(void 0);return vt(()=>n.node.addLayoutChangeListener(()=>{const c=o.current,{size:{value:d},paddingInset:{value:u},borderInset:{value:h}}=n;if(c==null||d==null||u==null||h==null)return;const[f,A]=d,[p,g,m,y]=u,[_,I,v,E]=h,b=f-g-y-I-E,N=A-p-m-_-v;l.value=HU(c,b,N)}),n.abortSignal),vt(()=>{const c=n.fontSignal.value;if(c==null||n.orderInfo.value==null)return;const d=new ZU(n.root.value.glyphGroupManager.getGroup(n.orderInfo.value,n.properties.value.depthTest,n.properties.value.depthWrite??!1,n.properties.value.renderOrder,c),n.properties,l,n.globalTextMatrix,n.isVisible,e,t,s,i);return r!=null&&(r.current=d),()=>d.destroy()},n.abortSignal),a}const jU=[];class ZU{group;properties;layoutSignal;matrix;parentClippingRect;selectionRange;selectionTransformations;caretTransformation;glyphLines=[];lastLayout;unsubscribeInitialList=[];unsubscribeShowList=[];constructor(e,t,s,i,r,o,a,l,c){this.group=e,this.properties=t,this.layoutSignal=s,this.matrix=i,this.parentClippingRect=o,this.selectionRange=a,this.selectionTransformations=l,this.caretTransformation=c,this.unsubscribeInitialList=[Gi(()=>{if(!r.value||Ln(this.properties.value.opacity,()=>1)<.01){this.hide();return}this.show()}),Gi(()=>this.updateSelectionBoxes(this.lastLayout,a?.value,t.peek().verticalAlign,t.peek().textAlign))]}getCharIndex(e,t,s){const i=this.lastLayout;if(i==null)return 0;t-=-tA(i,this.properties.peek().verticalAlign);const r=Math.floor(t/-i.lineHeight),o=i.lines;if(r<0||o.length===0)return 0;if(r>=o.length){const u=o[o.length-1];return u.charIndexOffset+u.charLength+1}const a=o[r],l=i.font.getGlyphInfo(" ").xadvance*i.fontSize,c=this.glyphLines[r];let d=c.length;for(let u=0;u<d;u++){const h=c[u];if(e<this.getGlyphX(h,s==="between"?.5:1,l)+i.availableWidth/2)return u+a.charIndexOffset}return a.charIndexOffset+a.charLength+1}updateSelectionBoxes(e,t,s,i){if(this.caretTransformation==null||this.selectionTransformations==null)return;if(t==null||e==null||e.lines.length===0){this.caretTransformation.value=void 0,this.selectionTransformations.value=jU;return}const r=e.font.getGlyphInfo(" ").xadvance*e.fontSize,[o,a]=t;if(a<=o){const{lineIndex:u,x:h}=this.getGlyphLineAndX(e,a,!0,r,i),f=-(tA(e,s)-e.availableHeight/2+u*e.lineHeight+KE(e.fontSize,e.lineHeight));this.caretTransformation.value={position:[h,f-e.fontSize/2],height:e.fontSize},this.selectionTransformations.value=[];return}this.caretTransformation.value=void 0;const l=this.getGlyphLineAndX(e,o,!0,r,i),c=this.getGlyphLineAndX(e,a-1,!1,r,i);if(l.lineIndex===c.lineIndex){this.selectionTransformations.value=[this.computeSelectionTransformation(l.lineIndex,l.x,c.x,e,s,r)];return}const d=[this.computeSelectionTransformation(l.lineIndex,l.x,void 0,e,s,r)];for(let u=l.lineIndex+1;u<c.lineIndex;u++)d.push(this.computeSelectionTransformation(u,void 0,void 0,e,s,r));d.push(this.computeSelectionTransformation(c.lineIndex,void 0,c.x,e,s,r)),this.selectionTransformations.value=d}computeSelectionTransformation(e,t,s,i,r,o){const a=this.glyphLines[e];t==null&&(t=this.getGlyphX(a[0],0,o)),s==null&&(s=this.getGlyphX(a[a.length-1],1,o));const l=i.lineHeight,c=-(tA(i,r)-i.availableHeight/2+e*l),d=s-t;return{position:[t+d/2,c-l/2],size:[d,l]}}getGlyphLineAndX({lines:e,availableWidth:t},s,i,r,o){const a=e.length;if(s>=e[0].charIndexOffset)for(let d=0;d<a;d++){const u=e[d];if(s>=u.charIndexOffset+u.charLength)continue;const h=this.glyphLines[d][Math.max(s-u.charIndexOffset,0)];return{lineIndex:d,x:this.getGlyphX(h,i?0:1,r)}}const l=e[a-1];if(l.charLength===0||s<l.charIndexOffset)return{lineIndex:a-1,x:cC(t,l.nonWhitespaceWidth,o)-t/2};const c=this.glyphLines[a-1][l.charLength-1];return{lineIndex:a-1,x:this.getGlyphX(c,1,r)}}getGlyphX(e,t,s){return typeof e=="number"?e+t*s:e.getX(t)}show(){this.unsubscribeShowList.length>0||(kc(this.glyphLines,e=>e.show()),this.unsubscribeShowList.push(Gi(()=>{const e=this.matrix.value;e!=null&&kc(this.glyphLines,t=>t.updateBaseMatrix(e))}),Gi(()=>{const e=this.parentClippingRect?.value;kc(this.glyphLines,t=>t.updateClippingRect(e))}),Gi(()=>{const e=this.properties.value.color,t=Ln(this.properties.value.opacity,()=>1);kc(this.glyphLines,s=>s.updateColor(e??0,t))}),Gi(()=>{const e=this.layoutSignal.value;if(e==null)return;const{text:t,font:s,lines:i,letterSpacing:r=0,fontSize:o=16,lineHeight:a=1.2,availableWidth:l}=e;let c=tA(e,this.properties.value.verticalAlign)-e.availableHeight/2;const d=i.length,u=this.properties.value.pixelSize;for(let h=0;h<d;h++){h===this.glyphLines.length&&this.glyphLines.push([]);const{whitespacesBetween:f,nonWhitespaceWidth:A,charIndexOffset:p,nonWhitespaceCharLength:g,charLength:m}=i[h],y=this.properties.value.textAlign;let _=y==="justify"?(l-A)/f:0,I=cC(l,A,y)-l/2,v;const E=this.glyphLines[h];for(let C=p;C<p+m;C++){const B=C-p,S=t[C],T=s.getGlyphInfo(S);if(S===" "||C>g+p){v=T.id;const z=I+JE(s,o,T,v);typeof E[B]=="number"?E[B]=I:E.splice(B,0,z),I+=_+bh(o,T,r);continue}let D=E[B];for(;B<E.length&&typeof D=="number";)E.splice(B,1),D=E[B];let L=D;L==null&&(E[B]=L=new WU(this.group,this.matrix.peek(),this.properties.peek().color??0,Ln(this.properties.peek().opacity,()=>1),this.parentClippingRect?.peek())),L.updateGlyphAndTransformation(T,I+JE(s,o,T,v),-(c+KE(o,a,T)),o,u),L.show(),v=T.id,I+=bh(o,T,r)}c+=a;const b=E.length,N=m;for(let C=N;C<b;C++){const B=E[C];typeof B!="number"&&B.hide()}E.length=N}kc(this.glyphLines,h=>h.hide(),d),this.glyphLines.length=d,this.lastLayout=e,this.updateSelectionBoxes(e,this.selectionRange?.peek(),this.properties.value.verticalAlign,this.properties.value.textAlign)})))}hide(){const e=this.unsubscribeShowList.length;if(e!==0){for(let t=0;t<e;t++)this.unsubscribeShowList[t]();this.unsubscribeShowList.length=0,kc(this.glyphLines,t=>t.hide())}}destroy(){this.hide(),this.glyphLines.length=0;const e=this.unsubscribeInitialList.length;for(let t=0;t<e;t++)this.unsubscribeInitialList[t]()}}function cC(n,e,t){switch(t){case"right":return n-e;case"center":return(n-e)/2;default:return 0}}function tA(n,e){switch(e){case"center":case"middle":return(n.availableHeight-dy(n.lines.length,n.lineHeight))/2;case"bottom":return n.availableHeight-dy(n.lines.length,n.lineHeight);default:return 0}}function kc(n,e,t=0){const s=n.length;for(let i=t;i<s;i++){const r=n[i],o=r.length;for(let a=0;a<o;a++){const l=r[a];typeof l!="number"&&e(l)}}}function $U(n,e){const t=be(()=>n.parentContainer.value==null?eO(n,e):n.parentContainer.value.root.value);return vt(()=>{if(t.value.component!=n)return;const s=new AbortController;t.value.glyphGroupManager.init(s.signal),t.value.panelGroupManager.init(s.signal),t.value.requestCalculateLayout=tO(t.value,n);const i=()=>void(t.value.reversePainterSortStableCache=void 0);return t.value.onFrameSet.add(i),s.signal.addEventListener("abort",()=>t.value.onFrameSet.delete(i)),()=>s.abort()},n.abortSignal),t}function eO(n,e){const t={isUpdateRunning:!1,onFrameSet:new Set,requestFrame:e?.requestFrame,requestRender(){t.isUpdateRunning||e?.requestFrame()},onUpdateMatrixWorldSet:new Set,requestCalculateLayout:()=>{},component:n};return Object.assign(t,{glyphGroupManager:new XU(t,n),panelGroupManager:new C5(t,n)})}function tO(n,e){let t=!0;const s=()=>{t&&(t=!1,e.node.calculateLayout())};return n.onFrameSet.add(s),e.abortSignal.addEventListener("abort",()=>n.onFrameSet.delete(s)),()=>{t=!0,n.requestFrame?.()}}function sO(n,e){if(e.value==null)return;const[t,s]=e.value,i=n.value.pixelSize;return new Je().makeTranslation(M2[n.value.anchorX]*t*i,T2[n.value.anchorY]*s*i,0)}const nO=["depthTest","depthWrite","renderOrder","pixelSize","opacity","color","fill","textAlign","verticalAlign","fontSize","letterSpacing","lineHeight","wordBreak","fontFamily","fontWeight","visibility","scrollbarBorderRightWidth","scrollbarBorderTopWidth","scrollbarBorderLeftWidth","scrollbarBorderBottomWidth","scrollbarColor","scrollbarWidth","scrollbarBorderTopLeftRadius","scrollbarBorderTopRightRadius","scrollbarBorderBottomLeftRadius","scrollbarBorderBottomRightRadius","scrollbarBorderColor","scrollbarBorderBend","caretColor","caretWidth","caretBorderRightWidth","caretBorderTopWidth","caretBorderLeftWidth","caretBorderBottomWidth","caretBorderTopLeftRadius","caretBorderTopRightRadius","caretBorderBottomLeftRadius","caretBorderBottomRightRadius","caretBorderColor","caretBorderBend","selectionColor","selectionWidth","selectionBorderRightWidth","selectionBorderTopWidth","selectionBorderLeftWidth","selectionBorderBottomWidth","selectionBorderTopLeftRadius","selectionBorderTopRightRadius","selectionBorderBottomLeftRadius","selectionBorderBottomRightRadius","selectionBorderColor","selectionBorderBend","pointerEvents","pointerEventsType","pointerEventsOrder"],iO=new Je,dC=new Ps,sA=new Je,rO=()=>!1;Wd({type:"base",section:"base"});const N2=new fy(hy,new Proxy({},{get:()=>rO}));N2.setEnabled(!0);class Ro extends it{inputProperties;abortController=new AbortController;handlers;orderInfo=bt(void 0);isVisible;isClipped;boundingSphere=new Ps;properties;starProperties;node;size=bt(void 0);relativeCenter=bt(void 0);borderInset=bt(void 0);overflow=bt(Pl.Visible);displayed=bt(!1);scrollable=bt([!1,!1]);paddingInset=bt(void 0);maxScrollPosition=bt([void 0,void 0]);root;parentContainer=bt(void 0);hoveredList=bt([]);activeList=bt([]);ancestorsHaveListenersSignal;globalMatrix;globalPanelMatrix;abortSignal=this.abortController.signal;classList;constructor(e,t,s){super(e5,s?.material),this.inputProperties=e,this.matrixAutoUpdate=!1;const i=()=>{this.parentContainer.value=this.parent instanceof Ro?this.parent:void 0,this.properties.setEnabled(this.parent!=null),this.starProperties.setEnabled(this.parent!=null)};this.addEventListener("added",i),this.addEventListener("removed",i),this.root=$U(this,s?.renderContext);const r=uU(this.root,this.hoveredList,this.activeList,s?.hasFocus,s?.isPlaceholder);this.properties=new fy(hy,r,s?.defaults??qa),this.properties.setLayersWithConditionals({type:"default-overrides"},{width:be(()=>{const a=this.properties.value.sizeX;if(a!=null)return a/this.properties.value.pixelSize}),height:be(()=>{const a=this.properties.value.sizeY;if(a!=null)return a/this.properties.value.pixelSize}),...s?.defaultOverrides}),vt(()=>{const a=this.parentContainer.value?.properties,l=Wd({type:"inheritance"}),c=a?.subscribePropertyKeys(d=>{if(!nO.includes(d))return;const u=a.signal[d];this.properties.set(l,d,u)});return()=>{c?.(),this.properties.setLayer(l,void 0)}},this.abortSignal),this.starProperties=new fy(hy,r),this.starProperties.setLayersWithConditionals({type:"default-overrides"},Xp(s?.defaultOverrides)),vt(()=>{const a=this.parentContainer.value?.starProperties??N2,l=Wd({type:"star-inheritance"}),c=a?.subscribePropertyKeys(d=>{const u=a.signal[d];this.starProperties.set(l,d,u),this.properties.set(l,d,u)});return()=>{c?.(),this.properties.setLayer(l,void 0),this.starProperties.setLayer(l,void 0)}},this.abortSignal),this.resetProperties(e),this.classList=new vU(this.properties,this.starProperties),t!=null&&this.classList.add(...t),vt(()=>{const a=this.properties.value.id;if(a==null)return;const l=`__id__${a}`;if(l in Wp)return this.classList.add(l),()=>this.classList.remove(l)},this.abortSignal),this.node=new X5(this),this.globalMatrix=oO(be(()=>this.parentContainer.value?.childrenMatrix.value??sO(this.properties,this.size)),IU(this)),this.isClipped=R5(this.parentContainer,this.globalMatrix,this.size,this.properties.signal.pixelSize),this.isVisible=aO(this,this.isClipped,this.properties),this.handlers=cO(this.properties,this.starProperties,this.hoveredList,this.activeList,s?.dynamicHandlers),this.ancestorsHaveListenersSignal=dO(this.parentContainer,this.handlers),this.globalPanelMatrix=Qg(this.properties,this.globalMatrix,this.size,void 0),this.raycast=Vp(this,this.raycast.bind(this),this.root,this.parentContainer,this.orderInfo),this.spherecast=Vp(this,n5(this.root,this.boundingSphere,this.globalPanelMatrix,this),this.root,this.parentContainer,this.orderInfo),K4(this.hoveredList,this.abortSignal),i5(this.boundingSphere,this.properties.signal.pixelSize,this.globalMatrix,this.size,this.abortSignal);const o=s?.hasNonUikitChildren??!0;if(hO(this,o),vt(()=>{const{value:a}=this.handlers;for(const l in a)this.addEventListener(uC(l),a[l]);return()=>{for(const l in a)this.removeEventListener(uC(l),a[l])}},this.abortSignal),!o){const a=({child:l})=>{if(!(l instanceof Ro||l instanceof wh||l instanceof Bh))throw new Error(`Only pmndrs/uikit components can be added as children to this component. Got ${l.constructor.name} instead.`)};this.addEventListener("childadded",a),this.abortSignal.addEventListener("abort",()=>this.removeEventListener("childadded",a))}}raycast(e,t){return this.root.peek().component.updateMatrix(),Zl(this.root.peek(),sA),dC.copy(this.boundingSphere).applyMatrix4(sA),e.ray.intersectsSphere(dC)&&(this.updateWorldMatrix(!1,!1),super.raycast(e,t)),!1}updateMatrixWorld(){this.updateWorldMatrix(!1,!0)}updateWorldMatrix(e,t){const s=this.root.peek().component,i=s.parent;if(e&&i?.updateWorldMatrix(!0,!1),this===s&&s.updateMatrix(),Zl(this.root.peek(),sA),this.matrixWorld.multiplyMatrices(sA,this.globalPanelMatrix.peek()??iO),t&&this.root.peek().component===this)for(const r of this.root.value.onUpdateMatrixWorldSet)r()}setProperties(e){this.resetProperties({...this.inputProperties,...e})}resetProperties(e){this.inputProperties=e,this.properties.setLayersWithConditionals({type:"base"},e),this.starProperties.setLayersWithConditionals({type:"base"},Xp(e))}update(e){const t=this.root.peek();if(t.component==this){t.isUpdateRunning=!0;for(const s of this.root.peek().onFrameSet)s(e);t.isUpdateRunning=!1}}dispose(){this.parent?.remove(this),this.abortController.abort()}addUnsafe(...e){return super.add(...e)}}function uC(n){return n.slice(2).toLowerCase()}function oO(n,e){return be(()=>{const t=e.value,s=n.value;if(!(t==null||s==null))return s.clone().multiply(t)})}function aO(n,e,t){return be(()=>n.displayed.value&&(e==null||!e?.value)&&t.value.visibility==="visible")}function oI(n,e,t,s,i,...r){vt(()=>{let o=!1,a;return e(Nh(i),...r).then(l=>{o||(n.value=a=l)}).catch(console.error),()=>{o=!0,a!=null&&t!=null&&t(a)}},s)}const lO=["onClick","onContextMenu","onDblClick","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onWheel"];function cO(n,e,t,s,i){return be(()=>{const r={};for(const o of lO){const a=n.value[o];a!=null&&(r[o]=a)}return uO(r,i?.value),j4(r,n,t,n.usedConditionals.hover,e.usedConditionals.hover),J4(r,n,s,n.usedConditionals.active,e.usedConditionals.active),r})}function dO(n,e){return be(()=>(n.value?.ancestorsHaveListenersSignal.value??!1)||Object.keys(e.value).length>0)}function uO(n,e){for(const t in e)wd(t,n,e[t])}function wd(n,e,t){if(t==null)return;const s=e[n];if(s==null){e[n]=t;return}e[n]=(i=>{s(i),t(i)})}function S2(n,e,t,s){t!=null&&vt(()=>{t.value,e.peek().requestRender?.()},s),vt(()=>{const i=e.value;if(i.component===n)return;const r=n.updateWorldMatrix.bind(n,!1,!0);return i.onUpdateMatrixWorldSet.add(r),()=>i.onUpdateMatrixWorldSet.delete(r)},s)}function hO(n,e){n.defaultPointerEvents="auto",vt(()=>{n.ancestorsHaveListeners=n.ancestorsHaveListenersSignal.value,n.pointerEvents=n.isVisible.value?n.properties.value.pointerEvents:"none",n.pointerEventsOrder=n.properties.value.pointerEventsOrder,n.pointerEventsType=n.properties.value.pointerEventsType},n.abortSignal),vt(()=>{const t=n.root.value.component;if(n.intersectChildren=e||t===n,!e&&n.properties.value.pointerEvents==="none"||t===n)return;t.interactableDescendants??=[];const s=t.interactableDescendants;return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}},n.abortSignal)}function vt(n,e){if(e.aborted)return;const t=Gi(n);e.addEventListener("abort",t)}const M2={left:.5,center:0,middle:0,right:-.5},T2={top:-.5,center:0,middle:0,bottom:.5},fO={back:-.5,center:0,middle:0,front:.5};function Nh(n){if(n=n instanceof $s?n.value:n,n!=="initial")return n}function aI(n,e){return be(()=>e.map(t=>n.value[t]??0))}function x(n,e){return be(()=>{const t=[0,0,0,0];return vo(t,0,Nh(n),Nh(e)),t})}function Zl(n,e){const t=n.component;if(t.parent==null){e.copy(t.matrix);return}e.multiplyMatrices(t.parent.matrixWorld,t.matrix)}const Ay=Symbol("reverse-painter-sort-stable-cache-key"),py=Symbol("order-info-key");function AO(n,e){if(n.groupOrder!==e.groupOrder)return n.groupOrder-e.groupOrder;if(n.renderOrder!==e.renderOrder)return n.renderOrder-e.renderOrder;let t=n.z,s=e.z;const i=n.object[Ay],r=e.object[Ay];if(i!=null){const o=i.peek();o.reversePainterSortStableCache??=t,t=o.reversePainterSortStableCache}if(r!=null){const o=r.peek();o.reversePainterSortStableCache??=s,s=o.reversePainterSortStableCache}return i!=null&&i.peek()===r?.peek()?pO(n.object[py].value,e.object[py].value):t!==s?s-t:n.id-e.id}const Br={Panel:0,Image:1,Content:2,Text:4};function pO(n,e){if(n==null||e==null)return 0;let t=n.majorIndex-e.majorIndex;return t!=0||(t=n.minorIndex-e.minorIndex,t!=0)||(t=n.elementType-e.elementType,t!=0)?t:n.patchIndex-e.patchIndex}function Qo(n,e,t,s,i,r,o){vt(()=>{if(r.value===void 0){n.value=void 0;return}const a=r.value,l=e.value[t]??a?.majorIndex??0;let c,d;a==null?(c=0,d=0):s>a.elementType?(c=a.minorIndex,d=0):s!=a.elementType||!gO(Nh(i),Nh(a.instancedGroupDependencies))?(c=a.minorIndex+1,d=0):(c=a.minorIndex,d=a.patchIndex+1),d+=e.value.zIndexOffset??0,n.value={instancedGroupDependencies:i,elementType:s,majorIndex:l,minorIndex:c,patchIndex:d}},o)}function gO(n,e){if(n===e)return!0;if(n==null||e==null)return!1;let t=0;for(const s in n){if(n[s]!=e[s])return!1;++t}return t===Object.keys(e).length}function Dg(n,e,t){n[Ay]=e,n[py]=t}const jo=new w,E0=new w;function mO(n,e,t){return be(()=>{const s=t.value;if(s==null)return;const[i,r]=e.value,o=n.value.pixelSize;return new Je().makeTranslation(-i*o,r*o,0).premultiply(s)})}function xO(n){return be(()=>{const e=n.value,[t,s]=e?.anyAncestorScrollable?.value??[!1,!1],[i,r]=e?.scrollable.value??[!1,!1];return[t||i,s||r]})}function yO(n,e,t){const s=be(()=>e.scrollable.value.some(i=>i)??!1);vt(()=>{if(!s.value){n.value=void 0;return}const i=r=>{"releasePointerCapture"in e&&typeof e.releasePointerCapture=="function"&&e.releasePointerCapture(r.pointerId),!(r.pointerId==null||!e.downPointerMap.delete(r.pointerId)||e.scrollPosition.value==null)&&(r.stopImmediatePropagation?.(),!(e.downPointerMap.size>0)&&e.root.peek().requestRender?.())};n.value={onPointerDown:r=>{r.stopImmediatePropagation?.();const o=e.worldToLocal(r.point.clone()),a=r.nativeEvent!=null&&typeof r.nativeEvent=="object"&&"pointerType"in r.nativeEvent&&r.nativeEvent.pointerType==="mouse",l=a?BO(o,e.properties.peek().scrollbarWidth,e.size.peek(),e.maxScrollPosition.peek(),e.borderInset.peek(),e.scrollPosition.peek()):void 0;r.pointerId==null||a&&l==null||("setPointerCapture"in r.object&&typeof r.object.setPointerCapture=="function"&&r.object.setPointerCapture(r.pointerId),e.downPointerMap.set(r.pointerId,l!=null?{type:"scroll-bar",localPoint:o,axisIndex:l}:{type:"scroll-panel",timestamp:performance.now(),localPoint:o}))},onPointerUp:i,onPointerLeave:i,onPointerCancel:i,onPointerMove:r=>{if(r.pointerId==null)return;const o=e.downPointerMap.get(r.pointerId);if(o==null)return;if(r.stopImmediatePropagation?.(),e.worldToLocal(E0.copy(r.point)),jo.copy(E0).sub(o.localPoint),jo.x*=e.size.peek()?.[0]??0,jo.y*=e.size.peek()?.[1]??0,o.localPoint.copy(E0),o.type==="scroll-bar"){const c=e.size.peek();if(c==null)return;wO(jo,o.axisIndex,c,e.borderInset.peek(),e.maxScrollPosition.peek(),e.properties.peek().scrollbarWidth),WA(e,r,jo.x,-jo.y,void 0,!1);return}const a=performance.now(),l=a-o.timestamp;WA(e,r,-jo.x,jo.y,l,!0),o.timestamp=a},onWheel:r=>{const{nativeEvent:o}=r;o==null||typeof o!="object"||!("deltaX"in o)||typeof o.deltaX!="number"||!("deltaY"in o)||typeof o.deltaY!="number"||WA(e,r,o.deltaX,o.deltaY,void 0,!1)}}},t)}function WA(n,e,t,s,i,r){if(n.scrollPosition.value==null)return;const[o,a]=e==null?[!1,!1]:IO(e.nativeEvent);o&&(t=0),a&&(s=0);const[l,c]=n.scrollPosition.value,[d,u]=n.maxScrollPosition.value;let[h,f]=n.scrollPosition.value;const[A,p]=n.anyAncestorScrollable?.value??[!1,!1];h=hC(l,d,t,r&&!A),f=hC(c,u,s,r&&!p),i!=null&&i>0&&n.scrollVelocity.set(t,s).divideScalar(i),e!=null&&vO(e.nativeEvent,o||Math.min(l,(d??0)-l)>5,a||Math.min(c,(u??0)-c)>5),!(n.properties.peek().onScroll?.(h,f,n.scrollPosition,e)===!1||l===h&&c===f)&&(n.scrollPosition.value=[h,f])}function _O(n){const e=t=>{if(n.downPointerMap.size>0||n.scrollPosition.value==null)return;let s=0,i=0;const[r,o]=n.scrollPosition.value,[a,l]=n.maxScrollPosition.value,c=gy(r,0,a??0),d=gy(o,0,l??0);(Math.abs(c)>1||Math.abs(d)>1)&&n.root.peek().requestFrame?.(),s+=c*-.3,i+=d*-.3,s+=n.scrollVelocity.x*t,i+=n.scrollVelocity.y*t,n.scrollVelocity.multiplyScalar(.9),Math.abs(n.scrollVelocity.x)<.01?n.scrollVelocity.x=0:n.root.peek().requestFrame?.(),Math.abs(n.scrollVelocity.y)<.01?n.scrollVelocity.y=0:n.root.peek().requestFrame?.(),!(s===0&&i===0)&&WA(n,void 0,s,i,void 0,!0)};vt(()=>(n.root.value.onFrameSet.add(e),()=>n.root.value.onFrameSet.delete(e)),n.abortSignal)}const P2=Symbol("was-scrolled");function IO(n){return n[P2]??[!1,!1]}function vO(n,e,t){n[P2]=[e,t]}function hC(n,e,t,s){if(t===0)return n;const i=gy(n,0,e??0);fC(t)===fC(i)&&(t*=Math.max(0,1-Math.abs(i)/100));let r=n+t;return s&&e!=null?r:qd(r,0,e??0)}function fC(n){return n>=0}function gy(n,e,t){return n<e?n-e:n>t?n-t:0}const EO=["scrollbarBorderLeftWidth","scrollbarBorderRightWidth","scrollbarBorderTopWidth","scrollbarBorderBottomWidth"];function CO(n,e,t,s){const i=bt(void 0);Qo(i,n.properties,"scrollbarZIndex",Br.Panel,s,t,n.abortSignal);const r=aI(n.properties,EO);pC(n,0,e,i,s,r),pC(n,1,e,i,s,r)}let AC;function bO(){return AC??=Oh({backgroundColor:"scrollbarColor",borderBottomLeftRadius:"scrollbarBorderBottomLeftRadius",borderBottomRightRadius:"scrollbarBorderBottomRightRadius",borderTopRightRadius:"scrollbarBorderTopRightRadius",borderTopLeftRadius:"scrollbarBorderTopLeftRadius",borderColor:"scrollbarBorderColor",borderBend:"scrollbarBorderBend"},{backgroundColor:16777215}),AC}function pC(n,e,t,s,i,r){const o=be(()=>R2(e,n.properties.value.scrollbarWidth,n.size.value,n.maxScrollPosition.value,n.borderInset.value,n.scrollPosition.value)),a=be(()=>o.value?.slice(0,2)??[0,0]),l=be(()=>o.value?.slice(2,4)??[0,0]),c=Qg(n.properties,n.globalMatrix,l,a);nu(n.properties,n.root,s,i,c,l,r,t,n.isVisible,bO(),n.abortSignal)}function R2(n,e,t,s,i,r){if(t==null||i==null||r==null)return;const o=s[n];if(o==null)return;const a=[0,0,0,0],l=1-n,c=t[n]-i[l]-i[l+2],d=Q2(c,o,e),u=c-d,h=r[n],f=1-n;return a[n]=t[n]*.5-d*.5-i[(n+3)%4]-u*qd(h/o,0,1),a[f]=t[f]*.5-e*.5-i[f+1],n===0&&(a[0]*=-1,a[1]*=-1),a[n+2]=d,a[l+2]=e,a}function Q2(n,e,t){return Math.max(t,n*n/(e+n))}function wO(n,e,t,s,i,r){const o=i[e];if(t==null||s==null||o==null)return;const a=n.getComponent(e),l=t[e]-s[1-e]-s[1-e+2],c=Q2(l,o,r),d=l-c;n.setComponent(e,a/d*o),n.setComponent(1-e,0),n.z=0}const gC=new Q_,nA=new Be;function BO(n,e,t,s,i,r){if(t!=null){nA.copy(n),nA.x*=t[0],nA.y*=t[1];for(let o=0;o<2;o++)if(MO(nA,o,e,t,s,i,r))return o}}const NO=new Be,SO=new Be;function MO(n,e,t,s,i,r,o){const a=R2(e,t,s,i,r,o);return a==null?!1:(gC.setFromCenterAndSize(NO.fromArray(a,0),SO.fromArray(a,2)),gC.containsPoint(n))}class Lt extends Ro{downPointerMap=new Map;scrollVelocity=new Be;anyAncestorScrollable;clippingRect;childrenMatrix;fontFamilies;scrollPosition=bt([0,0]);constructor(e,t,s){const i=bt(void 0);super(e,t,{hasNonUikitChildren:!1,dynamicHandlers:i,...s}),this.material.visible=!1,yO(i,this,this.abortSignal),this.childrenMatrix=mO(this.properties,this.scrollPosition,this.globalMatrix);const r=be(()=>this.parentContainer.value?.clippingRect.value);this.fontFamilies=w2(this.properties,this.parentContainer),this.clippingRect=Q5(this.globalMatrix,this,this.properties.signal.pixelSize,r),this.anyAncestorScrollable=xO(this.parentContainer);const o=nI(this.properties);Qo(this.orderInfo,this.properties,"zIndex",Br.Panel,o,be(()=>this.parentContainer.value==null?null:this.parentContainer.value.orderInfo.value),this.abortSignal),nu(this.properties,this.root,this.orderInfo,o,this.globalPanelMatrix,this.size,this.borderInset,r,this.isVisible,sI(),this.abortSignal),_O(this),CO(this,r,this.orderInfo,o)}}const TO={...qa,objectFit:"fill",keepAspectRatio:!0};let Jp=class extends Ro{texture=bt(void 0);constructor(e,t,s){const i=bt(void 0);super(e,t,{defaults:TO,hasNonUikitChildren:!1,...s,defaultOverrides:{aspectRatio:i,...s?.defaultOverrides}}),Qo(this.orderInfo,this.properties,"zIndex",Br.Image,void 0,be(()=>this.parentContainer.value==null?null:this.parentContainer.value.orderInfo.value),this.abortSignal),this.frustumCulled=!1,Dg(this,this.root,this.orderInfo),(s?.loadTexture??!0)&&oI(this.texture,QO,RO,this.abortSignal,this.properties.signal.src);const r=x2(this),o=yC().computedIsVisibile(this.properties,this.borderInset,this.size,be(()=>this.isVisible.value&&this.texture.value!=null)),a=new Float32Array(16),l={data:a,type:"normal"};this.customDepthMaterial=new h2(l),this.customDistanceMaterial=new u2(l),this.customDepthMaterial.clippingPlanes=r,this.customDistanceMaterial.clippingPlanes=r,vt(()=>{this.material.depthTest=this.properties.value.depthTest,this.root.peek().requestRender?.()},this.abortSignal),vt(()=>{this.material.depthWrite=this.properties.value.depthWrite??!1,this.root.peek().requestRender?.()},this.abortSignal),vt(()=>{this.material.map=this.texture.value??null,this.material.needsUpdate=!0,this.root.peek().requestRender?.()},this.abortSignal),vt(()=>{const u=d2(Rg(this.properties.value.panelMaterialClass),l);return u.clippingPlanes=r,u.map=this.material.map,u.depthWrite=this.material.depthWrite,u.depthTest=this.material.depthTest,this.material=u,()=>u.dispose()},this.abortSignal),vt(()=>{this.renderOrder=this.properties.value.renderOrder,this.root.peek().requestRender?.()},this.abortSignal),vt(()=>{this.castShadow=this.properties.value.castShadow,this.root.peek().requestRender?.()},this.abortSignal),vt(()=>{this.receiveShadow=this.properties.value.receiveShadow,this.root.peek().requestRender?.()},this.abortSignal),S2(this,this.root,this.globalPanelMatrix,this.abortSignal);const c=yC();vt(()=>{if(!this.isVisible.value)return;a.set(c.defaultData);const u=Gi(()=>void(this.size.value!=null&&a.set(this.size.value,14))),h=Gi(()=>void(this.borderInset.value!=null&&a.set(this.borderInset.value,0)));return this.root.peek().requestRender?.(),()=>{u(),h()}},this.abortSignal);const d=c.setters;vt(()=>{if(this.isVisible.value)return this.properties.subscribePropertyKeys(u=>{c.hasProperty(u)&&vt(()=>{d[u](a,0,this.properties.value[u],this.size,this.properties.signal.opacity,void 0),this.root.peek().requestRender?.()},this.abortSignal)})},this.abortSignal),vt(()=>{const u=this.texture.value;if(u==null||this.size.value==null||this.borderInset.value==null)return;if(u.matrix.identity(),this.root.peek().requestRender?.(),this.properties.value.objectFit==="fill"||u==null){mC(this.borderInset,this.size,u);return}const{width:h,height:f}=u.source.data,A=h/f,[p,g]=this.size.value,[m,y,_,I]=this.borderInset.value,v=(p-I-y)/(g-m-_);A>v?u.matrix.translate(-(.5*(v-A))/v,0).scale(v/A,1):u.matrix.translate(0,-(.5*(A-v))/A).scale(1,A/v),mC(this.borderInset,this.size,u)},this.abortSignal),vt(()=>{this.visible=o.value,this.root.peek().requestRender?.()},this.abortSignal),vt(()=>{if(!this.properties.value.keepAspectRatio){i.value=void 0;return}const u=this.texture.value;if(u==null){i.value=void 0;return}const h=u.source.data,f=h.videoWidth??h.naturalWidth??h.width,A=h.videoHeight??h.naturalHeight??h.height;i.value=f/A},this.abortSignal)}add(){throw new Error("the image component can not have any children")}};function mC(n,e,t){if(e.value==null||n.value==null)return;const[s,i]=e.value,[r,o,a,l]=n.value,c=s-l-o,d=i-r-a;t.matrix.translate(-1+(l+c)/s,-1+(r+d)/i).scale(s/c,i/d)}const PO=new nr;function RO(n){n?.disposable===!0&&n.dispose()}async function QO(n){if(n==null)return Promise.resolve(void 0);if(n instanceof Ws)return Promise.resolve(n);try{const e=await PO.loadAsync(n);return e.colorSpace=cs,e.matrixAutoUpdate=!1,Object.assign(e,{disposable:!0})}catch(e){console.error(e);return}}let xC;function yC(){return xC??=Oh({borderBend:"borderBend",borderBottomLeftRadius:"borderBottomLeftRadius",borderBottomRightRadius:"borderBottomRightRadius",borderColor:"borderColor",borderTopLeftRadius:"borderTopLeftRadius",borderTopRightRadius:"borderTopRightRadius"},{backgroundColor:16777215}),xC}const D2={...qa,...JU},_C=new Je,DO=new Ge,LO=new w(1,1,1),IC=new w;class ka extends Ro{backgroundOrderInfo=bt(void 0);backgroundGroupDeps;fontSignal;globalTextMatrix;constructor(e,t,s){super(e,t,{defaults:D2,hasNonUikitChildren:!1,...s}),this.material.visible=!1;const i=be(()=>this.parentContainer.value?.clippingRect.value);this.backgroundGroupDeps=nI(this.properties),this.globalTextMatrix=be(()=>{if(this.paddingInset.value==null||this.borderInset.value==null)return _C;const[a,l,c,d]=this.paddingInset.value,[u,h,f,A]=this.borderInset.value,p=a+u,g=l+h,m=c+f,y=d+A,_=this.properties.value.pixelSize;return IC.set((y-g)*.5*_,(m-p)*.5*_,0),new Je().compose(IC,DO,LO).premultiply(this.globalMatrix.value??_C)}),Qo(this.backgroundOrderInfo,this.properties,"zIndex",Br.Panel,this.backgroundGroupDeps,be(()=>this.parentContainer.value==null?null:this.parentContainer.value.orderInfo.value),this.abortSignal);const r=w2(this.properties,this.parentContainer);this.fontSignal=TU(this.properties,r),Qo(this.orderInfo,this.properties,"zIndex",Br.Text,qU(this.fontSignal),this.backgroundOrderInfo,this.abortSignal),nu(this.properties,this.root,this.backgroundOrderInfo,this.backgroundGroupDeps,this.globalPanelMatrix,this.size,this.borderInset,i,this.isVisible,sI(),this.abortSignal);const o=KU(this,i,s?.selectionRange,s?.selectionTransformations,s?.caretTransformation,s?.instancedTextRef);vt(()=>this.node.setCustomLayouting(o.value),this.abortSignal)}add(){throw new Error("the text component can not have any children")}}const kO={...qa,depthAlign:"back",keepAspectRatio:!0},FO=new Ge,vC=new Je,iA=new Jt,UO=new w().setScalar(1e-6),Bu=new w,C0=new w,OO=new w,GO=!0,EC=!0,CC=!1;class lI extends Ro{config;boundingBox;clippingPlanes;childrenMatrix=new Je;constructor(e,t,s){const i=bt(void 0);super(e,t,{defaults:kO,hasNonUikitChildren:!0,...s,defaultOverrides:{aspectRatio:i,...s?.defaultOverrides}}),this.config=s,this.boundingBox=s?.boundingBox??bt({size:new w(1,1.01,1),center:new w(0,0,0)}),vt(()=>{if(!this.properties.value.keepAspectRatio||this.boundingBox.value==null){i.value=void 0;return}i.value=this.boundingBox.value.size.x/this.boundingBox.value.size.y},this.abortSignal),this.material.visible=!1;const r=nI(this.properties),o=bt();if(Qo(o,this.properties,"zIndex",Br.Panel,r,be(()=>this.parentContainer.value==null?null:this.parentContainer.value.orderInfo.value),this.abortSignal),nu(this.properties,this.root,o,r,this.globalPanelMatrix,this.size,this.borderInset,be(()=>this.parentContainer.value?.clippingRect.value),this.isVisible,sI(),this.abortSignal),vt(()=>{if(this.size.value==null||this.paddingInset.value==null||this.borderInset.value==null||this.boundingBox.value==null){this.childrenMatrix.copy(vC);return}const[l,c]=this.size.value,[d,u,h,f]=this.paddingInset.value,[A,p,g,m]=this.borderInset.value,y=d+A,_=u+p,I=h+g,v=f+m,E=l-v-_,b=c-y-I,N=this.properties.value.pixelSize;C0.set(E*N,b*N,this.properties.value.keepAspectRatio?b*N*this.boundingBox.value.size.z/this.boundingBox.value.size.y:this.boundingBox.value.size.z).divide(this.boundingBox.value.size),Bu.copy(this.boundingBox.value.center).negate(),Bu.z-=fO[this.properties.value.depthAlign]*this.boundingBox.value.size.z,Bu.multiply(C0),Bu.add(OO.set((v-_)*.5*N,(I-y)*.5*N,0)),this.childrenMatrix.compose(Bu,FO,C0)},this.abortSignal),S2(this,this.root,void 0,this.abortSignal),Qo(this.orderInfo,this.properties,"zIndex",Br.Content,void 0,o,this.abortSignal),this.clippingPlanes=x2(this),vt(()=>{this.visible=this.isVisible.value,wC(this.properties,this,this.config?.depthWriteDefault??EC,this.config?.supportFillProperty??CC),this.root.peek().requestRender?.()},this.abortSignal),this.config?.remeasureOnChildrenChange??GO){const l=this.debounceNotifyAncestorsChanged.bind(this);this.addEventListener("childadded",l),this.addEventListener("childremoved",l),this.abortSignal.addEventListener("abort",()=>{this.removeEventListener("childadded",l),this.removeEventListener("childremoved",l)})}}childUpdateWorldMatrix(e,t,s){if(!(e.parent instanceof lI)){is.prototype.updateWorldMatrix.apply(e,[t,s]);return}if(t&&this.updateWorldMatrix(!0,!1),Zl(this.root.value,e.matrixWorld),e.matrixWorld.multiply(this.globalMatrix.peek()??vC).multiply(this.childrenMatrix),e.updateMatrix(),e.matrixWorld.multiply(e.matrix),s)for(const i of e.children)i.updateMatrixWorld(!0)}timeoutRef;debounceNotifyAncestorsChanged(){this.timeoutRef==null&&(this.timeoutRef=setTimeout(this.notifyAncestorsChanged.bind(this),0))}notifyAncestorsChanged(){this.timeoutRef=void 0,wC(this.properties,this,this.config?.depthWriteDefault??EC,this.config?.supportFillProperty??CC),this.traverse(e=>{e instanceof Bh||e instanceof wh||!(e instanceof it)||(Dg(e,this.root,this.orderInfo),e.material.clippingPlanes=this.clippingPlanes,e.material.needsUpdate=!0,e.material.transparent=!0,e.raycast=Vp(this,e.raycast.bind(e),this.root,this.parentContainer,this.orderInfo),e.spherecast=e.spherecast!=null?Vp(this,e.spherecast?.bind(e),this.root,this.parentContainer,this.orderInfo):void 0)});for(const e of this.children)e.updateMatrixWorld=this.childUpdateWorldMatrix.bind(this,e,!1,!0),e.updateWorldMatrix=this.childUpdateWorldMatrix.bind(this,e);if(this.config?.boundingBox==null){iA.makeEmpty();for(const s of this.children)s instanceof Bh||s instanceof wh||(s.parent=null,iA.expandByObject(s),s.parent=this);const e=new w,t=new w;iA.getSize(e).max(UO),iA.getCenter(t),this.boundingBox.value={center:t,size:e}}this.root.peek().requestRender?.()}updateWorldMatrix(e,t){if(super.updateWorldMatrix(e,t),t)for(const s of this.children)s.updateWorldMatrix(!1,!0)}dispose(){this.timeoutRef!=null&&(this.timeoutRef=void 0,clearInterval(this.timeoutRef)),super.dispose()}}const bC=new st,b0=[0,0,0,0];function wC(n,e,t,s){const i=(s?n.value.fill:void 0)??n.value.color,r=Ln(n.value.opacity,()=>1);i!=null&&(vo(b0,0,i,r,void 0),bC.fromArray(b0));const o=n.value.depthTest,a=n.value.depthWrite??t,l=n.value.renderOrder;e.traverse(c=>{if(c instanceof Bh||c instanceof wh||!(c instanceof it))return;c.renderOrder=l;const d=c.material;c.userData.color??=d.color.clone(),d.color.copy(i!=null?bC:c.userData.color),d.opacity=i!=null?b0[3]:r,d.depthTest=o,d.depthWrite=a})}const HO=cs;class Lg extends Bi{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,t,s,i){const r=this,o=new $i(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){try{t(r.parse(a))}catch(l){i?i(l):console.error(l),r.manager.itemError(e)}},s,i)}parse(e){const t=this;function s(ce,j){if(ce.nodeType!==1)return;const O=I(ce);let U=!1,$=null;switch(ce.nodeName){case"svg":j=A(ce,j);break;case"style":r(ce);break;case"g":j=A(ce,j);break;case"path":j=A(ce,j),ce.hasAttribute("d")&&($=i(ce));break;case"rect":j=A(ce,j),$=l(ce);break;case"polygon":j=A(ce,j),$=c(ce);break;case"polyline":j=A(ce,j),$=d(ce);break;case"circle":j=A(ce,j),$=u(ce);break;case"ellipse":j=A(ce,j),$=h(ce);break;case"line":j=A(ce,j),$=f(ce);break;case"defs":U=!0;break;case"use":j=A(ce,j);const Se=(ce.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),we=ce.viewportElement.getElementById(Se);we?s(we,j):console.warn("SVGLoader: 'use node' references non-existent node id: "+Se);break}$&&(j.fill!==void 0&&j.fill!=="none"&&$.color.setStyle(j.fill,HO),E($,Ye),T.push($),$.userData={node:ce,style:j});const me=ce.childNodes;for(let ue=0;ue<me.length;ue++){const Se=me[ue];U&&Se.nodeName!=="style"&&Se.nodeName!=="defs"||s(Se,j)}O&&(L.pop(),L.length>0?Ye.copy(L[L.length-1]):Ye.identity())}function i(ce){const j=new aa,O=new Be,U=new Be,$=new Be;let me=!0,ue=!1;const Se=ce.getAttribute("d");if(Se===""||Se==="none")return null;const we=Se.match(/[a-df-z][^a-df-z]*/ig);for(let qe=0,ve=we.length;qe<ve;qe++){const H=we[qe],rt=H.charAt(0),Ke=H.slice(1).trim();me===!0&&(ue=!0,me=!1);let fe;switch(rt){case"M":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=2)O.x=fe[Y+0],O.y=fe[Y+1],U.x=O.x,U.y=O.y,Y===0?j.moveTo(O.x,O.y):j.lineTo(O.x,O.y),Y===0&&$.copy(O);break;case"H":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y++)O.x=fe[Y],U.x=O.x,U.y=O.y,j.lineTo(O.x,O.y),Y===0&&ue===!0&&$.copy(O);break;case"V":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y++)O.y=fe[Y],U.x=O.x,U.y=O.y,j.lineTo(O.x,O.y),Y===0&&ue===!0&&$.copy(O);break;case"L":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=2)O.x=fe[Y+0],O.y=fe[Y+1],U.x=O.x,U.y=O.y,j.lineTo(O.x,O.y),Y===0&&ue===!0&&$.copy(O);break;case"C":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=6)j.bezierCurveTo(fe[Y+0],fe[Y+1],fe[Y+2],fe[Y+3],fe[Y+4],fe[Y+5]),U.x=fe[Y+2],U.y=fe[Y+3],O.x=fe[Y+4],O.y=fe[Y+5],Y===0&&ue===!0&&$.copy(O);break;case"S":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=4)j.bezierCurveTo(p(O.x,U.x),p(O.y,U.y),fe[Y+0],fe[Y+1],fe[Y+2],fe[Y+3]),U.x=fe[Y+0],U.y=fe[Y+1],O.x=fe[Y+2],O.y=fe[Y+3],Y===0&&ue===!0&&$.copy(O);break;case"Q":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=4)j.quadraticCurveTo(fe[Y+0],fe[Y+1],fe[Y+2],fe[Y+3]),U.x=fe[Y+0],U.y=fe[Y+1],O.x=fe[Y+2],O.y=fe[Y+3],Y===0&&ue===!0&&$.copy(O);break;case"T":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=2){const ot=p(O.x,U.x),It=p(O.y,U.y);j.quadraticCurveTo(ot,It,fe[Y+0],fe[Y+1]),U.x=ot,U.y=It,O.x=fe[Y+0],O.y=fe[Y+1],Y===0&&ue===!0&&$.copy(O)}break;case"A":fe=g(Ke,[3,4],7);for(let Y=0,lt=fe.length;Y<lt;Y+=7){if(fe[Y+5]==O.x&&fe[Y+6]==O.y)continue;const ot=O.clone();O.x=fe[Y+5],O.y=fe[Y+6],U.x=O.x,U.y=O.y,o(j,fe[Y],fe[Y+1],fe[Y+2],fe[Y+3],fe[Y+4],ot,O),Y===0&&ue===!0&&$.copy(O)}break;case"m":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=2)O.x+=fe[Y+0],O.y+=fe[Y+1],U.x=O.x,U.y=O.y,Y===0?j.moveTo(O.x,O.y):j.lineTo(O.x,O.y),Y===0&&$.copy(O);break;case"h":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y++)O.x+=fe[Y],U.x=O.x,U.y=O.y,j.lineTo(O.x,O.y),Y===0&&ue===!0&&$.copy(O);break;case"v":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y++)O.y+=fe[Y],U.x=O.x,U.y=O.y,j.lineTo(O.x,O.y),Y===0&&ue===!0&&$.copy(O);break;case"l":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=2)O.x+=fe[Y+0],O.y+=fe[Y+1],U.x=O.x,U.y=O.y,j.lineTo(O.x,O.y),Y===0&&ue===!0&&$.copy(O);break;case"c":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=6)j.bezierCurveTo(O.x+fe[Y+0],O.y+fe[Y+1],O.x+fe[Y+2],O.y+fe[Y+3],O.x+fe[Y+4],O.y+fe[Y+5]),U.x=O.x+fe[Y+2],U.y=O.y+fe[Y+3],O.x+=fe[Y+4],O.y+=fe[Y+5],Y===0&&ue===!0&&$.copy(O);break;case"s":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=4)j.bezierCurveTo(p(O.x,U.x),p(O.y,U.y),O.x+fe[Y+0],O.y+fe[Y+1],O.x+fe[Y+2],O.y+fe[Y+3]),U.x=O.x+fe[Y+0],U.y=O.y+fe[Y+1],O.x+=fe[Y+2],O.y+=fe[Y+3],Y===0&&ue===!0&&$.copy(O);break;case"q":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=4)j.quadraticCurveTo(O.x+fe[Y+0],O.y+fe[Y+1],O.x+fe[Y+2],O.y+fe[Y+3]),U.x=O.x+fe[Y+0],U.y=O.y+fe[Y+1],O.x+=fe[Y+2],O.y+=fe[Y+3],Y===0&&ue===!0&&$.copy(O);break;case"t":fe=g(Ke);for(let Y=0,lt=fe.length;Y<lt;Y+=2){const ot=p(O.x,U.x),It=p(O.y,U.y);j.quadraticCurveTo(ot,It,O.x+fe[Y+0],O.y+fe[Y+1]),U.x=ot,U.y=It,O.x=O.x+fe[Y+0],O.y=O.y+fe[Y+1],Y===0&&ue===!0&&$.copy(O)}break;case"a":fe=g(Ke,[3,4],7);for(let Y=0,lt=fe.length;Y<lt;Y+=7){if(fe[Y+5]==0&&fe[Y+6]==0)continue;const ot=O.clone();O.x+=fe[Y+5],O.y+=fe[Y+6],U.x=O.x,U.y=O.y,o(j,fe[Y],fe[Y+1],fe[Y+2],fe[Y+3],fe[Y+4],ot,O),Y===0&&ue===!0&&$.copy(O)}break;case"Z":case"z":j.currentPath.autoClose=!0,j.currentPath.curves.length>0&&(O.copy($),j.currentPath.currentPoint.copy(O),me=!0);break;default:console.warn(H)}ue=!1}return j}function r(ce){if(!(!ce.sheet||!ce.sheet.cssRules||!ce.sheet.cssRules.length))for(let j=0;j<ce.sheet.cssRules.length;j++){const O=ce.sheet.cssRules[j];if(O.type!==1)continue;const U=O.selectorText.split(/,/gm).filter(Boolean).map($=>$.trim());for(let $=0;$<U.length;$++){const me=Object.fromEntries(Object.entries(O.style).filter(([,ue])=>ue!==""));D[U[$]]=Object.assign(D[U[$]]||{},me)}}}function o(ce,j,O,U,$,me,ue,Se){if(j==0||O==0){ce.lineTo(Se.x,Se.y);return}U=U*Math.PI/180,j=Math.abs(j),O=Math.abs(O);const we=(ue.x-Se.x)/2,qe=(ue.y-Se.y)/2,ve=Math.cos(U)*we+Math.sin(U)*qe,H=-Math.sin(U)*we+Math.cos(U)*qe;let rt=j*j,Ke=O*O;const fe=ve*ve,Y=H*H,lt=fe/rt+Y/Ke;if(lt>1){const _e=Math.sqrt(lt);j=_e*j,O=_e*O,rt=j*j,Ke=O*O}const ot=rt*Y+Ke*fe,It=(rt*Ke-ot)/ot;let Ft=Math.sqrt(Math.max(0,It));$===me&&(Ft=-Ft);const St=Ft*j*H/O,os=-Ft*O*ve/j,ds=Math.cos(U)*St-Math.sin(U)*os+(ue.x+Se.x)/2,ms=Math.sin(U)*St+Math.cos(U)*os+(ue.y+Se.y)/2,J=a(1,0,(ve-St)/j,(H-os)/O),k=a((ve-St)/j,(H-os)/O,(-ve-St)/j,(-H-os)/O)%(Math.PI*2);ce.currentPath.absellipse(ds,ms,j,O,J,J+k,me===0,U)}function a(ce,j,O,U){const $=ce*O+j*U,me=Math.sqrt(ce*ce+j*j)*Math.sqrt(O*O+U*U);let ue=Math.acos(Math.max(-1,Math.min(1,$/me)));return ce*U-j*O<0&&(ue=-ue),ue}function l(ce){const j=_(ce.getAttribute("x")||0),O=_(ce.getAttribute("y")||0),U=_(ce.getAttribute("rx")||ce.getAttribute("ry")||0),$=_(ce.getAttribute("ry")||ce.getAttribute("rx")||0),me=_(ce.getAttribute("width")),ue=_(ce.getAttribute("height")),Se=1-.551915024494,we=new aa;return we.moveTo(j+U,O),we.lineTo(j+me-U,O),(U!==0||$!==0)&&we.bezierCurveTo(j+me-U*Se,O,j+me,O+$*Se,j+me,O+$),we.lineTo(j+me,O+ue-$),(U!==0||$!==0)&&we.bezierCurveTo(j+me,O+ue-$*Se,j+me-U*Se,O+ue,j+me-U,O+ue),we.lineTo(j+U,O+ue),(U!==0||$!==0)&&we.bezierCurveTo(j+U*Se,O+ue,j,O+ue-$*Se,j,O+ue-$),we.lineTo(j,O+$),(U!==0||$!==0)&&we.bezierCurveTo(j,O+$*Se,j+U*Se,O,j+U,O),we}function c(ce){function j(me,ue,Se){const we=_(ue),qe=_(Se);$===0?U.moveTo(we,qe):U.lineTo(we,qe),$++}const O=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,U=new aa;let $=0;return ce.getAttribute("points").replace(O,j),U.currentPath.autoClose=!0,U}function d(ce){function j(me,ue,Se){const we=_(ue),qe=_(Se);$===0?U.moveTo(we,qe):U.lineTo(we,qe),$++}const O=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,U=new aa;let $=0;return ce.getAttribute("points").replace(O,j),U.currentPath.autoClose=!1,U}function u(ce){const j=_(ce.getAttribute("cx")||0),O=_(ce.getAttribute("cy")||0),U=_(ce.getAttribute("r")||0),$=new Tl;$.absarc(j,O,U,0,Math.PI*2);const me=new aa;return me.subPaths.push($),me}function h(ce){const j=_(ce.getAttribute("cx")||0),O=_(ce.getAttribute("cy")||0),U=_(ce.getAttribute("rx")||0),$=_(ce.getAttribute("ry")||0),me=new Tl;me.absellipse(j,O,U,$,0,Math.PI*2);const ue=new aa;return ue.subPaths.push(me),ue}function f(ce){const j=_(ce.getAttribute("x1")||0),O=_(ce.getAttribute("y1")||0),U=_(ce.getAttribute("x2")||0),$=_(ce.getAttribute("y2")||0),me=new aa;return me.moveTo(j,O),me.lineTo(U,$),me.currentPath.autoClose=!1,me}function A(ce,j){j=Object.assign({},j);let O={};if(ce.hasAttribute("class")){const ue=ce.getAttribute("class").split(/\s/).filter(Boolean).map(Se=>Se.trim());for(let Se=0;Se<ue.length;Se++)O=Object.assign(O,D["."+ue[Se]])}ce.hasAttribute("id")&&(O=Object.assign(O,D["#"+ce.getAttribute("id")]));function U(ue,Se,we){we===void 0&&(we=function(ve){return ve.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),ve}),ce.hasAttribute(ue)&&(j[Se]=we(ce.getAttribute(ue))),O[ue]&&(j[Se]=we(O[ue])),ce.style&&ce.style[ue]!==""&&(j[Se]=we(ce.style[ue]))}function $(ue){return Math.max(0,Math.min(1,_(ue)))}function me(ue){return Math.max(0,_(ue))}return U("fill","fill"),U("fill-opacity","fillOpacity",$),U("fill-rule","fillRule"),U("opacity","opacity",$),U("stroke","stroke"),U("stroke-opacity","strokeOpacity",$),U("stroke-width","strokeWidth",me),U("stroke-linejoin","strokeLineJoin"),U("stroke-linecap","strokeLineCap"),U("stroke-miterlimit","strokeMiterLimit",me),U("visibility","visibility"),j}function p(ce,j){return ce-(j-ce)}function g(ce,j,O){if(typeof ce!="string")throw new TypeError("Invalid input: "+typeof ce);const U={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},$=0,me=1,ue=2,Se=3;let we=$,qe=!0,ve="",H="";const rt=[];function Ke(ot,It,Ft){const St=new SyntaxError('Unexpected character "'+ot+'" at index '+It+".");throw St.partial=Ft,St}function fe(){ve!==""&&(H===""?rt.push(Number(ve)):rt.push(Number(ve)*Math.pow(10,Number(H)))),ve="",H=""}let Y;const lt=ce.length;for(let ot=0;ot<lt;ot++){if(Y=ce[ot],Array.isArray(j)&&j.includes(rt.length%O)&&U.FLAGS.test(Y)){we=me,ve=Y,fe();continue}if(we===$){if(U.WHITESPACE.test(Y))continue;if(U.DIGIT.test(Y)||U.SIGN.test(Y)){we=me,ve=Y;continue}if(U.POINT.test(Y)){we=ue,ve=Y;continue}U.COMMA.test(Y)&&(qe&&Ke(Y,ot,rt),qe=!0)}if(we===me){if(U.DIGIT.test(Y)){ve+=Y;continue}if(U.POINT.test(Y)){ve+=Y,we=ue;continue}if(U.EXP.test(Y)){we=Se;continue}U.SIGN.test(Y)&&ve.length===1&&U.SIGN.test(ve[0])&&Ke(Y,ot,rt)}if(we===ue){if(U.DIGIT.test(Y)){ve+=Y;continue}if(U.EXP.test(Y)){we=Se;continue}U.POINT.test(Y)&&ve[ve.length-1]==="."&&Ke(Y,ot,rt)}if(we===Se){if(U.DIGIT.test(Y)){H+=Y;continue}if(U.SIGN.test(Y)){if(H===""){H+=Y;continue}H.length===1&&U.SIGN.test(H)&&Ke(Y,ot,rt)}}U.WHITESPACE.test(Y)?(fe(),we=$,qe=!1):U.COMMA.test(Y)?(fe(),we=$,qe=!0):U.SIGN.test(Y)?(fe(),we=me,ve=Y):U.POINT.test(Y)?(fe(),we=ue,ve=Y):Ke(Y,ot,rt)}return fe(),rt}const m=["mm","cm","in","pt","pc","px"],y={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function _(ce){let j="px";if(typeof ce=="string"||ce instanceof String)for(let U=0,$=m.length;U<$;U++){const me=m[U];if(ce.endsWith(me)){j=me,ce=ce.substring(0,ce.length-me.length);break}}let O;return j==="px"&&t.defaultUnit!=="px"?O=y.in[t.defaultUnit]/t.defaultDPI:(O=y[j][t.defaultUnit],O<0&&(O=y[j].in*t.defaultDPI)),O*parseFloat(ce)}function I(ce){if(!(ce.hasAttribute("transform")||ce.nodeName==="use"&&(ce.hasAttribute("x")||ce.hasAttribute("y"))))return null;const j=v(ce);return L.length>0&&j.premultiply(L[L.length-1]),Ye.copy(j),L.push(j),j}function v(ce){const j=new Dt,O=z;if(ce.nodeName==="use"&&(ce.hasAttribute("x")||ce.hasAttribute("y"))){const U=_(ce.getAttribute("x")),$=_(ce.getAttribute("y"));j.translate(U,$)}if(ce.hasAttribute("transform")){const U=ce.getAttribute("transform").split(")");for(let $=U.length-1;$>=0;$--){const me=U[$].trim();if(me==="")continue;const ue=me.indexOf("("),Se=me.length;if(ue>0&&ue<Se){const we=me.slice(0,ue),qe=g(me.slice(ue+1));switch(O.identity(),we){case"translate":if(qe.length>=1){const ve=qe[0];let H=0;qe.length>=2&&(H=qe[1]),O.translate(ve,H)}break;case"rotate":if(qe.length>=1){let ve=0,H=0,rt=0;ve=qe[0]*Math.PI/180,qe.length>=3&&(H=qe[1],rt=qe[2]),V.makeTranslation(-H,-rt),se.makeRotation(ve),q.multiplyMatrices(se,V),V.makeTranslation(H,rt),O.multiplyMatrices(V,q)}break;case"scale":if(qe.length>=1){const ve=qe[0];let H=ve;qe.length>=2&&(H=qe[1]),O.scale(ve,H)}break;case"skewX":qe.length===1&&O.set(1,Math.tan(qe[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":qe.length===1&&O.set(1,0,0,Math.tan(qe[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":qe.length===6&&O.set(qe[0],qe[2],qe[4],qe[1],qe[3],qe[5],0,0,1);break}}j.premultiply(O)}}return j}function E(ce,j){function O(ue){pe.set(ue.x,ue.y,1).applyMatrix3(j),ue.set(pe.x,pe.y)}function U(ue){const Se=ue.xRadius,we=ue.yRadius,qe=Math.cos(ue.aRotation),ve=Math.sin(ue.aRotation),H=new w(Se*qe,Se*ve,0),rt=new w(-we*ve,we*qe,0),Ke=H.applyMatrix3(j),fe=rt.applyMatrix3(j),Y=z.set(Ke.x,fe.x,0,Ke.y,fe.y,0,0,0,1),lt=V.copy(Y).invert(),Ft=se.copy(lt).transpose().multiply(lt).elements,St=S(Ft[0],Ft[1],Ft[4]),os=Math.sqrt(St.rt1),ds=Math.sqrt(St.rt2);if(ue.xRadius=1/os,ue.yRadius=1/ds,ue.aRotation=Math.atan2(St.sn,St.cs),!((ue.aEndAngle-ue.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const J=V.set(os,0,0,0,ds,0,0,0,1),k=se.set(St.cs,St.sn,0,-St.sn,St.cs,0,0,0,1),_e=J.multiply(k).multiply(Y),Fe=Ue=>{const{x:Ie,y:ct}=new w(Math.cos(Ue),Math.sin(Ue),0).applyMatrix3(_e);return Math.atan2(ct,Ie)};ue.aStartAngle=Fe(ue.aStartAngle),ue.aEndAngle=Fe(ue.aEndAngle),b(j)&&(ue.aClockwise=!ue.aClockwise)}}function $(ue){const Se=C(j),we=B(j);ue.xRadius*=Se,ue.yRadius*=we;const qe=Se>Number.EPSILON?Math.atan2(j.elements[1],j.elements[0]):Math.atan2(-j.elements[3],j.elements[4]);ue.aRotation+=qe,b(j)&&(ue.aStartAngle*=-1,ue.aEndAngle*=-1,ue.aClockwise=!ue.aClockwise)}const me=ce.subPaths;for(let ue=0,Se=me.length;ue<Se;ue++){const qe=me[ue].curves;for(let ve=0;ve<qe.length;ve++){const H=qe[ve];H.isLineCurve?(O(H.v1),O(H.v2)):H.isCubicBezierCurve?(O(H.v0),O(H.v1),O(H.v2),O(H.v3)):H.isQuadraticBezierCurve?(O(H.v0),O(H.v1),O(H.v2)):H.isEllipseCurve&&(Ae.set(H.aX,H.aY),O(Ae),H.aX=Ae.x,H.aY=Ae.y,N(j)?U(H):$(H))}}}function b(ce){const j=ce.elements;return j[0]*j[4]-j[1]*j[3]<0}function N(ce){const j=ce.elements,O=j[0]*j[3]+j[1]*j[4];if(O===0)return!1;const U=C(ce),$=B(ce);return Math.abs(O/(U*$))>Number.EPSILON}function C(ce){const j=ce.elements;return Math.sqrt(j[0]*j[0]+j[1]*j[1])}function B(ce){const j=ce.elements;return Math.sqrt(j[3]*j[3]+j[4]*j[4])}function S(ce,j,O){let U,$,me,ue,Se;const we=ce+O,qe=ce-O,ve=Math.sqrt(qe*qe+4*j*j);return we>0?(U=.5*(we+ve),Se=1/U,$=ce*Se*O-j*Se*j):we<0?$=.5*(we-ve):(U=.5*ve,$=-.5*ve),qe>0?me=qe+ve:me=qe-ve,Math.abs(me)>2*Math.abs(j)?(Se=-2*j/me,ue=1/Math.sqrt(1+Se*Se),me=Se*ue):Math.abs(j)===0?(me=1,ue=0):(Se=-.5*me/j,me=1/Math.sqrt(1+Se*Se),ue=Se*me),qe>0&&(Se=me,me=-ue,ue=Se),{rt1:U,rt2:$,cs:me,sn:ue}}const T=[],D={},L=[],z=new Dt,V=new Dt,se=new Dt,q=new Dt,Ae=new Be,pe=new w,Ye=new Dt,Me=new DOMParser().parseFromString(e,"image/svg+xml");return s(Me.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:T,xml:Me.documentElement}}static createShapes(e){const s={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},i={loc:s.ORIGIN,t:0};function r(p,g,m,y){const _=p.x,I=g.x,v=m.x,E=y.x,b=p.y,N=g.y,C=m.y,B=y.y,S=(E-v)*(b-C)-(B-C)*(_-v),T=(I-_)*(b-C)-(N-b)*(_-v),D=(B-C)*(I-_)-(E-v)*(N-b),L=S/D,z=T/D;if(D===0&&S!==0||L<=0||L>=1||z<0||z>1)return null;if(S===0&&D===0){for(let V=0;V<2;V++)if(o(V===0?m:y,p,g),i.loc==s.ORIGIN){const se=V===0?m:y;return{x:se.x,y:se.y,t:i.t}}else if(i.loc==s.BETWEEN){const se=+(_+i.t*(I-_)).toPrecision(10),q=+(b+i.t*(N-b)).toPrecision(10);return{x:se,y:q,t:i.t}}return null}else{for(let q=0;q<2;q++)if(o(q===0?m:y,p,g),i.loc==s.ORIGIN){const Ae=q===0?m:y;return{x:Ae.x,y:Ae.y,t:i.t}}const V=+(_+L*(I-_)).toPrecision(10),se=+(b+L*(N-b)).toPrecision(10);return{x:V,y:se,t:L}}}function o(p,g,m){const y=m.x-g.x,_=m.y-g.y,I=p.x-g.x,v=p.y-g.y,E=y*v-I*_;if(p.x===g.x&&p.y===g.y){i.loc=s.ORIGIN,i.t=0;return}if(p.x===m.x&&p.y===m.y){i.loc=s.DESTINATION,i.t=1;return}if(E<-Number.EPSILON){i.loc=s.LEFT;return}if(E>Number.EPSILON){i.loc=s.RIGHT;return}if(y*I<0||_*v<0){i.loc=s.BEHIND;return}if(Math.sqrt(y*y+_*_)<Math.sqrt(I*I+v*v)){i.loc=s.BEYOND;return}let b;y!==0?b=I/y:b=v/_,i.loc=s.BETWEEN,i.t=b}function a(p,g){const m=[],y=[];for(let _=1;_<p.length;_++){const I=p[_-1],v=p[_];for(let E=1;E<g.length;E++){const b=g[E-1],N=g[E],C=r(I,v,b,N);C!==null&&m.find(B=>B.t<=C.t+Number.EPSILON&&B.t>=C.t-Number.EPSILON)===void 0&&(m.push(C),y.push(new Be(C.x,C.y)))}}return y}function l(p,g,m){const y=new Be;g.getCenter(y);const _=[];return m.forEach(I=>{I.boundingBox.containsPoint(y)&&a(p,I.points).forEach(E=>{_.push({identifier:I.identifier,isCW:I.isCW,point:E})})}),_.sort((I,v)=>I.point.x-v.point.x),_}function c(p,g,m,y,_){(_==null||_==="")&&(_="nonzero");const I=new Be;p.boundingBox.getCenter(I);const v=[new Be(m,I.y),new Be(y,I.y)],E=l(v,p.boundingBox,g);E.sort((T,D)=>T.point.x-D.point.x);const b=[],N=[];E.forEach(T=>{T.identifier===p.identifier?b.push(T):N.push(T)});const C=b[0].point.x,B=[];let S=0;for(;S<N.length&&N[S].point.x<C;)B.length>0&&B[B.length-1]===N[S].identifier?B.pop():B.push(N[S].identifier),S++;if(B.push(p.identifier),_==="evenodd"){const T=B.length%2===0,D=B[B.length-2];return{identifier:p.identifier,isHole:T,for:D}}else if(_==="nonzero"){let T=!0,D=null,L=null;for(let z=0;z<B.length;z++){const V=B[z];T?(L=g[V].isCW,T=!1,D=V):L!==g[V].isCW&&(L=g[V].isCW,T=!0)}return{identifier:p.identifier,isHole:T,for:D}}else console.warn('fill-rule: "'+_+'" is currently not implemented.')}let d=999999999,u=-999999999,h=e.subPaths.map(p=>{const g=p.getPoints();let m=-999999999,y=999999999,_=-999999999,I=999999999;for(let v=0;v<g.length;v++){const E=g[v];E.y>m&&(m=E.y),E.y<y&&(y=E.y),E.x>_&&(_=E.x),E.x<I&&(I=E.x)}return u<=_&&(u=_+1),d>=I&&(d=I-1),{curves:p.curves,points:g,isCW:Ra.isClockWise(g),identifier:-1,boundingBox:new Q_(new Be(I,y),new Be(_,m))}});h=h.filter(p=>p.points.length>1);for(let p=0;p<h.length;p++)h[p].identifier=p;const f=h.map(p=>c(p,h,d,u,e.userData?e.userData.style.fillRule:void 0)),A=[];return h.forEach(p=>{if(!f[p.identifier].isHole){const m=new vd;m.curves=p.curves,f.filter(_=>_.isHole&&_.for===p.identifier).forEach(_=>{const I=h[_.identifier],v=new Tl;v.curves=I.curves,m.holes.push(v)}),A.push(m)}}),A}static getStrokeStyle(e,t,s,i,r){return e=e!==void 0?e:1,t=t!==void 0?t:"#000",s=s!==void 0?s:"miter",i=i!==void 0?i:"butt",r=r!==void 0?r:4,{strokeColor:t,strokeWidth:e,strokeLineJoin:s,strokeLineCap:i,strokeMiterLimit:r}}static pointsToStroke(e,t,s,i){const r=[],o=[],a=[];if(Lg.pointsToStrokeWithBuffers(e,t,s,i,r,o,a)===0)return null;const l=new Qt;return l.setAttribute("position",new yt(r,3)),l.setAttribute("normal",new yt(o,3)),l.setAttribute("uv",new yt(a,2)),l}static pointsToStrokeWithBuffers(e,t,s,i,r,o,a,l){const c=new Be,d=new Be,u=new Be,h=new Be,f=new Be,A=new Be,p=new Be,g=new Be,m=new Be,y=new Be,_=new Be,I=new Be,v=new Be,E=new Be,b=new Be,N=new Be,C=new Be;s=s!==void 0?s:12,i=i!==void 0?i:.001,l=l!==void 0?l:0,e=qe(e);const B=e.length;if(B<2)return 0;const S=e[0].equals(e[B-1]);let T,D=e[0],L;const z=t.strokeWidth/2,V=1/(B-1);let se=0,q,Ae,pe,Ye,Me=!1,We=0,ce=l*3,j=l*2;O(e[0],e[1],c).multiplyScalar(z),g.copy(e[0]).sub(c),m.copy(e[0]).add(c),y.copy(g),_.copy(m);for(let ve=1;ve<B;ve++){T=e[ve],ve===B-1?S?L=e[1]:L=void 0:L=e[ve+1];const H=c;if(O(D,T,H),u.copy(H).multiplyScalar(z),I.copy(T).sub(u),v.copy(T).add(u),q=se+V,Ae=!1,L!==void 0){O(T,L,d),u.copy(d).multiplyScalar(z),E.copy(T).sub(u),b.copy(T).add(u),pe=!0,u.subVectors(L,D),H.dot(u)<0&&(pe=!1),ve===1&&(Me=pe),u.subVectors(L,T),u.normalize();const rt=Math.abs(H.dot(u));if(rt>Number.EPSILON){const Ke=z/rt;u.multiplyScalar(-Ke),h.subVectors(T,D),f.copy(h).setLength(Ke).add(u),N.copy(f).negate();const fe=f.length(),Y=h.length();h.divideScalar(Y),A.subVectors(L,T);const lt=A.length();switch(A.divideScalar(lt),h.dot(N)<Y&&A.dot(N)<lt&&(Ae=!0),C.copy(f).add(T),N.add(T),Ye=!1,Ae?pe?(b.copy(N),v.copy(N)):(E.copy(N),I.copy(N)):me(),t.strokeLineJoin){case"bevel":ue(pe,Ae,q);break;case"round":Se(pe,Ae),pe?$(T,I,E,q,0):$(T,b,v,q,1);break;case"miter":case"miter-clip":default:const ot=z*t.strokeMiterLimit/fe;if(ot<1)if(t.strokeLineJoin!=="miter-clip"){ue(pe,Ae,q);break}else Se(pe,Ae),pe?(A.subVectors(C,I).multiplyScalar(ot).add(I),p.subVectors(C,E).multiplyScalar(ot).add(E),U(I,q,0),U(A,q,0),U(T,q,.5),U(T,q,.5),U(A,q,0),U(p,q,0),U(T,q,.5),U(p,q,0),U(E,q,0)):(A.subVectors(C,v).multiplyScalar(ot).add(v),p.subVectors(C,b).multiplyScalar(ot).add(b),U(v,q,1),U(A,q,1),U(T,q,.5),U(T,q,.5),U(A,q,1),U(p,q,1),U(T,q,.5),U(p,q,1),U(b,q,1));else Ae?(pe?(U(m,se,1),U(g,se,0),U(C,q,0),U(m,se,1),U(C,q,0),U(N,q,1)):(U(m,se,1),U(g,se,0),U(C,q,1),U(g,se,0),U(N,q,0),U(C,q,1)),pe?E.copy(C):b.copy(C)):pe?(U(I,q,0),U(C,q,0),U(T,q,.5),U(T,q,.5),U(C,q,0),U(E,q,0)):(U(v,q,1),U(C,q,1),U(T,q,.5),U(T,q,.5),U(C,q,1),U(b,q,1)),Ye=!0;break}}else me()}else me();!S&&ve===B-1&&we(e[0],y,_,pe,!0,se),se=q,D=T,g.copy(E),m.copy(b)}if(!S)we(T,I,v,pe,!1,q);else if(Ae&&r){let ve=C,H=N;Me!==pe&&(ve=N,H=C),pe?(Ye||Me)&&(H.toArray(r,0),H.toArray(r,9),Ye&&ve.toArray(r,3)):(Ye||!Me)&&(H.toArray(r,3),H.toArray(r,9),Ye&&ve.toArray(r,0))}return We;function O(ve,H,rt){return rt.subVectors(H,ve),rt.set(-rt.y,rt.x).normalize()}function U(ve,H,rt){r&&(r[ce]=ve.x,r[ce+1]=ve.y,r[ce+2]=0,o&&(o[ce]=0,o[ce+1]=0,o[ce+2]=1),ce+=3,a&&(a[j]=H,a[j+1]=rt,j+=2)),We+=3}function $(ve,H,rt,Ke,fe){c.copy(H).sub(ve).normalize(),d.copy(rt).sub(ve).normalize();let Y=Math.PI;const lt=c.dot(d);Math.abs(lt)<1&&(Y=Math.abs(Math.acos(lt))),Y/=s,u.copy(H);for(let ot=0,It=s-1;ot<It;ot++)h.copy(u).rotateAround(ve,Y),U(u,Ke,fe),U(h,Ke,fe),U(ve,Ke,.5),u.copy(h);U(h,Ke,fe),U(rt,Ke,fe),U(ve,Ke,.5)}function me(){U(m,se,1),U(g,se,0),U(I,q,0),U(m,se,1),U(I,q,0),U(v,q,1)}function ue(ve,H,rt){H?ve?(U(m,se,1),U(g,se,0),U(I,q,0),U(m,se,1),U(I,q,0),U(N,q,1),U(I,rt,0),U(E,rt,0),U(N,rt,.5)):(U(m,se,1),U(g,se,0),U(v,q,1),U(g,se,0),U(N,q,0),U(v,q,1),U(v,rt,1),U(N,rt,0),U(b,rt,1)):ve?(U(I,rt,0),U(E,rt,0),U(T,rt,.5)):(U(v,rt,1),U(b,rt,0),U(T,rt,.5))}function Se(ve,H){H&&(ve?(U(m,se,1),U(g,se,0),U(I,q,0),U(m,se,1),U(I,q,0),U(N,q,1),U(I,se,0),U(T,q,.5),U(N,q,1),U(T,q,.5),U(E,se,0),U(N,q,1)):(U(m,se,1),U(g,se,0),U(v,q,1),U(g,se,0),U(N,q,0),U(v,q,1),U(v,se,1),U(N,q,0),U(T,q,.5),U(T,q,.5),U(N,q,0),U(b,se,1)))}function we(ve,H,rt,Ke,fe,Y){switch(t.strokeLineCap){case"round":fe?$(ve,rt,H,Y,.5):$(ve,H,rt,Y,.5);break;case"square":if(fe)c.subVectors(H,ve),d.set(c.y,-c.x),u.addVectors(c,d).add(ve),h.subVectors(d,c).add(ve),Ke?(u.toArray(r,3),h.toArray(r,0),h.toArray(r,9)):(u.toArray(r,3),a[7]===1?h.toArray(r,9):u.toArray(r,9),h.toArray(r,0));else{c.subVectors(rt,ve),d.set(c.y,-c.x),u.addVectors(c,d).add(ve),h.subVectors(d,c).add(ve);const lt=r.length;Ke?(u.toArray(r,lt-3),h.toArray(r,lt-6),h.toArray(r,lt-12)):(h.toArray(r,lt-6),u.toArray(r,lt-3),h.toArray(r,lt-12))}break}}function qe(ve){let H=!1;for(let Ke=1,fe=ve.length-1;Ke<fe;Ke++)if(ve[Ke].distanceTo(ve[Ke+1])<i){H=!0;break}if(!H)return ve;const rt=[];rt.push(ve[0]);for(let Ke=1,fe=ve.length-1;Ke<fe;Ke++)ve[Ke].distanceTo(ve[Ke+1])>=i&&rt.push(ve[Ke]);return rt.push(ve[ve.length-1]),rt}}}class iu extends lI{constructor(e,t,s){const i=bt(void 0);super(e,t,{...s,remeasureOnChildrenChange:!1,depthWriteDefault:!1,supportFillProperty:!0,boundingBox:i});const r=bt(void 0);oI(r,zO,VO,this.abortSignal,be(()=>({src:this.properties.value.src,content:this.properties.value.content}))),vt(()=>{const o=r.value;if(i.value=o?.boundingBox,o==null||o.meshes.length===0){this.notifyAncestorsChanged();return}return super.add(...o.meshes),this.notifyAncestorsChanged(),()=>{super.remove(...o.meshes)}},this.abortSignal)}}const BC=new Lg,NC=new Map;async function zO({src:n,content:e}){if(n==null&&e==null)return;let t;if(n!=null){let o=NC.get(n);o==null&&NC.set(n,o=BC.loadAsync(n)),t=await o}else t=BC.parse(e);const s=[];for(const o of t.paths){const a=Lg.createShapes(o),l=new Nt({color:o.color,toneMapped:!1});for(const c of a){const d=new it(new bg(c),l);d.matrixAutoUpdate=!1,d.scale.y=-1,d.updateMatrix(),s.push(d)}}let i;const r=t.xml.getAttribute("viewBox")?.split(/\s+/).map(o=>Number.parseFloat(o)).filter(o=>!isNaN(o));if(r?.length===4){const[o,a,l,c]=r;i={center:new w(l/2+o,-c/2-a,0),size:new w(l,c,1e-5)}}return{meshes:s,boundingBox:i}}function VO(n){n?.meshes.forEach(e=>{e.material instanceof Ai&&e.material.dispose(),e.geometry.dispose()})}const qO=["caretBorderRightWidth","caretBorderTopWidth","caretBorderLeftWidth","caretBorderBottomWidth"];let SC;function WO(){return SC??=Oh({backgroundColor:"caretColor",borderBend:"caretBorderBend",borderBottomLeftRadius:"caretBorderBottomLeftRadius",borderBottomRightRadius:"caretBorderBottomRightRadius",borderColor:"caretBorderColor",borderTopLeftRadius:"caretBorderTopLeftRadius",borderTopRightRadius:"caretBorderTopRightRadius"},{backgroundColor:0}),SC}function XO(n,e,t,s,i,r,o,a,l){const c=bt(void 0);Qo(c,n,"zIndex",Br.Panel,r,i,l);const d=bt(void 0);vt(()=>{const p=t.value;p==null&&(d.value=void 0),d.value=p;const g=setInterval(()=>d.value=d.peek()==null?p:void 0,500);return()=>clearInterval(g)},l);const u=aI(n,qO),h=be(()=>{const p=d.value?.height;return p==null?[0,0]:[n.value.caretWidth,p]}),f=be(()=>{const p=d.value?.position;return p==null?[0,0]:[p[0]-n.value.caretWidth/2,p[1]]}),A=Qg(n,e,h,f);nu(n,a,c,r,A,h,u,o,s,WO(),l)}const YO=["selectionBorderRightWidth","selectionBorderTopWidth","selectionBorderLeftWidth","selectionBorderBottomWidth"];let MC;function JO(){return MC??=Oh({backgroundColor:"selectionColor",borderBend:"selectionBorderBend",borderBottomLeftRadius:"selectionBorderBottomLeftRadius",borderBottomRightRadius:"selectionBorderBottomRightRadius",borderColor:"selectionBorderColor",borderTopLeftRadius:"selectionBorderTopLeftRadius",borderTopRightRadius:"selectionBorderTopRightRadius"},{backgroundColor:11851775}),MC}function KO(n,e,t,s,i,r,o,a,l){const c=[],d=bt(void 0);Qo(d,n,"zIndex",Br.Panel,o,r,l);const u=aI(n,YO);vt(()=>{const h=s.value,f=h.length;for(let p=0;p<f;p++){let g=c[p];if(g==null){const y=bt([0,0]),_=bt([0,0]),I=new AbortController,v=Qg(n,t,y,_);nu(n,e,d,o,v,y,u,a,i,JO(),I.signal),c[p]=g={abortController:I,offset:_,size:y}}const m=h[p];g.size.value=m.size,g.offset.value=m.position}const A=c.length;for(let p=f;p<A;p++)c[p].abortController.abort();c.length=f},l),l.addEventListener("abort",()=>{const h=c.length;for(let f=0;f<h;f++)c[f].abortController.abort()})}const jO=new Set;function ZO(n){jO.add(n)}const $O={...D2,type:"text",disabled:!1,tabIndex:0,autocomplete:"",whiteSpace:"pre"};let kg=class extends ka{element;selectionRange;hasFocus;uncontrolledSignal=bt(void 0);currentSignal=be(()=>this.properties.value.value??this.uncontrolledSignal.value??this.properties.value.defaultValue??"");constructor(e,t,s){const i=bt(void 0),r=bt(void 0),o=bt([]),a=bt(void 0),l={},c=bt(void 0),d=bt(!1);super(e,t,{defaults:$O,dynamicHandlers:r,selectionRange:c,selectionTransformations:o,caretTransformation:a,instancedTextRef:l,hasFocus:d,isPlaceholder:be(()=>this.currentSignal.value.length===0),...s,defaultOverrides:{cursor:"text",text:be(()=>this.currentSignal.value.length===0?this.properties.value.placeholder:this.properties.value.type==="password"?"*".repeat(this.currentSignal.value.length??0):this.currentSignal.value),caretColor:i,...s?.defaultOverrides}}),this.selectionRange=c,this.hasFocus=d,vt(()=>void(i.value=this.properties.value.color),this.abortSignal),e7(r,this.properties,this.currentSignal,this,l,this.focus.bind(this),this.abortSignal);const u=be(()=>this.parentContainer.value?.clippingRect.value);this.element=t7(c,h=>{this.properties.peek().value==null&&(this.uncontrolledSignal.value=h),this.properties.peek().onValueChange?.(h)},s?.multiline??!1),XO(this.properties,this.globalTextMatrix,a,this.isVisible,this.backgroundOrderInfo,this.backgroundGroupDeps,u,this.root,this.abortSignal),KO(this.properties,this.root,this.globalTextMatrix,o,this.isVisible,this.backgroundOrderInfo,this.backgroundGroupDeps,u,this.abortSignal),s7(this.properties,this.element,this.currentSignal,this.abortSignal),n7(this.element,this.hasFocus,h=>{this.properties.peek().onFocusChange?.(h)},this.abortSignal)}focus(e,t,s){this.hasFocus.peek()||this.element.focus(),e!=null&&t!=null&&this.element.setSelectionRange(e,t,s),this.selectionRange.value=[this.element.selectionStart??0,this.element.selectionEnd??0]}};const TC=typeof Intl>"u"?void 0:new Intl.Segmenter(void 0,{granularity:"word"});function e7(n,e,t,s,i,r,o){vt(()=>{if(e.value.disabled){n.value=void 0;return}let a;const l=c=>{a==null||a.pointerId!=c.pointerId||(c.stopImmediatePropagation?.(),a=void 0)};n.value={onPointerDown:c=>{if(a!=null||c.uv==null||i.current==null)return;ZO(c.nativeEvent),c.stopImmediatePropagation?.(),"setPointerCapture"in c.object&&typeof c.object.setPointerCapture=="function"&&c.object.setPointerCapture(c.pointerId);const d=w0(s,c.uv,i.current,"between");a={pointerId:c.pointerId,startCharIndex:d},setTimeout(()=>r(d,d))},onDblClick:c=>{if(TC==null||c.uv==null||i.current==null)return;if(c.stopImmediatePropagation?.(),e.peek().type==="password"){setTimeout(()=>r(0,t.peek().length,"none"));return}const d=w0(s,c.uv,i.current,"on"),u=TC.segment(t.peek());let h=0;for(const{segment:f}of u){const A=f.length;if(d<h+A){setTimeout(()=>r(h,h+A,"none"));break}h+=A}},onPointerUp:l,onPointerLeave:l,onPointerCancel:l,onPointerMove:c=>{if(a==null||a?.pointerId!=c.pointerId||c.uv==null||i.current==null)return;c.stopImmediatePropagation?.();const d=w0(s,c.uv,i.current,"between"),u=Math.min(a.startCharIndex,d),h=Math.max(a.startCharIndex,d),f=a.startCharIndex<d?"forward":"backward";setTimeout(()=>r(u,h,f))}}},o)}function t7(n,e,t){const s=document.createElement(t?"textarea":"input"),i=s.style;i.setProperty("position","absolute"),i.setProperty("left","-1000vw"),i.setProperty("top","0"),i.setProperty("pointerEvents","none"),i.setProperty("opacity","0"),s.addEventListener("input",()=>{e?.(s.value),r()});const r=()=>{const{selectionStart:o,selectionEnd:a}=s;if(o==null||a==null){n.value=void 0;return}const l=n.peek();l!=null&&l[0]===o&&l[1]===a||(n.value=[o,a])};return s.addEventListener("keydown",r),s.addEventListener("keyup",r),s.addEventListener("blur",()=>n.value=void 0),s}function s7(n,e,t,s){document.body.appendChild(e),s.addEventListener("abort",()=>e.remove()),vt(()=>void(e.value=t.value),s),vt(()=>void(e.disabled=n.value.disabled),s),vt(()=>void(e.tabIndex=n.value.tabIndex),s),vt(()=>void(e.autocomplete=n.value.autocomplete),s),vt(()=>e.setAttribute("type",n.value.type),s)}function n7(n,e,t,s){if(s.aborted)return;e.value=document.activeElement===n;const i=()=>{const r=document.activeElement===n;r!=e.value&&(e.value=r,t(r))};n.addEventListener("focus",i),n.addEventListener("blur",i),s.addEventListener("abort",()=>{n.removeEventListener("focus",i),n.removeEventListener("blur",i)})}function w0({size:n,borderInset:e,paddingInset:t},s,i,r){const o=n.peek(),a=e.peek(),l=t.peek();if(o==null||a==null||l==null)return 0;const[c,d]=o,[u,,,h]=a,[f,,,A]=l,p=s.x*c-h-A,g=(s.y-1)*d+u+f;return i.getCharIndex(p,g,r)}class i7 extends kg{constructor(e,t,s){super(e,t,{multiline:!0,...s})}}new Be;class r7 extends Jp{element=bt();constructor(e,t,s){super(e,t,{loadTexture:!1,...s});const i=be(()=>this.properties.value.src instanceof HTMLVideoElement),r=be(()=>{if(i.value)return this.properties.value.src;const o=document.createElement("video");return o.style.position="absolute",o.style.width="1px",o.style.zIndex="-1000",o.style.top="0px",o.style.left="0px",o});vt(()=>{const o=r.value;if(o==null)return;o.playsInline=!0,o.volume=this.properties.value.volume??1,o.preservesPitch=this.properties.value.preservesPitch??!0,o.playbackRate=this.properties.value.playbackRate??1,o.muted=this.properties.value.muted??!1,o.loop=this.properties.value.loop??!1,o.autoplay=this.properties.value.autoplay??!1,o.crossOrigin=this.properties.value.crossOrigin??null;const a=this.properties.value.src;a instanceof HTMLVideoElement||a7(o,a)},this.abortSignal),vt(()=>{const o=r.value;if(!(i.value||o==null))return document.body.appendChild(o),()=>o.remove()},this.abortSignal),oI(this.element,o7,()=>{},this.abortSignal,r),vt(()=>{const o=this.element.value;if(o==null)return;const a=()=>{const l=new h_(o);l.colorSpace=cs,l.needsUpdate=!0,this.texture.value=l};return a(),o.addEventListener("resize",a),()=>o.removeEventListener("resize",a)},this.abortSignal),vt(()=>{const{requestRender:o}=this.root.value,a=this.element.value;if(o==null||a==null)return;let l;const c=()=>{o(),l=a.requestVideoFrameCallback(c)};return l=a.requestVideoFrameCallback(c),()=>a.cancelVideoFrameCallback(l)},this.abortSignal)}}async function o7(n){if(n!=null)return n.readyState<HTMLMediaElement.HAVE_METADATA&&await new Promise(e=>n.onloadedmetadata=e),n}function a7(n,e){if(e==null){n.removeAttribute("src"),n.removeAttribute("srcObject");return}if(typeof e=="string"){n.src=e;return}n.srcObject=e}var PC;(function(n){n[n.EOF=-1]="EOF",n[n.NULL=0]="NULL",n[n.TABULATION=9]="TABULATION",n[n.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",n[n.LINE_FEED=10]="LINE_FEED",n[n.FORM_FEED=12]="FORM_FEED",n[n.SPACE=32]="SPACE",n[n.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",n[n.QUOTATION_MARK=34]="QUOTATION_MARK",n[n.AMPERSAND=38]="AMPERSAND",n[n.APOSTROPHE=39]="APOSTROPHE",n[n.HYPHEN_MINUS=45]="HYPHEN_MINUS",n[n.SOLIDUS=47]="SOLIDUS",n[n.DIGIT_0=48]="DIGIT_0",n[n.DIGIT_9=57]="DIGIT_9",n[n.SEMICOLON=59]="SEMICOLON",n[n.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",n[n.EQUALS_SIGN=61]="EQUALS_SIGN",n[n.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",n[n.QUESTION_MARK=63]="QUESTION_MARK",n[n.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",n[n.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",n[n.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",n[n.GRAVE_ACCENT=96]="GRAVE_ACCENT",n[n.LATIN_SMALL_A=97]="LATIN_SMALL_A",n[n.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(PC||(PC={}));var RC;(function(n){n.controlCharacterInInputStream="control-character-in-input-stream",n.noncharacterInInputStream="noncharacter-in-input-stream",n.surrogateInInputStream="surrogate-in-input-stream",n.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",n.endTagWithAttributes="end-tag-with-attributes",n.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",n.unexpectedSolidusInTag="unexpected-solidus-in-tag",n.unexpectedNullCharacter="unexpected-null-character",n.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",n.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",n.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",n.missingEndTagName="missing-end-tag-name",n.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",n.unknownNamedCharacterReference="unknown-named-character-reference",n.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",n.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",n.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",n.eofBeforeTagName="eof-before-tag-name",n.eofInTag="eof-in-tag",n.missingAttributeValue="missing-attribute-value",n.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",n.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",n.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",n.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",n.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",n.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",n.missingDoctypePublicIdentifier="missing-doctype-public-identifier",n.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",n.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",n.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",n.cdataInHtmlContent="cdata-in-html-content",n.incorrectlyOpenedComment="incorrectly-opened-comment",n.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",n.eofInDoctype="eof-in-doctype",n.nestedComment="nested-comment",n.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",n.eofInComment="eof-in-comment",n.incorrectlyClosedComment="incorrectly-closed-comment",n.eofInCdata="eof-in-cdata",n.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",n.nullCharacterReference="null-character-reference",n.surrogateCharacterReference="surrogate-character-reference",n.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",n.controlCharacterReference="control-character-reference",n.noncharacterCharacterReference="noncharacter-character-reference",n.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",n.missingDoctypeName="missing-doctype-name",n.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",n.duplicateAttribute="duplicate-attribute",n.nonConformingDoctype="non-conforming-doctype",n.missingDoctype="missing-doctype",n.misplacedDoctype="misplaced-doctype",n.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",n.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",n.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",n.openElementsLeftAfterEof="open-elements-left-after-eof",n.abandonedHeadElementChild="abandoned-head-element-child",n.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",n.nestedNoscriptInHead="nested-noscript-in-head",n.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(RC||(RC={}));var QC;(function(n){n[n.CHARACTER=0]="CHARACTER",n[n.NULL_CHARACTER=1]="NULL_CHARACTER",n[n.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",n[n.START_TAG=3]="START_TAG",n[n.END_TAG=4]="END_TAG",n[n.COMMENT=5]="COMMENT",n[n.DOCTYPE=6]="DOCTYPE",n[n.EOF=7]="EOF",n[n.HIBERNATION=8]="HIBERNATION"})(QC||(QC={}));var fn;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.MATHML="http://www.w3.org/1998/Math/MathML",n.SVG="http://www.w3.org/2000/svg",n.XLINK="http://www.w3.org/1999/xlink",n.XML="http://www.w3.org/XML/1998/namespace",n.XMLNS="http://www.w3.org/2000/xmlns/"})(fn||(fn={}));var DC;(function(n){n.TYPE="type",n.ACTION="action",n.ENCODING="encoding",n.PROMPT="prompt",n.NAME="name",n.COLOR="color",n.FACE="face",n.SIZE="size"})(DC||(DC={}));var LC;(function(n){n.NO_QUIRKS="no-quirks",n.QUIRKS="quirks",n.LIMITED_QUIRKS="limited-quirks"})(LC||(LC={}));var Ee;(function(n){n.A="a",n.ADDRESS="address",n.ANNOTATION_XML="annotation-xml",n.APPLET="applet",n.AREA="area",n.ARTICLE="article",n.ASIDE="aside",n.B="b",n.BASE="base",n.BASEFONT="basefont",n.BGSOUND="bgsound",n.BIG="big",n.BLOCKQUOTE="blockquote",n.BODY="body",n.BR="br",n.BUTTON="button",n.CAPTION="caption",n.CENTER="center",n.CODE="code",n.COL="col",n.COLGROUP="colgroup",n.DD="dd",n.DESC="desc",n.DETAILS="details",n.DIALOG="dialog",n.DIR="dir",n.DIV="div",n.DL="dl",n.DT="dt",n.EM="em",n.EMBED="embed",n.FIELDSET="fieldset",n.FIGCAPTION="figcaption",n.FIGURE="figure",n.FONT="font",n.FOOTER="footer",n.FOREIGN_OBJECT="foreignObject",n.FORM="form",n.FRAME="frame",n.FRAMESET="frameset",n.H1="h1",n.H2="h2",n.H3="h3",n.H4="h4",n.H5="h5",n.H6="h6",n.HEAD="head",n.HEADER="header",n.HGROUP="hgroup",n.HR="hr",n.HTML="html",n.I="i",n.IMG="img",n.IMAGE="image",n.INPUT="input",n.IFRAME="iframe",n.KEYGEN="keygen",n.LABEL="label",n.LI="li",n.LINK="link",n.LISTING="listing",n.MAIN="main",n.MALIGNMARK="malignmark",n.MARQUEE="marquee",n.MATH="math",n.MENU="menu",n.META="meta",n.MGLYPH="mglyph",n.MI="mi",n.MO="mo",n.MN="mn",n.MS="ms",n.MTEXT="mtext",n.NAV="nav",n.NOBR="nobr",n.NOFRAMES="noframes",n.NOEMBED="noembed",n.NOSCRIPT="noscript",n.OBJECT="object",n.OL="ol",n.OPTGROUP="optgroup",n.OPTION="option",n.P="p",n.PARAM="param",n.PLAINTEXT="plaintext",n.PRE="pre",n.RB="rb",n.RP="rp",n.RT="rt",n.RTC="rtc",n.RUBY="ruby",n.S="s",n.SCRIPT="script",n.SEARCH="search",n.SECTION="section",n.SELECT="select",n.SOURCE="source",n.SMALL="small",n.SPAN="span",n.STRIKE="strike",n.STRONG="strong",n.STYLE="style",n.SUB="sub",n.SUMMARY="summary",n.SUP="sup",n.TABLE="table",n.TBODY="tbody",n.TEMPLATE="template",n.TEXTAREA="textarea",n.TFOOT="tfoot",n.TD="td",n.TH="th",n.THEAD="thead",n.TITLE="title",n.TR="tr",n.TRACK="track",n.TT="tt",n.U="u",n.UL="ul",n.SVG="svg",n.VAR="var",n.WBR="wbr",n.XMP="xmp"})(Ee||(Ee={}));var ne;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.A=1]="A",n[n.ADDRESS=2]="ADDRESS",n[n.ANNOTATION_XML=3]="ANNOTATION_XML",n[n.APPLET=4]="APPLET",n[n.AREA=5]="AREA",n[n.ARTICLE=6]="ARTICLE",n[n.ASIDE=7]="ASIDE",n[n.B=8]="B",n[n.BASE=9]="BASE",n[n.BASEFONT=10]="BASEFONT",n[n.BGSOUND=11]="BGSOUND",n[n.BIG=12]="BIG",n[n.BLOCKQUOTE=13]="BLOCKQUOTE",n[n.BODY=14]="BODY",n[n.BR=15]="BR",n[n.BUTTON=16]="BUTTON",n[n.CAPTION=17]="CAPTION",n[n.CENTER=18]="CENTER",n[n.CODE=19]="CODE",n[n.COL=20]="COL",n[n.COLGROUP=21]="COLGROUP",n[n.DD=22]="DD",n[n.DESC=23]="DESC",n[n.DETAILS=24]="DETAILS",n[n.DIALOG=25]="DIALOG",n[n.DIR=26]="DIR",n[n.DIV=27]="DIV",n[n.DL=28]="DL",n[n.DT=29]="DT",n[n.EM=30]="EM",n[n.EMBED=31]="EMBED",n[n.FIELDSET=32]="FIELDSET",n[n.FIGCAPTION=33]="FIGCAPTION",n[n.FIGURE=34]="FIGURE",n[n.FONT=35]="FONT",n[n.FOOTER=36]="FOOTER",n[n.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",n[n.FORM=38]="FORM",n[n.FRAME=39]="FRAME",n[n.FRAMESET=40]="FRAMESET",n[n.H1=41]="H1",n[n.H2=42]="H2",n[n.H3=43]="H3",n[n.H4=44]="H4",n[n.H5=45]="H5",n[n.H6=46]="H6",n[n.HEAD=47]="HEAD",n[n.HEADER=48]="HEADER",n[n.HGROUP=49]="HGROUP",n[n.HR=50]="HR",n[n.HTML=51]="HTML",n[n.I=52]="I",n[n.IMG=53]="IMG",n[n.IMAGE=54]="IMAGE",n[n.INPUT=55]="INPUT",n[n.IFRAME=56]="IFRAME",n[n.KEYGEN=57]="KEYGEN",n[n.LABEL=58]="LABEL",n[n.LI=59]="LI",n[n.LINK=60]="LINK",n[n.LISTING=61]="LISTING",n[n.MAIN=62]="MAIN",n[n.MALIGNMARK=63]="MALIGNMARK",n[n.MARQUEE=64]="MARQUEE",n[n.MATH=65]="MATH",n[n.MENU=66]="MENU",n[n.META=67]="META",n[n.MGLYPH=68]="MGLYPH",n[n.MI=69]="MI",n[n.MO=70]="MO",n[n.MN=71]="MN",n[n.MS=72]="MS",n[n.MTEXT=73]="MTEXT",n[n.NAV=74]="NAV",n[n.NOBR=75]="NOBR",n[n.NOFRAMES=76]="NOFRAMES",n[n.NOEMBED=77]="NOEMBED",n[n.NOSCRIPT=78]="NOSCRIPT",n[n.OBJECT=79]="OBJECT",n[n.OL=80]="OL",n[n.OPTGROUP=81]="OPTGROUP",n[n.OPTION=82]="OPTION",n[n.P=83]="P",n[n.PARAM=84]="PARAM",n[n.PLAINTEXT=85]="PLAINTEXT",n[n.PRE=86]="PRE",n[n.RB=87]="RB",n[n.RP=88]="RP",n[n.RT=89]="RT",n[n.RTC=90]="RTC",n[n.RUBY=91]="RUBY",n[n.S=92]="S",n[n.SCRIPT=93]="SCRIPT",n[n.SEARCH=94]="SEARCH",n[n.SECTION=95]="SECTION",n[n.SELECT=96]="SELECT",n[n.SOURCE=97]="SOURCE",n[n.SMALL=98]="SMALL",n[n.SPAN=99]="SPAN",n[n.STRIKE=100]="STRIKE",n[n.STRONG=101]="STRONG",n[n.STYLE=102]="STYLE",n[n.SUB=103]="SUB",n[n.SUMMARY=104]="SUMMARY",n[n.SUP=105]="SUP",n[n.TABLE=106]="TABLE",n[n.TBODY=107]="TBODY",n[n.TEMPLATE=108]="TEMPLATE",n[n.TEXTAREA=109]="TEXTAREA",n[n.TFOOT=110]="TFOOT",n[n.TD=111]="TD",n[n.TH=112]="TH",n[n.THEAD=113]="THEAD",n[n.TITLE=114]="TITLE",n[n.TR=115]="TR",n[n.TRACK=116]="TRACK",n[n.TT=117]="TT",n[n.U=118]="U",n[n.UL=119]="UL",n[n.SVG=120]="SVG",n[n.VAR=121]="VAR",n[n.WBR=122]="WBR",n[n.XMP=123]="XMP"})(ne||(ne={}));Ee.A,ne.A,Ee.ADDRESS,ne.ADDRESS,Ee.ANNOTATION_XML,ne.ANNOTATION_XML,Ee.APPLET,ne.APPLET,Ee.AREA,ne.AREA,Ee.ARTICLE,ne.ARTICLE,Ee.ASIDE,ne.ASIDE,Ee.B,ne.B,Ee.BASE,ne.BASE,Ee.BASEFONT,ne.BASEFONT,Ee.BGSOUND,ne.BGSOUND,Ee.BIG,ne.BIG,Ee.BLOCKQUOTE,ne.BLOCKQUOTE,Ee.BODY,ne.BODY,Ee.BR,ne.BR,Ee.BUTTON,ne.BUTTON,Ee.CAPTION,ne.CAPTION,Ee.CENTER,ne.CENTER,Ee.CODE,ne.CODE,Ee.COL,ne.COL,Ee.COLGROUP,ne.COLGROUP,Ee.DD,ne.DD,Ee.DESC,ne.DESC,Ee.DETAILS,ne.DETAILS,Ee.DIALOG,ne.DIALOG,Ee.DIR,ne.DIR,Ee.DIV,ne.DIV,Ee.DL,ne.DL,Ee.DT,ne.DT,Ee.EM,ne.EM,Ee.EMBED,ne.EMBED,Ee.FIELDSET,ne.FIELDSET,Ee.FIGCAPTION,ne.FIGCAPTION,Ee.FIGURE,ne.FIGURE,Ee.FONT,ne.FONT,Ee.FOOTER,ne.FOOTER,Ee.FOREIGN_OBJECT,ne.FOREIGN_OBJECT,Ee.FORM,ne.FORM,Ee.FRAME,ne.FRAME,Ee.FRAMESET,ne.FRAMESET,Ee.H1,ne.H1,Ee.H2,ne.H2,Ee.H3,ne.H3,Ee.H4,ne.H4,Ee.H5,ne.H5,Ee.H6,ne.H6,Ee.HEAD,ne.HEAD,Ee.HEADER,ne.HEADER,Ee.HGROUP,ne.HGROUP,Ee.HR,ne.HR,Ee.HTML,ne.HTML,Ee.I,ne.I,Ee.IMG,ne.IMG,Ee.IMAGE,ne.IMAGE,Ee.INPUT,ne.INPUT,Ee.IFRAME,ne.IFRAME,Ee.KEYGEN,ne.KEYGEN,Ee.LABEL,ne.LABEL,Ee.LI,ne.LI,Ee.LINK,ne.LINK,Ee.LISTING,ne.LISTING,Ee.MAIN,ne.MAIN,Ee.MALIGNMARK,ne.MALIGNMARK,Ee.MARQUEE,ne.MARQUEE,Ee.MATH,ne.MATH,Ee.MENU,ne.MENU,Ee.META,ne.META,Ee.MGLYPH,ne.MGLYPH,Ee.MI,ne.MI,Ee.MO,ne.MO,Ee.MN,ne.MN,Ee.MS,ne.MS,Ee.MTEXT,ne.MTEXT,Ee.NAV,ne.NAV,Ee.NOBR,ne.NOBR,Ee.NOFRAMES,ne.NOFRAMES,Ee.NOEMBED,ne.NOEMBED,Ee.NOSCRIPT,ne.NOSCRIPT,Ee.OBJECT,ne.OBJECT,Ee.OL,ne.OL,Ee.OPTGROUP,ne.OPTGROUP,Ee.OPTION,ne.OPTION,Ee.P,ne.P,Ee.PARAM,ne.PARAM,Ee.PLAINTEXT,ne.PLAINTEXT,Ee.PRE,ne.PRE,Ee.RB,ne.RB,Ee.RP,ne.RP,Ee.RT,ne.RT,Ee.RTC,ne.RTC,Ee.RUBY,ne.RUBY,Ee.S,ne.S,Ee.SCRIPT,ne.SCRIPT,Ee.SEARCH,ne.SEARCH,Ee.SECTION,ne.SECTION,Ee.SELECT,ne.SELECT,Ee.SOURCE,ne.SOURCE,Ee.SMALL,ne.SMALL,Ee.SPAN,ne.SPAN,Ee.STRIKE,ne.STRIKE,Ee.STRONG,ne.STRONG,Ee.STYLE,ne.STYLE,Ee.SUB,ne.SUB,Ee.SUMMARY,ne.SUMMARY,Ee.SUP,ne.SUP,Ee.TABLE,ne.TABLE,Ee.TBODY,ne.TBODY,Ee.TEMPLATE,ne.TEMPLATE,Ee.TEXTAREA,ne.TEXTAREA,Ee.TFOOT,ne.TFOOT,Ee.TD,ne.TD,Ee.TH,ne.TH,Ee.THEAD,ne.THEAD,Ee.TITLE,ne.TITLE,Ee.TR,ne.TR,Ee.TRACK,ne.TRACK,Ee.TT,ne.TT,Ee.U,ne.U,Ee.UL,ne.UL,Ee.SVG,ne.SVG,Ee.VAR,ne.VAR,Ee.WBR,ne.WBR,Ee.XMP,ne.XMP;const nt=ne;fn.HTML+"",nt.ADDRESS,nt.APPLET,nt.AREA,nt.ARTICLE,nt.ASIDE,nt.BASE,nt.BASEFONT,nt.BGSOUND,nt.BLOCKQUOTE,nt.BODY,nt.BR,nt.BUTTON,nt.CAPTION,nt.CENTER,nt.COL,nt.COLGROUP,nt.DD,nt.DETAILS,nt.DIR,nt.DIV,nt.DL,nt.DT,nt.EMBED,nt.FIELDSET,nt.FIGCAPTION,nt.FIGURE,nt.FOOTER,nt.FORM,nt.FRAME,nt.FRAMESET,nt.H1,nt.H2,nt.H3,nt.H4,nt.H5,nt.H6,nt.HEAD,nt.HEADER,nt.HGROUP,nt.HR,nt.HTML,nt.IFRAME,nt.IMG,nt.INPUT,nt.LI,nt.LINK,nt.LISTING,nt.MAIN,nt.MARQUEE,nt.MENU,nt.META,nt.NAV,nt.NOEMBED,nt.NOFRAMES,nt.NOSCRIPT,nt.OBJECT,nt.OL,nt.P,nt.PARAM,nt.PLAINTEXT,nt.PRE,nt.SCRIPT,nt.SECTION,nt.SELECT,nt.SOURCE,nt.STYLE,nt.SUMMARY,nt.TABLE,nt.TBODY,nt.TD,nt.TEMPLATE,nt.TEXTAREA,nt.TFOOT,nt.TH,nt.THEAD,nt.TITLE,nt.TR,nt.TRACK,nt.UL,nt.WBR,nt.XMP,fn.MATHML+"",nt.MI,nt.MO,nt.MN,nt.MS,nt.MTEXT,nt.ANNOTATION_XML,fn.SVG+"",nt.TITLE,nt.FOREIGN_OBJECT,nt.DESC,fn.XLINK+"",fn.XML+"",fn.XMLNS+"";nt.H1,nt.H2,nt.H3,nt.H4,nt.H5,nt.H6;Ee.STYLE,Ee.SCRIPT,Ee.XMP,Ee.IFRAME,Ee.NOEMBED,Ee.NOFRAMES,Ee.PLAINTEXT;var ua;(function(n){n[n.DATA=0]="DATA",n[n.RCDATA=1]="RCDATA",n[n.RAWTEXT=2]="RAWTEXT",n[n.SCRIPT_DATA=3]="SCRIPT_DATA",n[n.PLAINTEXT=4]="PLAINTEXT",n[n.TAG_OPEN=5]="TAG_OPEN",n[n.END_TAG_OPEN=6]="END_TAG_OPEN",n[n.TAG_NAME=7]="TAG_NAME",n[n.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",n[n.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",n[n.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",n[n.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",n[n.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",n[n.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",n[n.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",n[n.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",n[n.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",n[n.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",n[n.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",n[n.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",n[n.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",n[n.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",n[n.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",n[n.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",n[n.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",n[n.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",n[n.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",n[n.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",n[n.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",n[n.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",n[n.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",n[n.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",n[n.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",n[n.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",n[n.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",n[n.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",n[n.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",n[n.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",n[n.BOGUS_COMMENT=40]="BOGUS_COMMENT",n[n.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",n[n.COMMENT_START=42]="COMMENT_START",n[n.COMMENT_START_DASH=43]="COMMENT_START_DASH",n[n.COMMENT=44]="COMMENT",n[n.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",n[n.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",n[n.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",n[n.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",n[n.COMMENT_END_DASH=49]="COMMENT_END_DASH",n[n.COMMENT_END=50]="COMMENT_END",n[n.COMMENT_END_BANG=51]="COMMENT_END_BANG",n[n.DOCTYPE=52]="DOCTYPE",n[n.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",n[n.DOCTYPE_NAME=54]="DOCTYPE_NAME",n[n.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",n[n.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",n[n.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",n[n.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",n[n.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",n[n.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",n[n.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",n[n.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",n[n.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",n[n.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",n[n.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",n[n.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",n[n.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",n[n.CDATA_SECTION=68]="CDATA_SECTION",n[n.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",n[n.CDATA_SECTION_END=70]="CDATA_SECTION_END",n[n.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",n[n.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(ua||(ua={}));ua.DATA,ua.RCDATA,ua.RAWTEXT,ua.SCRIPT_DATA,ua.PLAINTEXT,ua.CDATA_SECTION;const l7=new Set([ne.DD,ne.DT,ne.LI,ne.OPTGROUP,ne.OPTION,ne.P,ne.RB,ne.RP,ne.RT,ne.RTC]);[...l7,ne.CAPTION,ne.COLGROUP,ne.TBODY,ne.TD,ne.TFOOT,ne.TH,ne.THEAD,ne.TR];const L2=new Set([ne.APPLET,ne.CAPTION,ne.HTML,ne.MARQUEE,ne.OBJECT,ne.TABLE,ne.TD,ne.TEMPLATE,ne.TH]);[...L2,ne.OL,ne.UL];[...L2,ne.BUTTON];ne.ANNOTATION_XML,ne.MI,ne.MN,ne.MO,ne.MS,ne.MTEXT;ne.DESC,ne.FOREIGN_OBJECT,ne.TITLE;ne.TR,ne.TEMPLATE,ne.HTML;ne.TBODY,ne.TFOOT,ne.THEAD,ne.TEMPLATE,ne.HTML;ne.TABLE,ne.TEMPLATE,ne.HTML;ne.TD,ne.TH;var my;(function(n){n[n.Marker=0]="Marker",n[n.Element=1]="Element"})(my||(my={}));my.Marker;new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(n=>[n.toLowerCase(),n]));fn.XLINK,fn.XLINK,fn.XLINK,fn.XLINK,fn.XLINK,fn.XLINK,fn.XLINK,fn.XML,fn.XML,fn.XMLNS,fn.XMLNS;new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(n=>[n.toLowerCase(),n]));ne.B,ne.BIG,ne.BLOCKQUOTE,ne.BODY,ne.BR,ne.CENTER,ne.CODE,ne.DD,ne.DIV,ne.DL,ne.DT,ne.EM,ne.EMBED,ne.H1,ne.H2,ne.H3,ne.H4,ne.H5,ne.H6,ne.HEAD,ne.HR,ne.I,ne.IMG,ne.LI,ne.LISTING,ne.MENU,ne.META,ne.NOBR,ne.OL,ne.P,ne.PRE,ne.RUBY,ne.S,ne.SMALL,ne.SPAN,ne.STRONG,ne.STRIKE,ne.SUB,ne.SUP,ne.TABLE,ne.TT,ne.U,ne.UL,ne.VAR;var kC;(function(n){n[n.INITIAL=0]="INITIAL",n[n.BEFORE_HTML=1]="BEFORE_HTML",n[n.BEFORE_HEAD=2]="BEFORE_HEAD",n[n.IN_HEAD=3]="IN_HEAD",n[n.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",n[n.AFTER_HEAD=5]="AFTER_HEAD",n[n.IN_BODY=6]="IN_BODY",n[n.TEXT=7]="TEXT",n[n.IN_TABLE=8]="IN_TABLE",n[n.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",n[n.IN_CAPTION=10]="IN_CAPTION",n[n.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",n[n.IN_TABLE_BODY=12]="IN_TABLE_BODY",n[n.IN_ROW=13]="IN_ROW",n[n.IN_CELL=14]="IN_CELL",n[n.IN_SELECT=15]="IN_SELECT",n[n.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",n[n.IN_TEMPLATE=17]="IN_TEMPLATE",n[n.AFTER_BODY=18]="AFTER_BODY",n[n.IN_FRAMESET=19]="IN_FRAMESET",n[n.AFTER_FRAMESET=20]="AFTER_FRAMESET",n[n.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",n[n.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(kC||(kC={}));ne.TABLE,ne.TBODY,ne.TFOOT,ne.THEAD,ne.TR;ne.CAPTION,ne.COL,ne.COLGROUP,ne.TBODY,ne.TD,ne.TFOOT,ne.TH,ne.THEAD,ne.TR;Ee.AREA,Ee.BASE,Ee.BASEFONT,Ee.BGSOUND,Ee.BR,Ee.COL,Ee.EMBED,Ee.FRAME,Ee.HR,Ee.IMG,Ee.INPUT,Ee.KEYGEN,Ee.LINK,Ee.META,Ee.PARAM,Ee.SOURCE,Ee.TRACK,Ee.WBR;const c7={h1:class extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{fontSize:24,fontWeight:"bold",...s?.defaultOverrides}})}},h2:class extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{fontSize:24,fontWeight:"bold",...s?.defaultOverrides}})}},h3:class extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{fontSize:18.72,fontWeight:"bold",...s?.defaultOverrides}})}},h4:class extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{fontSize:16,fontWeight:"bold",...s?.defaultOverrides}})}},h5:class extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{fontSize:13.28,fontWeight:"bold",...s?.defaultOverrides}})}},h6:class extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{fontSize:10.67,fontWeight:"bold",...s?.defaultOverrides}})}},ol:class extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{flexDirection:"column",...s?.defaultOverrides}})}},ul:class extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{flexDirection:"column",...s?.defaultOverrides}})}},a:class extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{cursor:"pointer",onClick:i=>{i.stopPropagation?.();const r=this.properties.peek().href;r!=null&&window.open(r)},...s?.defaultOverrides}})}},button:class extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{verticalAlign:"middle",textAlign:"center",cursor:"pointer",...s?.defaultOverrides}})}},textarea:class extends kg{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{multiline:!0,...s?.defaultOverrides}})}}};function d7(n,e){if(!n.element)return null;for(const[s,i]of Object.entries(n.classes))i&&typeof i=="object"&&"content"in i&&(Wp[s]=i.content);const t=Object.entries(c7);return e!=null&&t.unshift(...Object.entries(e)),k2(n.element,t)}function k2(n,e){if(n==null)return null;if(typeof n=="string"){const r=new ka({text:be(()=>(r.parentContainer.value?.properties.value).text??n),width:"100%",height:"100%"});return r}const t={...n.properties};t.style&&typeof t.style=="object"&&(Object.assign(t,t.style),delete t.style);const s=t.id;let i;switch(n.type){case"container":i=u7(n,t);break;case"custom":i=FC(n,t,e);break;case"image":i=h7(n,t);break;case"svg":i=f7(n,t);break;case"inline-svg":i=A7(n,t);break;case"video":i=p7(n,t);break;case"input":i=m7(n,t);break;case"textarea":i=g7(n,t);break;default:i=FC(n,t);break}s&&(i.userData.id=s),n.sourceTag&&(i.userData.sourceTag=n.sourceTag),n.dataUid&&(i.userData.dataUid=n.dataUid);for(const[r,o]of Object.entries(t))if(r.startsWith("data")){const a=r.slice(4,5).toLowerCase()+r.slice(5);i.userData[a]=o}if(t.class){const r=t.class.split(" ").filter(o=>o.trim());i.classList.add(...r)}return i instanceof Lt&&n.children.forEach(r=>{const o=k2(r,e);o&&i.add(o)}),i}function u7(n,e){return new Lt(e)}function FC(n,e,t){const s=n.sourceTag,i=t?.find(([r])=>r.toLowerCase()===s)?.[1];if(i){const r=new i(e);return r.userData.customElement={componentName:s,sourceTag:n.sourceTag},r}else{const r=new Lt(e);return r.userData.customElement={componentName:s,sourceTag:n.sourceTag},r}}function h7(n,e){return e.src||(console.warn("Image element missing src property"),e.src=""),new Jp(e)}function f7(n,e){return e.src||(console.warn("SVG element missing src property"),e.src=""),new iu(e)}function A7(n,e){const t=n.text||"";return new iu({...e,content:t})}function p7(n,e){return e.src||(console.warn("Video element missing src property"),e.src=""),new r7(e)}function g7(n,e){return new i7(e)}function m7(n,e){return new kg(e)}class F2 extends Tt{constructor(e){super(),this.elementMap=new Map,this.classMap=new Map,this._abortController=new AbortController,this.targetWidth=bt(0),this.targetHeight=bt(0),this._rootElement=e,this.add(this._rootElement),this.indexElements(e),this.setupReactiveResizing()}getElementById(e){return this.elementMap.get(e)||null}getElementsByClassName(e){return this.classMap.get(e)||[]}querySelector(e){const t=this.querySelectorAll(e);return t.length>0?t[0]:null}querySelectorAll(e){if(e.includes(" "))return this.parseDescendantSelector(e);if(e.startsWith("#")){const t=this.getElementById(e.substring(1));return t?[t]:[]}return e.startsWith(".")?this.getElementsByClassName(e.substring(1)):[]}parseDescendantSelector(e){const t=e.trim().split(/\s+/);if(t.length<2)return[];let s=this.querySelectorAll(t[0]);for(let i=1;i<t.length;i++){const r=t[i],o=[];for(const a of s){const l=this.findDescendants(a,r);o.push(...l)}if(s=o,s.length===0)break}return s}findDescendants(e,t){const s=[];return this.searchDescendants(e,t,s),s}searchDescendants(e,t,s){for(const i of e.children)i instanceof Ro&&this.matchesSelector(i,t)&&s.push(i),this.searchDescendants(i,t,s)}matchesSelector(e,t){var s,i,r,o;if(t.startsWith("#"))return((r=(i=(s=e.properties)===null||s===void 0?void 0:s.signal)===null||i===void 0?void 0:i.id)===null||r===void 0?void 0:r.value)===t.substring(1);if(t.startsWith(".")){const a=t.substring(1);return(e.classList?((o=e.classList.list)===null||o===void 0?void 0:o.filter(c=>typeof c=="string"))||[]:[]).includes(a)}return!1}isDescendantOf(e,t){let s=e.parent;for(;s;){if(s===t)return!0;s=s.parent}return!1}querySelectorAllWithin(e,t){return this.querySelectorAll(`${e} ${t}`)}querySelectorWithin(e,t){return this.querySelector(`${e} ${t}`)}setupReactiveResizing(){var e;const t=this._abortController.signal,s=this.targetWidth.subscribe(()=>this.updateScaling()),i=this.targetHeight.subscribe(()=>this.updateScaling()),r=(e=this._rootElement.size)===null||e===void 0?void 0:e.subscribe(()=>this.updateScaling());t.addEventListener("abort",()=>{s(),i(),r?.()})}updateScaling(){var e;const t=this.targetWidth.value,s=this.targetHeight.value,i=(e=this._rootElement.size)===null||e===void 0?void 0:e.value;if(t>0&&s>0&&i&&Array.isArray(i)&&i.length>=2){const[r,o]=i;if(typeof r=="number"&&typeof o=="number"&&r>0&&o>0){const a=r/100,l=o/100,c=t/a,d=s/l,u=Math.min(c,d);this.scale.setScalar(u)}}}setTargetDimensions(e,t){this.targetWidth.value=e,this.targetHeight.value=t}get computedSize(){var e;const t=(e=this._rootElement.size)===null||e===void 0?void 0:e.value;if(t&&Array.isArray(t)&&t.length>=2){const[s,i]=t;if(typeof s=="number"&&typeof i=="number")return{width:s,height:i}}return null}get targetSize(){return{width:this.targetWidth.value,height:this.targetHeight.value}}get rootElement(){return this._rootElement}dispose(){this._abortController.abort(),this._rootElement&&typeof this._rootElement.dispose=="function"&&this._rootElement.dispose(),this.remove(this._rootElement),this.elementMap.clear(),this.classMap.clear()}toString(){const e=this.elementMap.size,t=this.classMap.size,s=this.computedSize,i=this.targetSize;return`UIKitDocument { elements: ${e}, classes: ${t}, computed: ${s?`${s.width}x${s.height}`:"none"}, target: ${i.width}x${i.height} }`}indexElements(e){var t,s,i,r;if(e instanceof Ro){const o=(i=(s=(t=e.properties)===null||t===void 0?void 0:t.signal)===null||s===void 0?void 0:s.id)===null||i===void 0?void 0:i.value,a=e.classList?((r=e.classList.list)===null||r===void 0?void 0:r.filter(l=>typeof l=="string"))||[]:[];o&&this.elementMap.set(o,e);for(const l of a)this.classMap.has(l)||this.classMap.set(l,[]),this.classMap.get(l).push(e)}for(const o of e.children)this.indexElements(o)}}const nn=Es("PanelUI",{config:{type:de.String,default:""},maxWidth:{type:de.Float32,default:1},maxHeight:{type:de.Float32,default:1}},"Component for 3D panel UI elements with file-based configuration"),Sn=Es("PanelDocument",{document:{type:de.Object,default:void 0}},"Internal component containing loaded UI document");class U2 extends Ss({unconfiguredPanels:{required:[nn],excluded:[Sn]},configuredPanels:{required:[nn,Sn]}},{forwardHtmlEvents:{type:de.Boolean,default:!0},kits:{type:de.Object,default:{}},preferredColorScheme:{type:de.String,default:"system"}}){constructor(){super(...arguments),this.vec3=new w}init(){this.renderer.setTransparentSort(AO),this.config.forwardHtmlEvents.subscribe(e=>{var t;(t=this.htmlHandler)===null||t===void 0||t.destroy(),e?this.htmlHandler=JF(this.renderer.domElement,()=>this.camera,this.scene):this.htmlHandler=void 0}),this.config.preferredColorScheme.subscribe(e=>{sU(e)}),this.queries.unconfiguredPanels.subscribe("qualify",e=>{this.loadPanel(e).then(()=>{}).catch(t=>{console.error(`[PanelUISystem] Failed to load panel for entity ${e.index}:`,t)})}),this.queries.configuredPanels.subscribe("disqualify",e=>{this.cleanupPanel(e)})}update(e){var t;(t=this.htmlHandler)===null||t===void 0||t.update(),this.queries.configuredPanels.entities.forEach(s=>{const i=Sn.data.document[s.index];if(i?.rootElement&&typeof i.rootElement.update=="function"&&i.rootElement.update(e*1e3),i&&i.parent===s.object3D){const r=nn.data.maxWidth[s.index],o=nn.data.maxHeight[s.index],a=s.object3D.getWorldScale(this.vec3),l=r/a.x,c=o/a.y;i.setTargetDimensions(l,c)}})}async loadPanel(e){try{const t=nn.data.config[e.index],s=await fetch(t);if(!s.ok)throw new Error(`Failed to load UI config: ${t} (${s.status} ${s.statusText})`);const i=await s.json(),r=d7(i,this.config.kits.value);if(!r)throw new Error(`Failed to interpret UI config: ${t}`);const o=new F2(r);e.object3D?e.object3D.add(o):console.warn(`[PanelUISystem] Entity ${e.index} has no object3D! Cannot add UI to scene.`),e.addComponent(Sn,{document:o})}catch(t){console.error(`[PanelUISystem] Error loading panel for entity ${e.index}:`,t)}}cleanupPanel(e){const t=Sn.data.document[e.index];t&&(e.object3D&&e.object3D.remove(t),typeof t.dispose=="function"&&t.dispose())}destroy(){var e;(e=this.htmlHandler)===null||e===void 0||e.destroy()}}const Aa={FaceTarget:"face-target",PivotY:"pivot-y",NoRotation:"no-rotation"},Qi=Es("Follower",{target:{type:de.Object,default:void 0},offsetPosition:{type:de.Vec3,default:[0,0,0]},behavior:{type:de.Enum,enum:Aa,default:Aa.PivotY},maxAngle:{type:de.Float32,default:30},tolerance:{type:de.Float32,default:.4},speed:{type:de.Float32,default:1},needsPositionSync:{type:de.Boolean,default:!0},_followTarget:{type:de.Vec3,default:[0,0,0]}},"Component for following another object");class O2 extends Ss({follower:{required:[Qi]}}){constructor(){super(...arguments),this.followTarget=new w,this.strictFollowTarget=new w,this.deltaVec3=new w,this.targetPosition=new w,this.followerPosition=new w,this.targetForward=new w,this.quat=new Ge,this.euler=new gs}update(e){this.queries.follower.entities.forEach(t=>{const s=t.object3D,i=t.getValue(Qi,"target");if(!s||!i||!s.parent)return;const r=t.getVectorView(Qi,"_followTarget");this.followTarget.fromArray(r);const o=t.getValue(Qi,"behavior"),a=t.getVectorView(Qi,"offsetPosition");if(i.getWorldQuaternion(this.quat),i.getWorldPosition(this.targetPosition),o===Aa.PivotY&&(this.euler.setFromQuaternion(this.quat,"YXZ"),this.euler.x=0,this.euler.z=0,this.quat.setFromEuler(this.euler)),this.strictFollowTarget.fromArray(a).applyQuaternion(this.quat).add(this.targetPosition),this.targetForward.set(0,0,-1).applyQuaternion(this.quat),s.getWorldPosition(this.deltaVec3).sub(this.targetPosition),o===Aa.PivotY&&(this.targetForward.y=0,this.deltaVec3.y=0,this.strictFollowTarget.y=this.targetPosition.y),t.getValue(Qi,"needsPositionSync"))s.position.copy(this.strictFollowTarget).toArray(r),t.setValue(Qi,"needsPositionSync",!1);else{const l=s.parent.worldToLocal(this.strictFollowTarget).distanceTo(this.followTarget),c=$t.radToDeg(Math.acos(this.targetForward.normalize().dot(this.deltaVec3.normalize())));(l>t.getValue(Qi,"tolerance")||c>t.getValue(Qi,"maxAngle"))&&this.followTarget.copy(this.strictFollowTarget).toArray(r);const d=t.getValue(Qi,"speed");s.position.lerp(this.followTarget,e*d)}(o===Aa.FaceTarget||o===Aa.PivotY)&&(o===Aa.PivotY&&(this.targetPosition.y=s.getWorldPosition(this.followerPosition).y),s.lookAt(this.targetPosition))})}}const Or=Es("ScreenSpace",{height:{type:de.String,default:"auto"},width:{type:de.String,default:"auto"},top:{type:de.String,default:"auto"},bottom:{type:de.String,default:"auto"},left:{type:de.String,default:"auto"},right:{type:de.String,default:"auto"},zOffset:{type:de.Float32,default:.2}},"Component for screen-space UI positioning");class G2 extends Ss({panels:{required:[nn,Sn,Or]}}){constructor(){super(...arguments),this.layoutHelpers={dimensionContainer:document.createElement("div"),positionContainer:document.createElement("div"),dimensionElement:document.createElement("div"),positionElement:document.createElement("div")},this.resized=!0}init(){this.layoutHelpers.dimensionContainer.style.width="100vw",this.layoutHelpers.dimensionContainer.style.height="100vh",this.layoutHelpers.dimensionContainer.style.position="absolute",this.layoutHelpers.dimensionContainer.style.visibility="hidden",this.layoutHelpers.positionContainer.style.width="100vw",this.layoutHelpers.positionContainer.style.height="100vh",this.layoutHelpers.positionContainer.style.position="relative",this.layoutHelpers.positionContainer.style.visibility="hidden",window.addEventListener("resize",()=>{this.resized=!0},!1)}update(){this.queries.panels.entities.forEach(e=>{const t=e.object3D,s=Sn.data.document[e.index];if(!s)return;const i=s.parent===this.camera;this.renderer.xr.isPresenting&&i?(t?.add(s),s.position.set(0,0,0)):!this.renderer.xr.isPresenting&&!i?(this.camera.add(s),this.calculateLayout(e)):i&&this.resized&&(this.calculateLayout(e),this.resized=!1)})}calculateLayout(e){const t=Sn.data.document[e.index],s=t?.computedSize;if(t&&s){const i=e.getValue(Or,"width"),r=e.getValue(Or,"height"),o=e.getValue(Or,"top"),a=e.getValue(Or,"bottom"),l=e.getValue(Or,"left"),c=e.getValue(Or,"right"),d=e.getValue(Or,"zOffset"),{height:u,width:h}=this.getComputedDimensionValues(i,r),f=s.width/100,A=s.height/100,p=this.renderer.domElement.clientWidth,g=this.renderer.domElement.clientHeight,m=$t.degToRad(this.camera.fov),_=2*Math.tan(m/2)*d/g,I=h*_,v=u*_;t.setTargetDimensions(I,v);const E=t.scale.x,b=f*E/_,N=A*E/_,{top:C,left:B}=this.getComputedPositionValues(b,N,{top:o,bottom:a,left:l,right:c}),S=B+b/2,T=g-C-N/2,D=(S-p/2)*_,L=(T-g/2)*_,z=-d;t.position.set(D,L,z)}}getComputedDimensionValues(e,t){const{dimensionElement:s,dimensionContainer:i}=this.layoutHelpers;document.body.appendChild(i),s.style.width=e,s.style.height=t,i.appendChild(s);const r=window.getComputedStyle(s),o={width:parseFloat(r.width),height:parseFloat(r.height)};return document.body.removeChild(i),o}getComputedPositionValues(e,t,{top:s="auto",bottom:i="auto",left:r="auto",right:o="auto"}){const{positionElement:a,positionContainer:l}=this.layoutHelpers;document.body.appendChild(l),a.style.position="absolute",a.style.width=`${e}px`,a.style.height=`${t}px`,a.style.top=s,a.style.bottom=i,a.style.left=r,a.style.right=o,l.appendChild(a);const c=window.getComputedStyle(a),d={top:parseFloat(c.top),left:parseFloat(c.left)};return document.body.removeChild(l),d}}const UC="com.iwsdk.components.";class H2{static createEntitiesFromObject3D(e,t,s,i){var r,o,a,l;if(!t.includes(e))return;if(typeof e.name=="string"&&e.name.toLowerCase()==="level"&&(!((o=(r=e.userData)===null||r===void 0?void 0:r.meta_spatial)===null||o===void 0)&&o.components)){this.applyComponents(s,e.userData.meta_spatial.components,i),e.removeFromParent();return}const u=i.createTransformEntity(e,s);!((l=(a=e.userData)===null||a===void 0?void 0:a.meta_spatial)===null||l===void 0)&&l.components&&this.applyComponents(u,e.userData.meta_spatial.components,i),e.children.forEach(h=>{this.createEntitiesFromObject3D(h,t,u,i)})}static applyComponents(e,t,s){const i=dg.getAllComponents();this.handleMetaSpatialPanelComponents(e,t,s),Object.entries(t).forEach(([r,o])=>{if(r==="com.iwsdk.components.PanelUI"||!r.startsWith(UC))return;const a=r.slice(UC.length),l=i.find(c=>c.id===a);if(l){const c=this.mapGLXFDataToProps(l,o);l.bitmask||s.registerComponent(l),e.addComponent(l,c)}else console.warn(`Component "${r}" not found in registry. Available components:`,i.map(c=>c.id))})}static mapGLXFDataToProps(e,t){const s={};return Object.entries(t).forEach(([i,r])=>{r&&typeof r=="object"&&e.schema[i]&&(e.schema[i].type===de.Enum&&"alias"in r?s[i]=r.alias:"value"in r&&(s[i]=r.value))}),s}static handleMetaSpatialPanelComponents(e,t,s){var i,r,o,a,l;const c=t["com.iwsdk.components.PanelUI"];if(!c||!(!((i=c.config)===null||i===void 0)&&i.value))return;const d=c.config.value.replace(".uikitml",".json"),u=(o=(r=c.maxWidth)===null||r===void 0?void 0:r.value)!==null&&o!==void 0?o:1,h=(l=(a=c.maxHeight)===null||a===void 0?void 0:a.value)!==null&&l!==void 0?l:1;nn.bitmask||s.registerComponent(nn),e.addComponent(nn,{config:d,maxWidth:u,maxHeight:h})}}class z2{static async load(e,t,s){var i,r;const a=await new Y4(Ji.loadingManager).setGLTFLoader({loadAsync:d=>Ji.loadGLTF(d)}).loadAsync(t),l=(i=s.object3D)!==null&&i!==void 0?i:e.getActiveRoot(),c=(r=s??e.activeLevel.value)!==null&&r!==void 0?r:e.sceneEntity;[...a.scene.children].forEach(d=>{l.attach(d),H2.createEntitiesFromObject3D(d,a.nodes,c,e)})}}const _a=Es("LevelRoot",{},"Marker component attached to level root entities"),Xd=Es("LevelTag",{id:{type:de.String,default:""}},"Marker component for level membership");class V2 extends Ss({levelEntities:{required:[Xd]}},{defaultLighting:{type:de.Boolean,default:!0}}){constructor(){super(...arguments),this.loading=!1}init(){if(!this.world.activeLevel||!this.world.activeLevel.value){const e=this.world.createTransformEntity(void 0,{parent:this.world.sceneEntity});e.object3D.name="LevelRoot",e.addComponent(_a),this.world.activeLevel?this.world.activeLevel.value=e:this.world.activeLevel=bt(e)}}update(){const t=this.world.activeLevel.value.object3D;if((t.position.x!==0||t.position.y!==0||t.position.z!==0||t.scale.x!==1||t.scale.y!==1||t.scale.z!==1||t.rotation.x!==0||t.rotation.y!==0||t.rotation.z!==0)&&(t.position.set(0,0,0),t.rotation.set(0,0,0),t.scale.set(1,1,1),t.updateMatrixWorld(!0)),this.loading)return;const s=this.world.requestedLevelUrl;s!==void 0&&this.startLevelChange(s)}startLevelChange(e){this.loading=!0,this.world.requestedLevelUrl=void 0;for(const i of this.queries.levelEntities.entities)try{i.destroy()}catch{}const t=this.world.createTransformEntity(void 0,{parent:this.world.sceneEntity});t.object3D.name="LevelRoot",t.addComponent(_a),this.world.activeLevel.value=t,(e?z2.load(this.world,e,t):Promise.resolve()).catch(i=>console.error("[LevelSystem] Failed to load level",i)).finally(()=>{this.loading=!1;try{if(this.config.defaultLighting.value){const i=t.hasComponent(Li)||t.hasComponent(pn),r=t.hasComponent(gr)||t.hasComponent(Oi);!i&&!r&&t.addComponent(pn).addComponent(Oi)}}catch(i){console.warn("[LevelSystem] defaultLighting setup failed:",i)}this.world._resolveLevelLoad&&(this.world._resolveLevelLoad(),this.world._resolveLevelLoad=void 0)})}}const OC={vertexShader:`
    varying vec3 vWorldPosition;
    void main() {
      vec4 worldPosition = modelMatrix * vec4(position, 1.0);
      vWorldPosition = worldPosition.xyz;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `,fragmentShader:`
    uniform vec3 skyColor;
    uniform vec3 equatorColor;
    uniform vec3 groundColor;
    varying vec3 vWorldPosition;
    
    void main() {
      float h = normalize(vWorldPosition).y;
      vec3 color;
      
      if (h > 0.0) {
        // Sky to equator interpolation
        color = mix(equatorColor, skyColor, h);
      } else {
        // Equator to ground interpolation
        color = mix(equatorColor, groundColor, -h);
      }
      
      gl_FragColor = vec4(color, 1.0);
    }
  `};function q2(n,e,t,s,i=In){return new Ds({uniforms:{skyColor:{value:new st(n).multiplyScalar(s)},equatorColor:{value:new st(e).multiplyScalar(s)},groundColor:{value:new st(t).multiplyScalar(s)}},vertexShader:OC.vertexShader,fragmentShader:OC.fragmentShader,side:i,depthWrite:i!==Ls,depthTest:i!==Ls})}class x7 extends _g{constructor(e=8900331,t=16753920,s=2263842,i=1){super();const r=new Un(100,32,15),o=q2(e,t,s,i,Ls),a=new it(r,o);this.add(a)}dispose(){const e=new Set;this.traverse(t=>{t.isMesh&&(e.add(t.geometry),e.add(t.material))});for(const t of e)t.dispose()}}class W2 extends Ss({domeTextures:{required:[Li,_a]},domeGradients:{required:[pn,_a]},iblTextures:{required:[gr,_a]},iblGradients:{required:[Oi,_a]}}){constructor(){super(...arguments),this.state={},this.tmpColor=new st}init(){this.pmrem=new Lp(this.renderer),this.cleanupFuncs.push(()=>{var e,t;this.pmrem.dispose(),(e=this.state.environmentTarget)===null||e===void 0||e.dispose(),this.state.environmentTarget=void 0,this.clearGradientDome(),(t=this.gradientGeometry)===null||t===void 0||t.dispose(),this.gradientGeometry=void 0}),this.cleanupFuncs.push(this.visibilityState.subscribe(()=>this.updateBackgroundForXRMode()))}update(){var e;let t;for(const i of this.queries.domeTextures.entities){t=i;break}if(!t)for(const i of this.queries.domeGradients.entities){t=i;break}t&&this.processBackground(t);let s;for(const i of this.queries.iblTextures.entities){s=i;break}if(!s)for(const i of this.queries.iblGradients.entities){s=i;break}if(s&&this.processIBL(s),this.state.gradientDome){this.state.gradientDome.position.copy(this.camera.position);const i=Math.max(.001,(((e=this.camera)===null||e===void 0?void 0:e.far)||1e3)*.95);this.state.gradientDome.scale.setScalar(i)}}async processBackground(e){try{e.hasComponent(Li)?e.getValue(Li,"_needsUpdate")&&(this.hasDomeTextureBackgroundChanged(e)&&await this.updateDomeTextureBackground(e),this.updateBackgroundProps(e),e.setValue(Li,"_needsUpdate",!1)):e.hasComponent(pn)&&e.getValue(pn,"_needsUpdate")&&(await this.updateDomeGradient(e,!1),e.setValue(pn,"_needsUpdate",!1))}catch(t){console.error("[EnvironmentSystem] Failed background update:",t)}}hasDomeTextureBackgroundChanged(e){const t=e.getValue(Li,"src")||"",s=t!==this.state.backgroundSource;return s&&(this.state.backgroundSource=t),s}async updateDomeTextureBackground(e){const t=e.getValue(Li,"src")||"";if(!t){this.scene.background=null;return}const s=t.toLowerCase(),i=s.endsWith(".hdr")||s.endsWith(".exr"),r=Bt.resolveUrl(t),o=i?await Ji.loadHDRTexture(r):await Ji.loadTexture(r);this.state.backgroundTexture=o,i||(o.mapping=Fl),this.scene.background=o}updateBackgroundProps(e){var t,s,i;const r=(t=e.getValue(Li,"blurriness"))!==null&&t!==void 0?t:0,o=(s=e.getValue(Li,"intensity"))!==null&&s!==void 0?s:1,a=e.getVectorView(Li,"rotation");this.scene.backgroundBlurriness=r,this.scene.backgroundIntensity=o,a&&((i=this.scene.backgroundRotation)===null||i===void 0||i.set(a[0]||0,a[1]||0,a[2]||0))}async updateDomeGradient(e,t){const s=e.getVectorView(pn,"sky"),i=e.getVectorView(pn,"equator"),r=e.getVectorView(pn,"ground"),o=e.getValue(pn,"intensity")||1,a=this.tmpColor.setRGB(s[0],s[1],s[2]).getHex(),l=this.tmpColor.setRGB(i[0],i[1],i[2]).getHex(),c=this.tmpColor.setRGB(r[0],r[1],r[2]).getHex();t||(this.ensureGradientDome(a,l,c,o),this.state.gradientDome&&(this.state.gradientDome.visible=!this.state.isAR))}async processIBL(e){try{e.hasComponent(gr)?e.getValue(gr,"_needsUpdate")&&(this.hasIBLTextureChanged(e)&&await this.updateIBLTexture(e),this.updateIBLProps(e),e.setValue(gr,"_needsUpdate",!1)):e.hasComponent(Oi)&&e.getValue(Oi,"_needsUpdate")&&(await this.updateIBLGradient(e),e.setValue(Oi,"_needsUpdate",!1))}catch(t){console.error("[EnvironmentSystem] Failed IBL update:",t)}}hasIBLTextureChanged(e){const t=e.getValue(gr,"src")||"",s=t!==this.state.environmentSource;return s&&(this.state.environmentSource=t),s}async updateIBLTexture(e){var t;const s=(e.getValue(gr,"src")||"").trim();if(!s){this.setEnvironment(null);return}if(s==="room"){const c=new X4,d=this.pmrem.fromScene(c);(t=c.dispose)===null||t===void 0||t.call(c),this.setEnvironment(d);return}const i=s.toLowerCase(),r=i.endsWith(".hdr")||i.endsWith(".exr"),o=Bt.resolveUrl(s),a=r?await Ji.loadHDRTexture(o):await Ji.loadTexture(o),l=this.pmrem.fromEquirectangular(a);this.setEnvironment(l)}updateIBLProps(e){var t,s;const i=(t=e.getValue(gr,"intensity"))!==null&&t!==void 0?t:1,r=e.getVectorView(gr,"rotation");this.scene.environmentIntensity=i,r&&((s=this.scene.environmentRotation)===null||s===void 0||s.set(r[0]||0,r[1]||0,r[2]||0))}async updateIBLGradient(e){var t;const s=e.getVectorView(Oi,"sky"),i=e.getVectorView(Oi,"equator"),r=e.getVectorView(Oi,"ground"),o=e.getValue(Oi,"intensity")||1,a=new st().setRGB(s[0],s[1],s[2]).getHex(),l=new st(i[0],i[1],i[2]).getHex(),c=new st(r[0],r[1],r[2]).getHex();let d=this.state.gradientEnvironmentScene;if(!d)d=new x7(a,l,c,o),this.state.gradientEnvironmentScene=d,this.state.gradientEnvironmentMesh=d.children.find(h=>h instanceof it);else{const h=(t=this.state.gradientEnvironmentMesh)===null||t===void 0?void 0:t.material;h&&(h.uniforms.skyColor.value.setHex(a).multiplyScalar(o),h.uniforms.equatorColor.value.setHex(l).multiplyScalar(o),h.uniforms.groundColor.value.setHex(c).multiplyScalar(o))}const u=this.pmrem.fromScene(d);this.setEnvironment(u),this.scene.environmentIntensity=o}setEnvironment(e){var t;(t=this.state.environmentTarget)===null||t===void 0||t.dispose(),this.state.environmentTarget=void 0,e?(this.state.environmentTarget=e,this.scene.environment=e.texture):this.scene.environment=null}updateBackgroundForXRMode(){var e,t,s;const i=(s=(t=(e=this.xrManager).getSession)===null||t===void 0?void 0:t.call(e))!==null&&s!==void 0?s:this.world.session,r=i?.environmentBlendMode,o=r==="alpha-blend"||r==="additive"||r==="subtractive";o!==this.state.isAR&&(this.state.isAR=o,o?(this.scene.background!==null&&this.state.savedBackground===void 0&&(this.state.savedBackground=this.scene.background,this.scene.background=null),this.state.gradientDome&&(this.state.gradientDome.visible=!1)):this.state.savedBackground!==void 0&&(this.scene.background=this.state.savedBackground,this.state.savedBackground=void 0,this.state.gradientDome&&(this.state.gradientDome.visible=!0)))}ensureGradientDome(e,t,s,i){var r;if(this.gradientGeometry||(this.gradientGeometry=new Un(1,32,15)),this.state.gradientDome){const o=this.state.gradientDome.material;o.uniforms.skyColor.value.setHex(e).multiplyScalar(i),o.uniforms.equatorColor.value.setHex(t).multiplyScalar(i),o.uniforms.groundColor.value.setHex(s).multiplyScalar(i)}else{const o=q2(e,t,s,i,Ls),a=new it(this.gradientGeometry,o);a.scale.setScalar(Math.max(.001,(((r=this.camera)===null||r===void 0?void 0:r.far)||1e3)*.95)),a.renderOrder=-1e9,a.frustumCulled=!1,this.scene.add(a),this.state.gradientDome=a}}clearGradientDome(){this.state.gradientDome&&(this.state.gradientDome.removeFromParent(),this.state.gradientDome.material.dispose(),this.state.gradientDome=void 0),this.state.gradientEnvironmentScene&&(this.state.gradientEnvironmentScene.dispose(),this.state.gradientEnvironmentScene=void 0)}}const Ia=new ps,Bd=new Ps,GC=new Map,Kp=new Map,jp=new Map,HC=new w,zC=new Ge,rA=new w,oA=new Je,B0=new w,VC=new w,y7=new w(1e-4,1e-4,1e-4),xy=new Je;function _7({intersection:n,object:e}){var t,s,i;const r=n.details;if(r.type!=="ray")throw new Error(`unable to process a pointer capture of type "${r.type}" with a ray intersector`);if(!this.prepareTransformation())return n;e.updateWorldMatrix(!0,!1);const o=(t=n.normal)!==null&&t!==void 0?t:(s=n.face)===null||s===void 0?void 0:s.normal;o!=null&&n.localPoint!=null?(Ia.setFromNormalAndCoplanarPoint(o,n.localPoint),Ia.applyMatrix4(e.matrixWorld)):Ia.setFromNormalAndCoplanarPoint(new w(0,0,1),n.point);const{ray:a}=this.raycaster,l=(i=a.intersectPlane(Ia,new w))!==null&&i!==void 0?i:n.point;let c=GC.get(this);c||(c=new w,GC.set(this,c));let d=Kp.get(this);d||(d=new w,Kp.set(this,d));let u=jp.get(this);u||(u=new Ge,jp.set(this,u));const h=n.pointerPosition.distanceTo(n.point),f=c.copy(a.direction).multiplyScalar(h).add(a.origin);return{...n,object:e,pointOnFace:l,point:f,pointerPosition:d.copy(a.origin),pointerQuaternion:u.copy(this.raycasterQuaternion)}}function I7({intersection:n,object:e}){var t,s;const i=n.details;if(i.type!=="sphere")throw new Error(`unable to process a pointer capture of type "${i.type}" with a ray intersector`);if(!this.prepareTransformation())return n;HC.copy(n.point).sub(n.pointerPosition),zC.copy(n.pointerQuaternion).invert().multiply(this.fromQuaternion);const r=HC.clone().applyQuaternion(zC).add(this.fromPosition);e.updateWorldMatrix(!0,!1);const o=(t=n.normal)!==null&&t!==void 0?t:(s=n.face)===null||s===void 0?void 0:s.normal;o!=null&&n.localPoint!=null?(Ia.setFromNormalAndCoplanarPoint(o,n.localPoint),Ia.applyMatrix4(e.matrixWorld)):Ia.setFromNormalAndCoplanarPoint(new w(0,0,1),n.point);const a=Ia.projectPoint(this.fromPosition,new w);let l=Kp.get(this);l||(l=new w,Kp.set(this,l));let c=jp.get(this);return c||(c=new Ge,jp.set(this,c)),{details:{type:"sphere"},distance:r.distanceTo(a),pointerPosition:l.copy(this.fromPosition),pointerQuaternion:c.copy(this.fromQuaternion),object:e,point:r,pointOnFace:a,face:n.face,localPoint:n.localPoint}}function v7(n){const e=Math.abs(n.x),t=Math.abs(n.y),s=Math.abs(n.z);if(e>=t&&e>=s){n.set(n.x<0?-1:1,0,0);return}if(t>=e&&t>=s){n.set(0,n.y<0?-1:1,0);return}n.set(0,0,n.z<0?-1:1)}function qC(n,{geometry:e},t){var s;return e.boundingSphere==null&&e.computeBoundingSphere(),Bd.copy((s=e.boundingSphere)!==null&&s!==void 0?s:new Ps).applyMatrix4(t),Bd.center.distanceToSquared(n.center)<(n.radius+Bd.radius)**2}function E7(n,e,t){if(e.updateWorldMatrix(!0,!1),e.spherecast!=null){e.spherecast(n,t);return}if(e instanceof Gl){e.geometry.boundingSphere==null&&e.geometry.computeBoundingSphere(),e.geometry.boundingBox==null&&e.geometry.computeBoundingBox();for(let i=0;i<e.count;i++){if(e.getMatrixAt(i,oA),oA.premultiply(e.matrixWorld),!qC(n,e,oA))continue;const r=WC(n,e,oA,i);r!=null&&t.push(r)}}if(!(e instanceof it)||!qC(n,e,e.matrixWorld))return;xy.copy(e.matrixWorld).invert();const s=WC(n,e,e.matrixWorld);s!=null&&t.push(s)}function WC(n,e,t,s){var i,r,o;xy.copy(t).invert(),Bd.copy(n).applyMatrix4(xy);const{geometry:a}=e;a.boundingBox==null&&a.computeBoundingBox(),(i=a.boundingBox)===null||i===void 0||i.getSize(B0),(r=a.boundingBox)===null||r===void 0||r.getCenter(VC),(o=a.boundingBox)===null||o===void 0||o.clampPoint(Bd.center,rA),rA.applyMatrix4(t);const l=rA.distanceToSquared(n.center);if(l>n.radius*n.radius)return;B0.max(y7);const c=Bd.center.clone().sub(VC);c.divide(B0),v7(c);const d=rA.clone();return{distance:Math.sqrt(l),face:{a:0,b:0,c:0,materialIndex:0,normal:c},normal:c,point:d,instanceId:s,object:e}}function C7(n){this.isReady()&&E7(this.collisionSphere,n,this.intersects)}const X2=-1;class Y2 extends Ge{constructor(e=0,t=0,s=0,i=1){super(e,t,s,i),this.target=null,this.targetOffset=0,this.__x=0,this.__y=0,this.__z=0,this.__w=1,this.__x=this._x,this.__y=this._y,this.__z=this._z,this.__w=this._w,this.setupProperties()}setupProperties(){Object.defineProperty(this,"_x",{get:()=>this.target?this.target[this.targetOffset]:this.__x,set:e=>{this.target?this.target[this.targetOffset]=e:this.__x=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"_y",{get:()=>this.target?this.target[this.targetOffset+1]:this.__y,set:e=>{this.target?this.target[this.targetOffset+1]=e:this.__y=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"_z",{get:()=>this.target?this.target[this.targetOffset+2]:this.__z,set:e=>{this.target?this.target[this.targetOffset+2]=e:this.__z=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"_w",{get:()=>this.target?this.target[this.targetOffset+3]:this.__w,set:e=>{this.target?this.target[this.targetOffset+3]=e:this.__w=e},enumerable:!0,configurable:!0})}setTarget(e,t=0){return this.target=e,this.targetOffset=t,this}}class yy extends w{constructor(e=0,t=0,s=0){super(e,t,s),this.target=null,this.targetOffset=0,this.__x=0,this.__y=0,this.__z=0,this.__x=this.x,this.__y=this.y,this.__z=this.z,this.setupProperties()}setupProperties(){Object.defineProperty(this,"x",{get:()=>this.target?this.target[this.targetOffset]:this.__x,set:e=>{this.target?this.target[this.targetOffset]=e:this.__x=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"y",{get:()=>this.target?this.target[this.targetOffset+1]:this.__y,set:e=>{this.target?this.target[this.targetOffset+1]=e:this.__y=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"z",{get:()=>this.target?this.target[this.targetOffset+2]:this.__z,set:e=>{this.target?this.target[this.targetOffset+2]=e:this.__z=e},enumerable:!0,configurable:!0})}setTarget(e,t=0){return this.target=e,this.targetOffset=t,this}}const $n=Es("Transform",{position:{type:de.Vec3,default:[NaN,NaN,NaN]},orientation:{type:de.Vec4,default:[NaN,NaN,NaN,NaN]},scale:{type:de.Vec3,default:[NaN,NaN,NaN]},parent:{type:de.Entity,default:void 0}},"Component for 3D transformation (position, rotation, scale)");function b7(n){const e=n.object3D;e&&(e.__transformAttached||(e.__transformAttached=!0,e.entityIdx=n.index,e.positionView=n.getVectorView($n,"position"),e.quaternionView=n.getVectorView($n,"orientation"),e.scaleView=n.getVectorView($n,"scale"),e.positionView.some(Number.isNaN)&&e.position.toArray(e.positionView),e.quaternionView.some(Number.isNaN)&&e.quaternion.toArray(e.quaternionView),e.scaleView.some(Number.isNaN)&&e.scale.toArray(e.scaleView),Object.defineProperty(e,"position",{value:new yy().setTarget(e.positionView),writable:!1,configurable:!0,enumerable:!0}),Object.defineProperty(e,"quaternion",{value:new Y2().setTarget(e.quaternionView),writable:!1,configurable:!0,enumerable:!0}),Object.defineProperty(e,"scale",{value:new yy().setTarget(e.scaleView),writable:!1,configurable:!0,enumerable:!0}),e._parent=e.parent,Object.defineProperty(e,"parent",{get:()=>e._parent,set:t=>{var s;e._parent=t,$n.data.parent[n.index]=(s=t?.entityIdx)!==null&&s!==void 0?s:X2},configurable:!0,enumerable:!0})))}function w7(n){const e=n.object3D;e&&e.__transformAttached&&(delete e.entityIdx,delete e.positionView,delete e.quaternionView,delete e.scaleView,Object.defineProperty(e,"position",{value:new w().copy(e.position),writable:!1,configurable:!0,enumerable:!0}),Object.defineProperty(e,"quaternion",{value:new Ge().copy(e.quaternion),writable:!1,configurable:!0,enumerable:!0}),Object.defineProperty(e,"scale",{value:new w().copy(e.scale),writable:!1,configurable:!0,enumerable:!0}),Object.defineProperty(e,"parent",{value:e._parent,writable:!0,configurable:!0,enumerable:!0}),delete e._parent,delete e.__transformAttached)}class J2 extends Ss({transform:{required:[$n]}}){init(){this.queries.transform.subscribe("qualify",b7),this.queries.transform.subscribe("disqualify",w7)}update(){this.queries.transform.entities.forEach(e=>{var t;const s=e.object3D;if(!s||s===this.world.scene)return;const i=e.getValue($n,"parent"),r=i?.object3D;if(r)r!==s.parent&&r.add(s);else if(((t=s.parent)===null||t===void 0?void 0:t.entityIdx)!==void 0)$n.data.parent[e.index]=s.parent.entityIdx;else{const o=e.hasComponent(Xd)?this.world.activeLevel.value:this.world.sceneEntity;console.warn(`Entity ${e.index} is being parented under ${e.hasComponent(Xd)?"active level root":"scene root"} by default because it doesn't have a valid parent entity.`),o.object3D.add(s),e.setValue($n,"parent",o)}})}}const Ga=Es("Interactable",{},"Marks an entity as eligible for XR pointer interaction (ray/proximity)."),hd=Es("Hovered",{},"A tag added by InputSystem while a pointer is hovering over the entity."),va=Es("Pressed",{},"A tag added by InputSystem while the entity is actively pressed.");class K2 extends Ss({interactable:{required:[Ga,$n]}},{}){constructor(){super(...arguments),this.intersectables=[],this.shouldSetIntersectables=!1,this.dirty=!0,this.listeners=new WeakMap,this.lastBVHUpdate=new WeakMap}init(){this.cleanupFuncs.push(this.visibilityState.subscribe(e=>{const t=e===Do.Visible;this.shouldSetIntersectables!==t&&(this.shouldSetIntersectables=t,this.dirty=!0)})),this.queries.interactable.subscribe("qualify",e=>{this.setupEventListeners(e),this.dirty=!0}),this.queries.interactable.subscribe("disqualify",e=>{this.cleanupEventListeners(e),this.dirty=!0})}update(e,t){if(this.input.update(this.xrManager,e,t),this.dirty)if(this.dirty=!1,this.intersectables.length=0,this.shouldSetIntersectables){for(const s of this.queries.interactable.entities){const i=s.object3D;B7(i,this.scene)&&this.intersectables.push(i)}this.scene.interactableDescendants=this.intersectables}else this.scene.interactableDescendants=void 0}setupEventListeners(e){const t=e.object3D;if(!t)return;this.computeBoundsTreeForEntity(t),t.pointerEvents="auto";const s=()=>{var l;const c=typeof performance<"u"&&performance.now?performance.now():Date.now(),d=(l=this.lastBVHUpdate.get(t))!==null&&l!==void 0?l:0;c-d>250&&(this.computeBoundsTreeForEntity(t),this.lastBVHUpdate.set(t,c))},i=()=>{s(),e.hasComponent(hd)||e.addComponent(hd)},r=()=>{e.removeComponent(hd)},o=()=>{s(),e.hasComponent(va)||e.addComponent(va)},a=()=>{e.removeComponent(va)};this.listeners.set(t,{enter:i,leave:r,down:o,up:a}),t.addEventListener("pointerenter",i),t.addEventListener("pointerleave",r),t.addEventListener("pointerdown",o),t.addEventListener("pointerup",a)}computeBoundsTreeForEntity(e){e.traverse(t=>{if(t.isMesh){const s=t;if(s.geometry&&!s.geometry.boundsTree)try{s.geometry.computeBoundsTree()}catch(i){console.warn(`[InputSystem] Failed to compute BVH for ${s.name||"unnamed"}:`,i)}}})}cleanupEventListeners(e){const t=e.object3D;if(!t)return;const s=this.listeners.get(t);s&&(t.removeEventListener("pointerenter",s.enter),t.removeEventListener("pointerleave",s.leave),t.removeEventListener("pointerdown",s.down),t.removeEventListener("pointerup",s.up),this.listeners.delete(t)),e.removeComponent(hd).removeComponent(va)}}function B7(n,e){for(;n;){if(n===e)return!0;n=n.parent}return!1}const N0=new Je,N7=new Je,S7={x:"XYZ",y:"YXZ",z:"ZXY"};function cI(n,e,t,s,i,r){N0.copy(t),i!=null&&N0.premultiply(N7.copy(i).invert());const o=new w,a=new Ge,l=new w;N0.decompose(o,a,l),JC(o,s.initialTargetPosition,r.translate??!0);let c;const d=r.rotate??!0;if(d===!1)a.copy(s.initialTargetQuaternion),c=s.initialTargetRotation.clone();else if(Array.isArray(d)||d===!0||typeof d!="string"&&!Array.isArray(d)&&d.x===!0&&d.y===!0&&d.z===!0)c=new gs().setFromQuaternion(a,s.initialTargetRotation.order);else if(typeof d=="string"){const u=S7[d];c=new gs().setFromQuaternion(a,u);for(const h of u){const f=h.toLowerCase();f!==d&&(c[f]=0)}c.order=s.initialTargetRotation.order,a.setFromEuler(c)}else c=R7(a,s.initialTargetRotation,d);return(typeof r.scale!="object"||!r.scale.uniform)&&JC(l,s.initialTargetScale,r.scale??!0),{pointerAmount:e,position:o,quaternion:a,rotation:c,scale:l,time:n}}const Fc=new ps,Uc=new w,Oc=new w,M7=new w,T7=new Ge;function XC(n,e,t){return Fc.normal.copy(n),Fc.constant=0,P7(Uc,Fc.normal),Oc.copy(Uc),Oc.applyQuaternion(T7.copy(e).invert().premultiply(t)),Fc.projectPoint(Uc,Uc).normalize(),Fc.projectPoint(Oc,Oc).normalize(),(M7.crossVectors(Uc,Fc.normal).dot(Oc)<0?1:-1)*Uc.angleTo(Oc)}function P7(n,e){if(e.x===0){n.set(1,0,0);return}if(e.y===0){n.set(0,1,0);return}if(e.z===0){n.set(0,0,1);return}n.set(-e.y,e.x,0)}function R7(n,e,t){let s="",i="";for(const a of e.order)t[a.toLowerCase()]===!1?i+=a:s+=a;const r=s+i,o=new gs().setFromQuaternion(n,r);for(const a of r){const l=a.toLowerCase();o[l]=XA(l,o[l],e[l],t)}return n.setFromEuler(o),o}const S0=new w,YC=new ps,Q7=new w,D7=new w;function JC(n,e,t){if(Array.isArray(t)){switch(t.length){case 0:n.copy(e);return;case 1:n.sub(e),j2(n,t[0]instanceof w?t[0]:S0.fromArray(t[0])),n.add(e);return;case 2:S0.crossVectors(t[0]instanceof w?t[0]:Q7.fromArray(t[0]),t[1]instanceof w?t[1]:D7.fromArray(t[1])),YC.setFromNormalAndCoplanarPoint(S0,e),YC.projectPoint(n,n);return}return}n.x=XA("x",n.x,e.x,t),n.y=XA("y",n.y,e.y,t),n.z=XA("z",n.z,e.z,t)}function XA(n,e,t,s){if(typeof s=="boolean")return s?e:t;if(typeof s=="string")return s===n?e:t;const i=s[n];return i===!1?t:Array.isArray(i)?qd(e,...i):e}function Nd(n=!0,e,t,s,i,r){if(n){switch(e.length){case 0:case 3:return;case 1:k7(t,...e,s,i,r);return;case 2:L7(...e,t,s,i,r);return}throw new Error(`space cannot be ${e.length}D but received (${e.map(o=>o.toArray().join("/")).join("; ")})`)}}const YA={x:new w(1,0,0),y:new w(0,1,0),z:new w(0,0,1)};function Sd(n,e,t,s,i){if(s!==!1){if(s===!0){n[0]=YA.x,n[1]=YA.y,n[2]=YA.z;return}if(typeof s=="string"){Nu(n,e,t,s,i);return}if(Array.isArray(s)){for(const r of s)Nu(n,e,t,r,i);return}s.x!==!1&&Nu(n,e,t,"x",i),s.y!==!1&&Nu(n,e,t,"y",i),s.z!==!1&&Nu(n,e,t,"z",i)}}const dl=new Ge,aA=new gs,cr=new w,Gc=new w,ul=new w;function Nu(n,e,t,s,i){if(Array.isArray(s)?cr.set(...s):s instanceof w?cr.copy(s):cr.copy(YA[s]),i==="translate"){cr.applyQuaternion(e),lA(n,cr);return}if(i==="scale"){Array.isArray(s)?dl.identity():dl.setFromEuler(t),dl.premultiply(e),cr.applyQuaternion(dl),lA(n,cr);return}if(Array.isArray(s))aA.set(0,0,0);else{aA.copy(t);for(let r=2;r>=0;r--){const o=t.order[r].toLowerCase();if(aA[o]=0,o===s)break}}dl.setFromEuler(aA).premultiply(e),cr.normalize(),Gc.set(0,1,0),cr.dot(Gc)>.99&&Gc.set(0,0,1),ul.crossVectors(cr,Gc).normalize(),Gc.copy(ul),ul.applyQuaternion(dl),lA(n,ul),ul.crossVectors(cr,Gc).normalize(),ul.applyQuaternion(dl),lA(n,ul)}const KC=new w;function lA(n,e){if(n.length!==3){if(n.length===0){n.push(e.clone());return}if(n.length===1){Math.abs(n[0].dot(e))<.999&&n.push(e.clone());return}KC.crossVectors(n[0],n[1]),!(Math.abs(KC.dot(e))<.001)&&n.push(e.clone())}}const Su=new ps,M0=new w,Wu=new w;function L7(n,e,t,s,i,r){M0.crossVectors(n,e).normalize(),Su.setFromNormalAndCoplanarPoint(M0,t);const o=r==null?0:Math.abs(M0.dot(r));if(r==null||o<.01){Su.projectPoint(i,i);return}const l=-Su.distanceToPoint(s)/r.dot(Su.normal);if(l<0){Su.projectPoint(i,i);return}Wu.copy(i),i.copy(s).addScaledVector(r,l)}function k7(n,e,t,s,i){const r=i==null?0:1-Math.abs(e.dot(i));if(i==null||r<.001){jC(s,n,e);return}Wu.subVectors(t,n);const o=e.dot(i),a=e.dot(Wu),l=i.dot(Wu),c=1-o*o,d=(a-o*l)/c;if((o*a-l)/c<0){jC(s,n,e);return}Wu.copy(s),s.copy(n).addScaledVector(e,d)}function jC(n,e,t){n.sub(e),j2(n,t),n.add(e)}function j2(n,e){const t=n.dot(e);n.copy(e).multiplyScalar(t)}const T0=new Je,cA=new Je,dA=new w,F7=new w,hl=new Ge,U7=new w(1,1,1),P0=[];function O7(n,e,t,s,i){return s==null?hl.identity():s.decompose(dA,hl,F7),P0.length=0,Sd(P0,hl,t.initialTargetRotation,i.translate??!0,"translate"),cA.makeRotationFromQuaternion(hl.copy(e.initialPointerWorldQuaternion).invert()).multiply(T0.makeTranslation(dA.copy(e.initialPointerWorldPoint).negate())),t.initialTargetParentWorldMatrix!=null&&cA.multiply(t.initialTargetParentWorldMatrix),Nd(i.projectRays,P0,e.initialPointerWorldPoint,e.pointerWorldOrigin,dA.copy(e.pointerWorldPoint),e.pointerWorldDirection),hl.copy(e.pointerWorldQuaternion),(i.rotate??!0)===!1&&hl.copy(e.initialPointerWorldQuaternion),T0.compose(dA,hl,U7).multiply(cA).multiply(cA.compose(t.initialTargetPosition,t.initialTargetQuaternion,t.initialTargetScale)),cI(n,1,T0,t,s,i)}const Hc=new w,Mu=new w,un=new w,Zo=new w,G7=new w,ZC=new w,zc=new w,$C=new Je,Tu=new Je,uA=new Je,Pr=new Ge,Pu=new Ge,Vc=[];function H7(n,e,t,s,i,r){i==null?Pr.identity():i.decompose(un,Pr,Zo),Vc.length=0,Sd(Vc,Pr,s.initialTargetRotation,r.translate??!0,"translate"),Sd(Vc,Pr,s.initialTargetRotation,r.rotate??!0,"rotate"),Sd(Vc,Pr,s.initialTargetRotation,r.scale??!0,"scale"),Nd(r.projectRays,Vc,e.initialPointerWorldPoint,e.pointerWorldOrigin,un.copy(e.pointerWorldPoint),e.pointerWorldDirection),Nd(r.projectRays,Vc,t.initialPointerWorldPoint,t.pointerWorldOrigin,Zo.copy(t.pointerWorldPoint),t.pointerWorldDirection),Hc.copy(t.initialPointerWorldPoint).sub(e.initialPointerWorldPoint),Mu.copy(Zo).sub(un),un.copy(Hc),s.prevTwoPointerDeltaRotation!=null&&un.applyQuaternion(s.prevTwoPointerDeltaRotation),un.normalize(),Zo.copy(Mu).normalize(),Pr.setFromUnitVectors(un,Zo),s.prevTwoPointerDeltaRotation==null?s.prevTwoPointerDeltaRotation=new Ge:Pr.multiply(s.prevTwoPointerDeltaRotation),s.prevTwoPointerDeltaRotation.copy(Pr);const o=(XC(Zo,e.prevPointerWorldQuaternion,e.pointerWorldQuaternion)+XC(Zo,t.prevPointerWorldQuaternion,t.pointerWorldQuaternion))*.5+(s.prevAngle??0);if(s.prevAngle=o,Pr.premultiply(Pu.setFromAxisAngle(Zo,o)),uA.compose(s.initialTargetPosition,s.initialTargetQuaternion,s.initialTargetScale),s.initialTargetParentWorldMatrix!=null&&uA.premultiply(s.initialTargetParentWorldMatrix),typeof r.scale=="object"&&(r.scale.uniform??!1))zc.setScalar(Mu.length()/Hc.length());else{uA.decompose(G7,Pu,ZC),un.copy(Hc).applyQuaternion(Pu.invert()).divide(ZC),un.x=Math.abs(un.x),un.y=Math.abs(un.y),un.z=Math.abs(un.z);const a=Math.max(...un.toArray());un.divideScalar(a),zc.set(1,1,1),zc.addScaledVector(un,Mu.length()/Hc.length()-1)}return $C.makeTranslation(un.copy(Mu).multiplyScalar(.5).add(e.pointerWorldPoint)).multiply(Tu.makeRotationFromQuaternion(Pr)).multiply(Tu.makeRotationFromQuaternion(Pu.invert())).multiply(Tu.makeScale(zc.x,zc.y,zc.z)).multiply(Tu.makeRotationFromQuaternion(Pu.invert())).multiply(Tu.makeTranslation(un.copy(Hc).multiplyScalar(.5).add(e.initialPointerWorldPoint).negate())).multiply(uA),cI(n,2,$C,s,i,r)}const zs=new w,Pi=new w,R0=new w,$o=new w,fl=new w,Ri=new Ge,xi=new Ge,ea=new Je,Ao=new w,qc=[];function z7(n,e,t,s,i,r){if(i==null?Ri.identity():i.decompose(zs,Ri,Pi),qc.length=0,r.translate==="as-scale"&&Sd(qc,Ri,t.initialTargetRotation,r.scale??!0,"scale"),r.translate!="as-scale"&&Sd(qc,Ri,t.initialTargetRotation,r.rotate??!0,"rotate"),ea.makeTranslation(t.initialTargetPosition),t.initialTargetParentWorldMatrix!=null&&ea.premultiply(t.initialTargetParentWorldMatrix),$o.setFromMatrixPosition(ea),Nd(r.projectRays,qc,e.initialPointerWorldPoint,e.pointerWorldOrigin,$o,void 0),$o.negate().add(e.initialPointerWorldPoint),fl.setFromMatrixPosition(s),Nd(r.projectRays,qc,e.initialPointerWorldPoint,e.pointerWorldOrigin,fl,void 0),Nd(r.projectRays,qc,e.initialPointerWorldPoint,e.pointerWorldOrigin,Pi.copy(e.pointerWorldPoint),e.pointerWorldDirection),fl.negate().add(Pi),r.translate==="as-scale"?Ri.copy(t.initialTargetQuaternion):(zs.copy($o),t.prevTranslateAsDeltaRotation!=null&&zs.applyQuaternion(t.prevTranslateAsDeltaRotation),zs.normalize(),Pi.copy(fl).normalize(),Ri.setFromUnitVectors(zs,Pi),t.prevTranslateAsDeltaRotation==null?t.prevTranslateAsDeltaRotation=new Ge:Ri.multiply(t.prevTranslateAsDeltaRotation),t.prevTranslateAsDeltaRotation.copy(Ri),t.initialTargetParentWorldMatrix!=null&&(xi.setFromRotationMatrix(t.initialTargetParentWorldMatrix),Ri.multiply(xi.normalize()),Ri.premultiply(xi.invert())),Ri.multiply(t.initialTargetQuaternion)),r.translate==="as-rotate")Ao.set(1,1,1);else if(typeof r.scale=="object"&&(r.scale.uniform??!1))Ao.setScalar(fl.length()/$o.length());else if(r.translate==="as-rotate-and-scale"){ea.compose(t.initialTargetPosition,t.initialTargetQuaternion,t.initialTargetScale),t.initialTargetParentWorldMatrix!=null&&ea.premultiply(t.initialTargetParentWorldMatrix),ea.decompose(Pi,xi,R0),zs.copy($o).applyQuaternion(xi.invert()).divide(R0),zs.x=Math.abs(zs.x),zs.y=Math.abs(zs.y),zs.z=Math.abs(zs.z);const o=Math.max(...zs.toArray());zs.divideScalar(o),Ao.set(1,1,1),Ao.addScaledVector(zs,fl.length()/$o.length()-1)}else t.initialTargetParentWorldMatrix!=null?(t.initialTargetParentWorldMatrix.decompose(zs,xi,Pi),xi.multiply(t.initialTargetQuaternion)):xi.copy(t.initialTargetQuaternion),zs.copy($o).applyQuaternion(xi.invert()),i!=null?(i.decompose(Pi,xi,R0),xi.multiply(t.initialTargetQuaternion)):xi.copy(t.initialTargetQuaternion),Pi.copy(fl).applyQuaternion(xi.invert()),Ao.x=Math.abs(zs.x)<.001?1:Math.abs(Pi.x/zs.x),Ao.y=Math.abs(zs.y)<.001?1:Math.abs(Pi.y/zs.y),Ao.z=Math.abs(zs.z)<.001?1:Math.abs(Pi.z/zs.z);return Ao.multiply(t.initialTargetScale),ea.compose(t.initialTargetPosition,Ri,Ao),cI(n,1,ea,t,void 0,r)}class eb{t1;t2;_position;_quaternion;_rotation;_scale;constructor(e,t){this.t1=e,this.t2=t}get time(){return this.t1.time-this.t2.time}get position(){return this._position??=this.t1.position.clone().sub(this.t2.position)}get quaternion(){return this._quaternion??=this.t2.quaternion.clone().invert().premultiply(this.t1.quaternion)}get rotation(){return this._rotation??=new gs().setFromQuaternion(this.quaternion)}get scale(){return this._scale??=this.t1.scale.clone().sub(this.t2.scale)}}class V7{cancel;previous;memo;event;initial;current;first;last;_delta;_offset;constructor(e){this.cancel=e}start(e,t){this.event=e,this.previous=void 0,this.current=t,this.initial=t,this.first=!0,this.last=!1,this.memo=void 0,this._delta=void 0,this._offset=void 0}update(e,t){this.event=e,this.previous=this.current,this.current=t,this.first=!1,this.last=!1,this._delta=void 0,this._offset=void 0}end(e){this.event=e,this.first=!1,this.last=!0,this._delta=void 0,this._offset=void 0}get delta(){if(this.previous!=null)return this._delta??=new eb(this.current,this.previous)}get offset(){return this._offset??=new eb(this.current,this.initial)}}function tb(n,e){if(n.details.type==="sphere")return!1;if(n.details.type==="lines"){const{line:t}=n.details;return e.copy(t.end).sub(t.start).normalize(),!0}return n.details.type==="screen-ray"?(e.copy(n.details.direction),!0):(e.set(0,0,-1).applyQuaternion(n.pointerQuaternion),!0)}const sb=new w;class _y{target;getOptions;outputState;latestMoveEvent;inputState=new Map;capturedObjects=new Map;initialTargetPosition=new w;initialTargetQuaternion=new Ge;initialTargetRotation=new gs;initialTargetScale=new w;initialTargetParentWorldMatrix;prevTwoPointerDeltaRotation;prevTranslateAsDeltaRotation;prevAngle;handlers={onPointerDown:this.onPointerDown.bind(this),onPointerMove:this.onPointerMove.bind(this),onPointerUp:this.onPointerUp.bind(this)};constructor(e,t=()=>({})){this.target=e,this.getOptions=t,this.outputState=new V7(this.cancel.bind(this))}firstOnPointer(e){const t=this.getTarget();if(t==null)return;const s=tb(e,sb)?sb.clone():void 0;e.intersection.details.type,this.inputState.set(e.pointerId,{pointerWorldDirection:s,pointerWorldPoint:e.point,pointerWorldOrigin:e.pointerPosition,pointerWorldQuaternion:e.pointerQuaternion,initialPointerWorldPoint:e.point.clone(),initialPointerWorldDirection:s?.clone(),initialPointerWorldQuaternion:e.pointerQuaternion.clone(),prevPointerWorldQuaternion:e.pointerQuaternion}),this.save(),this.inputState.size===1&&this.outputState.start(e,{pointerAmount:1,time:e.timeStamp,position:this.initialTargetPosition.clone(),quaternion:this.initialTargetQuaternion.clone(),rotation:this.initialTargetRotation.clone(),scale:this.initialTargetScale.clone()}),this.outputState.memo=this.apply(t)}onPointerDown(e){this.stopPropagation(e),this.capturePointer(e.pointerId,e.object)&&this.firstOnPointer(e)}onPointerMove(e){if(!this.capturedObjects.has(e.pointerId))return;this.stopPropagation(e);const t=this.inputState.get(e.pointerId);if(t==null){this.firstOnPointer(e);return}this.latestMoveEvent=e,t.pointerWorldPoint=e.point,t.prevPointerWorldQuaternion=t.pointerWorldQuaternion,t.pointerWorldQuaternion=e.pointerQuaternion,t.pointerWorldOrigin=e.pointerPosition,t.pointerWorldDirection!=null&&tb(e,t.pointerWorldDirection)}cancel(){if(this.capturedObjects.size===0)return;for(const[t,s]of this.capturedObjects)s.releasePointerCapture(t);this.capturedObjects.clear(),this.inputState.clear(),this.outputState.end(void 0);const e=this.getTarget();e!=null&&this.apply(e)}onPointerUp(e){this.capturedObjects.has(e.pointerId)&&(this.stopPropagation(e),this.releasePointer(e.pointerId,e.object,e))}update(e){const t=this.getTarget();if(t==null||this.inputState.size===0||this.latestMoveEvent==null&&(this.getOptions().alwaysUpdate??!1)===!1)return;const s=this.getOptions();let i;if(s.translate==="as-rotate"||s.translate==="as-rotate-and-scale"||s.translate==="as-scale"){s.translate,this.prevTwoPointerDeltaRotation=void 0,this.prevAngle=void 0;const[r]=this.inputState.values(),o=t.matrixWorld,a=t.parent?.matrixWorld;i=z7(e,r,this,o,a,s)}else if(this.inputState.size===1){this.prevTwoPointerDeltaRotation=void 0,this.prevAngle=void 0,this.prevTranslateAsDeltaRotation=void 0;const[r]=this.inputState.values();i=O7(e,r,this,t.parent?.matrixWorld,s)}else{this.prevTranslateAsDeltaRotation=void 0;const[r,o]=this.inputState.values();i=H7(e,r,o,this,t.parent?.matrixWorld,s)}this.outputState.update(this.latestMoveEvent,i),this.outputState.memo=this.apply(t),this.latestMoveEvent=void 0}getTarget(){return this.target instanceof is?this.target:this.target?.current}capturePointer(e,t){if(this.capturedObjects.has(e))return!1;const{multitouch:s,translate:i}=this.getOptions();return((s??!0)===!1||typeof i=="string")&&this.capturedObjects.size===1?!1:(this.capturedObjects.set(e,t),t.setPointerCapture(e),!0)}releasePointer(e,t,s){const i=this.getTarget();if(!(i==null||!this.capturedObjects.delete(e))){if(this.inputState.delete(e),t.releasePointerCapture(e),this.inputState.size>0){this.save();return}this.outputState.end(s),this.apply(i)}}stopPropagation(e){e==null||!(this.getOptions()?.stopPropagation??!0)||e.stopPropagation()}apply(e){return(this.getOptions().apply??W7)(this.outputState,e)}getState(){return this.inputState.size===0?void 0:this.outputState}save(){const e=this.getTarget();if(e!=null){e.updateWorldMatrix(!0,!1),this.prevAngle=void 0,this.prevTwoPointerDeltaRotation=void 0,this.prevTranslateAsDeltaRotation=void 0,this.initialTargetParentWorldMatrix=e.parent?.matrixWorld.clone(),e.matrixAutoUpdate?(this.initialTargetPosition.copy(e.position),this.initialTargetQuaternion.copy(e.quaternion),this.initialTargetRotation.copy(e.rotation),this.initialTargetScale.copy(e.scale)):(e.matrix.decompose(this.initialTargetPosition,this.initialTargetQuaternion,this.initialTargetScale),this.initialTargetRotation.setFromQuaternion(this.initialTargetQuaternion,e.rotation.order));for(const t of this.inputState.values())t.pointerWorldDirection!=null&&t.initialPointerWorldDirection?.copy(t.pointerWorldDirection),t.initialPointerWorldPoint.copy(t.pointerWorldPoint),t.initialPointerWorldQuaternion.copy(t.pointerWorldQuaternion)}}bind(e){const{onPointerDown:t,onPointerMove:s,onPointerUp:i}=this.handlers;return e.addEventListener("pointerdown",t),e.addEventListener("pointermove",s),e.addEventListener("pointerup",i),()=>{e.removeEventListener("pointerdown",t),e.removeEventListener("pointermove",s),e.removeEventListener("pointerup",i),this.cancel()}}capture(e,t){return this.capturePointer(e,t)?()=>this.releasePointer(e,t,void 0):q7}}function q7(){}function W7(n,e){e.position.copy(n.current.position),e.rotation.order=n.current.rotation.order,e.quaternion.copy(n.current.quaternion),e.scale.copy(n.current.scale)}const X7=new Qt;X7.setAttribute("position",new yt([-1e3,0,0,1e3,0,0],3));new w;new w;const Y7=new Zi(0,.04,.1,12);Y7.translate(0,.05,0);const J7=new Zi(.0075,.0075,.5,3);J7.translate(0,.25,0);new w;new w;new Ge().setFromEuler(new gs(0,0,Math.PI/2));new Ge().setFromEuler(new gs(0,-Math.PI/2,0));new Ge().setFromEuler(new gs(0,-Math.PI/2,0));new Ge().setFromEuler(new gs(Math.PI/2,0,0));new w;new w(0,0,-1),new w(0,-1,0),new w(0,0,-1),new w(-1,0,-1),new Ge().setFromEuler(new gs(0,0,Math.PI/2)),new w(-1,0,0),new w(0,-1,0),new Ge().setFromEuler(new gs(0,Math.PI/2,0));new w;new w;new w;new w;new w;new w;new w(1,0,0);new w;new w;new w(1,0,0);new w;new w(0,0,1);new w(0,1,0);new w;new w;new w;new Be;new w;new w;new w;new Be;new Be;new w;new w;new Be;new Be;new Be;new Be;new w;new w;const dr=Es("Handle",{instance:{type:de.Object,default:void 0}},"Internal component storing an active interaction handle instance"),Eo={MoveFromTarget:"MoveFromTarget",MoveTowardsTarget:"MoveTowardsTarget",MoveAtSource:"MoveAtSource",RotateAtSource:"RotateAtSource"};class hn extends _y{constructor(e,t=()=>({}),s,i,r=.1){super(e,t),this.target_=e,this.getOptions=t,this.movementMode=s,this.returnToOrigin=i,this.moveSpeed=r}update(e){var t;if(this.movementMode===Eo.RotateAtSource||this.movementMode===Eo.MoveFromTarget){super.update(e);return}const s=this.getTarget();if(s==null||this.inputState.size===0||this.latestMoveEvent==null&&((t=this.getOptions().alwaysUpdate)!==null&&t!==void 0?t:!1)===!1){this.previousPointerOrigin!=null&&(this.previousPointerOrigin=void 0);return}const i=this.inputState.size;s.getWorldPosition(hn._posHelper),s.getWorldQuaternion(hn._quatHelper);const r=s.position,o=s.quaternion,a=s.rotation,l=s.scale;switch(this.movementMode){case Eo.MoveAtSource:{const[c]=this.inputState.values(),d=c.pointerWorldOrigin;if(this.previousPointerOrigin!=null){const u=hn._tmp.copy(d).sub(this.previousPointerOrigin);hn._posHelper.add(u)}else this.previousPointerOrigin=new w().copy(d);this.previousPointerOrigin.copy(d);break}case Eo.MoveTowardsTarget:{const[c]=this.inputState.values(),d=c.pointerWorldOrigin;if(d.distanceTo(hn._posHelper)>this.moveSpeed){const h=hn._tmp.copy(d).sub(hn._posHelper).normalize().multiplyScalar(this.moveSpeed);hn._posHelper.add(h)}else hn._posHelper.set(d.x,d.y,d.z),hn._quatHelper.set(c.pointerWorldQuaternion.x,c.pointerWorldQuaternion.y,c.pointerWorldQuaternion.z,c.pointerWorldQuaternion.w);break}}if(s.parent){const c=s.parent.matrixWorld.clone().invert();r.copy(hn._posHelper).applyMatrix4(c);const d=s.parent.getWorldQuaternion(new Ge).invert();o.copy(hn._quatHelper).premultiply(d)}else r.copy(hn._posHelper),o.copy(hn._quatHelper);this.outputState.update(this.latestMoveEvent,{pointerAmount:i,position:r,quaternion:o,rotation:a,scale:l,time:e}),this.outputState.memo=this.apply(s),this.latestMoveEvent=void 0}apply(e){var t;if(this.returnToOrigin&&(!((t=this.outputState)===null||t===void 0)&&t.last)){e.position.copy(this.initialTargetPosition),e.rotation.order=this.initialTargetRotation.order,e.quaternion.copy(this.initialTargetQuaternion),e.scale.copy(this.initialTargetScale);return}return super.apply(e)}}hn._tmp=new w;hn._posHelper=new w;hn._quatHelper=new Ge;const ai=Es("DistanceGrabbable",{rotate:{type:de.Boolean,default:!0},rotateMax:{type:de.Vec3,default:[1/0,1/0,1/0]},rotateMin:{type:de.Vec3,default:[-1/0,-1/0,-1/0]},translate:{type:de.Boolean,default:!0},translateMax:{type:de.Vec3,default:[1/0,1/0,1/0]},translateMin:{type:de.Vec3,default:[-1/0,-1/0,-1/0]},scale:{type:de.Boolean,default:!0},scaleMax:{type:de.Vec3,default:[1/0,1/0,1/0]},scaleMin:{type:de.Vec3,default:[-1/0,-1/0,-1/0]},movementMode:{type:de.Enum,enum:Eo,default:Eo.MoveTowardsTarget},returnToOrigin:{type:de.Boolean,default:!1},moveSpeed:{type:de.Float32,default:.1}},"Component for distance-based object grabbing and manipulation"),la=Es("OneHandGrabbable",{rotate:{type:de.Boolean,default:!0},rotateMax:{type:de.Vec3,default:[1/0,1/0,1/0]},rotateMin:{type:de.Vec3,default:[-1/0,-1/0,-1/0]},translate:{type:de.Boolean,default:!0},translateMax:{type:de.Vec3,default:[1/0,1/0,1/0]},translateMin:{type:de.Vec3,default:[-1/0,-1/0,-1/0]}},"Component for single-hand object grabbing and manipulation"),hr=Es("TwoHandsGrabbable",{rotate:{type:de.Boolean,default:!0},rotateMax:{type:de.Vec3,default:[1/0,1/0,1/0]},rotateMin:{type:de.Vec3,default:[-1/0,-1/0,-1/0]},translate:{type:de.Boolean,default:!0},translateMax:{type:de.Vec3,default:[1/0,1/0,1/0]},translateMin:{type:de.Vec3,default:[-1/0,-1/0,-1/0]},scale:{type:de.Boolean,default:!0},scaleMax:{type:de.Vec3,default:[1/0,1/0,1/0]},scaleMin:{type:de.Vec3,default:[-1/0,-1/0,-1/0]}},"Component for two-handed object grabbing and manipulation");class Z2 extends Ss({oneHandGrabbables:{required:[la]},twoHandsGrabbables:{required:[hr]},distanceGrabbables:{required:[ai]},handles:{required:[dr]}}){init(){dr.bitmask||this.world.registerComponent(dr),this.queries.oneHandGrabbables.subscribe("qualify",e=>{this.initializeOneHandHandle(e)}),this.queries.twoHandsGrabbables.subscribe("qualify",e=>{this.initializeTwoHandsHandle(e)}),this.queries.distanceGrabbables.subscribe("qualify",e=>{this.initializeDistanceHandle(e)}),this.queries.handles.subscribe("disqualify",e=>{const t=dr.data.instance[e.index];if(t)try{t.cancel()}catch{}e.object3D&&(e.object3D.pointerEventsType="all")}),this.queries.oneHandGrabbables.entities.forEach(e=>this.initializeOneHandHandle(e)),this.queries.twoHandsGrabbables.entities.forEach(e=>this.initializeTwoHandsHandle(e)),this.queries.distanceGrabbables.entities.forEach(e=>this.initializeDistanceHandle(e)),this.input.multiPointers.left.toggleSubPointer("grab",!0),this.input.multiPointers.right.toggleSubPointer("grab",!0)}update(e){this.queries.handles.entities.forEach(t=>{const s=dr.data.instance[t.index];s&&s.update(e)})}initializeOneHandHandle(e){if(e.hasComponent(dr))return;const t=e.object3D;if(!(t instanceof is))return;const s=t,i=e.getVectorView(la,"rotateMax"),r=e.getVectorView(la,"rotateMin"),o=e.getVectorView(la,"translateMax"),a=e.getVectorView(la,"translateMin"),l=new _y(s,()=>({rotate:e.getValue(la,"rotate")?{x:[r[0],i[0]],y:[r[1],i[1]],z:[r[2],i[2]]}:!1,translate:e.getValue(la,"translate")?{x:[a[0],o[0]],y:[a[1],o[1]],z:[a[2],o[2]]}:!1,projectRays:!1,multitouch:!1}));l.bind(s),s.pointerEventsType={deny:"ray"},e.addComponent(dr,{instance:l})}initializeTwoHandsHandle(e){if(e.hasComponent(dr))return;const t=e.object3D;if(!(t instanceof is))return;const s=t,i=e.getVectorView(hr,"rotateMax"),r=e.getVectorView(hr,"rotateMin"),o=e.getVectorView(hr,"translateMax"),a=e.getVectorView(hr,"translateMin"),l=e.getVectorView(hr,"scaleMax"),c=e.getVectorView(hr,"scaleMin"),d=new _y(s,()=>({rotate:e.getValue(hr,"rotate")?{x:[r[0],i[0]],y:[r[1],i[1]],z:[r[2],i[2]]}:!1,translate:e.getValue(hr,"translate")?{x:[a[0],o[0]],y:[a[1],o[1]],z:[a[2],o[2]]}:!1,scale:e.getValue(hr,"scale")?{x:[c[0],l[0]],y:[c[1],l[1]],z:[c[2],l[2]]}:!1,projectRays:!1,multitouch:!0}));d.bind(s),s.pointerEventsType={deny:"ray"},e.addComponent(dr,{instance:d})}initializeDistanceHandle(e){var t;if(e.hasComponent(dr))return;const s=e.object3D;if(!(s instanceof is))return;const i=s,r=e.getVectorView(ai,"rotateMax"),o=e.getVectorView(ai,"rotateMin"),a=e.getVectorView(ai,"translateMax"),l=e.getVectorView(ai,"translateMin"),c=e.getVectorView(ai,"scaleMax"),d=e.getVectorView(ai,"scaleMin"),u=e.getValue(ai,"movementMode"),h=!!e.getValue(ai,"returnToOrigin"),f=()=>({rotate:e.getValue(ai,"rotate")?{x:[o[0],r[0]],y:[o[1],r[1]],z:[o[2],r[2]]}:!1,translate:u===Eo.RotateAtSource?"as-rotate":e.getValue(ai,"translate")?{x:[l[0],a[0]],y:[l[1],a[1]],z:[l[2],a[2]]}:!1,scale:u===Eo.RotateAtSource?!1:e.getValue(ai,"scale")?{x:[d[0],c[0]],y:[d[1],c[1]],z:[d[2],c[2]]}:!1,projectRays:!1}),A=new hn(i,f,u,h,(t=e.getValue(ai,"moveSpeed"))!==null&&t!==void 0?t:.1);A.bind(i),i.pointerEventsType={deny:"grab"},e.addComponent(dr,{instance:A})}}RN.prototype.intersectPointerCapture=_7;Z_.prototype.intersectPointerCapture=I7;Z_.prototype.executeIntersection=C7;function K7(n,e,t){return(1-t)*n+t*e}const j7=`
	varying vec2 vUv;

	void main() {
		vUv = uv;
		vec4 modelPosition = modelMatrix * vec4(position, 1.0);
		vec4 viewPosition = viewMatrix * modelPosition;
		vec4 projectedPosition = projectionMatrix * viewPosition;

		gl_Position = projectedPosition;
	}
`,Z7=`
	uniform vec3 uColor;
	uniform float uAlpha;
	varying vec2 vUv;

	void main() {
		gl_FragColor = vec4(uColor, uAlpha * vUv.y);
	}
`,$7=(n,e=0)=>{const t=new it(new Zi(n,n*.5,.3,16,1,!0),new Ds({vertexShader:j7,fragmentShader:Z7,uniforms:{uColor:{value:new st(e)},uAlpha:{value:0}},depthTest:!1,side:Ls,transparent:!0}));return t.frustumCulled=!1,t.renderOrder=999,t.rotateX(Math.PI/2),t.position.z=-.15,t};class JA extends Ss({},{locomotor:{type:de.Object,default:void 0},maxSpeed:{type:de.Float32,default:5},comfortAssist:{type:de.Float32,default:.5},jumpButton:{type:de.String,default:jr.A_Button}}){constructor(){super(...arguments),this.movementVector=new w,this.movementDirection=new Ge,this.input2D=new Be,this.isMoving=!1,this.vignette=$7(.3),this.vignetteAlphaTarget=0}init(){this.locomotor=this.config.locomotor.value,this.player.head.add(this.vignette)}destroy(){this.vignette.removeFromParent()}update(e){var t,s;if(this.vignetteAlphaTarget=0,!((t=this.input.gamepads.right)===null||t===void 0)&&t.getButtonDown(this.config.jumpButton.value)&&this.locomotor.jump(),this.input.isPrimary("controller","left")){this.input2D.copy(((s=this.input.gamepads.left)===null||s===void 0?void 0:s.getAxesValues(jr.Thumbstick))||{x:0,y:0}),this.movementVector.set(this.input2D.x,0,this.input2D.y);const i=this.input2D.length();i>0?(this.player.head.getWorldQuaternion(this.movementDirection),this.movementVector.applyQuaternion(this.movementDirection),this.movementVector.y=0,this.movementVector.normalize().multiplyScalar(i*this.config.maxSpeed.value),this.locomotor.slide(this.movementVector),this.vignetteAlphaTarget=i*this.config.comfortAssist.value):this.isMoving&&(this.movementVector.set(0,0,0),this.locomotor.slide(this.movementVector)),this.isMoving=i>0,this.vignette.material.uniforms.uAlpha.value=K7(this.vignette.material.uniforms.uAlpha.value,this.vignetteAlphaTarget,e*10)}}}const Ei={STATIC:"static",KINEMATIC:"kinematic"};var li;(function(n){n[n.Init=0]="Init",n[n.Config=1]="Config",n[n.Slide=2]="Slide",n[n.Teleport=3]="Teleport",n[n.ParabolicRaycast=4]="ParabolicRaycast",n[n.PositionUpdate=5]="PositionUpdate",n[n.RaycastUpdate=6]="RaycastUpdate",n[n.AddEnvironment=7]="AddEnvironment",n[n.RemoveEnvironment=8]="RemoveEnvironment",n[n.UpdateKinematicEnvironment=9]="UpdateKinematicEnvironment",n[n.Jump=10]="Jump"})(li||(li={}));function eG(n,e,t,s,i){const r=.5*s,o=e.y,a=n.y-t,l=o*o-4*r*a,c=(-o+Math.sqrt(l))/(2*r),u=-e.y/s>0?n.y+e.y*e.y/(2*Math.abs(s)):n.y,h=n.x+e.x*c,f=n.z+e.z*c;return i.min.set(Math.min(n.x,h),t,Math.min(n.z,f)),i.max.set(Math.max(n.x,h),Math.max(n.y,u),Math.max(n.z,f)),i}function dI(n,e,t,s,i,r=0){const o=.5*s,a=e.y,l=n.y-t,c=a*a-4*o*l,d=(-a+Math.sqrt(c))/(2*o),u=i.length;for(let h=r;h<u+r;h++){const A=h/(r+u-1)*d,p=n.x+e.x*A,g=n.y+e.y*A+.5*s*A*A,m=n.z+e.z*A;i[h-r].set(p,g,m)}}class tG{constructor(){this.environments=new Map,this.staticEnvironments=[],this.kinematicEnvironments=[],this.maxDropDistance=2,this.tempRay=new Ci,this.tempVector3_1=new w,this.tempVector3_2=new w,this.tempQuaternion_1=new Ge,this.tempQuaternion_2=new Ge,this.tempMatrix4_1=new Je,this.tempMatrix4_2=new Je,this.tempBox=new Jt}addEnvironment(e,t,s,i=Ei.STATIC,r=new Je){if(this.environments.has(e)){console.warn(`Environment with handle ${e} already exists, skipping`);return}const o=new Qt;o.setAttribute("position",new rs(t instanceof Array?new Float32Array(t):t,3)),o.setIndex(new rs(s instanceof Array?new Uint32Array(s):s,1));const a=new zd(o),l=new Jt;l.copy(a.geometry.boundingBox),l.applyMatrix4(r);const c={handle:e,bvh:a,type:i,worldMatrix:r.clone(),worldBounds:l,metadata:i===Ei.KINEMATIC?{deltaPos:new w,deltaQuat:new Ge,velocity:new w,angularVelocity:new w,lastPosition:new w,lastQuaternion:new Ge,position:new w,quaternion:new Ge}:void 0};this.environments.set(e,c),this.updateEnvironmentArrays()}removeEnvironment(e){this.environments.delete(e)&&this.updateEnvironmentArrays()}getEnvironments(){return Array.from(this.environments.values())}getStaticEnvironments(){return this.staticEnvironments}getKinematicEnvironments(){return this.kinematicEnvironments}updateKinematicPlatform(e,t){const s=this.environments.get(e);!s||s.type!==Ei.KINEMATIC||!s.metadata||(t.decompose(this.tempVector3_1,this.tempQuaternion_1,this.tempVector3_2),s.metadata.deltaPos.subVectors(this.tempVector3_1,s.metadata.lastPosition),this.tempQuaternion_2.copy(s.metadata.lastQuaternion).invert(),s.metadata.deltaQuat.multiplyQuaternions(this.tempQuaternion_1,this.tempQuaternion_2),s.metadata.position.copy(this.tempVector3_1),s.metadata.quaternion.copy(this.tempQuaternion_1),s.worldMatrix.copy(t),s.metadata.lastPosition.copy(this.tempVector3_1),s.metadata.lastQuaternion.copy(this.tempQuaternion_1),s.worldBounds.copy(s.bvh.geometry.boundingBox),s.worldBounds.applyMatrix4(s.worldMatrix))}updateKinematicPlatforms(e){for(const t of this.kinematicEnvironments)!t.metadata||!t.metadata.position||!t.metadata.quaternion||(t.metadata.deltaPos.subVectors(t.metadata.position,t.metadata.lastPosition),this.tempQuaternion_1.copy(t.metadata.lastQuaternion).invert(),t.metadata.deltaQuat.multiplyQuaternions(t.metadata.quaternion,this.tempQuaternion_1),e>0&&t.metadata.velocity.copy(t.metadata.deltaPos).multiplyScalar(1/e),t.metadata.lastPosition.copy(t.metadata.position),t.metadata.lastQuaternion.copy(t.metadata.quaternion),t.metadata.deltaPos.lengthSq()>1e-6&&t.bvh.refit())}getEnvironment(e){return this.environments.get(e)}hasEnvironment(e){return this.environments.has(e)}raycastEnvironment(e,t,s=0,i=1/0){this.tempMatrix4_1.copy(e.worldMatrix).invert(),this.tempRay.copy(t),this.tempRay.applyMatrix4(this.tempMatrix4_1);const r=e.bvh.raycastFirst(this.tempRay,In,s,i);return r&&r.face&&(r.point.applyMatrix4(e.worldMatrix),this.tempMatrix4_2.copy(e.worldMatrix).invert().transpose(),r.face.normal.transformDirection(this.tempMatrix4_2),r.face.normal.normalize(),r.distance=r.point.distanceTo(t.origin)),r}clear(){this.environments.clear(),this.staticEnvironments.length=0,this.kinematicEnvironments.length=0}updateEnvironmentArrays(){this.staticEnvironments.length=0,this.kinematicEnvironments.length=0;for(const e of this.environments.values())e.type===Ei.STATIC?this.staticEnvironments.push(e):this.kinematicEnvironments.push(e)}setMaxDropDistance(e){this.maxDropDistance=e}getMinY(e){return e-this.maxDropDistance}getEnvironmentsForTrajectory(e,t,s,i){return eG(e,t,s,i,this.tempBox),Array.from(this.environments.values()).filter(r=>r.worldBounds.intersectsBox(this.tempBox))}}class sG{constructor(){this.tempSegment=new ti,this.tempPosition=new w,this.positionDelta=new w,this.aabbox=new Jt,this.rayVector=new w,this.localSegment=new ti,this.localTriPoint=new w,this.localCapsulePoint=new w,this.tempMatrix4=new Je}handleCapsuleCollision(e,t,s,i){this.tempSegment.copy(t.segment),this.tempSegment.start.add(s),this.tempSegment.end.add(s);for(const r of e)this.shapecastCapsule(this.tempSegment,t.radius,r);if(this.tempPosition.copy(this.tempSegment.start).sub(t.segment.start),this.positionDelta.copy(this.tempPosition).sub(s),this.positionDelta.length()>1e-5){this.rayVector.copy(this.positionDelta).normalize();const r=i.dot(this.rayVector);r<0&&i.addScaledVector(this.rayVector,-r)}return this.tempPosition}shapecastCapsule(e,t,s){this.tempMatrix4.copy(s.worldMatrix).invert(),this.localSegment.copy(e),this.localSegment.start.applyMatrix4(this.tempMatrix4),this.localSegment.end.applyMatrix4(this.tempMatrix4),this.aabbox.makeEmpty(),this.aabbox.expandByPoint(this.localSegment.start),this.aabbox.expandByPoint(this.localSegment.end),this.aabbox.min.addScalar(-t),this.aabbox.max.addScalar(t),s.bvh.shapecast({intersectsBounds:i=>i.intersectsBox(this.aabbox),intersectsTriangle:i=>{const r=i.closestPointToSegment(this.localSegment,this.localTriPoint,this.localCapsulePoint);if(r<t){const o=t-r;this.rayVector.copy(this.localCapsulePoint).sub(this.localTriPoint).normalize(),this.localSegment.start.addScaledVector(this.rayVector,o),this.localSegment.end.addScaledVector(this.rayVector,o),e.start.copy(this.localSegment.start).applyMatrix4(s.worldMatrix),e.end.copy(this.localSegment.end).applyMatrix4(s.worldMatrix)}}})}}class yr{static calculateSpringForce(e,t){return t*e}static calculateDampingForce(e,t){return t*e}static clampForce(e,t){return Math.max(-t,Math.min(t,e))}static applyGravity(e,t,s,i,r){e.addScaledVector(t,s*i*r)}static applyFloatingForce(e,t,s,i,r,o,a){const l=s-i,d=yr.clampForce(l,r)*a/o;e.addScaledVector(t,d)}static calculateTargetDistance(e,t){return e+t}static isGrounded(e,t){return e<t}static calculateGroundingThreshold(e,t,s=.15){return e+t+s}static isWalkableSlope(e,t,s){return e.angleTo(t)<s}static capVelocity(e,t){e.lengthSq()>t*t&&e.normalize().multiplyScalar(t)}}class nG{constructor(e,t,s){this.gravityDir=e,this.upAxis=t,this.environmentManager=s,this.ray=new Ci,this.tempPosition=new w,this.tempGroundInfo={isGrounded:!1,distance:1/0,contactPoint:new w,normal:new w(0,1,0),environment:void 0}}detectGround(e,t,s,i,r){this.tempGroundInfo.isGrounded=!1,this.tempGroundInfo.distance=1/0,this.tempGroundInfo.environment=void 0,this.tempPosition.copy(t),this.tempPosition.y+=s;const o=i+s+.1,a=Math.max(o,Math.abs(t.y)+5);this.ray.origin.copy(this.tempPosition),this.ray.direction.copy(this.gravityDir);let l=null,c=null;for(const d of e){const u=this.environmentManager.raycastEnvironment(d,this.ray,0,a);u&&u.face&&(!l||u.distance<l.distance)&&(l=u,c=d)}if(l&&l.face&&c&&(this.tempGroundInfo.contactPoint.copy(l.point),this.tempGroundInfo.normal.copy(l.face.normal),this.tempGroundInfo.distance=l.distance,this.tempGroundInfo.environment=c,yr.isWalkableSlope(this.tempGroundInfo.normal,this.upAxis,r))){const d=yr.calculateGroundingThreshold(i,s);this.tempGroundInfo.isGrounded=yr.isGrounded(this.tempGroundInfo.distance,d)}return this.tempGroundInfo}applyPlatformVelocity(e,t){var s,i;((s=t.environment)===null||s===void 0?void 0:s.type)===Ei.KINEMATIC&&(!((i=t.environment.metadata)===null||i===void 0)&&i.velocity)&&e.add(t.environment.metadata.velocity)}}class iG{constructor(e){this.config=e,this.targetVelocity=new w,this.velocityOnPlane=new w,this.deltaVelocity=new w,this.upAxis=new w(0,1,0)}handleMovementInput(e,t,s,i){if(e.lengthSq()>0){this.targetVelocity.copy(e),this.velocityOnPlane.copy(t).projectOnPlane(this.upAxis),this.deltaVelocity.subVectors(this.targetVelocity,this.velocityOnPlane);const r=s?1:this.config.airDragFactor,o=this.config.acceleration*r*i;this.deltaVelocity.clampLength(0,o),t.add(this.deltaVelocity)}else{this.velocityOnPlane.copy(t).projectOnPlane(this.upAxis);const r=s?1:.7,o=this.config.deceleration*r*i;this.deltaVelocity.copy(this.velocityOnPlane).clampLength(0,o),t.sub(this.deltaVelocity)}}updateConfig(e){Object.assign(this.config,e)}}class rG{constructor(e){this.playerPosition=new w,this.playerVelocity=new w,this.movementVector=new w,this.ray=new Ci,this.capsuleInfo={radius:.5,segment:new ti(new w(0,1.5,0),new w(0,.5,0))},this.lastUpdateTime=0,this.rayPoints=new Array,this.rayVector=new w,this.upAxis=new w(0,1,0),this.gravityDir=new w(0,-1,0),this.groundDecel=8,this.positionUpdateTimeout=.5,this.gravity=9.81,this.rayGravity=-.4,this.updating=!1,this.isGrounded=!1,this.isGroundedOnStatic=!1,this.maxDropDistance=2,this.jumpHeight=1.5,this.jumpCooldown=.1,this.lastJumpTime=0,this.acceleration=100,this.deceleration=100,this.airDragFactor=.3,this.maxWalkSpeed=3,this.mass=1,this.floatHeight=.01,this.floatSensorRadius=.12,this.floatSpringK=30,this.floatDampingC=8,this.maxSlope=1,this.playerPosition.copy(e);for(let t=0;t<10;t++)this.rayPoints.push(new w);this.environmentManager=new tG,this.groundDetector=new nG(this.gravityDir,this.upAxis,this.environmentManager),this.collisionHandler=new sG,this.movementController=new iG({acceleration:this.acceleration,deceleration:this.deceleration,airDragFactor:this.airDragFactor,maxWalkSpeed:this.maxWalkSpeed}),this.environmentManager.setMaxDropDistance(this.maxDropDistance)}slide(e){this.movementVector.copy(e),this.updating=!0,this.lastUpdateTime=performance.now()}teleport(e){this.playerPosition.copy(e),this.playerVelocity.set(0,0,0),this.updating=!0,this.lastUpdateTime=performance.now()}raycast(e,t,s){this.ray.origin.copy(e),this.ray.direction.copy(t);let i;for(const r of this.environmentManager.getEnvironments()){const o=this.environmentManager.raycastEnvironment(r,this.ray,0,s);o&&(!i||o.distance<i.distance)&&(i=o)}return i}raycastRelevantEnvironments(e,t,s,i){this.ray.origin.copy(e),this.ray.direction.copy(t);let r;for(const o of i){const a=this.environmentManager.raycastEnvironment(o,this.ray,0,s);a&&(!r||a.distance<r.distance)&&(r=a)}return r}parabolicRaycast(e,t){let s;const i=this.environmentManager.getMinY(this.playerPosition.y),r=this.environmentManager.getEnvironmentsForTrajectory(e,t,i,this.rayGravity);dI(e,t,i,this.rayGravity,this.rayPoints);for(let o=0;o<this.rayPoints.length-1;o++){this.rayVector.copy(this.rayPoints[o+1]).sub(this.rayPoints[o]);const a=this.rayVector.length();if(s=this.raycastRelevantEnvironments(this.rayPoints[o],this.rayVector.normalize(),a,r),s)break}return s}update(e){this.environmentManager.updateKinematicPlatforms(e),this.updating&&(this.isGroundedOnStatic&&performance.now()-this.lastUpdateTime>this.positionUpdateTimeout*1e3?this.updating=!1:this.updatePlayerPosition(e))}updatePlayerPosition(e){if(this.handleMovementPhysics(e),this.applyGravity(e),this.handleGroundContact(e),this.handleCollisions(),this.playerPosition.y>100){this.playerPosition.set(0,2,0),this.playerVelocity.set(0,0,0);return}yr.capVelocity(this.playerVelocity,20),this.playerPosition.addScaledVector(this.playerVelocity,e)}handleMovementPhysics(e){this.movementController.handleMovementInput(this.movementVector,this.playerVelocity,this.isGrounded,e)}applyGravity(e){if(!this.isGrounded){const t=this.playerPosition.y>10?3:1;yr.applyGravity(this.playerVelocity,this.gravityDir,this.gravity,t,e)}}handleGroundContact(e){var t,s;const i=this.groundDetector.detectGround(this.environmentManager.getEnvironments(),this.playerPosition,this.capsuleInfo.radius,this.floatHeight,this.maxSlope);if(this.isGrounded=i.isGrounded,this.isGroundedOnStatic=this.isGrounded&&((t=i.environment)===null||t===void 0?void 0:t.type)===Ei.STATIC,this.isGrounded&&((s=i.environment)===null||s===void 0?void 0:s.type)===Ei.KINEMATIC&&this.groundDetector.applyPlatformVelocity(this.playerVelocity,i),i.distance<1/0&&this.isGrounded){const o=yr.calculateTargetDistance(this.floatHeight,this.capsuleInfo.radius)-i.distance,a=yr.calculateSpringForce(o,this.floatSpringK),l=this.playerVelocity.dot(this.upAxis),c=yr.calculateDampingForce(l,this.floatDampingC);yr.applyFloatingForce(this.playerVelocity,this.upAxis,a,c,50,this.mass,e)}}handleCollisions(){const e=this.collisionHandler.handleCapsuleCollision(this.environmentManager.getEnvironments(),this.capsuleInfo,this.playerPosition,this.playerVelocity);e.equals(this.playerPosition)||this.playerPosition.copy(e)}addEnvironment(e,t,s,i=Ei.STATIC,r=new Je){this.environmentManager.addEnvironment(e,t,s,i,r)}removeEnvironment(e){this.environmentManager.removeEnvironment(e)}updateKinematicPlatform(e,t){this.environmentManager.updateKinematicPlatform(e,t)}setMaxDropDistance(e){this.maxDropDistance=e,this.environmentManager.setMaxDropDistance(e)}jump(){const e=performance.now()/1e3;if(!(this.isGrounded&&e-this.lastJumpTime>this.jumpCooldown))return;const t=Math.sqrt(2*this.gravity*this.jumpHeight);this.playerVelocity.y=t,this.isGrounded=!1,this.lastJumpTime=e,this.updating=!0}getEnvironmentManager(){return this.environmentManager}}const nb=new w(1,1,1);class $2{constructor(e={}){this.hitTestNormal=new w,this.isGrounded=!1,this.position=new w,this.initialized=!1,this.staticEnvs=new Map,this.kinematicEnvs=new Map,this.nextEnvironmentHandle=1,this.targetPosition=new w,this.tempVec1=new w,this.tempVec2=new w,this.tempQuat=new Ge,this.tempMatrix=new Je,this.tempMatrix2=new Je,this.requestArr=new Array(7),this.kinematicUpdateArr=new Array(18),this.config={initialPlayerPosition:new w(0,2,0),updateFrequency:60,rayGravity:-.4,maxDropDistance:5,jumpHeight:1.5,jumpCooldown:.1,useWorker:!0,...e},this.useWorker=this.config.useWorker,this.hitTestTarget=new is,this.hitTestTarget.visible=!1}async initialize(){this.initialized||(this.useWorker?(this.worker=new Worker((await Rd(async()=>{const{url:e}=await import("./worker-BtzPByNM.js");return{url:e}},[])).url),this.worker.postMessage({type:li.Init,payload:{initialPlayerPosition:this.config.initialPlayerPosition.toArray()}}),this.worker.onmessage=e=>{this.handleWorkerMessage(e)},this.updateConfig(this.config)):(this.engine=new rG(this.config.initialPlayerPosition),this.applyConfigToEngine(this.config),this.position.copy(this.engine.playerPosition),this.isGrounded=this.engine.isGrounded),this.initialized=!0)}terminate(){this.useWorker&&this.worker?(this.worker.terminate(),this.worker=void 0):this.useWorker||(this.engine=void 0),this.initialized=!1,this.staticEnvs.clear(),this.kinematicEnvs.clear()}updateConfig(e){Object.assign(this.config,e),this.useWorker&&this.worker?this.worker.postMessage({type:li.Config,payload:{updateFrequency:this.config.updateFrequency,rayGravity:this.config.rayGravity,maxDropDistance:this.config.maxDropDistance,jumpHeight:this.config.jumpHeight,jumpCooldown:this.config.jumpCooldown}}):!this.useWorker&&this.engine&&this.applyConfigToEngine(this.config)}applyConfigToEngine(e){this.engine&&(e.rayGravity!==void 0&&(this.engine.rayGravity=e.rayGravity),e.maxDropDistance!==void 0&&this.engine.setMaxDropDistance(e.maxDropDistance),e.jumpHeight!==void 0&&(this.engine.jumpHeight=e.jumpHeight),e.jumpCooldown!==void 0&&(this.engine.jumpCooldown=e.jumpCooldown))}update(e){this.initialized&&(this.useWorker&&this.worker?this.position.lerp(this.targetPosition,e*10):!this.useWorker&&this.engine&&(this.engine.update(e),this.position.copy(this.engine.playerPosition),this.isGrounded=this.engine.isGrounded))}addEnvironment(e,t=Ei.STATIC){if(!this.initialized||!e?.isObject3D)throw new Error("Locomotor not initialized or invalid Object3D");const s=this.nextEnvironmentHandle++,{positions:i,indices:r,worldMatrix:o}=this.processEnvironment(e);return t===Ei.KINEMATIC?this.kinematicEnvs.set(s,e):this.staticEnvs.set(s,e),this.useWorker&&this.worker?this.worker.postMessage({type:li.AddEnvironment,payload:{handle:s,positions:i,indices:r,type:t,worldMatrix:o.elements}}):!this.useWorker&&this.engine&&this.engine.addEnvironment(s,i,r,t,o),s}removeEnvironment(e){if(!this.initialized)return;const t=this.kinematicEnvs.has(e),s=this.staticEnvs.has(e);!t&&!s||(t?this.kinematicEnvs.delete(e):this.staticEnvs.delete(e),this.useWorker&&this.worker?this.worker.postMessage({type:li.RemoveEnvironment,payload:{handle:e}}):!this.useWorker&&this.engine&&this.engine.removeEnvironment(e))}updateKinematicEnvironments(e){if(!this.initialized)return;const t=e||Array.from(this.kinematicEnvs.keys());for(const s of t){const i=this.kinematicEnvs.get(s);if(i?.isObject3D)if(i.updateMatrixWorld(!0),this.tempMatrix.copy(i.matrixWorld),this.tempMatrix.decompose(this.tempVec1,this.tempQuat,this.tempVec2),this.tempMatrix.compose(this.tempVec1,this.tempQuat,nb),this.useWorker&&this.worker){this.kinematicUpdateArr[0]=li.UpdateKinematicEnvironment,this.kinematicUpdateArr[1]=s;for(let r=0;r<16;r++)this.kinematicUpdateArr[r+2]=this.tempMatrix.elements[r];this.worker.postMessage(this.kinematicUpdateArr)}else!this.useWorker&&this.engine&&this.engine.updateKinematicPlatform(s,this.tempMatrix)}}slide(e){this.initialized&&(this.useWorker&&this.worker?(this.requestArr[0]=li.Slide,e.toArray(this.requestArr,1),this.worker.postMessage(this.requestArr)):!this.useWorker&&this.engine&&this.engine.slide(e))}teleport(e){this.initialized&&(this.useWorker&&this.worker?(this.requestArr[0]=li.Teleport,e.toArray(this.requestArr,1),this.worker.postMessage(this.requestArr)):!this.useWorker&&this.engine&&this.engine.teleport(e))}requestHitTest(e,t){if(this.initialized){if(this.useWorker&&this.worker)this.requestArr[0]=li.ParabolicRaycast,e.toArray(this.requestArr,1),t.toArray(this.requestArr,4),this.worker.postMessage(this.requestArr);else if(!this.useWorker&&this.engine){const s=this.engine.parabolicRaycast(e,t),i=new Array(7).fill(NaN);i[0]=li.RaycastUpdate,s&&(s.point.toArray(i,1),s.face&&s.face.normal.toArray(i,4)),this.handleHitTestResult(i)}}}jump(){this.initialized&&(this.useWorker&&this.worker?this.worker.postMessage([li.Jump]):!this.useWorker&&this.engine&&this.engine.jump())}isInitialized(){return this.initialized}processEnvironment(e){e.updateMatrixWorld(!0),this.tempMatrix.copy(e.matrixWorld),this.tempMatrix.decompose(this.tempVec1,this.tempQuat,this.tempVec2),this.tempMatrix.compose(this.tempVec1,this.tempQuat,nb);const t=[];e.traverse(i=>{if(i.isMesh&&i.geometry){const r=i.geometry.clone();r.applyMatrix4(i.matrixWorld),t.push(r)}});const s=q_(t);return this.tempMatrix2.copy(this.tempMatrix).invert(),s.applyMatrix4(this.tempMatrix2),e.matrixWorld.copy(this.tempMatrix),{positions:s.attributes.position.array,indices:s.index.array,worldMatrix:this.tempMatrix.clone()}}handleWorkerMessage(e){if(e.data instanceof Array){const t=e.data[0];t===li.PositionUpdate?(this.targetPosition.fromArray(e.data,1),this.isGrounded=e.data[5]===1):t===li.RaycastUpdate&&this.handleHitTestResult(e.data)}}handleHitTestResult(e){!isNaN(e[1])&&!isNaN(e[2])&&!isNaN(e[3])?(this.tempVec1.fromArray(e,1),this.tempVec2.fromArray(e,4),this.hitTestTarget.position.copy(this.tempVec1),this.hitTestTarget.lookAt(this.tempVec1.add(this.tempVec2)),this.hitTestNormal.copy(this.tempVec2),this.hitTestTarget.visible=!0):this.hitTestTarget.visible=!1}}const ib=new Jt,hA=new w;class eS extends jB{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],s=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(s),this.setAttribute("position",new yt(e,3)),this.setAttribute("uv",new yt(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,s=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),s.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const s=new Dp(t,6,1);return this.setAttribute("instanceStart",new Kr(s,3,0)),this.setAttribute("instanceEnd",new Kr(s,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const s=new Dp(t,6,1);return this.setAttribute("instanceColorStart",new Kr(s,3,0)),this.setAttribute("instanceColorEnd",new Kr(s,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new __(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Jt);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),ib.setFromBufferAttribute(t),this.boundingBox.union(ib))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ps),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const s=this.boundingSphere.center;this.boundingBox.getCenter(s);let i=0;for(let r=0,o=e.count;r<o;r++)hA.fromBufferAttribute(e,r),i=Math.max(i,s.distanceToSquared(hA)),hA.fromBufferAttribute(t,r),i=Math.max(i,s.distanceToSquared(hA));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}}ht.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Be(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};gn.line={uniforms:jd.merge([ht.common,ht.fog,ht.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			float alpha = opacity;
			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};let tS=class extends Ds{constructor(e){super({type:"LineMaterial",uniforms:jd.clone(gn.line.uniforms),vertexShader:gn.line.vertexShader,fragmentShader:gn.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){e===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(e===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),e===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}};const Q0=new ns,rb=new w,ob=new w,Cn=new ns,bn=new ns,Rr=new ns,D0=new w,L0=new Je,wn=new ti,ab=new w,fA=new Jt,AA=new Ps,Qr=new ns;let Wr,Rl;function lb(n,e,t){return Qr.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),Qr.multiplyScalar(1/Qr.w),Qr.x=Rl/t.width,Qr.y=Rl/t.height,Qr.applyMatrix4(n.projectionMatrixInverse),Qr.multiplyScalar(1/Qr.w),Math.abs(Math.max(Qr.x,Qr.y))}function oG(n,e){const t=n.matrixWorld,s=n.geometry,i=s.attributes.instanceStart,r=s.attributes.instanceEnd,o=Math.min(s.instanceCount,i.count);for(let a=0,l=o;a<l;a++){wn.start.fromBufferAttribute(i,a),wn.end.fromBufferAttribute(r,a),wn.applyMatrix4(t);const c=new w,d=new w;Wr.distanceSqToSegment(wn.start,wn.end,d,c),d.distanceTo(c)<Rl*.5&&e.push({point:d,pointOnLine:c,distance:Wr.origin.distanceTo(d),object:n,face:null,faceIndex:a,uv:null,uv1:null})}}function aG(n,e,t){const s=e.projectionMatrix,r=n.material.resolution,o=n.matrixWorld,a=n.geometry,l=a.attributes.instanceStart,c=a.attributes.instanceEnd,d=Math.min(a.instanceCount,l.count),u=-e.near;Wr.at(1,Rr),Rr.w=1,Rr.applyMatrix4(e.matrixWorldInverse),Rr.applyMatrix4(s),Rr.multiplyScalar(1/Rr.w),Rr.x*=r.x/2,Rr.y*=r.y/2,Rr.z=0,D0.copy(Rr),L0.multiplyMatrices(e.matrixWorldInverse,o);for(let h=0,f=d;h<f;h++){if(Cn.fromBufferAttribute(l,h),bn.fromBufferAttribute(c,h),Cn.w=1,bn.w=1,Cn.applyMatrix4(L0),bn.applyMatrix4(L0),Cn.z>u&&bn.z>u)continue;if(Cn.z>u){const _=Cn.z-bn.z,I=(Cn.z-u)/_;Cn.lerp(bn,I)}else if(bn.z>u){const _=bn.z-Cn.z,I=(bn.z-u)/_;bn.lerp(Cn,I)}Cn.applyMatrix4(s),bn.applyMatrix4(s),Cn.multiplyScalar(1/Cn.w),bn.multiplyScalar(1/bn.w),Cn.x*=r.x/2,Cn.y*=r.y/2,bn.x*=r.x/2,bn.y*=r.y/2,wn.start.copy(Cn),wn.start.z=0,wn.end.copy(bn),wn.end.z=0;const p=wn.closestPointToPointParameter(D0,!0);wn.at(p,ab);const g=$t.lerp(Cn.z,bn.z,p),m=g>=-1&&g<=1,y=D0.distanceTo(ab)<Rl*.5;if(m&&y){wn.start.fromBufferAttribute(l,h),wn.end.fromBufferAttribute(c,h),wn.start.applyMatrix4(o),wn.end.applyMatrix4(o);const _=new w,I=new w;Wr.distanceSqToSegment(wn.start,wn.end,I,_),t.push({point:I,pointOnLine:_,distance:Wr.origin.distanceTo(I),object:n,face:null,faceIndex:h,uv:null,uv1:null})}}}class lG extends it{constructor(e=new eS,t=new tS({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,s=e.attributes.instanceEnd,i=new Float32Array(2*t.count);for(let o=0,a=0,l=t.count;o<l;o++,a+=2)rb.fromBufferAttribute(t,o),ob.fromBufferAttribute(s,o),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+rb.distanceTo(ob);const r=new Dp(i,2,1);return e.setAttribute("instanceDistanceStart",new Kr(r,1,0)),e.setAttribute("instanceDistanceEnd",new Kr(r,1,1)),this}raycast(e,t){const s=this.material.worldUnits,i=e.camera;i===null&&!s&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const r=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Wr=e.ray;const o=this.matrixWorld,a=this.geometry,l=this.material;Rl=l.linewidth+r,a.boundingSphere===null&&a.computeBoundingSphere(),AA.copy(a.boundingSphere).applyMatrix4(o);let c;if(s)c=Rl*.5;else{const u=Math.max(i.near,AA.distanceToPoint(Wr.origin));c=lb(i,u,l.resolution)}if(AA.radius+=c,Wr.intersectsSphere(AA)===!1)return;a.boundingBox===null&&a.computeBoundingBox(),fA.copy(a.boundingBox).applyMatrix4(o);let d;if(s)d=Rl*.5;else{const u=Math.max(i.near,fA.distanceToPoint(Wr.origin));d=lb(i,u,l.resolution)}fA.expandByScalar(d),Wr.intersectsBox(fA)!==!1&&(s?oG(this,t):aG(this,i,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(Q0),this.material.uniforms.resolution.value.set(Q0.z,Q0.w))}}class sS extends eS{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,s=new Float32Array(2*t);for(let i=0;i<t;i+=3)s[2*i]=e[i],s[2*i+1]=e[i+1],s[2*i+2]=e[i+2],s[2*i+3]=e[i+3],s[2*i+4]=e[i+4],s[2*i+5]=e[i+5];return super.setPositions(s),this}setColors(e){const t=e.length-3,s=new Float32Array(2*t);for(let i=0;i<t;i+=3)s[2*i]=e[i],s[2*i+1]=e[i+1],s[2*i+2]=e[i+2],s[2*i+3]=e[i+3],s[2*i+4]=e[i+4],s[2*i+5]=e[i+5];return super.setColors(s),this}setFromPoints(e){const t=e.length-1,s=new Float32Array(6*t);for(let i=0;i<t;i++)s[6*i]=e[i].x,s[6*i+1]=e[i].y,s[6*i+2]=e[i].z||0,s[6*i+3]=e[i+1].x,s[6*i+4]=e[i+1].y,s[6*i+5]=e[i+1].z||0;return super.setPositions(s),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class cG extends lG{constructor(e=new sS,t=new tS({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}ht.linee={linewidth:{value:1},color:{value:new st(16777215)},startPoint:{value:new w},endPoint:{value:new w}};gn.linee={uniforms:jd.merge([ht.common,ht.fog,ht.linee]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec3 startPoint;
		uniform vec3 endPoint;
		varying float vDistanceAlpha;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		varying vec4 worldPos;
		varying vec3 worldStart;
		varying vec3 worldEnd;

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );


			worldStart = start.xyz;
			worldEnd = end.xyz;

			vec3 currentPosition = (position.y < 0.5) ? instanceStart : instanceEnd;
    	float distanceToStart = length(currentPosition - startPoint);
			float startAlpha = smoothstep(0.0, 0.8, distanceToStart);
    	float distanceToEnd = length(currentPosition - endPoint);
			float endAlpha = smoothstep(0.5, 2.0, distanceToEnd);
    	// Compute vDistanceAlpha using smoothstep
    	vDistanceAlpha = min(startAlpha, endAlpha);
			

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;
			dir = normalize( dir );

			vec3 worldDir = normalize( end.xyz - start.xyz );
			vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
			vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
			vec3 worldFwd = cross( worldDir, worldUp );
			worldPos = position.y < 0.5 ? start: end;

			// height offset
			float hw = linewidth * 0.5;
			worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

			// don't extend the line if we're rendering dashes because we
			// won't be rendering the endcaps

			// cap extension
			worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

			// add width to the box
			worldPos.xyz += worldFwd * hw;

			// endcaps
			if ( position.y > 1.0 || position.y < 0.0 ) {

				worldPos.xyz -= worldFwd * 2.0 * hw;

			}


			// project the worldpos
			vec4 clip = projectionMatrix * worldPos;

			// shift the depth of the projected points so the line
			// segments overlap neatly
			vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
			clip.z = clipPose.z * clip.w;

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform float linewidth;

		varying vec4 worldPos;
		varying vec3 worldStart;
		varying vec3 worldEnd;
		varying float vDistanceAlpha;

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			// Find the closest points on the view ray and the line segment
			vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
			vec3 lineDir = worldEnd - worldStart;
			vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

			vec3 p1 = worldStart + lineDir * params.x;
			vec3 p2 = rayEnd * params.y;
			vec3 delta = p1 - p2;
			float len = length( delta );
			float norm = len / linewidth;

			if ( norm > 0.5 ) {
				discard;
			}

			#include <logdepthbuf_fragment>

			gl_FragColor = vec4( 1.0, 1.0, 1.0, vDistanceAlpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class dG extends Ds{constructor(e){super({type:"LineMaterial",uniforms:jd.clone(gn.linee.uniforms),vertexShader:gn.linee.vertexShader,fragmentShader:gn.linee.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this._worldUnits=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get worldUnits(){return this._worldUnits}set worldUnits(e){this._worldUnits=!!e}}const cb={valid:new st(16777215),invalid:new st(15549239)},db={valid:new w(1,1,1),invalid:new w(.5,.5,.5)};class KA extends Ss({},{rayGravity:{type:de.Float32,default:-.4},locomotor:{type:de.Object,default:void 0},microGestureControlsEnabled:{type:de.Boolean,default:!1}}){constructor(){super(...arguments),this.rayOrigin=new w,this.rayDirection=new w,this.targetValid=!1,this.teleportWasActive=!1}init(){this.locomotor=this.config.locomotor.value,this.markerMat=new Nt,this.teleportMarker=new it(new ql(.12,.15).translate(0,0,.02),this.markerMat),this.scene.add(this.teleportMarker),this.markers=[];for(let s=0;s<20;s++)this.markers.push(new w(0,s,0));const e=new sS().setFromPoints(this.markers),t=new dG({color:16777215,linewidth:.01,worldUnits:!0,vertexColors:!0,alphaToCoverage:!1,transparent:!0});this.line=new cG(e,t),this.line.frustumCulled=!1,this.scene.add(this.line),this.line.visible=!1,this.teleportMarker.visible=!1}destroy(){this.teleportMarker.removeFromParent(),this.line.removeFromParent()}update(){var e,t;const s=this.locomotor.hitTestTarget,i=this.locomotor.hitTestNormal;this.targetValid=s.visible&&i.y>.7;const r=this.input.gamepads.right,o=this.input.multiPointers.right.getRayBusy();let a=!!r&&!o;const l=!r||o||r!==this.activeInput||this.input.isPrimary("hand","right")&&!this.config.microGestureControlsEnabled.value;if(this.activeInput=r,a&&(this.input.isPrimary("hand","right")?this.config.microGestureControlsEnabled.value?a=!(!((e=this.input.gamepads.right)===null||e===void 0)&&e.getButtonDownByIdx(9)):a=!1:a=((t=this.input.gamepads.right)===null||t===void 0?void 0:t.getAxesState(jr.Thumbstick))===tn.Down),a){this.teleportWasActive||(this.line.visible=!0,this.teleportMarker.visible=!0),this.player.raySpaces.right.getWorldPosition(this.rayOrigin),this.player.raySpaces.right.getWorldDirection(this.rayDirection);const c=Math.max(this.player.position.y,this.teleportMarker.position.y);dI(this.rayOrigin,this.rayDirection,c,this.config.rayGravity.value,this.markers,1),this.line.geometry.setFromPoints(this.markers),this.line.material.uniforms.startPoint.value.copy(this.markers[0]),this.line.material.uniforms.endPoint.value.copy(this.markers[this.markers.length-1]),this.locomotor.requestHitTest(this.rayOrigin,this.rayDirection),this.teleportMarker.position.lerp(s.position,.2),this.teleportMarker.quaternion.slerp(s.quaternion,.2),this.markerMat.color.lerp(this.targetValid?cb.valid:cb.invalid,.2),this.teleportMarker.scale.lerp(this.targetValid?db.valid:db.invalid,.2)}else this.teleportWasActive&&(!l&&this.targetValid&&this.locomotor.teleport(this.teleportMarker.position),this.line.visible=!1,this.teleportMarker.visible=!1);this.teleportWasActive=a}}class ub extends Qt{constructor(e=1,t=1,s=2,i=4,r=1,o=32,a=1,l=!1,c=0,d=Math.PI*2){super();const u=s/2,h=[],f=Math.atan2(t-e,s);for(let p=0;p<=i;p++){const g=p/i,m=-Math.PI/2+g*(Math.PI/2+f),y=t-r+r*Math.cos(m),_=-u+r+r*Math.sin(m);h.push(new Be(y,_))}for(let p=1;p<a;p++){const g=p/a,m=-u+r+g*(u-r-(-u+r)),y=$t.lerp(t,e,g);h.push(new Be(y,m))}for(let p=0;p<=i;p++){const g=p/i,m=f+g*(Math.PI/2),y=e-r+r*Math.cos(m),_=u-r+r*Math.sin(m);h.push(new Be(y,_))}const A=new Cg(h,o,c,d);if(l)this.copy(A);else{const p=new Hl(e-r,o,c,d);p.rotateX(-Math.PI/2),p.translate(0,u,0);const g=new Hl(t-r,o,c,d);g.rotateX(Math.PI/2),g.translate(0,-u,0);const m=q_([A,p,g]);this.copy(m)}this.computeVertexNormals()}}const hb=new w(1,1,1);var Ql;(function(n){n[n.SnapTurn=1]="SnapTurn",n[n.SmoothTurn=2]="SmoothTurn"})(Ql||(Ql={}));class jA extends Ss({},{turningMethod:{type:de.Int8,default:Ql.SnapTurn},turningAngle:{type:de.Float32,default:45},turningSpeed:{type:de.Float32,default:180},microGestureControlsEnabled:{type:de.Boolean,default:!1}}){constructor(){super(...arguments),this.turnSignals=new Tt,this.leftSignal=new it(new ub(.004,.012,.022,4,.004).rotateZ(Math.PI/2)),this.rightSignal=new it(new ub(.004,.012,.022,4,.004).rotateZ(-Math.PI/2)),this.playerHeadPosition=new w}init(){this.turnSignals.add(this.leftSignal,this.rightSignal),this.leftSignal.position.set(-.015,.02,0),this.rightSignal.position.set(.055,.02,0),this.cleanupFuncs.push(this.config.turningMethod.subscribe(e=>{e===Ql.SmoothTurn?this.turnSignals.removeFromParent():this.player.raySpaces.right.add(this.turnSignals)}))}destroy(){super.destroy(),this.turnSignals.removeFromParent()}update(e){this.config.turningMethod.value===Ql.SmoothTurn?this.updateSmooth(e):this.updateSnap(e)}updateSmooth(e){var t;const s=(t=this.input.gamepads.right)===null||t===void 0?void 0:t.getAxesState(jr.Thumbstick),i=this.config.turningSpeed.value/180*Math.PI;s===tn.Left?this.player.rotateY(i*e):s===tn.Right&&this.player.rotateY(-i*e)}updateSnap(e){let t=!1,s=!1;const i=this.input.gamepads.right,r=this.config.turningAngle.value/180*Math.PI;if(this.input.isPrimary("hand","right")){const o=this.config.microGestureControlsEnabled.value;this.turnSignals.visible=!!o,o&&(this.player.head.getWorldPosition(this.playerHeadPosition),this.turnSignals.lookAt(this.playerHeadPosition),t=i?.getButtonDownByIdx(5)||!1,s=i?.getButtonDownByIdx(6)||!1)}else this.turnSignals.visible=!1,t=i?.getAxesEnteringLeft(jr.Thumbstick)||!1,s=i?.getAxesEnteringRight(jr.Thumbstick)||!1;t?(this.player.rotateY(r),this.turnSignals.visible&&this.leftSignal.scale.setScalar(1.5)):s&&(this.player.rotateY(-r),this.turnSignals.visible&&this.rightSignal.scale.setScalar(1.5)),this.turnSignals.visible&&(this.leftSignal.scale.lerp(hb,5*e),this.rightSignal.scale.lerp(hb,5*e))}}const ml=Es("LocomotionEnvironment",{type:{type:de.Enum,enum:Ei,default:Ei.STATIC},_envHandle:{type:de.Float32,default:0},_initialized:{type:de.Boolean,default:!1}},"Locomotion environment component that holds the environment mesh group");class nS extends Ss({envs:{required:[ml]}},{initialPlayerPosition:{type:de.Vec3,default:[0,0,0]},useWorker:{type:de.Boolean,default:!0},comfortAssist:{type:de.Float32,default:.5},slidingSpeed:{type:de.Float32,default:5},turningMethod:{type:de.Int8,default:Ql.SnapTurn},turningAngle:{type:de.Float32,default:45},turningSpeed:{type:de.Float32,default:180},rayGravity:{type:de.Float32,default:-.4},maxDropDistance:{type:de.Float32,default:5},jumpHeight:{type:de.Float32,default:1.5},jumpCooldown:{type:de.Float32,default:.1},jumpButton:{type:de.String,default:jr.A_Button}}){constructor(){super(...arguments),this.microGestureControlsEnabled=!1}init(){this.world.registerSystem(jA,{configData:{turningMethod:this.config.turningMethod.value,turningAngle:this.config.turningAngle.value,turningSpeed:this.config.turningSpeed.value,microGestureControlsEnabled:!1}}),this.turnSystem=this.world.getSystem(jA),this.initLocomotor().then(()=>{this.cleanupFuncs.push(this.config.rayGravity.subscribe(e=>{this.locomotor.updateConfig({rayGravity:e}),this.teleportSystem&&(this.teleportSystem.config.rayGravity.value=e)}),this.config.slidingSpeed.subscribe(e=>{this.slideSystem&&(this.slideSystem.config.maxSpeed.value=e)}),this.config.comfortAssist.subscribe(e=>{this.slideSystem&&(this.slideSystem.config.comfortAssist.value=e)}),this.config.turningMethod.subscribe(e=>{this.turnSystem.config.turningMethod.value=e}),this.config.turningAngle.subscribe(e=>{this.turnSystem.config.turningAngle.value=e}),this.config.turningSpeed.subscribe(e=>{this.turnSystem.config.turningSpeed.value=e}),this.config.maxDropDistance.subscribe(e=>{this.locomotor.updateConfig({maxDropDistance:e})}),this.config.jumpHeight.subscribe(e=>{this.locomotor.updateConfig({jumpHeight:e})}),this.config.jumpCooldown.subscribe(e=>{this.locomotor.updateConfig({jumpCooldown:e})}),this.config.jumpButton.subscribe(e=>{this.slideSystem&&(this.slideSystem.config.jumpButton.value=e)}))}),this.queries.envs.subscribe("qualify",e=>{this.addEnvironmentToEngine(e)}),this.queries.envs.subscribe("disqualify",e=>{this.removeEnvironmentFromEngine(e)})}async initLocomotor(){const e={initialPlayerPosition:new w().fromArray(this.config.initialPlayerPosition.value),rayGravity:this.config.rayGravity.value,maxDropDistance:this.config.maxDropDistance.value,jumpHeight:this.config.jumpHeight.value,jumpCooldown:this.config.jumpCooldown.value,useWorker:this.config.useWorker.value};this.locomotor=new $2(e),await this.locomotor.initialize(),this.world.registerSystem(KA,{configData:{rayGravity:this.config.rayGravity.value,locomotor:this.locomotor,microGestureControlsEnabled:!1}}),this.world.registerSystem(JA,{configData:{maxSpeed:this.config.slidingSpeed.value,comfortAssist:this.config.comfortAssist.value,jumpButton:this.config.jumpButton.value,locomotor:this.locomotor}}),this.teleportSystem=this.world.getSystem(KA),this.slideSystem=this.world.getSystem(JA);for(const t of this.queries.envs.entities)this.addEnvironmentToEngine(t)}addEnvironmentToEngine(e){if(e.getValue(ml,"_initialized"))return;const t=e.object3D;if(!t?.isObject3D)return;const s=e.getValue(ml,"type");if(s!==null)try{const i=this.locomotor.addEnvironment(t,s);e.setValue(ml,"_envHandle",i),e.setValue(ml,"_initialized",!0)}catch(i){console.error("Failed to add environment to locomotion engine:",i)}}removeEnvironmentFromEngine(e){const t=e.getValue(ml,"_envHandle");t!==0&&t!==null&&this.locomotor.removeEnvironment(t)}update(e){if(this.locomotor.updateKinematicEnvironments(),this.locomotor.update(e),this.player.position.copy(this.locomotor.position),this.input.isPrimary("hand","right")){const t=this.input.gamepads.right;t&&(t.getButtonDownByIdx(7)?this.microGestureControlsEnabled||(this.microGestureControlsEnabled=!0,this.turnSystem&&(this.turnSystem.config.microGestureControlsEnabled.value=!0),this.teleportSystem&&(this.teleportSystem.config.microGestureControlsEnabled.value=!0)):t.getButtonDownByIdx(8)&&this.microGestureControlsEnabled&&(this.microGestureControlsEnabled=!1,this.turnSystem&&(this.turnSystem.config.microGestureControlsEnabled.value=!1),this.teleportSystem&&(this.teleportSystem.config.microGestureControlsEnabled.value=!1)))}}destroy(){super.destroy(),this.locomotor&&this.locomotor.terminate(),this.world.unregisterSystem(jA),this.teleportSystem&&this.world.unregisterSystem(KA),this.slideSystem&&this.world.unregisterSystem(JA),this.cleanupFuncs.forEach(e=>e())}}const Fa={Static:"STATIC",Dynamic:"DYNAMIC",Kinematic:"KINEMATIC"},iS=0,rS=0,oS=1,ln=Es("PhysicsBody",{state:{type:de.Enum,enum:Fa,default:Fa.Dynamic},linearDamping:{type:de.Float32,default:0},angularDamping:{type:de.Float32,default:0},gravityFactor:{type:de.Float32,default:1},centerOfMass:{type:de.Vec3,default:[1/0,1/0,1/0]},_linearVelocity:{type:de.Vec3,default:[0,0,0]},_angularVelocity:{type:de.Vec3,default:[0,0,0]},_engineBody:{type:de.Float64,default:0},_engineOffset:{type:de.Float64,default:0}},"Component to define physics behavior of an entity."),Nn={Sphere:"Sphere",Box:"Box",Cylinder:"Cylinder",Capsules:"Capsules",ConvexHull:"ConvexHull",TriMesh:"TriMesh",Auto:"Auto"},xs=Es("PhysicsShape",{shape:{type:de.Enum,enum:Nn,default:Nn.Auto},dimensions:{type:de.Vec3,default:[0,0,0]},density:{type:de.Float32,default:1},restitution:{type:de.Float32,default:0},friction:{type:de.Float32,default:.5},_engineShape:{type:de.Float64,default:0}},"Component to define physics shape of an entity."),fb=new w,uG=new w,Ab=new Ge,Ru=new Je,pb=new Je,hG=new w(1,1,1);function fG(n){var e,t,s,i,r,o,a,l,c;const d=n instanceof it?n.geometry:Iy(n);if(d instanceof Un){const u=(e=d.parameters.radius)!==null&&e!==void 0?e:1;return{shapeType:Nn.Sphere,dimensions:[u,0,0]}}if(d instanceof ei){const u=(t=d.parameters.width)!==null&&t!==void 0?t:1,h=(s=d.parameters.height)!==null&&s!==void 0?s:1,f=(i=d.parameters.depth)!==null&&i!==void 0?i:1;return{shapeType:Nn.Box,dimensions:[u,h,f]}}if(d instanceof Us){const u=(r=d.parameters.width)!==null&&r!==void 0?r:1,h=(o=d.parameters.height)!==null&&o!==void 0?o:1;return{shapeType:Nn.Box,dimensions:[u,h,.01]}}if(d instanceof Zi){const u=(a=d.parameters.radiusTop)!==null&&a!==void 0?a:1,h=(l=d.parameters.radiusBottom)!==null&&l!==void 0?l:1;u!==h&&console.warn("PhysicsSystem: detected cylinder with different radiusTop and radiusBottom. Using average radius for the physics shape.");const f=(c=d.parameters.height)!==null&&c!==void 0?c:1,A=(u+h)/2;return{shapeType:Nn.Cylinder,dimensions:[A,f,0]}}return d instanceof Qt?(console.log(`PhysicsSystem: BufferGeometry detected for object ${n}, using ConvexHull.`),{shapeType:Nn.ConvexHull,dimensions:null}):(console.warn(`PhysicsSystem: Unknown geometry type for object ${n}, falling back to Box`),{shapeType:Nn.Box,dimensions:AG(n)})}function AG(n){try{const e=new Jt().setFromObject(n);if(e.isEmpty())console.warn("PhysicsSystem: Object3D bounding box is empty, using default dimensions");else{const t=new w;e.getSize(t);const s=[Math.max(t.x,.01),Math.max(t.y,.01),Math.max(t.z,.01)];return console.log(`PhysicsSystem: Calculated Object3D bounds: [${s.join(", ")}]`),s}}catch(e){console.warn("PhysicsSystem: Failed to calculate Object3D bounds:",e)}return[1,1,1]}function Iy(n){n.updateMatrixWorld(!0),Ru.copy(n.matrixWorld),Ru.decompose(fb,Ab,uG),Ru.compose(fb,Ab,hG);const e=[];n.traverse(s=>{if(s.isMesh&&s.geometry){const i=s.geometry.clone();i.applyMatrix4(s.matrixWorld),e.push(i)}});const t=q_(e);return pb.copy(Ru).invert(),t.applyMatrix4(pb),n.matrixWorld.copy(Ru),t}const Gr=Es("PhysicsManipulation",{force:{type:de.Vec3,default:[0,0,0]},linearVelocity:{type:de.Vec3,default:[0,0,0]},angularVelocity:{type:de.Vec3,default:[0,0,0]}},"Component to apply physics manipulations to an entity.");class aS extends Ss({physicsEntities:{required:[ln,xs]},manipluatedEntities:{required:[ln,Gr],where:[Nw(ln,"_engineBody",0)]}},{gravity:{type:de.Vec3,default:[0,-9.81,0]}}){constructor(){super(...arguments),this.scaleBuffer=new w,this.matrixBuffer=new Je}async init(){const{default:e}=await Rd(async()=>{const{default:t}=await import("./HavokPhysics_es-D03Ox1kN.js");return{default:t}},[]);this.havok=await e(),this.havokWorld=this.havok.HP_World_Create()[1],this.havok.HP_World_SetGravity(this.havokWorld,this.config.gravity.value),this.queries.physicsEntities.subscribe("disqualify",t=>{if(!this.havok||!this.havokWorld)return;const s=t.getValue(xs,"_engineShape");s&&this.havok.HP_Shape_Release([BigInt(s)]);const i=t.getValue(ln,"_engineBody");i&&this.havok.HP_World_RemoveBody(this.havokWorld,[BigInt(i)])})}update(e){this.havok&&this.havokWorld&&(this.havok.HP_World_SetIdealStepTime(this.havokWorld,e),this.havok.HP_World_Step(this.havokWorld,e),this.bodyBuffer=this.havok.HP_World_GetBodyBuffer(this.havokWorld)[1]),this.queries.physicsEntities.entities.forEach(t=>{var s,i,r,o;if(!t.object3D||!this.havok||!this.havokWorld)return;const a=t.getValue(xs,"_engineShape"),l=t.getValue(ln,"_engineBody");if(a){if(!l&&a){const c=this.createBody([BigInt(a)],t.object3D.position,t.object3D.quaternion,t.getValue(ln,"state"),(s=t.getValue(ln,"linearDamping"))!==null&&s!==void 0?s:iS,(i=t.getValue(ln,"angularDamping"))!==null&&i!==void 0?i:rS,(r=t.getValue(ln,"gravityFactor"))!==null&&r!==void 0?r:oS,t.getVectorView(ln,"centerOfMass"));c&&(t.setValue(ln,"_engineBody",Number(c.createdBody)),t.setValue(ln,"_engineOffset",c.offset))}else if(l&&this.bodyBuffer){const c=this.havok.HP_Body_GetLinearVelocity([BigInt(l)]),d=this.havok.HP_Body_GetAngularVelocity([BigInt(l)]),u=t.getVectorView(ln,"_linearVelocity"),h=t.getVectorView(ln,"_angularVelocity");u.set(c[1]),h.set(d[1]);const f=t.object3D.position,A=t.object3D.quaternion;if(t.hasComponent(va)){this.havok.HP_Body_SetTargetQTransform([BigInt(l)],[[f.x,f.y,f.z],[A.x,A.y,A.z,A.w]]);return}const p=(o=t.getValue(ln,"_engineOffset"))!==null&&o!==void 0?o:0,g=new Float32Array(this.havok.HEAPU8.buffer,this.bodyBuffer+p,16);for(let m=0;m<15;m++)(m&3)!=3&&(this.matrixBuffer.elements[m]=g[m]);this.matrixBuffer.elements[15]=1,this.matrixBuffer.decompose(f,A,this.scaleBuffer)}}else{const c=t.getVectorView(xs,"dimensions");this.createHavokShapes(t,c);return}}),this.queries.manipluatedEntities.entities.forEach(t=>{const s=t.getValue(ln,"_engineBody");if(!(!t.object3D||!this.havok||!this.havokWorld||!s)){if(!t.getVectorView(Gr,"force").every(i=>i===0)){const i=t.getVectorView(Gr,"force");this.havok.HP_Body_ApplyImpulse([BigInt(s)],[t.object3D.position.x,t.object3D.position.y,t.object3D.position.z],[i[0]*e,i[1]*e,i[2]*e])}if(!t.getVectorView(Gr,"linearVelocity").every(i=>i===0)){const i=t.getVectorView(Gr,"linearVelocity");this.havok.HP_Body_SetLinearVelocity([BigInt(s)],[i[0],i[1],i[2]])}if(!t.getVectorView(Gr,"angularVelocity").every(i=>i===0)){const i=t.getVectorView(Gr,"angularVelocity");this.havok.HP_Body_SetAngularVelocity([BigInt(s)],[i[0],i[1],i[2]])}t.removeComponent(Gr)}})}createBody(e,t,s,i,r,o,a,l){if(!this.havok||!this.havokWorld)return;const c=this.havok.HP_Body_Create()[1];this.havok.HP_Body_SetShape(c,e),this.havok.HP_Body_SetQTransform(c,[[t.x,t.y,t.z],[s.x,s.y,s.z,s.w]]),this.havok.HP_Body_SetLinearDamping(c,r),this.havok.HP_Body_SetAngularDamping(c,o),this.havok.HP_Body_SetGravityFactor(c,a);const d=this.havok.HP_Shape_BuildMassProperties(e),u=d[0]==this.havok.Result.RESULT_OK?d[1]:[[0,0,0],1,[1,1,1],[0,0,0,1]];l.every(f=>f==1/0)||(u[0]=[l[0],l[1],l[2]]),this.havok.HP_Body_SetMassProperties(c,u);let h;switch(i){case Fa.Static:h=this.havok.MotionType.STATIC;break;case Fa.Kinematic:h=this.havok.MotionType.KINEMATIC;break;case Fa.Dynamic:default:h=this.havok.MotionType.DYNAMIC}return this.havok.HP_Body_SetMotionType(c,h),this.havok.HP_World_AddBody(this.havokWorld,c,!1),{offset:this.havok.HP_Body_GetWorldTransformOffset(c)[1],createdBody:c}}createHavokShapes(e,t){var s,i,r,o,a,l,c,d,u,h,f,A,p,g,m;if(!e.object3D){console.warn("PhysicsSystem: No object3D attached to entity",e.index);return}let y=e.getValue(xs,"shape");if(y===Nn.Auto){const _=fG(e.object3D);e.setValue(xs,"shape",_.shapeType),y=_.shapeType,_.dimensions&&t.set(_.dimensions)}switch(y){case Nn.Sphere:{const _=this.createBallShape(t[0],(s=e.getValue(xs,"density"))!==null&&s!==void 0?s:1,(i=e.getValue(xs,"restitution"))!==null&&i!==void 0?i:0,(r=e.getValue(xs,"friction"))!==null&&r!==void 0?r:.5);_?xs.data._engineShape[e.index]=Number(_):console.warn("PhysicsSystem: Failed to create ball shape for entity",e.index);break}case Nn.Box:{const _=this.createBoxShape(t,(o=e.getValue(xs,"density"))!==null&&o!==void 0?o:1,(a=e.getValue(xs,"restitution"))!==null&&a!==void 0?a:0,(l=e.getValue(xs,"friction"))!==null&&l!==void 0?l:.5);_?xs.data._engineShape[e.index]=Number(_):console.warn("PhysicsSystem: Failed to create box shape for entity",e.index);break}case Nn.Cylinder:{const _=this.createCylinderShape(t[0],t[1],(c=e.getValue(xs,"density"))!==null&&c!==void 0?c:1,(d=e.getValue(xs,"restitution"))!==null&&d!==void 0?d:0,(u=e.getValue(xs,"friction"))!==null&&u!==void 0?u:.5);_?xs.data._engineShape[e.index]=Number(_):console.warn("PhysicsSystem: Failed to create cylinder shape for entity",e.index);break}case Nn.ConvexHull:{const _=this.createConvexHullShape(e.object3D,(h=e.getValue(xs,"density"))!==null&&h!==void 0?h:1,(f=e.getValue(xs,"restitution"))!==null&&f!==void 0?f:0,(A=e.getValue(xs,"friction"))!==null&&A!==void 0?A:.5);_?xs.data._engineShape[e.index]=Number(_):console.warn("PhysicsSystem: Failed to create convex hull shape for entity",e.index);break}case Nn.TriMesh:{const _=this.createTriMeshShape(e.object3D,(p=e.getValue(xs,"density"))!==null&&p!==void 0?p:1,(g=e.getValue(xs,"restitution"))!==null&&g!==void 0?g:0,(m=e.getValue(xs,"friction"))!==null&&m!==void 0?m:.5);_?xs.data._engineShape[e.index]=Number(_):console.warn("PhysicsSystem: Failed to create tri-mesh shape for entity",e.index);break}}}createBallShape(e,t,s,i){if(!this.havok){console.warn("PhysicsSystem: Cannot create ball shape - Havok physics engine not initialized");return}const r=this.havok.HP_Shape_CreateSphere([0,0,0],e)[1];return this.havok.HP_Shape_SetDensity(r,t),this.havok.HP_Shape_SetMaterial(r,[i,i,s,this.havok.MaterialCombine.MINIMUM,this.havok.MaterialCombine.MAXIMUM]),r}createBoxShape(e,t,s,i){if(!this.havok){console.warn("PhysicsSystem: Cannot create box shape - Havok physics engine not initialized");return}const r=this.havok.HP_Shape_CreateBox([0,0,0],[0,0,0,1],[e[0],e[1],e[2]])[1];return this.havok.HP_Shape_SetDensity(r,t),this.havok.HP_Shape_SetMaterial(r,[i,i,s,this.havok.MaterialCombine.MINIMUM,this.havok.MaterialCombine.MAXIMUM]),r}createCylinderShape(e,t,s,i,r){if(!this.havok){console.warn("PhysicsSystem: Cannot create cylinder shape - Havok physics engine not initialized");return}const o=this.havok.HP_Shape_CreateCylinder([0,0,0],[0,t,0],e)[1];return this.havok.HP_Shape_SetDensity(o,s),this.havok.HP_Shape_SetMaterial(o,[r,r,i,this.havok.MaterialCombine.MINIMUM,this.havok.MaterialCombine.MAXIMUM]),o}createConvexHullShape(e,t,s,i){if(!this.havok){console.warn("PhysicsSystem: Cannot create convex hull shape - Havok physics engine not initialized");return}const r=e instanceof it?e.geometry:Iy(e),o=this.getVertices(r.attributes.position.array);if(!o){console.warn("PhysicsSystem: Failed to get vertices for convex hull shape with object3D name "+e.name+" &id "+e.id);return}const a=this.havok.HP_Shape_CreateConvexHull(o.offset,o.numObjects/3)[1];return this.havok._free(o.offset),this.havok.HP_Shape_SetDensity(a,t),this.havok.HP_Shape_SetMaterial(a,[i,i,s,this.havok.MaterialCombine.MINIMUM,this.havok.MaterialCombine.MAXIMUM]),a}createTriMeshShape(e,t,s,i){if(!this.havok){console.warn("PhysicsSystem: Cannot create tri-mesh shape - Havok physics engine not initialized");return}const r=e instanceof it?e.geometry:Iy(e),o=this.getVertices(r.attributes.position.array),a=this.getIndices(r.index.array);if(!o||!a){o||console.warn("PhysicsSystem: Failed to get vertices for tri-mesh shape with object3D name "+e.name+" &id "+e.id),a||console.warn("PhysicsSystem: Failed to get indices for tri-mesh shape with object3D name "+e.name+" &id "+e.id);return}const l=this.havok.HP_Shape_CreateMesh(o.offset,o.numObjects/3,a.offset,a.numObjects/3)[1];return this.havok._free(o.offset),this.havok._free(a.offset),this.havok.HP_Shape_SetDensity(l,t),this.havok.HP_Shape_SetMaterial(l,[i,i,s,this.havok.MaterialCombine.MINIMUM,this.havok.MaterialCombine.MAXIMUM]),l}getVertices(e){const s=e.length*4,i=this.havok._malloc(s),r=new Float32Array(this.havok.HEAPU8.buffer,i,e.length);for(let o=0;o<e.length;o++)r[o]=e[o];return{offset:i,numObjects:e.length}}getIndices(e){const s=e.length*4,i=this.havok._malloc(s),r=new Int32Array(this.havok.HEAPU8.buffer,i,e.length);for(let o=0;o<e.length;o++)r[o]=e[o];return{offset:i,numObjects:e.length}}}const lh=Es("XRAnchor",{attached:{type:de.Boolean,default:!1}},"Component for anchoring objects in the scene"),Gs=Es("XRMesh",{_mesh:{type:de.Object,default:void 0},isBounded3D:{type:de.Boolean,default:!1},semanticLabel:{type:de.String,default:""},min:{type:de.Vec3,default:[0,0,0]},max:{type:de.Vec3,default:[0,0,0]},dimensions:{type:de.Vec3,default:[0,0,0]}},"Component for managing 3D meshes in the scene"),fd=Es("XRPlane",{_plane:{type:de.Object,default:void 0}},"Component for managing 3D planes in the scene");class uI extends Ss({planeEntities:{required:[fd]},meshEntities:{required:[Gs]},anchoredEntities:{required:[lh]}},{showWireFrame:{type:de.Boolean,default:!1}}){constructor(){super(...arguments),this.anchorRequested=!1,this.currentPlanes=new Map,this.currentMeshes=new Map,this.anchoredGroup=new Tt,this.matrixBuffer=new Je}init(){this.xrManager.addEventListener("sessionstart",async()=>{this.updateEnabledFeatures(this.xrManager.getSession())}),this.world.createTransformEntity(this.anchoredGroup),this.scene.add(this.anchoredGroup),this.config.showWireFrame.subscribe(e=>{this.queries.planeEntities.entities.forEach(t=>{const s=t.object3D;s instanceof it&&(s.material.visible=e)}),this.queries.meshEntities.entities.forEach(t=>{const s=t.object3D;s instanceof it&&(s.material.visible=e)})})}update(e,t){var s;const i=this.xrFrame,r=i?.detectedPlanes,o=i?.detectedMeshes,a=this.xrManager.getReferenceSpace();if(this.planeFeatureEnabled&&this.updatePlanes(r,a),this.meshFeatureEnabled&&this.updateMeshes(o,a),this.anchorFeatureEnabled&&this.xrAnchor===void 0&&!this.anchorRequested&&this.createAnchor(a),this.xrAnchor&&a){this.updateAnchoredObject();const l=(s=this.xrManager.getFrame())===null||s===void 0?void 0:s.getPose(this.xrAnchor.anchorSpace,a);l&&(this.matrixBuffer.fromArray(l.transform.matrix),this.matrixBuffer.decompose(this.anchoredGroup.position,this.anchoredGroup.quaternion,this.anchoredGroup.scale))}}updatePlanes(e,t){this.currentPlanes.clear(),this.queries.planeEntities.entities.forEach(s=>{e?.has(s.getValue(fd,"_plane"))?this.currentPlanes.set(s.getValue(fd,"_plane"),s):s.destroy()}),e&&e.forEach(s=>{var i;if(t!=null){const r=this.xrManager.getFrame().getPose(s.planeSpace,t);if(!r)return;this.matrixBuffer.fromArray(r.transform.matrix);const o=s.polygon;let a=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(const p of o)a=Math.min(a,p.x),l=Math.max(l,p.x),c=Math.min(c,p.z),d=Math.max(d,p.z);const u=l-a,h=d-c,f=new ei(u,.01,h),A=new Nt({color:16777215*Math.random(),wireframe:!0,visible:this.config.showWireFrame.value});if(this.currentPlanes.has(s)===!1){const p=new it(f,A);p.position.setFromMatrixPosition(this.matrixBuffer),p.quaternion.setFromRotationMatrix(this.matrixBuffer),this.world.createTransformEntity(p).addComponent(fd,{_plane:s})}else{const p=(i=this.currentPlanes.get(s))===null||i===void 0?void 0:i.object3D;p?.position.setFromMatrixPosition(this.matrixBuffer),p?.quaternion.setFromRotationMatrix(this.matrixBuffer)}}})}updateMeshes(e,t){this.currentMeshes.clear(),this.queries.meshEntities.entities.forEach(s=>{e?.has(s.getValue(Gs,"_mesh"))?this.currentMeshes.set(s.getValue(Gs,"_mesh"),s):s.destroy()}),e&&e.forEach(s=>{var i;if(t!=null){const r=this.xrManager.getFrame().getPose(s.meshSpace,t);if(!r)return;this.matrixBuffer.fromArray(r.transform.matrix);const o=new Qt;o.setAttribute("position",new rs(s.vertices,3)),o.setIndex(new rs(s.indices,1));const a=new Nt({color:16777215*Math.random(),wireframe:!0,visible:this.config.showWireFrame.value});if(this.currentMeshes.has(s)===!1){const l=new it(o,a),c=this.world.createTransformEntity(l);if(l.position.setFromMatrixPosition(this.matrixBuffer),l.quaternion.setFromRotationMatrix(this.matrixBuffer),s.semanticLabel==="global mesh")c.addComponent(Gs,{_mesh:s,isBounded3D:!1});else{const{minEntry:d,maxEntry:u}=this.findMinMaxEntries(this.flatToVec3Array(s.vertices));c.addComponent(Gs,{_mesh:s,isBounded3D:!0,semanticLabel:s.semanticLabel,min:[d.x,d.y,d.z],max:[u.x,u.y,u.z],dimensions:[u.x-d.x,u.y-d.y,u.z-d.z]})}}else{const l=(i=this.currentMeshes.get(s))===null||i===void 0?void 0:i.object3D;l?.position.setFromMatrixPosition(this.matrixBuffer),l?.quaternion.setFromRotationMatrix(this.matrixBuffer)}}})}updateEnabledFeatures(e){if(!e){console.log("Warning: xrSession is null when trying to query enabled features. Scene understanding  features are disabled.");return}const t=e.enabledFeatures;this.planeFeatureEnabled=t?.includes("plane-detection"),this.meshFeatureEnabled=t?.includes("mesh-detection"),this.anchorFeatureEnabled=t?.includes("anchors"),this.planeFeatureEnabled||console.log("Warning: plane-detection feature not enabled for WebXR session. Partial Scene Understanding features are disabled."),this.meshFeatureEnabled||console.log("Warning: mesh-detection feature not enabled for WebXR session. Partial Scene Understanding features are disabled."),this.anchorFeatureEnabled||console.log("Warning: anchor feature not enabled for WebXR session. Partial Scene Understanding features are disabled.")}async createAnchor(e){const t=this.xrManager.getFrame();if(!t.createAnchor)throw"XRFrame.createAnchor is undefined";if(!e)throw"renderer.xr.getReferenceSpace() returned null";if(this.anchorRequested=!0,this.xrAnchor=await t.createAnchor(new XRRigidTransform,e),!this.xrAnchor)throw this.anchorRequested=!1,"XRAnchor creation failed"}updateAnchoredObject(){this.queries.anchoredEntities.entities.forEach(e=>{const t=e.object3D;t&&!e.getValue(lh,"attached")&&(this.anchoredGroup.attach(t),e.setValue(lh,"attached",!0))})}flatToVec3Array(e){if(!e||e.length%3!==0)throw new Error("Array length must be a multiple of 3.");const t=[];for(let s=0;s<e.length;s+=3){const i={x:e[s],y:e[s+1],z:e[s+2]};t.push(i)}return t}findMinMaxEntries(e){let t=e[0],s=e[0],i=e[0].x+e[0].y+e[0].z,r=e[0].x+e[0].y+e[0].z;for(let o=1;o<e.length;o++){const a=e[o].x+e[o].y+e[o].z;a<i&&(i=a,t=e[o]),a>r&&(r=a,s=e[o])}return{minEntry:t,maxEntry:s}}}const Sh=Es("Visibility",{isVisible:{type:de.Boolean,default:!0}},"Component to control if an entity object is visible");function pG(n){const e=n.object3D;e&&Object.defineProperty(e,"visible",{get:()=>n.getValue(Sh,"isVisible"),set:t=>{n.setValue(Sh,"isVisible",t)},enumerable:!0,configurable:!0})}function gG(n){const e=n.object3D;e&&Object.defineProperty(e,"visible",{value:e.visible,enumerable:!0,configurable:!0})}class lS extends Ss({visibility:{required:[Sh]}}){init(){this.queries.visibility.subscribe("qualify",pG),this.queries.visibility.subscribe("disqualify",gG)}}function cS(n,e={}){const t=mG(),s=xG(e),{camera:i,renderer:r,scene:o}=yG(n,s);return _G(t,i,r,o),IG(t),t.xrDefaults={sessionMode:s.xr.sessionMode,referenceSpace:s.xr.referenceSpace,features:s.xr.features},EG(t,s),CG(r,t),bG(t),wG(t,s),BG(t,r),NG(i,r),s.xr.offer&&s.xr.offer!=="none"&&vG(t,s.xr.offer),SG(t,e.assets).then(async a=>{var l;const c=typeof e.level=="string"?e.level:(l=e.level)===null||l===void 0?void 0:l.url;return c?await a.loadLevel(c):await a.loadLevel(),a})}function mG(){const n=new hI;return n.registerComponent($n).registerComponent(Sh).registerComponent(Xd).registerSystem(J2).registerSystem(lS),n}function xG(n){var e,t,s,i,r,o,a,l,c,d,u,h,f,A,p,g,m,y,_,I,v,E,b,N,C,B,S;return{cameraFov:(t=(e=n.render)===null||e===void 0?void 0:e.fov)!==null&&t!==void 0?t:50,cameraNear:(i=(s=n.render)===null||s===void 0?void 0:s.near)!==null&&i!==void 0?i:.1,cameraFar:(o=(r=n.render)===null||r===void 0?void 0:r.far)!==null&&o!==void 0?o:200,defaultLighting:(l=(a=n.render)===null||a===void 0?void 0:a.defaultLighting)!==null&&l!==void 0?l:!0,xr:{sessionMode:(d=(c=n.xr)===null||c===void 0?void 0:c.sessionMode)!==null&&d!==void 0?d:$r.ImmersiveVR,referenceSpace:(h=(u=n.xr)===null||u===void 0?void 0:u.referenceSpace)!==null&&h!==void 0?h:Vr.LocalFloor,features:(f=n.xr)===null||f===void 0?void 0:f.features,offer:(p=(A=n.xr)===null||A===void 0?void 0:A.offer)!==null&&p!==void 0?p:"always"},features:{locomotion:(m=(g=n.features)===null||g===void 0?void 0:g.locomotion)!==null&&m!==void 0?m:!1,grabbing:(_=(y=n.features)===null||y===void 0?void 0:y.grabbing)!==null&&_!==void 0?_:!1,physics:(v=(I=n.features)===null||I===void 0?void 0:I.physics)!==null&&v!==void 0?v:!1,sceneUnderstanding:(b=(E=n.features)===null||E===void 0?void 0:E.sceneUnderstanding)!==null&&b!==void 0?b:!1,camera:(C=(N=n.features)===null||N===void 0?void 0:N.camera)!==null&&C!==void 0?C:!1,spatialUI:(S=(B=n.features)===null||B===void 0?void 0:B.spatialUI)!==null&&S!==void 0?S:!0}}}function yG(n,e){const t=new Dn(e.cameraFov,window.innerWidth/window.innerHeight,e.cameraNear,e.cameraFar);t.position.set(0,1.7,0);const s=new cN({antialias:!0,alpha:e.xr.sessionMode===$r.ImmersiveAR,multiviewStereo:!0});s.setPixelRatio(window.devicePixelRatio),s.setSize(window.innerWidth,window.innerHeight),s.outputColorSpace=cs,s.xr.enabled=!0,n.appendChild(s.domElement);const i=new _g;return{camera:t,renderer:s,scene:i}}function _G(n,e,t,s){n.scene=s,n.camera=e,n.renderer=t,n.sceneEntity=n.createTransformEntity(s);const i=n.createTransformEntity(void 0,{parent:n.sceneEntity});i.object3D.name="LevelRoot",n.activeLevel=bt(i)}function IG(n){const e=new eI({camera:n.camera,scene:n.scene,assetLoader:Ji});return n.scene.add(e.xrOrigin),e.xrOrigin.add(n.camera),n.player=e.xrOrigin,n.input=e,e}function vG(n,e){let t=!1;const s=async()=>{var r,o,a,l;if(!(t||n.session)){t=!0;try{const c=(r=n.xrDefaults)!==null&&r!==void 0?r:{sessionMode:$r.ImmersiveVR},d=F_(c),u=await((a=(o=navigator.xr)===null||o===void 0?void 0:o.offerSession)===null||a===void 0?void 0:a.call(o,(l=c.sessionMode)!==null&&l!==void 0?l:$r.ImmersiveVR,d));if(!u)return;const h=U_(c.referenceSpace);u.addEventListener("end",i);try{const f=await O_(u,h.type,h.required?[]:h.fallbackOrder);n.renderer.xr.setReferenceSpaceType(f),await n.renderer.xr.setSession(u),n.session=u}catch(f){console.error("[XR] Failed to acquire reference space:",f);try{await u.end()}catch{}}}finally{t=!1}}},i=()=>{var r;(r=n.session)===null||r===void 0||r.removeEventListener("end",i),n.session=void 0,e==="always"&&s()};s()}function EG(n,e){n.registerComponent(Ga).registerComponent(hd).registerComponent(va).registerComponent(_a).registerComponent(Li).registerComponent(pn).registerComponent(gr).registerComponent(Oi).registerSystem(W2).registerSystem(V2,{configData:{defaultLighting:e.defaultLighting}})}function CG(n,e){Ji.init(n,e)}function bG(n){n.registerComponent(ft).registerSystem(r2)}function wG(n,e){const t=e.features.locomotion,s=!!t,i=!!e.features.grabbing,r=!!e.features.physics,o=!!e.features.sceneUnderstanding,a=!!e.features.camera,l=e.features.spatialUI,c=!!l;if(s){const d=typeof t=="object"&&t?{useWorker:t.useWorker}:void 0;n.registerSystem(nS,{priority:-5,configData:d})}if(n.registerSystem(K2,{priority:-4}),i&&n.registerSystem(Z2,{priority:-3}),r&&n.registerComponent(ln).registerComponent(xs).registerComponent(Gr).registerSystem(aS,{priority:-2}),o&&n.registerComponent(fd).registerComponent(Gs).registerComponent(lh).registerSystem(uI,{priority:-1}),a&&n.registerComponent(Vt).registerSystem(o2),c){const d=typeof l=="object"&&l?l.forwardHtmlEvents:void 0,u=typeof l=="object"&&l?l.kits:void 0,h=Array.isArray(u)?Object.assign({},...u):u,f=typeof l=="object"&&l?l.preferredColorScheme:void 0;n.registerComponent(nn).registerComponent(Or).registerComponent(Qi).registerSystem(U2,{configData:{...d!==void 0?{forwardHtmlEvents:d}:{},...h?{kits:h}:{},...f!==void 0?{preferredColorScheme:f}:{}}}).registerSystem(G2).registerSystem(O2)}}function BG(n,e){const t=new S_,s=()=>{var i,r;const o=t.getDelta(),a=t.elapsedTime;n.visibilityState.value=(r=(i=n.session)===null||i===void 0?void 0:i.visibilityState)!==null&&r!==void 0?r:Do.NonImmersive,n.update(o,a),e.render(n.scene,n.camera)};e.setAnimationLoop(s)}function NG(n,e){const t=()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",t,!1)}function SG(n,e){return new Promise((t,s)=>{if(!e||Object.keys(e).length===0)return t(n);Ji.preloadAssets(e).then(()=>t(n)).catch(s)})}var Do;(function(n){n.NonImmersive="non-immersive",n.Hidden="hidden",n.Visible="visible",n.VisibleBlurred="visible-blurred"})(Do||(Do={}));class hI extends YM{constructor(){super(),this.activeLevelId="level:default",this.visibilityState=bt(Do.NonImmersive);const e=this.entityManager.releaseEntityInstance.bind(this.entityManager);this.entityManager.releaseEntityInstance=t=>{var s;e(t),(s=t.object3D)===null||s===void 0||s.removeFromParent(),delete t.object3D}}createEntity(){return super.createEntity()}createTransformEntity(e,t){var s,i;const r=super.createEntity(),o=e??new is;r.object3D=o;let a,l=!1;if(t)if(typeof t.index=="number")a=t;else{const c=t;a=c.parent,l=!!c.persistent}return a||(e&&(d=>d.isScene===!0)(e)?(a=void 0,l=!0):a=l?this.sceneEntity:(i=(s=this.activeLevel)===null||s===void 0?void 0:s.value)!==null&&i!==void 0?i:this.sceneEntity),r.addComponent($n,{parent:a}),l||r.addComponent(Xd,{id:this.activeLevelId}),r}launchXR(e){xN(this,e)}async loadLevel(e){return this.requestedLevelUrl=e??"",new Promise(t=>{this._resolveLevelLoad=t})}exitXR(){var e;(e=this.session)===null||e===void 0||e.end()}update(e,t){super.update(e,t)}registerComponent(e){return super.registerComponent(e)}getActiveRoot(){var e,t,s;return(s=(t=(e=this.activeLevel)===null||e===void 0?void 0:e.value)===null||t===void 0?void 0:t.object3D)!==null&&s!==void 0?s:this.scene}getPersistentRoot(){return this.scene}static create(e,t){return cS(e,t)}}class rd{static play(e,t=0){const s=e.index;if(ft.data.src[s]===void 0){console.warn("Entity does not have Audio component");return}ft.data._playRequested[s]=1,ft.data._fadeIn[s]=t}static pause(e,t=0){const s=e.index;if(ft.data.src[s]===void 0){console.warn("Entity does not have Audio component");return}ft.data._pauseRequested[s]=1,ft.data._fadeOut[s]=t}static stop(e){const t=e.index;if(ft.data.src[t]===void 0){console.warn("Entity does not have Audio component");return}ft.data._stopRequested[t]=1}static isPlaying(e){const t=e.index;return ft.data.src[t]===void 0?!1:ft.data._isPlaying[t]===1}static setVolume(e,t){const s=e.index;if(ft.data.src[s]===void 0){console.warn("Entity does not have Audio component");return}ft.data.volume[s]=Math.max(0,Math.min(1,t))}static getVolume(e){const t=e.index;return ft.data.src[t]===void 0?0:ft.data.volume[t]}static async preload(e){const t=e.index;if(ft.data.src[t]===void 0)throw new Error("Entity does not have Audio component");return new Promise(s=>{const i=()=>{ft.data._loaded[t]?s():(!ft.data._loading[t]&&ft.data._loaded[t],setTimeout(i,16))};i()})}static createOneShot(e,t,s={}){var i,r;const o=e.createEntity();return o.addComponent(ft,{src:t,volume:(i=s.volume)!==null&&i!==void 0?i:1,positional:(r=s.positional)!==null&&r!==void 0?r:!1,autoplay:!0,loop:!1}),s.positional&&s.position,o}}console.log(`                                                 
                        
                   
                          
                         
                          
                
                                                                     
===============================================
Immersive Web SDK v${dN}
Three.js r${Fo}
EliCS v${jM}`);const MG=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:tB,AddEquation:fa,AddOperation:jw,AdditiveBlending:Ts,AgXToneMapping:nB,AlphaFormat:jy,AlwaysCompare:mB,AlwaysDepth:op,AlwaysStencilFunc:Lx,AnimatedController:Kl,AnimatedControllerHand:Bo,AnimatedHand:Ch,AnimationClip:WB,ArcCurve:MB,ArrayCamera:eN,AssetManager:Ji,get AssetType(){return _l},AttachedBindMode:Px,Audio:M_,AudioContext:N_,AudioListener:tN,AudioLoader:$B,AudioPool:ly,AudioSource:ft,AudioSystem:r2,AudioUtils:rd,get AxesState(){return tn},BackSide:Ls,BasicDepthPacking:lB,BatchedMesh:$d,Bone:u_,BooleanKeyframeTrack:nc,Box2:Q_,Box3:Jt,BoxGeometry:ei,BufferAttribute:rs,BufferGeometry:Qt,ByteType:Yy,Cache:Io,CacheManager:Bt,Camera:l_,CameraFacing:La,CameraSource:Vt,CameraState:Jn,CameraSystem:o2,CameraUtils:jl,CanvasTexture:vn,CatmullRomCurve3:zl,CineonToneMapping:eB,CircleGeometry:Hl,ClampToEdgeWrapping:fi,Clock:S_,Color:st,ColorKeyframeTrack:E_,ColorManagement:ts,ComponentRegistry:dg,CompressedArrayTexture:NB,CompressedCubeTexture:SB,CompressedTexture:Lh,ConstantAlphaFactor:Yw,ConstantColorFactor:Ww,CubeCamera:CB,CubeReflectionMapping:Ua,CubeRefractionMapping:kl,CubeTexture:c_,CubeUVReflectionMapping:Rh,CubicBezierCurve:g_,CubicBezierCurve3:TB,CubicInterpolant:HB,CullFaceBack:Sx,CullFaceFront:Mw,CullFaceNone:Sw,Curve:Nr,CurvePath:QB,CustomBlending:Pw,CustomToneMapping:sB,CylinderGeometry:Zi,DEFAULT_ANGULAR_DAMPING:rS,DEFAULT_GRAVITY_FACTOR:oS,DEFAULT_LINEAR_DAMPING:iS,DEFAULT_PROFILES_PATH:G_,Data3DTexture:r_,DataArrayTexture:i_,DataTexture:Pa,DataTextureLoader:b_,DataUtils:yl,DefaultLoadingManager:XB,DefaultXRAssetLoader:dd,DepthFormat:Ol,DepthStencilFormat:Nl,DepthTexture:f_,DetachedBindMode:rB,DirectionalLight:KB,DiscreteInterpolant:VB,DistanceGrabbable:ai,DistanceModel:ay,DomeGradient:pn,DomeTexture:Li,DoubleSide:js,DstAlphaFactor:Gw,DstColorFactor:zw,DynamicDrawUsage:xa,EdgesGeometry:A_,EllipseCurve:Eg,Entity:vw,EntityCreator:H2,EnvironmentSystem:W2,EnvironmentType:Ei,EqualCompare:fB,EqualDepth:lp,EqualStencilFunc:dB,EquirectangularReflectionMapping:Fl,EquirectangularRefractionMapping:hp,Euler:gs,EventDispatcher:sc,FileLoader:$i,FlexBatchedMesh:IN,Float32BufferAttribute:yt,FloatType:Qs,FollowBehavior:Aa,FollowSystem:O2,Follower:Qi,FrontSide:In,Frustum:Zd,FrustumArray:vg,GLSL3:kx,GLXFImporter:z2,GrabPointer:QN,GrabSystem:Z2,GreaterCompare:AB,GreaterDepth:dp,GreaterEqualCompare:gB,GreaterEqualDepth:cp,Group:Tt,HalfFloatType:cn,Hovered:hd,IBLGradient:Oi,IBLTexture:gr,ImageBitmapLoader:ZB,ImageLoader:YB,ImageUtils:_B,get InputComponent(){return jr},InputSystem:K2,InstanceStealPolicy:bd,InstancedBufferAttribute:vr,InstancedBufferGeometry:jB,InstancedInterleavedBuffer:Dp,InstancedMesh:Gl,IntType:fg,Interactable:Ga,InterleavedBuffer:d_,InterleavedBufferAttribute:Kr,Interpolant:tu,InterpolateDiscrete:Fd,InterpolateLinear:Ud,InterpolateSmooth:FA,KeepStencilOp:zr,KeyframeTrack:sr,LatheGeometry:Cg,Layers:yg,LessCompare:hB,LessDepth:ap,LessEqualCompare:s_,LessEqualDepth:Ll,LevelRoot:_a,LevelSystem:V2,LevelTag:Xd,Light:wg,Line:br,Line3:ti,LineBasicMaterial:To,LineCurve:m_,LineCurve3:PB,LineLoop:BB,LineSegments:eu,LinearFilter:Ot,LinearInterpolant:zB,LinearMipmapLinearFilter:Ii,LinearMipmapNearestFilter:$u,LinearSRGBColorSpace:rn,LinearToneMapping:Zw,LinearTransfer:xh,Loader:Bi,LoaderUtils:Qa,LoadingManager:C_,LocomotionEnvironment:ml,LocomotionSystem:nS,Locomotor:$2,Material:Ai,MathUtils:$t,Matrix3:Dt,Matrix4:Je,MaxEquation:Lw,Mesh:it,MeshBasicMaterial:Nt,MeshDepthMaterial:I_,MeshDistanceMaterial:v_,MeshMatcapMaterial:OB,MeshPhongMaterial:UB,MeshPhysicalMaterial:wi,MeshStandardMaterial:Wl,MinEquation:Dw,MirroredRepeatWrapping:fh,MixOperation:Kw,MovementMode:Eo,MultiPointer:iy,MultiplyBlending:Tx,MultiplyOperation:hg,NearestFilter:Fn,NearestMipmapLinearFilter:ad,NearestMipmapNearestFilter:Xy,NeutralToneMapping:iB,NeverCompare:uB,NeverDepth:rp,NoBlending:Co,NoColorSpace:Hi,NoToneMapping:bo,NormalAnimationBlendMode:oB,NormalBlending:wl,NotEqualCompare:pB,NotEqualDepth:up,NullEntity:X2,NumberKeyframeTrack:Xl,Object3D:is,ObjectSpaceNormalMap:cB,OneFactor:Fw,OneHandGrabbable:la,OneMinusConstantAlphaFactor:Jw,OneMinusConstantColorFactor:Xw,OneMinusDstAlphaFactor:Hw,OneMinusDstColorFactor:Vw,OneMinusSrcAlphaFactor:ip,OneMinusSrcColorFactor:Ow,OrthographicCamera:Bg,PCFShadowMap:qy,PCFSoftShadowMap:Tw,PMREMGenerator:Lp,PanelDocument:Sn,PanelUI:nn,PanelUISystem:U2,Path:Tl,PerspectiveCamera:Dn,PhysicsBody:ln,PhysicsManipulation:Gr,PhysicsShape:xs,PhysicsShapeType:Nn,PhysicsState:Fa,PhysicsSystem:aS,Plane:ps,PlaneGeometry:Us,PlaybackMode:Il,PointLight:B_,Points:bi,PointsMaterial:pi,PositionalAudio:T_,Pressed:va,PropertyBinding:_s,QuadraticBezierCurve:x_,QuadraticBezierCurve3:RB,Quaternion:Ge,QuaternionKeyframeTrack:Yl,QuaternionLinearInterpolant:qB,RED_GREEN_RGTC2_Format:Sp,RED_RGTC1_Format:$y,REVISION:Fo,RGBADepthPacking:t_,RGBAFormat:Zs,RGBAIntegerFormat:mg,RGBA_ASTC_10x10_Format:Cp,RGBA_ASTC_10x5_Format:Ip,RGBA_ASTC_10x6_Format:vp,RGBA_ASTC_10x8_Format:Ep,RGBA_ASTC_12x10_Format:bp,RGBA_ASTC_12x12_Format:wp,RGBA_ASTC_4x4_Format:Ma,RGBA_ASTC_5x4_Format:pp,RGBA_ASTC_5x5_Format:gp,RGBA_ASTC_6x5_Format:mp,RGBA_ASTC_6x6_Format:kd,RGBA_ASTC_8x5_Format:xp,RGBA_ASTC_8x6_Format:yp,RGBA_ASTC_8x8_Format:_p,RGBA_BPTC_Format:Ta,RGBA_ETC2_EAC_Format:Ld,RGBA_PVRTC_2BPPV1_Format:Ap,RGBA_PVRTC_4BPPV1_Format:ph,RGBA_S3TC_DXT1_Format:Na,RGBA_S3TC_DXT3_Format:Ml,RGBA_S3TC_DXT5_Format:Sa,RGBFormat:Zy,RGB_BPTC_SIGNED_Format:Bp,RGB_BPTC_UNSIGNED_Format:mh,RGB_ETC1_Format:gh,RGB_ETC2_Format:Dd,RGB_PVRTC_2BPPV1_Format:fp,RGB_PVRTC_4BPPV1_Format:Ah,RGB_S3TC_DXT1_Format:Sl,RGFormat:ma,RGIntegerFormat:gg,Ray:Ci,Raycaster:kh,RedFormat:Jr,RedIntegerFormat:Qh,get ReferenceSpaceType(){return Vr},ReinhardToneMapping:$w,RenderTarget:IB,RepeatWrapping:Ul,ReverseSubtractEquation:Qw,RingGeometry:ql,SIGNED_RED_GREEN_RGTC2_Format:Mp,SIGNED_RED_RGTC1_Format:Np,SRGBColorSpace:cs,SRGBTransfer:Cs,Scene:_g,SceneUnderstandingSystem:uI,ScreenSpace:Or,ScreenSpaceUISystem:G2,get SessionMode(){return $r},ShaderChunk:Xt,ShaderLib:gn,ShaderMaterial:Ds,Shape:vd,ShapeGeometry:bg,ShapePath:aa,ShapeUtils:Ra,ShortType:Jy,Skeleton:Ig,SkinnedMesh:wB,SlideSystem:JA,Source:xg,Sphere:Ps,SphereGeometry:Un,SplineCurve:y_,SpotLight:JB,SrcAlphaFactor:np,SrcAlphaSaturateFactor:qw,SrcColorFactor:Uw,StatefulGamepad:yN,StaticDrawUsage:Pp,StringKeyframeTrack:ic,SubtractEquation:Rw,SubtractiveBlending:Mx,SyncedQuaternion:Y2,SyncedVector3:yy,TangentSpaceNormalMap:Dh,TeleportSystem:KA,Texture:Ws,TextureLoader:nr,Transform:$n,TransformSystem:J2,Triangle:sn,TriangleFanDrawMode:Tp,TriangleStripDrawMode:e_,TrianglesDrawMode:aB,TurnSystem:jA,get TurningMethod(){return Ql},TwoHandsGrabbable:hr,get Types(){return de},UIKitDocument:F2,UVMapping:Wy,Uint16BufferAttribute:o_,Uint32BufferAttribute:a_,UniformsLib:ht,UniformsUtils:jd,UnsignedByteType:Js,UnsignedInt248Type:Bl,UnsignedInt5999Type:Ky,UnsignedIntType:So,UnsignedShort4444Type:Ag,UnsignedShort5551Type:pg,UnsignedShortType:Qd,VERSION:dN,VSMShadowMap:Ur,Vector2:Be,Vector3:w,Vector4:ns,VectorKeyframeTrack:Jl,VideoTexture:h_,Visibility:Sh,get VisibilityState(){return Do},VisibilitySystem:lS,WebGLCoordinateSystem:Ir,WebGLCubeRenderTarget:bB,WebGLRenderTarget:Mo,WebGLRenderer:cN,WebGLUtils:aN,WebGPUCoordinateSystem:yh,WebXRController:UA,WireframeGeometry:__,World:hI,WrapAroundEnding:Dx,XRAnchor:lh,XRControllerVisualAdapter:Zx,XRHandVisualAdapter:$x,get XRInputDeviceType(){return ry},XRInputManager:eI,XRInputVisualAdapter:rc,XRMesh:Gs,XROrigin:CN,XRPlane:fd,ZeroCurvatureEnding:Rx,ZeroFactor:kw,ZeroSlopeEnding:Qx,buildSessionInit:F_,createCanvasElement:yB,createComponent:Es,createSystem:Ss,defaultHandLayout:EN,eq:Vy,fetchProfileSync:_N,initializeWorld:cS,launchXR:xN,loadInputProfile:H_,ne:Nw,normalizeReferenceSpec:U_,outlineMaterial:V_,resolveReferenceSpaceType:O_,sampleParabolicCurve:dI,stencilMaterial:z_},Symbol.toStringTag,{value:"Module"})),TG={component:{button:{primary:{background:{fill:{default:x("#272727",1),hovered:x("#5a5a5a",1),pressed:x("#747474",1),disabled:x("#c0c0c0",1)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#f2f2f2",1)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#f2f2f2",1)},subtext:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),disabled:x("#ffffff",.6)}},secondary:{label:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),disabled:x("#272727",.3)},icon:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),disabled:x("#272727",.3)},background:{fill:{default:x("#272727",.05),hovered:x("#272727",.1),pressed:x("#272727",.2),disabled:x("#272727",.05)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},subtext:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),disabled:x("#272727",.3)}},tertiary:{label:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),disabled:x("#272727",.3)},icon:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),disabled:x("#272727",.3)},background:{fill:{default:x("#272727",0),hovered:x("#272727",.1),pressed:x("#272727",.15),disabled:x("#272727",0)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},subtext:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),disabled:x("#272727",.3)}},onMedia:{label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#ffffff",.35)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#ffffff",.35)},background:{fill:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),disabled:x("#ffffff",0)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},subtext:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),disabled:x("#ffffff",.35)}},positive:{label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#f2f2f2",1)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#f2f2f2",1)},background:{fill:{default:x("#0b8a1b",1),hovered:x("#006622",1),pressed:x("#003d1e",1),disabled:x("#c0c0c0",1)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},subtext:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),disabled:x("#f2f2f2",1)}},negative:{label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#f2f2f2",1)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#f2f2f2",1)},background:{fill:{default:x("#dd1535",1),hovered:x("#aa0a1e",1),pressed:x("#6d020a",1),disabled:x("#c0c0c0",1)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},subtext:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),disabled:x("#f2f2f2",1)}}},selectionDropdown:{label:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),selected:x("#ffffff",.9)},icon:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),selected:x("#ffffff",.9),ring:{stop1:x("#014ed0",1),stop2:x("#31d3f3",1)}},background:{fill:{default:x("#ffffff",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",.9)},border:{default:x("#ffffff",0),hovered:x("#ffffff",0),pressed:x("#ffffff",0),selected:x("#ffffff",0)}}},iconIndicator:{icon:{good:x("#ffffff",0),poor:x("#ffffff",0),bad:x("#ffffff",0),none:x("#ffffff",0)},background:{fill:{good:x("#0b8a1b",1),poor:x("#a94302",1),bad:x("#dd1535",1),none:x("#272727",1)}}},toggle:{background:{default:x("#272727",.35),hovered:x("#272727",.45),pressed:x("#272727",.55),selected:x("#272727",.9)},handle:{default:x("#ffffff",.9),hovered:x("#ffffff",.95),pressed:x("#ffffff",1),selected:x("#ffffff",1)}},checkbox:{selected:{background:{default:x("#272727",.35),hover:x("#272727",.45),pressed:x("#272727",.55),selected:x("#272727",.9)},icon:{default:x("#ffffff",0),hover:x("#ffffff",0),pressed:x("#ffffff",0),selected:x("#ffffff",.9)}}},radioButtons:{background:{default:x("#272727",.35),hovered:x("#272727",.45),pressed:x("#272727",.55),selected:x("#272727",.9)},icon:{default:x("#ffffff",0),hovered:x("#ffffff",0),pressed:x("#ffffff",0),selected:x("#ffffff",.9)}},progressBar:{indeterminate:{background:{background:x("#272727",.1)},fill:{stop1:x("#272727",1),stop2:x("#5a5a5a",1),stop3:x("#272727",1)}},determinate:{fill:{fill:x("#272727",1)},background:{background:x("#272727",.1)}},quickReplies:{label:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#ffffff",.9)},icon:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#ffffff",.9)},background:{fill:{default:x("#ffffff",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",.9)},border:{default:x("#ffffff",0),hovered:x("#ffffff",0),pressed:x("#ffffff",0),selected:x("#ffffff",0)}},dividers:x("#272727",.1)}},menu:{title:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),selected:x("#ffffff",.9)},icon:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#ffffff",.9)},background:{fill:{default:x("#ffffff",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",.9)}},sectionHeader:x("#272727",1),subtitle:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#ffffff",.9)},toggle:{title:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),selected:x("#272727",1)},background:{fill:{default:x("#ffffff",0),hovered:x("#272727",0),pressed:x("#272727",0),selected:x("#272727",0)}},icon:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#272727",.7)},subtitle:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#272727",.7)}},labelIcon:{label:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#ffffff",.9)},icon:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#ffffff",.9)}}},sideNavigation:{sideNavItem:{label:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),selected:x("#ffffff",.9)},icon:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#ffffff",.9)},background:{fill:{default:x("#ffffff",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",1)},border:{default:x("#ffffff",0),hovered:x("#ffffff",0),pressed:x("#ffffff",0),selected:x("#ffffff",0)}}},label:{label:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),selected:x("#272727",1)},icon:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#272727",.9)},background:{fill:{default:x("#ffffff",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",0)},border:{default:x("#ffffff",0),hovered:x("#ffffff",0),pressed:x("#ffffff",0),selected:x("#ffffff",0)}}}},badges:{primary:{background:x("#272727",1),label:x("#ffffff",.9),icon:x("#ffffff",.9)},secondary:{background:x("#ffffff",.9),label:x("#272727",1),icon:x("#272727",1)},positive:{background:x("#0b8a1b",1),label:x("#ffffff",.9),icon:x("#ffffff",.9)},background:{background:x("#dd1535",1),label:x("#ffffff",.9),icon:x("#ffffff",.9)}},imageCards:{background:{fill:{default:x("#272727",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",0)},border:{default:x("#272727",0),hovered:x("#272727",0),pressed:x("#272727",0),selected:x("#272727",0)}},label:{primary:x("#272727",1),secondary:x("#272727",.7),metadata:x("#272727",.7),rating:{primary:x("#272727",1),secondary:x("#272727",.7)},price:{primary:x("#272727",1),secondary:x("#272727",.7)}},icon:{primary:x("#272727",1),secondary:x("#272727",.7)}},tiles:{label:{onMedia:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)},primary:x("#272727",1),secondary:x("#272727",.7)},icon:{onMedia:{primary:x("#ffffff",1)},primary:x("#272727",1),secondary:x("#272727",.7)},eventHeader:{label:{primary:x("#ffffff",.9),month:x("#dd1535",1),date:x("#272727",1)},background:{primary:x("#000000",.6),date:x("#ffffff",.9)},notification:{indicator:x("#dd1535",1)}},background:{primary:x("#272727",.05)},mediaThumbnail:{border:x("#272727",.1)},check:{background:x("#ffffff",.9),icon:x("#272727",1)}},segmentedControl:{background:{default:x("#272727",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",1)},icon:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),selected:x("#ffffff",.9)},label:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),selected:x("#ffffff",.9)},selected:{background:x("#272727",.05)}},progressRing:{background:{active:x("#272727",1),inactive:x("#272727",.1)},icon:{fill:x("#272727",1)}},avatar:{badge:{active:x("#0b8a1b",1)},focusRing:{default:x("#272727",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",.9)}},facepile:{label:x("#272727",1)},peopleCard:{label:{secondary:x("#272727",.7),primary:x("#272727",1),tertiary:x("#272727",.7)},badge:{active:x("#0b8a1b",1)}},onMediaCheckbox:{background:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",1)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1)}},syncButton:{background:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",0)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9)},progressRing:{background:x("#ffffff",.3),fill:x("#ffffff",.9)}},galleryTile:{icon:x("#ffffff",1),label:x("#ffffff",.9)},search:{label:x("#272727",.7),cursor:x("#0173ec",1),background:{default:x("#272727",.05),hovered:x("#272727",.1),pressed:x("#272727",.2),typing:x("#272727",.05)},icon:x("#272727",1)},slider:{label:x("#272727",.7),background:x("#272727",.05),icon:x("#272727",1),handle:{background:{hover:x("#ffffff",.1),pressed:x("#ffffff",.2),default:x("#ffffff",0)},icon:x("#ffffff",.9),label:x("#ffffff",.9)},foreground:{default:x("#272727",1)}},typehead:{icon:x("#272727",.7),label:x("#272727",.7),background:{default:x("#272727",0),hovered:x("#272727",.1),pressed:x("#272727",.15)}},inputKeys:{letter:{background:{default:x("#272727",.05),pressed:x("#272727",.2),hovered:x("#272727",.1)},label:{primary:x("#272727",1),secondary:x("#272727",.3)}},icon:{background:{default:x("#272727",.05),hovered:x("#272727",.1),pressed:x("#272727",.2)},icon:{default:x("#272727",.9),hovered:x("#272727",.9),pressed:x("#272727",.9)}},alt:{background:{default:x("#ffffff",1),hovered:x("#272727",.1),pressed:x("#272727",.2)},label:{primary:x("#272727",1),secondary:x("#272727",.3)}},primary:{background:{default:x("#272727",1),hovered:x("#5a5a5a",1),pressed:x("#747474",1)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9)}},spaceBar:{background:{default:x("#272727",.05),hovered:x("#272727",.1),pressed:x("#272727",.2)}}},controlBar:{background:{default:x("#ffffff",1),spatialMinimized:{fill:x("#ffffff",1),border:x("#ffffff",1)}},label:x("#272727",1)},inputKeyboard:{background:{fill:{stop1:x("#ffffff",1),stop2:x("#f2f2f2",1)},border:x("#272727",.1)},dividers:x("#272727",.1),label:x("#272727",.7)},tooltip:{background:{stop1:x("#ffffff",1),stop2:x("#f2f2f2",1)},icon:{default:x("#272727",1)},label:{primary:x("#272727",1),secondary:x("#272727",.7)}},infoCells:{background:x("#272727",.05),icon:x("#272727",.7),subheadline:x("#272727",.7),label:x("#272727",.7)},listCells:{background:{default:x("#272727",.05),hovered:x("#272727",.1),pressed:x("#272727",.2)},label:{primary:x("#272727",1),secondary:x("#272727",.7),secondaryTextIcon:x("#272727",.7)},attribute:{primary:x("#272727",1)}},auiNavigationBar:{background:{stop1:x("#ffffff",1),stop2:x("#f2f2f2",1)},statusElements:{time:x("#272727",.7),wifi:x("#272727",1),battery:x("#272727",1)},divider:x("#272727",.1)},achievementRow:{background:{default:x("#272727",0)},label:{primary:x("#272727",1),rating:x("#272727",.7),category:x("#272727",.7),description:x("#272727",.7),achievements:x("#272727",.7),progress:x("#272727",1)},icon:{rating:x("#272727",1)}},browserTab:{background:{default:x("#272727",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",.9)},label:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),selected:x("#ffffff",.9)}},browserToolBar:{icon:x("#272727",.7)},browserTopBar:{label:{primary:x("#272727",1),secondary:x("#272727",.7)},icon:{primary:x("#272727",1),secondary:x("#272727",.7)}},dialogModals:{background:{stop1:x("#ffffff",1),stop2:x("#f2f2f2",1)},label:{primary:x("#272727",1),secondary:x("#272727",.7),link:x("#0173ec",1)},icon:{primary:x("#272727",1)}},fullPanelModals:{background:{stop1:x("#ffffff",1),stop2:x("#f2f2f2",1)},label:{primary:x("#272727",1),secondary:x("#272727",.7)}},heroImage:{label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)},pagination:{active:x("#ffffff",.9),inactive:x("#ffffff",.3)}},listHeader:{label:{primary:x("#272727",1),secondary:x("#272727",.7)}},mediaControls:{icon:{icon:x("#ffffff",.9),progressBar:{foreground:x("#ffffff",.9),background:x("#ffffff",.3)}},playButton:{background:x("#ffffff",.9),icon:x("#272727",1)}},inputField:{label:x("#272727",.7),icon:x("#272727",.7),inputField:x("#272727",.05),background:{default:x("#272727",.05),hovered:x("#272727",.1),pressed:x("#272727",.2)}},popover:{label:{primary:x("#272727",1),secondary:x("#272727",.7)},background:{stop1:x("#ffffff",1),stop2:x("#f2f2f2",1)},icon:x("#272727",1)},sectionHeader:{label:{primary:x("#272727",1),secondary:x("#272727",.7)}},scrollbars:{background:{fill:x("#272727",1)}},bottomButton:{label:{primary:x("#272727",.7),link:x("#0173ec",1)}},sidesheet:{background:{stop1:x("#ffffff",1),stop2:x("#f2f2f2",1)},label:{primary:x("#272727",1),secondary:x("#272727",.7)},divider:x("#272727",.1)},toast:{toast:{background:{stop1:x("#ffffff",1),stop2:x("#f2f2f2",1),delete:x("#dd1535",1),label:{primary:x("#272727",1),secondary:x("#272727",.7)},icon:{primary:x("#272727",1)}},slider:{background:x("#272727",.1),forground:x("#272727",1)}}},reactionPill:{background:{border:{stop1:x("#ffffff",1),stop2:x("#f2f2f2",1)},fill:x("#f2f2f2",1)},label:x("#272727",1)},chatBubble:{sender:{fill:x("#272727",1),label:x("#ffffff",1)},responder:{fill:x("#f2f2f2",1),label:x("#272727",1)}},avatarTile:{background:x("#272727",.05),selectedBorder:x("#272727",1),label:{primary:x("#272727",1),secondary:x("#272727",.7)},multiselect:{background:x("#272727",1),icon:x("#f2f2f2",1),border:x("#ffffff",1)},icon:x("#272727",1),reward:{background:x("#000000",.05),gradient:x("#6441d2",1),label:{primary:x("#272727",1),secondary:x("#272727",.7)},slider:{background:x("#e2e4ea",1),foreground:x("#6441d2",1)},icon:x("#272727",.7)}},avatarSideNav:{background:{default:x("#272727",0),hovered:x("#272727",.1),selected:x("#272727",.9)},icon:{default:x("#272727",1),hovered:x("#272727",1),selected:x("#ffffff",.9)},attribute:{default:x("#272727",1),hovered:x("#272727",1),selected:x("#ffffff",.9)},label:{default:x("#272727",1),hovered:x("#272727",1),selected:x("#ffffff",.9)}},avatarLoader:{fill:x("#272727",1),background:x("#272727",.1)},avatarColorPickerSwatch:{selectedState:x("#272727",1),icon:x("#ffffff",.9),noneBackground:x("#272727",1)},avatarSlider:{label:x("#272727",1),icon:x("#272727",.7),slider:{background:x("#272727",.05),label:x("#272727",.7),icon:x("#272727",1),foreground:{default:x("#272727",.9)},handle:{icon:x("#ffffff",.9),label:x("#ffffff",.9)}},background:x("#272727",.05)},avatarSectionHeader:{label:{primary:x("#272727",1),secondary:x("#272727",.7)},icon:x("#272727",1)},avatarSegmentedControl:{background:{chips:{default:x("#272727",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",.9)},picker:{default:x("#272727",.05)}},icon:{default:x("#272727",.7),hovered:x("#272727",.85),pressed:x("#272727",.9),selected:x("#ffffff",.9)},label:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#ffffff",.9)},selected:{background:x("#272727",.05)}},emptyStateIllustration:{icon:{primary:x("#272727",.5),secondary:x("#272727",.9)},abstractStars:x("#272727",.15),shimmer:x("#272727",.08)},navigationOverflowMenu:{label:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),selected:x("#ffffff",.9),disabled:x("#272727",.3)},icon:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),selected:x("#ffffff",.9),disabled:x("#272727",.3)},background:{fill:{default:x("#ffffff",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",.9),disabled:x("#ffffff",0)},border:{default:x("#ffffff",0),hovered:x("#ffffff",0),pressed:x("#ffffff",0),selected:x("#ffffff",0)}}},navigationSystemBar:{elementsButton:{icon:{default:x("#ffffff",1),hover:x("#ffffff",1),pressed:x("#ffffff",1),active:x("#ffffff",1),green:x("#ffffff",1),blue:x("#ffffff",1),withBadge:x("#ffffff",1),withStatus:x("#ffffff",1),privacyOn:x("#ffffff",1),open:x("#ffffff",1),recording:x("#ffffff",1)},fill:{default:x("#ffffff",1),hover:x("#ffffff",1),pressed:x("#ffffff",1),active:x("#ffffff",1),withBadge:x("#ffffff",1),withStatus:x("#ffffff",1),privacyOn:x("#ffffff",1),open:x("#ffffff",1),recording:x("#ffffff",1),number:x("#ffffff",1),status:x("#ffffff",1)},green:{stop1:x("#ffffff",1),stop2:x("#ffffff",1),stop3:x("#ffffff",1)},blue:{stop1:x("#ffffff",1),stop2:x("#ffffff",1),stop3:x("#ffffff",1)},number:{label:x("#ffffff",1)},badge:{fill:{privacyOn:x("#ffffff",1),open:x("#ffffff",1),recording:x("#ffffff",1)}},background:{default:x("#ffffff",1),hover:x("#ffffff",1),pressed:x("#ffffff",1),active:x("#ffffff",1)}},personalDisplayBar:{chin:x("#ffffff",1),defaultElementsButton:x("#ffffff",1)},navigationChevron:{chevron:x("#ffffff",1),fill:{default:x("#ffffff",1),hover:x("#ffffff",1)}},dividers:x("#ffffff",1),time:x("#ffffff",1),worldPillButton:{background:{default:x("#ffffff",1)}},appPillButton:{background:{default:x("#ffffff",1)}},avatarPillButton:{background:{default:x("#ffffff",1),hover:x("#ffffff",1)}},homeIcon:{background:{default:x("#ffffff",1),hover:x("#ffffff",1)},icon:x("#ffffff",1)},sectionHeader:x("#000000",1)},textInput:{label:{default:x("#272727",.7),hover:x("#272727",.7),pressed:x("#272727",.7),typing:x("#272727",1)},cursor:x("#0173ec",1),icon:x("#272727",.7),background:{default:x("#272727",.05),hovered:x("#272727",.1),pressed:x("#272727",.2),typing:x("#272727",.05)}},navigationAppTile:{label:{primary:x("#ffffff",1),secondary:x("#ffffff",1)},attribute:x("#ffffff",1),activeIndicator:x("#ffffff",1),navigationUninstalledStates:{label:x("#ffffff",1),iconButton:{download:{fill:x("#ffffff",1),icon:x("#ffffff",1)},queued:{stroke:x("#ffffff",1)},queuedHover:{icon:x("#ffffff",1),fill:x("#ffffff",1)},cancel:{icon:x("#ffffff",1),fill:x("#ffffff",1)},downloadingProgress:{stroke:{inactiveStroke:x("#ffffff",1),activeStroke:x("#ffffff",1)}},installing:{stroke:{activeStroke:x("#ffffff",1)}},redeem:{icon:x("#ffffff",1),fill:x("#ffffff",1)},view:{icon:x("#ffffff",1),fill:x("#ffffff",1)},update:{icon:x("#ffffff",1),fill:x("#ffffff",1)}}},uninstalledScrim:x("#ffffff",1)},semantic:{ui:{focusring:{default:x("#272727",0),hovered:x("#272727",.1),pressed:x("#272727",.2),selected:x("#272727",.9)},primary:{text:x("#ffffff",.9),icon:x("#ffffff",.9),background:{default:x("#272727",1),hovered:x("#5a5a5a",1),pressed:x("#747474",1)}},secondary:{text:x("#272727",1),icon:x("#272727",1),background:{default:x("#272727",.05),hovered:x("#272727",.1),pressed:x("#272727",.2)}},tertiary:{text:x("#272727",1),icon:x("#272727",1),background:{default:x("#272727",0),hovered:x("#272727",.1),pressed:x("#272727",.15)}},disabled:{text:x("#f2f2f2",1),icon:x("#f2f2f2",1),background:{default:x("#c0c0c0",1),hovered:x("#c0c0c0",1),pressed:x("#c0c0c0",1)}},selected:{text:x("#f2f2f2",1),icon:x("#f2f2f2",1),background:{default:x("#272727",1),hovered:x("#000000",.9),pressed:x("#000000",.95)}},deselected:{text:x("#272727",1),icon:x("#272727",1),background:{default:x("#272727",.05),hovered:x("#272727",.1),pressed:x("#272727",.15)}},onMedia:{text:x("#f2f2f2",1),icon:x("#f2f2f2",1),background:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2)}}},status:{notification:x("#0173ec",1),hidden:x("#8e8e8e",1),positive:x("#0b8a1b",1),negative:x("#dd1535",1),warning:x("#a94302",1),privacy:x("#6441d2",1)},text:{primary:x("#272727",1),secondary:x("#272727",.7),placeholder:x("#272727",.3),disabled:x("#272727",.3),link:x("#0173ec",1),positive:x("#0b8a1b",1),negative:x("#dd1535",1),warning:x("#a94302",1),primaryOnMedia:x("#ffffff",.9),secondaryOnMedia:x("#ffffff",.7)},icon:{primary:x("#272727",1),secondary:x("#272727",.7),placeholder:x("#272727",.3),disabled:x("#272727",.3),positive:x("#0b8a1b",1),negative:x("#dd1535",1),warning:x("#a94302",1),onMedia:x("#ffffff",.9),secondaryOnMedia:x("#ffffff",.7)},background:{primary:{stop1:x("#ffffff",1),stop2:x("#f2f2f2",1)},positive:x("#0b8a1b",1),negative:x("#dd1535",1),privacy:x("#6441d2",1),ui:{primary:x("#272727",1),secondary:x("#272727",.05)}},shadows:{punchedIn:{dropShadow:x("#ffffff",1),innerShadow:x("#272727",.05)},beveled:{left:x("#ffffff",1),right:x("#272727",.05)},dropShadow:{innerShadow:{left:x("#ffffff",1),right:x("#272727",.05)},dropShadow:{top:x("#272727",.05),bottom:x("#272727",.05)}},panel:{innerShadow:x("#272727",.1),innerShadow2:x("#ffffff",1)}}}}},PG={component:{button:{primary:{background:{fill:{default:x("#ffffff",.9),hovered:x("#d9d9d9",1),pressed:x("#c0c0c0",1),disabled:x("#5a5a5a",1)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},label:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),disabled:x("#ffffff",.3)},icon:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1),disabled:x("#f2f2f2",1)},subtext:{default:x("#272727",.7),hovered:x("#272727",.7),pressed:x("#272727",.7),disabled:x("#ffffff",.3)}},secondary:{label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#ffffff",.3)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#ffffff",.3)},background:{fill:{default:x("#ffffff",.05),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),disabled:x("#ffffff",.05)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},subtext:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),disabled:x("#ffffff",.7)}},tertiary:{label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#ffffff",.3)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#ffffff",.3)},background:{fill:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.15),disabled:x("#ffffff",0)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},subtext:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),disabled:x("#ffffff",.7)}},onMedia:{label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#ffffff",.35)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#ffffff",.35)},background:{fill:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),disabled:x("#ffffff",0)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},subtext:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#ffffff",.35)}},positive:{label:{default:x("#ffffff",1),hovered:x("#ffffff",1),pressed:x("#ffffff",1),disabled:x("#f2f2f2",1)},icon:{default:x("#ffffff",1),hovered:x("#ffffff",1),pressed:x("#ffffff",1),disabled:x("#f2f2f2",1)},background:{fill:{default:x("#2ad116",1),hovered:x("#006622",1),pressed:x("#003d1e",1),disabled:x("#5a5a5a",1)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},subtext:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#f2f2f2",1)}},negative:{label:{default:x("#ffffff",1),hovered:x("#ffffff",1),pressed:x("#ffffff",1),disabled:x("#f2f2f2",1)},icon:{default:x("#ffffff",1),hovered:x("#ffffff",1),pressed:x("#ffffff",1),disabled:x("#f2f2f2",1)},background:{fill:{default:x("#f7818c",1),hovered:x("#f45b6b",1),pressed:x("#ec374e",1),disabled:x("#5a5a5a",1)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0)}},subtext:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),disabled:x("#f2f2f2",1)}}},selectionDropdown:{label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1),ring:{stop1:x("#014ed0",1),stop2:x("#31d3f3",1)}},background:{fill:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",.9)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0),selected:x("#000000",0)}}},iconIndicator:{icon:{good:x("#000000",0),poor:x("#000000",0),bad:x("#000000",0),none:x("#000000",0)},background:{fill:{good:x("#2ad116",1),poor:x("#fc9435",1),bad:x("#f7818c",1),none:x("#ffffff",.9)}}},toggle:{background:{default:x("#ffffff",.15),hovered:x("#ffffff",.25),pressed:x("#ffffff",.35),selected:x("#000000",1)},handle:{default:x("#ffffff",.9),hovered:x("#ffffff",.95),pressed:x("#ffffff",1),selected:x("#ffffff",1)}},checkbox:{selected:{background:{default:x("#ffffff",.15),hover:x("#ffffff",.25),pressed:x("#ffffff",.35),selected:x("#ffffff",1)},icon:{default:x("#272727",0),hover:x("#272727",0),pressed:x("#272727",0),selected:x("#272727",.9)}}},radioButtons:{background:{default:x("#ffffff",.15),hovered:x("#ffffff",.25),pressed:x("#ffffff",.35),selected:x("#ffffff",1)},icon:{default:x("#272727",0),hovered:x("#272727",0),pressed:x("#272727",0),selected:x("#272727",.9)}},progressBar:{indeterminate:{background:{background:x("#000000",.1)},fill:{stop1:x("#ffffff",.7),stop2:x("#ffffff",.9),stop3:x("#ffffff",.7)}},determinate:{fill:{fill:x("#ffffff",.9)},background:{background:x("#000000",.1)}},quickReplies:{label:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),selected:x("#272727",.9)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",.9)},background:{fill:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",.9)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0),selected:x("#000000",0)}},dividers:x("#ffffff",.1)}},menu:{title:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1)},background:{fill:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",.9)}},sectionHeader:x("#ffffff",.9),subtitle:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),selected:x("#272727",.9)},toggle:{title:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#ffffff",.9)},background:{fill:{default:x("#ffffff",0),hovered:x("#ffffff",0),pressed:x("#ffffff",0),selected:x("#ffffff",0)}},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#ffffff",.9)},subtitle:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),selected:x("#ffffff",.7)}},labelIcon:{label:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),selected:x("#272727",.9)},icon:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),selected:x("#272727",.9)}}},sideNavigation:{sideNavItem:{label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1)},background:{fill:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",.9)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0),selected:x("#000000",0)}}},label:{label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#ffffff",.9)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#ffffff",.9)},background:{fill:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",0)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0),selected:x("#000000",0)}}}},badges:{primary:{background:x("#ffffff",.9),label:x("#272727",1),icon:x("#272727",1)},secondary:{background:x("#272727",.9),label:x("#ffffff",.9),icon:x("#ffffff",.9)},positive:{background:x("#0b8a1b",1),label:x("#ffffff",.9),icon:x("#ffffff",.9)},background:{background:x("#dd1535",1),label:x("#ffffff",.9),icon:x("#ffffff",.9)}},imageCards:{background:{fill:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",0)},border:{default:x("#ffffff",0),hovered:x("#ffffff",0),pressed:x("#ffffff",0),selected:x("#ffffff",0)}},label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7),metadata:x("#ffffff",.7),rating:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)},price:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)}},icon:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)}},tiles:{label:{onMedia:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)},primary:x("#ffffff",.9),secondary:x("#ffffff",.9)},icon:{onMedia:{primary:x("#ffffff",1)},primary:x("#ffffff",.9),secondary:x("#ffffff",.9)},eventHeader:{label:{primary:x("#ffffff",.9),month:x("#dd1535",1),date:x("#272727",1)},background:{primary:x("#000000",.6),date:x("#ffffff",.9)},notification:{indicator:x("#dd1535",1)}},background:{primary:x("#000000",.1)},mediaThumbnail:{border:x("#272727",.1)},check:{background:x("#ffffff",.9),icon:x("#272727",1)}},segmentedControl:{background:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",.9)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1)},label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1)},selected:{background:x("#000000",.1)}},progressRing:{background:{active:x("#ffffff",.9),inactive:x("#ffffff",.1)},icon:{fill:x("#ffffff",.9)}},avatar:{badge:{active:x("#2ad116",1)},focusRing:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",.7)}},facepile:{label:x("#ffffff",.9)},peopleCard:{label:{secondary:x("#ffffff",.7),primary:x("#ffffff",.9),tertiary:x("#ffffff",.7)},badge:{active:x("#2ad116",1)}},onMediaCheckbox:{background:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",1)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1)}},syncButton:{background:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",0)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9)},progressRing:{background:x("#ffffff",.3),fill:x("#ffffff",.9)}},galleryTile:{icon:x("#ffffff",1),label:x("#ffffff",.9)},search:{label:x("#ffffff",.9),cursor:x("#64b5ff",1),background:{default:x("#000000",.15),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),typing:x("#000000",.15)},icon:x("#ffffff",.9)},slider:{label:x("#ffffff",.7),background:x("#000000",.1),icon:x("#ffffff",.9),handle:{background:{hover:x("#000000",.1),pressed:x("#000000",.2),default:x("#000000",0)},icon:x("#272727",1),label:x("#272727",1)},foreground:{default:x("#ffffff",.9)}},typehead:{icon:x("#ffffff",.9),label:x("#ffffff",.7),background:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.15)}},inputKeys:{letter:{background:{default:x("#ffffff",.05),pressed:x("#ffffff",.2),hovered:x("#ffffff",.1)},label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.3)}},icon:{background:{default:x("#ffffff",.05),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2)},icon:{default:x("#ffffff",1),hovered:x("#ffffff",1),pressed:x("#ffffff",1)}},alt:{background:{default:x("#414141",1),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2)},label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.3)}},primary:{background:{default:x("#ffffff",.9),hovered:x("#d9d9d9",1),pressed:x("#c0c0c0",1)},icon:{default:x("#272727",1),hovered:x("#272727",1),pressed:x("#272727",1)}},spaceBar:{background:{default:x("#ffffff",.05),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2)}}},controlBar:{background:{default:x("#414141",1),spatialMinimized:{fill:x("#ffffff",1),border:x("#ffffff",1)}},label:x("#ffffff",.9)},inputKeyboard:{background:{fill:{stop1:x("#414141",1),stop2:x("#272727",1)},border:x("#ffffff",.1)},dividers:x("#ffffff",.1),label:x("#ffffff",.7)},tooltip:{background:{stop1:x("#414141",1),stop2:x("#272727",1)},icon:{default:x("#ffffff",.9)},label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)}},infoCells:{background:x("#272727",.1),icon:x("#ffffff",.7),subheadline:x("#ffffff",.7),label:x("#ffffff",.7)},listCells:{background:{default:x("#000000",.1),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2)},label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7),secondaryTextIcon:x("#ffffff",.7)},attribute:{primary:x("#ffffff",.9)}},auiNavigationBar:{background:{stop1:x("#414141",1),stop2:x("#272727",1)},statusElements:{time:x("#ffffff",.7),wifi:x("#ffffff",.9),battery:x("#ffffff",.9)},divider:x("#ffffff",.1)},achievementRow:{background:{default:x("#ffffff",0)},label:{primary:x("#ffffff",.9),rating:x("#ffffff",.7),category:x("#ffffff",.7),description:x("#ffffff",.7),achievements:x("#ffffff",.7),progress:x("#ffffff",.9)},icon:{rating:x("#ffffff",.9)}},browserTab:{background:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",.9)},label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1)}},browserToolBar:{icon:x("#ffffff",.7)},browserTopBar:{label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.9)},icon:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)}},dialogModals:{background:{stop1:x("#414141",1),stop2:x("#272727",1)},label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7),link:x("#64b5ff",1)},icon:{primary:x("#ffffff",.9)}},fullPanelModals:{background:{stop1:x("#414141",1),stop2:x("#272727",1)},label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)}},heroImage:{label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)},pagination:{active:x("#ffffff",.9),inactive:x("#ffffff",.3)}},listHeader:{label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)}},mediaControls:{icon:{icon:x("#ffffff",.9),progressBar:{foreground:x("#ffffff",.9),background:x("#ffffff",.3)}},playButton:{background:x("#ffffff",.9),icon:x("#272727",.9)}},inputField:{label:x("#ffffff",.7),icon:x("#ffffff",.7),inputField:x("#ffffff",.05),background:{default:x("#ffffff",.05),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2)}},popover:{label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)},background:{stop1:x("#414141",1),stop2:x("#272727",1)},icon:x("#ffffff",.9)},sectionHeader:{label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)}},scrollbars:{background:{fill:x("#ffffff",.9)}},bottomButton:{label:{primary:x("#ffffff",.7),link:x("#64b5ff",1)}},sidesheet:{background:{stop1:x("#414141",1),stop2:x("#272727",1)},label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)},divider:x("#ffffff",.1)},toast:{toast:{background:{stop1:x("#414141",1),stop2:x("#272727",1),delete:x("#dd1535",1),label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)},icon:{primary:x("#ffffff",.9)}},slider:{background:x("#000000",.1),forground:x("#ffffff",.9)}}},reactionPill:{background:{border:{stop1:x("#414141",1),stop2:x("#272727",1)},fill:x("#272727",1)},label:x("#ffffff",1)},chatBubble:{sender:{fill:x("#ffffff",1),label:x("#272727",1)},responder:{fill:x("#272727",1),label:x("#ffffff",1)}},avatarTile:{background:x("#000000",.1),selectedBorder:x("#ffffff",.9),label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)},multiselect:{background:x("#ffffff",1),icon:x("#272727",1),border:x("#414141",1)},icon:x("#ffffff",.9),reward:{background:x("#000000",.1),gradient:x("#9c94f8",1),label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)},slider:{background:x("#e2e4ea",1),foreground:x("#6441d2",1)},icon:x("#ffffff",.7)}},avatarSideNav:{background:{default:x("#ffffff",0),hovered:x("#ffffff",.1),selected:x("#ffffff",.9)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),selected:x("#272727",1)},attribute:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),selected:x("#272727",1)},label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),selected:x("#272727",.9)}},avatarLoader:{fill:x("#ffffff",.9),background:x("#ffffff",.1)},avatarColorPickerSwatch:{selectedState:x("#ffffff",.9),icon:x("#ffffff",.9),noneBackground:x("#272727",1)},avatarSlider:{label:x("#ffffff",.9),icon:x("#ffffff",.7),slider:{background:x("#000000",.1),label:x("#ffffff",.7),icon:x("#ffffff",.9),foreground:{default:x("#ffffff",.9)},handle:{icon:x("#272727",1),label:x("#272727",1)}},background:x("#000000",.1)},avatarSectionHeader:{label:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7)},icon:x("#ffffff",.9)},avatarSegmentedControl:{background:{chips:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",.9)},picker:{default:x("#000000",.1)}},icon:{default:x("#ffffff",.7),hovered:x("#ffffff",.8),pressed:x("#ffffff",.9),selected:x("#272727",1)},label:{default:x("#ffffff",.7),hovered:x("#ffffff",.7),pressed:x("#ffffff",.7),selected:x("#272727",.9)},selected:{background:x("#000000",.1)}},emptyStateIllustration:{icon:{primary:x("#ffffff",.5),secondary:x("#ffffff",.9)},abstractStars:x("#ffffff",.15),shimmer:x("#ffffff",.1)},navigationOverflowMenu:{label:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1),disabled:x("#ffffff",.1)},icon:{default:x("#ffffff",.9),hovered:x("#ffffff",.9),pressed:x("#ffffff",.9),selected:x("#272727",1),disabled:x("#ffffff",.1)},background:{fill:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",.9),disabled:x("#272727",0)},border:{default:x("#000000",0),hovered:x("#000000",0),pressed:x("#000000",0),selected:x("#000000",0)}}},navigationSystemBar:{elementsButton:{icon:{default:x("#ffffff",1),hover:x("#ffffff",1),pressed:x("#ffffff",1),active:x("#ffffff",1),green:x("#ffffff",1),blue:x("#ffffff",1),withBadge:x("#ffffff",1),withStatus:x("#ffffff",1),privacyOn:x("#ffffff",1),open:x("#ffffff",1),recording:x("#ffffff",1)},fill:{default:x("#ffffff",1),hover:x("#ffffff",1),pressed:x("#ffffff",1),active:x("#ffffff",1),withBadge:x("#ffffff",1),withStatus:x("#ffffff",1),privacyOn:x("#ffffff",1),open:x("#ffffff",1),recording:x("#ffffff",1),number:x("#ffffff",1),status:x("#ffffff",1)},green:{stop1:x("#ffffff",1),stop2:x("#ffffff",1),stop3:x("#ffffff",1)},blue:{stop1:x("#ffffff",1),stop2:x("#ffffff",1),stop3:x("#ffffff",1)},number:{label:x("#ffffff",1)},badge:{fill:{privacyOn:x("#ffffff",1),open:x("#ffffff",1),recording:x("#ffffff",1)}},background:{default:x("#ffffff",1),hover:x("#ffffff",1),pressed:x("#ffffff",1),active:x("#ffffff",1)}},personalDisplayBar:{chin:x("#ffffff",1),defaultElementsButton:x("#ffffff",1)},navigationChevron:{chevron:x("#ffffff",1),fill:{default:x("#ffffff",1),hover:x("#ffffff",1)}},dividers:x("#ffffff",1),time:x("#ffffff",1),worldPillButton:{background:{default:x("#ffffff",1)}},appPillButton:{background:{default:x("#ffffff",1)}},avatarPillButton:{background:{default:x("#ffffff",1),hover:x("#ffffff",1)}},homeIcon:{background:{default:x("#ffffff",1),hover:x("#ffffff",1)},icon:x("#ffffff",1)},sectionHeader:x("#ffffff",1)},textInput:{label:{default:x("#ffffff",.9),hover:x("#ffffff",.9),pressed:x("#ffffff",.9),typing:x("#ffffff",1)},cursor:x("#64b5ff",1),icon:x("#ffffff",.7),background:{default:x("#ffffff",.05),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),typing:x("#ffffff",.05)}},navigationAppTile:{label:{primary:x("#ffffff",1),secondary:x("#ffffff",1)},attribute:x("#ffffff",1),activeIndicator:x("#ffffff",1),navigationUninstalledStates:{label:x("#ffffff",1),iconButton:{download:{fill:x("#ffffff",1),icon:x("#ffffff",1)},queued:{stroke:x("#ffffff",1)},queuedHover:{icon:x("#ffffff",1),fill:x("#ffffff",1)},cancel:{icon:x("#ffffff",1),fill:x("#ffffff",1)},downloadingProgress:{stroke:{inactiveStroke:x("#ffffff",1),activeStroke:x("#ffffff",1)}},installing:{stroke:{activeStroke:x("#ffffff",1)}},redeem:{icon:x("#ffffff",1),fill:x("#ffffff",1)},view:{icon:x("#ffffff",1),fill:x("#ffffff",1)},update:{icon:x("#ffffff",1),fill:x("#ffffff",1)}}},uninstalledScrim:x("#ffffff",1)},semantic:{ui:{focusring:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2),selected:x("#ffffff",.7)},primary:{text:x("#272727",1),icon:x("#272727",1),background:{default:x("#ffffff",.9),hovered:x("#d9d9d9",1),pressed:x("#c0c0c0",1)}},secondary:{text:x("#ffffff",.9),icon:x("#ffffff",.9),background:{default:x("#ffffff",.05),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2)}},tertiary:{text:x("#ffffff",.9),icon:x("#ffffff",.9),background:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.15)}},disabled:{text:x("#8e8e8e",1),icon:x("#8e8e8e",1),background:{default:x("#5a5a5a",1),hovered:x("#5a5a5a",1),pressed:x("#5a5a5a",1)}},selected:{text:x("#272727",1),icon:x("#272727",1),background:{default:x("#ffffff",1),hovered:x("#f2f2f2",1),pressed:x("#d9d9d9",1)}},deselected:{text:x("#ffffff",.9),icon:x("#ffffff",.9),background:{default:x("#ffffff",.05),hovered:x("#ffffff",.1),pressed:x("#ffffff",.15)}},onMedia:{text:x("#f2f2f2",1),icon:x("#f2f2f2",1),background:{default:x("#ffffff",0),hovered:x("#ffffff",.1),pressed:x("#ffffff",.2)}}},status:{notification:x("#64b5ff",1),hidden:x("#8e8e8e",1),positive:x("#2ad116",1),negative:x("#f7818c",1),warning:x("#fc9435",1),privacy:x("#9c94f8",1)},text:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7),placeholder:x("#ffffff",.3),disabled:x("#ffffff",.3),link:x("#64b5ff",1),positive:x("#2ad116",1),negative:x("#f7818c",1),warning:x("#fc9435",1),primaryOnMedia:x("#ffffff",.9),secondaryOnMedia:x("#ffffff",.7)},icon:{primary:x("#ffffff",.9),secondary:x("#ffffff",.7),placeholder:x("#ffffff",.3),disabled:x("#ffffff",.3),positive:x("#2ad116",1),negative:x("#f7818c",1),warning:x("#fc9435",1),onMedia:x("#ffffff",.9),secondaryOnMedia:x("#ffffff",.7)},background:{primary:{stop1:x("#414141",1),stop2:x("#272727",1)},positive:x("#2ad116",1),negative:x("#f7818c",1),privacy:x("#9c94f8",1),ui:{primary:x("#ffffff",.9),secondary:x("#ffffff",.05)}},shadows:{punchedIn:{dropShadow:x("#ffffff",.1),innerShadow:x("#000000",.1)},beveled:{left:x("#ffffff",.1),right:x("#000000",.1)},dropShadow:{innerShadow:{left:x("#ffffff",.1),right:x("#000000",.1)},dropShadow:{top:x("#000000",.1),bottom:x("#000000",.2)}},panel:{innerShadow:x("#000000",.1),innerShadow2:x("#ffffff",.1)}}}}};function dS(n,e){const t=o=>o instanceof $s,s=o=>o!=null&&typeof o=="object"&&!t(o);if(!s(n)||!s(e))return be(()=>{const o=t(n)?n.value:n,a=t(e)?e.value:e;return iI.value?a:o});const i={},r=new Set([...Object.keys(n||{}),...Object.keys(e||{})]);for(const o of r)i[o]=dS(n[o],e?.[o]);return i}const ke=dS(TG,PG);class RG extends Lt{constructor(e,t,s){const i=be(()=>{const r=this.parentContainer.value;return!(r instanceof fI)||(r.properties.value.size??"lg")==="lg"?24:16});super(e,t,{defaults:qa,...s,defaultOverrides:{"*":{width:i,height:i},...s?.defaultOverrides}})}}class QG extends Lt{constructor(e,t,s){super(e,t,{defaults:qa,...s,defaultOverrides:{flexDirection:"column",...s?.defaultOverrides}})}}class DG extends Lt{constructor(e,t,s){super(e,t,{defaults:qa,...s,defaultOverrides:{fontSize:12,lineHeight:"16px",color:be(()=>{const i=this.parentContainer.value?.parentContainer.value;if(i instanceof fI)return i.properties.value.disabled===!0&&ke.component.button[i.properties.value.variant??"primary"].subtext.disabled.value,ke.component.button[i.properties.value.variant??"primary"].subtext.default.value}),...s?.defaultOverrides}})}}const LG={primary:{backgroundColor:ke.component.button.primary.background.fill.default,color:ke.component.button.primary.label.default,hover:{backgroundColor:ke.component.button.primary.background.fill.hovered,color:ke.component.button.primary.label.hovered},active:{backgroundColor:ke.component.button.primary.background.fill.pressed,color:ke.component.button.primary.label.pressed}},secondary:{backgroundColor:ke.component.button.secondary.background.fill.default,color:ke.component.button.secondary.label.default,hover:{backgroundColor:ke.component.button.secondary.background.fill.hovered,color:ke.component.button.secondary.label.hovered},active:{backgroundColor:ke.component.button.secondary.background.fill.pressed,color:ke.component.button.secondary.label.pressed}},tertiary:{backgroundColor:ke.component.button.tertiary.background.fill.default,color:ke.component.button.tertiary.label.default,hover:{backgroundColor:ke.component.button.tertiary.background.fill.hovered,color:ke.component.button.tertiary.label.hovered},active:{backgroundColor:ke.component.button.tertiary.background.fill.pressed,color:ke.component.button.tertiary.label.pressed}},onMedia:{backgroundColor:ke.component.button.onMedia.background.fill.default,color:ke.component.button.onMedia.label.default,hover:{backgroundColor:ke.component.button.onMedia.background.fill.hovered,color:ke.component.button.onMedia.label.hovered},active:{backgroundColor:ke.component.button.onMedia.background.fill.pressed,color:ke.component.button.onMedia.label.pressed}},positive:{backgroundColor:ke.component.button.positive.background.fill.default,color:ke.component.button.positive.label.default,hover:{backgroundColor:ke.component.button.positive.background.fill.hovered,color:ke.component.button.positive.label.hovered},active:{backgroundColor:ke.component.button.positive.background.fill.pressed,color:ke.component.button.positive.label.pressed}},negative:{backgroundColor:ke.component.button.negative.background.fill.default,color:ke.component.button.negative.label.default,hover:{backgroundColor:ke.component.button.negative.background.fill.hovered,color:ke.component.button.negative.label.hovered},active:{backgroundColor:ke.component.button.negative.background.fill.pressed,color:ke.component.button.negative.label.pressed},important:{backgroundColor:ke.component.button.negative.background.fill.disabled,color:ke.component.button.negative.label.disabled}}},Wc=LG,kG={lg:{height:44,fontSize:14,lineHeight:"20px",minWidth:80},sm:{height:32,fontSize:12,lineHeight:"16px",minWidth:80}},pA=kG;class fI extends Lt{constructor(e,t,s){const i=be(()=>pA[this.properties.value.size??"lg"].height);super(e,t,{...s,defaultOverrides:{color:be(()=>Wc[this.properties.value.variant??"primary"].color?.value),backgroundColor:be(()=>Wc[this.properties.value.variant??"primary"].backgroundColor?.value),hover:{color:be(()=>Wc[this.properties.value.variant??"primary"].hover?.color?.value),backgroundColor:be(()=>Wc[this.properties.value.variant??"primary"].hover?.backgroundColor?.value)},active:{color:be(()=>Wc[this.properties.value.variant??"primary"].active?.color?.value),backgroundColor:be(()=>Wc[this.properties.value.variant??"primary"].active?.backgroundColor?.value)},important:{backgroundColor:be(()=>this.properties.value.disabled===!0?ke.component.button.negative.background.fill.disabled.value:void 0),color:be(()=>this.properties.value.disabled===!0?ke.component.button.negative.label.disabled.value:void 0)},height:i,fontSize:be(()=>pA[this.properties.value.size??"lg"].fontSize),lineHeight:be(()=>pA[this.properties.value.size??"lg"].lineHeight),minWidth:be(()=>pA[this.properties.value.size??"lg"].minWidth),width:be(()=>this.properties.value.icon??!1?i.value:void 0),fontWeight:500,flexDirection:"row",alignItems:"center",justifyContent:"center",gap:8,borderRadius:1e3,paddingX:16,cursor:"pointer",...s?.defaultOverrides}})}}const FG='<svg class="lucide lucide-check" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19.640 5.068 C 19.483 5.121,18.793 5.795,14.230 10.354 L 9.001 15.578 6.770 13.353 C 4.622 11.209,4.532 11.125,4.323 11.064 C 4.057 10.986,3.945 10.984,3.710 11.055 C 3.467 11.128,3.260 11.293,3.128 11.516 C 3.037 11.672,3.020 11.746,3.020 12.000 C 3.020 12.254,3.036 12.328,3.127 12.480 C 3.262 12.706,8.368 17.805,8.560 17.905 C 8.659 17.957,8.788 17.979,9.000 17.979 C 9.255 17.980,9.327 17.964,9.480 17.873 C 9.708 17.737,20.805 6.633,20.905 6.440 C 20.957 6.341,20.979 6.212,20.979 6.000 C 20.980 5.745,20.964 5.672,20.872 5.516 C 20.617 5.083,20.122 4.903,19.640 5.068 " stroke="none" fill-rule="evenodd" fill="black"></path></svg>';class UG extends iu{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{content:FG,width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...s?.defaultOverrides}})}}const OG='<svg class="lucide lucide-chevron-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5.670 8.061 C 5.448 8.142,5.250 8.309,5.128 8.516 C 5.036 8.672,5.020 8.745,5.021 9.000 C 5.021 9.212,5.043 9.341,5.095 9.440 C 5.195 9.632,11.294 15.738,11.520 15.873 C 11.673 15.964,11.745 15.980,12.000 15.979 C 12.212 15.979,12.341 15.957,12.440 15.905 C 12.632 15.805,18.738 9.706,18.873 9.480 C 18.964 9.328,18.980 9.254,18.980 9.000 C 18.980 8.746,18.963 8.672,18.872 8.516 C 18.618 8.084,18.138 7.906,17.657 8.065 C 17.478 8.125,17.210 8.380,14.730 10.854 L 12.000 13.578 9.270 10.854 C 6.790 8.380,6.522 8.125,6.343 8.065 C 6.107 7.987,5.874 7.986,5.670 8.061 " stroke="none" fill-rule="evenodd" fill="black"></path></svg>';class GG extends iu{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{content:OG,width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...s?.defaultOverrides}})}}const HG='<svg class="lucide lucide-mic" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11.358 1.061 C 9.731 1.315,8.417 2.584,8.083 4.227 C 8.002 4.620,8.000 4.750,8.000 8.500 C 8.000 12.250,8.002 12.380,8.083 12.773 C 8.357 14.118,9.249 15.195,10.512 15.704 C 11.231 15.994,12.023 16.070,12.757 15.921 C 14.384 15.589,15.589 14.384,15.921 12.757 C 15.997 12.384,16.000 12.201,16.000 8.500 C 16.000 4.799,15.997 4.616,15.921 4.243 C 15.721 3.264,15.197 2.415,14.438 1.843 C 13.866 1.412,13.276 1.160,12.605 1.058 C 12.144 0.989,11.816 0.990,11.358 1.061 M12.523 3.073 C 13.022 3.203,13.516 3.599,13.772 4.071 C 13.999 4.490,13.999 4.489,13.999 8.500 C 13.999 12.510,13.999 12.507,13.772 12.931 C 13.625 13.208,13.191 13.643,12.930 13.775 C 12.346 14.071,11.658 14.073,11.083 13.781 C 10.816 13.646,10.449 13.297,10.281 13.017 C 9.996 12.544,10.005 12.689,10.002 8.528 C 10.000 4.378,9.995 4.464,10.265 4.014 C 10.745 3.212,11.635 2.841,12.523 3.073 M4.695 9.057 C 4.466 9.129,4.256 9.299,4.128 9.516 L 4.020 9.700 4.007 11.020 C 3.993 12.413,4.025 12.935,4.166 13.620 C 4.399 14.756,4.948 15.949,5.674 16.900 C 5.933 17.239,6.606 17.925,6.960 18.211 C 7.687 18.799,8.620 19.307,9.500 19.595 C 9.976 19.751,10.703 19.920,10.896 19.920 L 10.996 19.920 11.008 21.113 L 11.020 22.306 11.141 22.503 C 11.543 23.156,12.457 23.156,12.859 22.503 L 12.980 22.306 12.992 21.113 L 13.004 19.920 13.104 19.920 C 13.297 19.920,14.024 19.751,14.500 19.595 C 15.380 19.307,16.313 18.799,17.040 18.211 C 17.394 17.925,18.067 17.239,18.326 16.900 C 19.052 15.949,19.601 14.756,19.834 13.620 C 19.975 12.935,20.007 12.413,19.993 11.020 L 19.980 9.700 19.871 9.514 C 19.479 8.848,18.521 8.848,18.129 9.514 L 18.020 9.700 17.994 11.200 C 17.965 12.933,17.930 13.209,17.639 14.029 C 16.946 15.982,15.258 17.435,13.160 17.885 C 12.554 18.015,11.446 18.015,10.840 17.885 C 8.739 17.434,7.055 15.984,6.361 14.029 C 6.070 13.209,6.035 12.933,6.006 11.200 L 5.980 9.700 5.872 9.516 C 5.628 9.101,5.150 8.915,4.695 9.057 " stroke="none" fill-rule="evenodd" fill="black"></path></svg>';class zG extends iu{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{content:HG,width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...s?.defaultOverrides}})}}const VG={normal:{width:16,height:16,borderRadius:4,backgroundColor:ke.component.checkbox.selected.background.default,color:ke.component.checkbox.selected.icon.selected,hover:{backgroundColor:ke.component.checkbox.selected.background.hover},active:{backgroundColor:ke.component.checkbox.selected.background.pressed},important:{backgroundColor:ke.component.checkbox.selected.background.selected},"*":{width:14,height:14}},onMedia:{width:32,height:32,borderRadius:100,hover:{backgroundColor:ke.component.onMediaCheckbox.background.hovered,color:ke.component.onMediaCheckbox.icon.hovered},active:{backgroundColor:ke.component.onMediaCheckbox.background.pressed,color:ke.component.onMediaCheckbox.icon.pressed},important:{backgroundColor:ke.component.onMediaCheckbox.background.selected,color:ke.component.onMediaCheckbox.icon.selected},"*":{width:24,height:24}}},Dr=VG;class qG extends Lt{uncontrolledSignal=bt(void 0);currentSignal=be(()=>this.properties.value.checked??this.uncontrolledSignal.value??this.properties.value.defaultChecked);icon;defaultOnMediaRing;constructor(e,t,s){super(e,t,{...s,defaultOverrides:{alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0,width:be(()=>Dr[this.properties.value.variant??"normal"].width),height:be(()=>Dr[this.properties.value.variant??"normal"].height),borderRadius:be(()=>Dr[this.properties.value.variant??"normal"].borderRadius),backgroundColor:be(()=>Dr[this.properties.value.variant??"normal"].backgroundColor?.value),hover:{backgroundColor:be(()=>Dr[this.properties.value.variant??"normal"].hover?.backgroundColor?.value)},active:{backgroundColor:be(()=>Dr[this.properties.value.variant??"normal"].active?.backgroundColor?.value)},important:{backgroundColor:be(()=>this.currentSignal.value?Dr[this.properties.value.variant??"normal"].important?.backgroundColor?.value:void 0)},color:be(()=>Dr[this.properties.value.variant??"normal"].color?.value),onClick:()=>{if(this.properties.peek().disabled)return;const i=this.currentSignal.peek();this.properties.peek().checked==null&&(this.uncontrolledSignal.value=!i),this.properties.peek().onCheckedChange?.(!i)},...s?.defaultOverrides}}),super.add(this.defaultOnMediaRing=new Lt(void 0,void 0,{defaultOverrides:{display:be(()=>this.hoveredList.value.length===0&&this.activeList.value.length===0&&!this.currentSignal.value&&(this.properties.value.variant??"normal")==="onMedia"?"flex":"none"),borderColor:ke.component.onMediaCheckbox.icon.default,width:20,height:20,borderWidth:2,positionType:"absolute",positionTop:"50%",positionLeft:"50%",transformTranslateX:"-50%",transformTranslateY:"-50%",borderRadius:1e3}})),super.add(this.icon=new UG(void 0,void 0,{defaultOverrides:{display:be(()=>(this.properties.value.variant??"normal")==="normal"?this.currentSignal.value?"flex":"none":this.hoveredList.value.length===0&&this.activeList.value.length===0&&!this.currentSignal.value?"none":"flex"),flexShrink:0,width:be(()=>Dr[this.properties.value.variant??"normal"]["*"]?.width),height:be(()=>Dr[this.properties.value.variant??"normal"]["*"]?.height),color:ke.component.checkbox.selected.icon.selected}}))}dispose(){this.defaultOnMediaRing.dispose(),this.icon.dispose(),super.dispose()}add(){throw new Error("the checkbox component can not have any children")}}class WG extends Lt{uncontrolledSignal=bt(void 0);currentSignal=be(()=>this.properties.value.checked??this.uncontrolledSignal.value??this.properties.value.defaultChecked);handle;constructor(e,t,s){super(e,t,{...s,defaultOverrides:{cursor:"pointer",flexShrink:0,borderRadius:1e3,padding:2,height:24,width:40,justifyContent:be(()=>this.currentSignal.value?"flex-end":"flex-start"),"*":{backgroundColor:ke.component.toggle.handle.default.value,hover:{backgroundColor:ke.component.toggle.handle.hovered.value},active:{backgroundColor:ke.component.toggle.handle.pressed.value},important:{backgroundColor:be(()=>this.currentSignal.value?ke.component.toggle.handle.selected.value:void 0)}},backgroundColor:ke.component.toggle.background.default.value,hover:{backgroundColor:ke.component.toggle.background.hovered.value},active:{backgroundColor:ke.component.toggle.background.pressed.value},important:{backgroundColor:be(()=>this.currentSignal.value?ke.component.toggle.background.selected.value:void 0)},onClick:()=>{if(this.properties.peek().disabled)return;const i=this.currentSignal.peek();this.properties.peek().checked==null&&(this.uncontrolledSignal.value=!i),this.properties.peek().onCheckedChange?.(!i)},...s?.defaultOverrides}}),super.add(this.handle=new Lt(void 0,void 0,{defaultOverrides:{flexShrink:0,width:20,height:20,borderRadius:1e3}}))}dispose(){this.handle.dispose(),super.dispose()}add(){throw new Error("the Toggle component can not have any children")}}class XG extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{flexDirection:"row",height:12,gap:8,...s?.defaultOverrides}})}}class YG extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{borderRadius:1e3,height:12,flexGrow:1,backgroundColor:be(()=>this.properties.value.value?ke.component.progressBar.determinate.fill.fill.value:ke.component.progressBar.determinate.background.background.value),...s?.defaultOverrides}})}add(){throw new Error("the ProgressBarStepperStep component can not have any children")}}class JG extends Lt{fill;constructor(e,t,s){super(e,t,{...s,defaultOverrides:{borderRadius:1e3,height:12,backgroundColor:ke.component.progressBar.determinate.background.background.value,...s?.defaultOverrides}}),super.add(this.fill=new Lt(void 0,void 0,{defaultOverrides:{height:12,borderRadius:1e3,backgroundColor:ke.component.progressBar.determinate.fill.fill.value,width:be(()=>`${this.properties.value.value??0}%`),minWidth:12}}))}dispose(){this.fill.dispose(),super.dispose()}add(){throw new Error("the ProgressBar component can not have any children")}}const KG={none:{content:`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 21 20" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.339844 10.0002C0.339844 4.48624 4.82584 0.000244141 10.3398 0.000244141C15.8538 0.000244141 20.3398 4.48624 20.3398 10.0002C20.3398 15.5142 15.8538 20.0002 10.3398 20.0002C4.82584 20.0002 0.339844 15.5142 0.339844 10.0002ZM15.3398 9.00024H5.33984V11.0002H15.3398V9.00024Z" fill="#272727"/>
</svg>`,color:ke.component.iconIndicator.background.fill.none},good:{content:`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 21 20" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.3398 20.0002C15.8627 20.0002 20.3398 15.523 20.3398 10.0002C20.3398 4.47734 15.8627 0.000183105 10.3398 0.000183105C4.817 0.000183105 0.339844 4.47734 0.339844 10.0002C0.339844 15.523 4.817 20.0002 10.3398 20.0002ZM9.21517 12.1258L5.75061 8.59331L4.33984 10.0131L9.21517 15.0002L16.8398 7.41999L15.3398 6.00018L9.21517 12.1258Z" fill="#0B8A1B"/>
</svg>`,color:ke.component.iconIndicator.background.fill.good},poor:{content:`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 21 20" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.3398 20.0002C15.8627 20.0002 20.3398 15.523 20.3398 10.0002C20.3398 4.47734 15.8627 0.000183105 10.3398 0.000183105C4.817 0.000183105 0.339844 4.47734 0.339844 10.0002C0.339844 15.523 4.817 20.0002 10.3398 20.0002ZM9.21517 12.1258L5.75061 8.59331L4.33984 10.0131L9.21517 15.0002L16.8398 7.41999L15.3398 6.00018L9.21517 12.1258Z" fill="#0B8A1B"/>
</svg>`,color:ke.component.iconIndicator.background.fill.poor},bad:{content:`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 21 20" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.339844 10.0002C0.339844 4.48618 4.82584 0.000183105 10.3398 0.000183105C15.8538 0.000183105 20.3398 4.48618 20.3398 10.0002C20.3398 15.5142 15.8538 20.0002 10.3398 20.0002C4.82584 20.0002 0.339844 15.5142 0.339844 10.0002ZM13.1675 5.75732L14.5818 7.17153L11.7533 9.99996L14.5818 12.8284L13.1675 14.2426L10.3391 11.4142L7.51068 14.2426L6.09647 12.8284L8.9249 9.99996L6.09647 7.17153L7.51068 5.75732L10.3391 8.58575L13.1675 5.75732Z" fill="#DD1535"/>
</svg>`,color:ke.component.iconIndicator.background.fill.bad}},gb=KG;class jG extends Lt{icon;constructor(e,t,s){super(e,t,{...s,defaultOverrides:{width:24,height:24,padding:2,...s?.defaultOverrides}}),super.add(this.icon=new iu(void 0,void 0,{defaultOverrides:{width:20,height:20,content:be(()=>gb[this.properties.value.variant??"none"].content),color:be(()=>gb[this.properties.value.variant??"none"].color?.value)}}))}dispose(){this.icon.dispose(),super.dispose()}add(){throw new Error("the IconIndicator component can not have any children")}}const k0=new w;function uS(n){return`${n.toFixed(0)}%`}const mb={sm:12,md:28,lg:44},xb={sm:8,md:20,lg:36},yb={sm:2,md:4,lg:4};class ZG extends Lt{uncontrolledSignal=bt(void 0);currentSignal=be(()=>Number(this.properties.value.value??this.uncontrolledSignal.value??this.properties.value.defaultValue??0));downPointerId;touchTarget;track;progress;thumb;thumbText;labels;leftLabel;rightLabel;icon;constructor(e,t,s){super(e,t,{...s,defaultOverrides:{width:"100%",flexDirection:"column",...s?.defaultOverrides}}),this.addEventListener("pointerdown",o=>{this.downPointerId==null&&(this.downPointerId=o.pointerId,this.handleSetValue(o),"target"in o&&o.target!=null&&typeof o.target=="object"&&"setPointerCapture"in o.target&&typeof o.target.setPointerCapture=="function"&&o.target.setPointerCapture(o.pointerId))}),this.addEventListener("pointermove",o=>{this.downPointerId==o.pointerId&&this.handleSetValue(o)}),this.addEventListener("pointerup",o=>{this.downPointerId!=null&&(this.downPointerId=void 0,o.stopPropagation?.())});const i=be(()=>{let o=this.properties.value.valueFormat??"percentage";return o=="percentage"&&(o=uS),o});this.touchTarget=new Lt(void 0,void 0,{defaultOverrides:{width:"100%",height:be(()=>this.properties.value.size==="lg"?48:64),flexDirection:"row",alignItems:"center","*":{hover:{backgroundColor:ke.component.slider.handle.background.hover},active:{backgroundColor:ke.component.slider.handle.background.pressed}}}}),this.track=new Lt(void 0,void 0,{defaultOverrides:{width:"100%",borderRadius:1e3,backgroundColor:ke.component.slider.background,height:be(()=>mb[this.properties.value.size??"md"])}}),this.touchTarget.add(this.track);const r=be(()=>{const o=Number(this.properties.value.min??0),l=Number(this.properties.value.max??100)-o;return`${100*(this.currentSignal.value-o)/l}%`});this.thumb=new Lt(void 0,void 0,{defaultOverrides:{flexShrink:0,borderRadius:1e3,height:be(()=>xb[this.properties.value.size??"md"]),minWidth:be(()=>xb[this.properties.value.size??"md"]),paddingX:be(()=>this.properties.value.size==="lg"?16:void 0),flexDirection:"row",alignItems:"center",positionType:"relative"}}),this.progress=new Lt(void 0,void 0,{defaultOverrides:{borderRadius:1e3,flexShrink:0,backgroundColor:ke.component.slider.foreground.default,minWidth:be(()=>Math.max(mb[this.properties.value.size??"md"],2*yb[this.properties.value.size??"md"]+(this.thumb.size.value?.[0]??0))),width:r,height:"100%",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",paddingX:be(()=>yb[this.properties.value.size??"md"])}}),this.progress.add(this.thumb),this.track.add(this.progress),this.fill=this.progress,this.thumbText=new ka(void 0,void 0,{defaultOverrides:{color:ke.component.slider.handle.label,fontWeight:700,lineHeight:"20px",backgroundColor:"initial",display:be(()=>this.properties.value.size=="lg"&&this.properties.value.icon==null?"flex":"none"),fontSize:14,text:be(()=>i.value(this.currentSignal.value))}}),this.thumb.add(this.thumbText),vt(()=>{const o=this.properties.value.icon;if(o==null)return;const a=new o(void 0,void 0,{defaultOverrides:{color:ke.component.slider.handle.icon,backgroundColor:"initial",width:24,height:24,positionType:"absolute",positionLeft:"50%",positionTop:"50%",transformTranslateX:"-50%",transformTranslateY:"-50%"}});return this.thumb.add(a),this.icon=a,()=>{a.dispose(),this.icon=a}},this.abortSignal),this.labels=new Lt(void 0,void 0,{defaultOverrides:{flexDirection:"row",justifyContent:"space-between",fontSize:12,lineHeight:"16px",color:ke.component.slider.label,fontWeight:500}}),this.labels.add(this.leftLabel=new ka(void 0,void 0,{defaultOverrides:{text:be(()=>this.properties.signal.leftLabel.value??i.value(Number(this.properties.value.min??0)))}}),this.rightLabel=new ka(void 0,void 0,{defaultOverrides:{text:be(()=>this.properties.signal.rightLabel.value??i.value(Number(this.properties.value.max??100)))}})),super.add(this.touchTarget),super.add(this.labels)}handleSetValue(e){k0.copy(e.point),this.worldToLocal(k0);const t=Number(this.properties.peek().min??0),s=Number(this.properties.peek().max??100),i=Number(this.properties.peek().step??1e-4),r=Math.min(Math.max(Math.round(((k0.x+.5)*(s-t)+t)/i)*i,t),s);this.properties.peek().value==null&&(this.uncontrolledSignal.value=r),this.properties.peek().onValueChange?.(r),e.stopPropagation?.()}dispose(){this.leftLabel.dispose(),this.rightLabel.dispose(),this.thumbText.dispose(),this.thumb.dispose(),this.progress.dispose(),this.track.dispose(),this.touchTarget.dispose(),this.icon?.dispose(),this.labels.dispose(),super.dispose()}add(){throw new Error("the Slider component can not have any children")}}const $G={xl:{attributionActiveMargin:4,attributionActiveWidth:24,attributionSrcWidth:44,borderWidth:3,height:120},lg:{attributionActiveMargin:2,attributionActiveWidth:16,attributionSrcWidth:32,borderWidth:3,height:72},md:{attributionActiveMargin:0,attributionActiveWidth:12,attributionSrcWidth:16,borderWidth:2,height:44},sm:{borderWidth:2,height:24},xs:{borderWidth:2,height:16}},Qu=$G;class hS extends Lt{focusRing;image;activeBadge;attributionImage;constructor(e,t,s){const i=be(()=>Qu[this.properties.value.size??"md"].height);super(e,t,{...s,defaultOverrides:{positionType:"relative",width:i,height:i,flexShrink:0,"*":{important:{borderColor:be(()=>this.properties.value.selected===!0?ke.component.avatar.focusRing.selected.value:void 0)},active:{borderColor:ke.component.avatar.focusRing.pressed},hover:{borderColor:ke.component.avatar.focusRing.hovered},borderColor:ke.component.avatar.focusRing.default},...s?.defaultOverrides}});const r=be(()=>Qu[this.properties.value.size??"md"].borderWidth);super.add(this.focusRing=new Lt(void 0,void 0,{defaultOverrides:{borderWidth:r,positionType:"absolute",borderRadius:1e3,inset:be(()=>-2-r.value)}})),super.add(this.image=new Jp(void 0,void 0,{defaultOverrides:{width:"100%",height:"100%",aspectRatio:1,borderRadius:1e3,borderColor:"initial",src:this.properties.signal.src}}));const o=be(()=>Qu[this.properties.value.size??"md"].attributionActiveWidth),a=be(()=>Qu[this.properties.value.size??"md"].attributionActiveMargin);super.add(this.activeBadge=new Lt(void 0,void 0,{defaultOverrides:{display:be(()=>(this.properties.value.attributionActive??!1)&&this.properties.value.attributionSrc==null?"flex":"none"),zIndex:1,width:o,height:o,flexShrink:0,backgroundColor:ke.component.avatar.badge.active,positionType:"absolute",borderColor:"initial",borderRadius:1e3,positionBottom:a,positionRight:a}})),vt(()=>{const l=this.properties.value.attributionSrc;if(l==null)return;const c=be(()=>Qu[this.properties.value.size??"md"].attributionSrcWidth),d=new Jp(void 0,void 0,{defaultOverrides:{src:l,positionType:"absolute",positionBottom:a,positionRight:a,flexShrink:0,width:c,height:c,aspectRatio:1}});return super.add(d),this.attributionImage=d,()=>d.dispose()},this.abortSignal)}dispose(){this.attributionImage?.dispose(),this.activeBadge.dispose(),this.image.dispose(),this.focusRing.dispose(),super.dispose()}add(){throw new Error("the Avatar component can not have any children")}}const e8={primary:{backgroundColor:ke.component.badges.primary.background,color:ke.component.badges.primary.label},secondary:{backgroundColor:ke.component.badges.secondary.background,color:ke.component.badges.secondary.label},positive:{backgroundColor:ke.component.badges.positive.background,color:ke.component.badges.positive.label},negative:{backgroundColor:ke.component.badges.background.background,color:ke.component.badges.background.label}},_b=e8;class t8 extends Lt{label;iconPlaceholder;icon;constructor(e,t,s){const i=be(()=>{if(this.properties.value.icon!=null)return;const r=this.properties.value.label?.length??0;if(r===0)return 12;if(r===1)return 24});super(e,t,{...s,defaultOverrides:{borderRadius:be(()=>(this.properties.value.label?.length??0)>1||this.properties.value.icon!=null?8:1e3),color:be(()=>_b[this.properties.value.variant??"primary"].color?.value),backgroundColor:be(()=>_b[this.properties.value.variant??"primary"].backgroundColor?.value),paddingX:be(()=>(this.properties.value.label?.length??0)>1||this.properties.value.icon!=null?8:void 0),paddingY:be(()=>(this.properties.value.label?.length??0)>1||this.properties.value.icon!=null?4:void 0),width:i,height:i,fontSize:12,flexDirection:"row",alignItems:"center",justifyContent:"center",gap:4,lineHeight:"16px",fontWeight:700,...s?.defaultOverrides}}),this.iconPlaceholder=new Lt(void 0,void 0,{defaultOverrides:{display:be(()=>this.properties.value.icon==null?"none":"flex")}}),super.add(this.iconPlaceholder),this.label=new ka(void 0,void 0,{defaultOverrides:{text:this.properties.signal.label,display:be(()=>(this.properties.value.label?.length??0)===0?"none":"flex")}}),super.add(this.label),vt(()=>{const r=this.properties.value.icon;if(r==null)return;const o=new r(void 0,void 0,{defaultOverrides:{width:16,height:16}});return this.iconPlaceholder.add(o),this.icon=o,()=>{this.icon=void 0,o.dispose()}},this.abortSignal)}dispose(){this.icon?.dispose(),this.label.dispose(),super.dispose()}add(){throw new Error("the Badge component can not have any children")}}const s8={lg:{height:48,fontSize:14,lineHeight:"20px"},sm:{height:32,fontSize:12,lineHeight:"16px"}},F0=s8;class AI extends Lt{input;leftIconPlaceholder;leftIcon;rightIconPlaceholder;rightIcon;constructor(e,t,s){const i=s?.hovered??be(()=>this.hoveredList.value.length>0);super(e,t,{...s,defaultOverrides:{hover:{},cursor:"text",width:"100%",gap:12,flexDirection:"row",alignItems:"center",fontSize:be(()=>F0[this.properties.value.size??"lg"].fontSize),lineHeight:be(()=>F0[this.properties.value.size??"lg"].lineHeight),fontWeight:500,color:be(()=>(this.properties.value.variant??"text")==="text"?ke.component.textInput.label.default.value:ke.component.search.label.value),paddingX:16,height:be(()=>F0[this.properties.value.size??"lg"].height),borderRadius:8,backgroundColor:be(()=>this.input.hasFocus.value?ke.component.textInput.background.typing.value:i.value?ke.component.textInput.background.hovered.value:ke.component.textInput.background.default.value),...s?.defaultOverrides}}),this.addEventListener("click",()=>this.input.focus());const r=be(()=>(this.properties.value.variant??"text")==="search"&&(this.properties.value.size??"lg")==="lg"?24:16);this.leftIconPlaceholder=new Lt,super.add(this.leftIconPlaceholder),this.input=new kg(void 0,void 0,{defaultOverrides:{flexGrow:1,flexShrink:0,textAlign:this.properties.signal.textAlign,minWidth:100,focus:{color:ke.component.textInput.label.typing},caretColor:ke.component.textInput.cursor,placeholderStyle:{color:ke.component.semantic.text.placeholder},placeholder:this.properties.signal.placeholder,defaultValue:this.properties.signal.defaultValue,value:this.properties.signal.value,disabled:this.properties.signal.disabled,tabIndex:this.properties.signal.tabIndex,autocomplete:this.properties.signal.autocomplete,type:this.properties.signal.type,onValueChange:this.properties.signal.onValueChange,onFocusChange:this.properties.signal.onFocusChange}}),super.add(this.input),this.rightIconPlaceholder=new Lt,super.add(this.rightIconPlaceholder);const o=be(()=>(this.properties.value.variant??"text")==="search"?ke.component.search.icon.value:this.input.hasFocus?ke.component.textInput.label.typing.value:ke.component.textInput.label.default.value);vt(()=>{const a=this.properties.value.leftIcon;if(a==null)return;const l=new a(void 0,void 0,{defaultOverrides:{width:r,height:r,flexShrink:0,color:o}});return this.leftIconPlaceholder.add(l),this.leftIcon=l,()=>{l.dispose(),this.leftIcon=void 0}},this.abortSignal),vt(()=>{const a=this.properties.value.rightIcon;if(a==null)return;const l=new a(void 0,void 0,{defaultOverrides:{width:r,height:r,flexShrink:0,color:o}});return this.rightIconPlaceholder.add(l),this.rightIcon=l,()=>{l.dispose(),this.rightIcon=void 0}},this.abortSignal)}dispose(){this.input.dispose(),this.leftIconPlaceholder.dispose(),this.rightIconPlaceholder.dispose(),this.leftIcon?.dispose(),this.rightIcon?.dispose(),super.dispose()}add(){throw new Error("the Input component can not have any children")}}const n8=AI;class i8 extends Lt{label;input;constructor(e,t,s){const i=be(()=>this.hoveredList.value.length>0);super(e,t,{...s,defaultOverrides:{cursor:"text",width:"100%",flexDirection:"column",gap:12,paddingX:16,paddingY:8,hover:{},backgroundColor:be(()=>this.input.input.hasFocus.value?ke.component.inputField.background.default.value:i.value?ke.component.inputField.background.hovered.value:ke.component.inputField.background.default.value),...s?.defaultOverrides}}),this.addEventListener("click",()=>this.input.input.focus()),this.label=new ka(void 0,void 0,{defaultOverrides:{text:this.properties.signal.label,fontSize:12,lineHeight:"16px",fontWeight:500,color:ke.component.inputField.label}}),super.add(this.label),this.input=new AI(void 0,void 0,{hovered:i,defaultOverrides:{placeholder:this.properties.signal.placeholder,defaultValue:this.properties.signal.defaultValue,value:this.properties.signal.value,disabled:this.properties.signal.disabled,tabIndex:this.properties.signal.tabIndex,autocomplete:this.properties.signal.autocomplete,type:this.properties.signal.type,onValueChange:this.properties.signal.onValueChange,onFocusChange:this.properties.signal.onFocusChange,textAlign:"left",size:"lg",variant:"text",leftIcon:this.properties.signal.leftIcon,rightIcon:this.properties.signal.rightIcon}}),super.add(this.input)}dispose(){this.label.dispose(),this.input.dispose(),super.dispose()}add(){throw new Error("the InputField component can not have any children")}}class r8 extends Lt{button;constructor(e,t,s){super(e,t,{...s,defaultOverrides:{fontSize:14,lineHeight:"20px",color:ke.component.semantic.text.primary,fontWeight:500,cursor:"pointer",flexDirection:"row",alignItems:"center",gap:6,onClick:r=>{r.stopPropagation?.();const o=this.parentContainer.peek();if(!(o instanceof vy))return;const a=this.properties.peek().value;o.properties.peek().value==null&&(o.uncontrolledSignal.value=a),o.properties.peek().onValueChange?.(a)},...s?.defaultOverrides}});const i=be(()=>this.parentContainer.value instanceof vy?this.parentContainer.value.currentSignal.value===this.properties.value.value:!1);this.button=new Lt(void 0,void 0,{defaultOverrides:{width:16,height:16,borderWidth:4,borderRadius:1e3,borderColor:be(()=>i.value?ke.component.radioButtons.background.selected.value:void 0),backgroundColor:ke.component.radioButtons.background.default,hover:{backgroundColor:ke.component.radioButtons.background.hovered},active:{backgroundColor:ke.component.radioButtons.background.pressed},important:{backgroundColor:be(()=>i.value?ke.component.radioButtons.icon.selected.value:void 0)}}}),super.add(this.button)}dispose(){this.button.dispose(),super.dispose()}}class vy extends Lt{uncontrolledSignal=bt(void 0);currentSignal=be(()=>this.properties.value.value??this.uncontrolledSignal.value??this.properties.value.defaultValue);constructor(e,t,s){super(e,t,{...s,defaultOverrides:{flexDirection:"column",gap:8,...s?.defaultOverrides}})}}class o8 extends GG{constructor(e,t,s){const i=be(()=>{const r=this.parentContainer.value;return!(r instanceof oc)||(r.properties.value.size??"lg")==="lg"?24:16});super(e,t,{...s,defaultOverrides:{width:i,height:i,...s?.defaultOverrides}})}}class a8 extends Lt{constructor(e,t,s){const i=be(()=>{const r=this.parentContainer.value;return!(r instanceof oc)||(r.properties.value.size??"lg")==="lg"?24:16});super(e,t,{...s,defaultOverrides:{"*":{width:i,height:i},...s?.defaultOverrides}})}}class l8 extends hS{constructor(e,t,s){super(e,t,{defaults:qa,...s,defaultOverrides:{size:be(()=>{const i=this.parentContainer.value;return!(i instanceof oc)||(i.properties.value.size??"lg")==="lg"?"sm":"xs"}),...s?.defaultOverrides}})}}class c8 extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{minWidth:"100%",backgroundColor:"#5c5c5c",color:ke.component.selectionDropdown.label.hovered,display:be(()=>this.parentContainer.value instanceof oc&&this.parentContainer.value.currentOpenSignal.value?"flex":"none"),zIndex:1e4,"*":{zIndex:1e4},flexDirection:"column",positionType:"absolute",positionTop:"110%",positionLeft:0,borderRadius:16,padding:8,gap:8,...s?.defaultOverrides}})}}class d8 extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{paddingY:8,paddingX:16,onClick:i=>{const r=this.parentContainer.value?.parentContainer.value;if(!(r instanceof oc))return;const o=this.properties.peek().value;r.uncontrolledSignal.value=o,r.properties.peek().onValueChange?.(o)},...s?.defaultOverrides}})}}class u8 extends ka{constructor(e,t,s){const i=be(()=>{const r=this.parentContainer.value;return r instanceof oc&&r.currentSignal.value!=null?r.currentSignal.value:this.properties.value.placeholder});super(e,t,{...s,defaultOverrides:{text:i,...s?.defaultOverrides}})}}const h8={lg:{paddingX:20,paddingY:12,fontSize:14,lineHeight:"20px"},sm:{paddingX:16,paddingY:8,fontSize:12,lineHeight:"16px"}},gA=h8;class oc extends Lt{uncontrolledSignal=bt(void 0);currentSignal=be(()=>this.properties.value.value??this.uncontrolledSignal.value??this.properties.value.defaultValue);uncontrolledOpenSignal=bt(void 0);currentOpenSignal=be(()=>this.properties.value.open??this.uncontrolledOpenSignal.value??this.properties.value.defaultOpen??!1);constructor(e,t,s){super(e,t,{...s,defaultOverrides:{positionType:"relative",cursor:"pointer",borderRadius:1e3,fontSize:be(()=>gA[this.properties.value.size??"lg"].fontSize),lineHeight:be(()=>gA[this.properties.value.size??"lg"].lineHeight),paddingX:be(()=>gA[this.properties.value.size??"lg"].paddingX),paddingY:be(()=>gA[this.properties.value.size??"lg"].paddingY),fontWeight:500,backgroundColor:ke.component.selectionDropdown.background.fill.default,color:ke.component.selectionDropdown.label.default,hover:{backgroundColor:ke.component.selectionDropdown.background.fill.hovered,color:ke.component.selectionDropdown.label.hovered},active:{backgroundColor:ke.component.selectionDropdown.background.fill.pressed,color:ke.component.selectionDropdown.label.pressed},important:{backgroundColor:be(()=>this.currentSignal.value==null?this.currentOpenSignal.value?ke.component.selectionDropdown.background.fill.hovered.value:void 0:ke.component.selectionDropdown.background.fill.selected.value),color:be(()=>this.currentSignal.value==null?this.currentOpenSignal.value?ke.component.selectionDropdown.label.hovered.value:void 0:ke.component.selectionDropdown.label.selected.value)},flexDirection:"row",alignItems:"center",gap:8,...s?.defaultOverrides}}),this.addEventListener("click",i=>{i.stopPropagation?.();const r=!this.currentOpenSignal.value;this.uncontrolledOpenSignal.value=r,this.properties.peek().onOpenChange?.(r)})}}const fS=be(()=>iI.value?AS:pS);class AS extends Nt{constructor(){super(),this.customProgramCacheKey=()=>"DarkBackgroundMaterial-uvGradient-v1";const e=new st("#414141"),t=new st("#272727");this.onBeforeCompile=(s,i)=>{super.onBeforeCompile(s,i),s.vertexShader=s.vertexShader.replace("#include <common>",`#include <common>
#define USE_UV`),s.fragmentShader=s.fragmentShader.replace("#include <common>",`#include <common>
#define USE_UV`).replace("#include <opaque_fragment>",`
{
  const vec3 topColor = vec3(${e.r}, ${e.g}, ${e.b});
  const vec3 bottomColor = vec3(${t.r}, ${t.g}, ${t.b});
  float t = clamp(vUv.y, 0.0, 1.0);
  vec3 grad = mix(bottomColor, topColor, t);
  gl_FragColor = vec4(grad, diffuseColor.a);
}
`)}}}class pS extends Nt{constructor(){super(),this.customProgramCacheKey=()=>"LightBackgroundMaterial-uvGradient-v1";const e=new st("#ffffff"),t=new st("#f2f2f2");this.onBeforeCompile=s=>{s.vertexShader=s.vertexShader.replace("#include <common>",`#include <common>
#define USE_UV`),s.fragmentShader=s.fragmentShader.replace("#include <common>",`#include <common>
#define USE_UV`).replace("#include <opaque_fragment>",`
{
  const vec3 topColor = vec3(${e.r}, ${e.g}, ${e.b});
  const vec3 bottomColor = vec3(${t.r}, ${t.g}, ${t.b});
  float t = clamp(vUv.y, 0.0, 1.0);
  vec3 grad = mix(bottomColor, topColor, t);
  gl_FragColor = vec4(grad, diffuseColor.a);
}
`)}}}class f8 extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{borderRadius:24,backgroundColor:"black",borderColor:"black",panelMaterialClass:fS,...s?.defaultOverrides}})}}class A8 extends Lt{constructor(e,t,s){super(e,t,{...s,defaultOverrides:{flexShrink:0,backgroundColor:ke.component.progressBar.quickReplies.dividers,width:be(()=>(this.properties.value.orientation??"horizontal")==="horizontal"?"100%":1),height:be(()=>(this.properties.value.orientation??"horizontal")==="horizontal"?1:"100%"),...s?.defaultOverrides}})}}const p8=Object.freeze(Object.defineProperty({__proto__:null,Avatar:hS,Badge:t8,Button:fI,ButtonIcon:RG,ButtonLabel:QG,ButtonLabelSubtext:DG,Checkbox:qG,DarkBackgroundMaterial:AS,Divider:A8,Dropdown:oc,DropdownAvatar:l8,DropdownButton:o8,DropdownIcon:a8,DropdownList:c8,DropdownListItem:d8,DropdownTextValue:u8,HorizonInput:n8,IconIndicator:jG,Input:AI,InputField:i8,LightBackgroundMaterial:pS,Panel:f8,ProgressBar:JG,ProgressBarStepper:XG,ProgressBarStepperStep:YG,RadioGroup:vy,RadioGroupItem:r8,Slider:ZG,Toggle:WG,panelMaterialClass:fS,percentageFormatting:uS,theme:ke},Symbol.toStringTag,{value:"Module"}));class wt{constructor(e="App",t=!1){this.name=e,this.debug=t}log(...e){this.debug&&console.log(`[${this.name}]`,...e)}warn(...e){console.warn(`[${this.name}]`,...e)}error(...e){console.error(`[${this.name}]`,...e)}logRaw(...e){this.debug&&console.log(...e)}setDebug(e){this.debug=e}}const Ib=new wt("DebugSpawner",!1),g8={START_SCREEN:{},XR_ACTIVE:{},PLAYING:{currentState:6,roomSetupRequired:!1,introPlayed:!0,callAnswered:!0},PORTAL_PLACEMENT:{introPlayed:!0}},vl={ROOM_CAPTURE:{currentState:6,roomSetupRequired:!0,roomCaptureFailed:!1,introPlayed:!0,callAnswered:!0,portalPlacementPlayed:!0},PORTAL_TRIGGERED:{currentState:6,roomSetupRequired:!1,introPlayed:!0,callAnswered:!0,portalPlacementPlayed:!0,spawnPortalImmediately:!0,debugPortalOffset:{x:0,y:0,z:-2}},POST_PORTAL:{currentState:6,roomSetupRequired:!1,introPlayed:!0,callAnswered:!0,robotsActive:!0,voiceInputEnabled:!0,robotBehavior:"wandering",spawnRobotsImmediately:!0},ROBOTS_WANDERING:{currentState:6,roomSetupRequired:!1,introPlayed:!0,callAnswered:!0,portalPlacementPlayed:!0,ambassadorPresentationPlayed:!0,robotsActive:!0,voiceInputEnabled:!0,robotBehavior:"wandering",spawnRobotsImmediately:!0},PANIC_MINIGAME:{currentState:6,roomSetupRequired:!1,introPlayed:!0,callAnswered:!0,portalPlacementPlayed:!0,ambassadorPresentationPlayed:!0,robotsActive:!0,voiceInputEnabled:!0,robotBehavior:"wandering",startPanicMinigame:!0,spawnRobotsImmediately:!0},ENTROPOD_MINIGAME:{currentState:6,roomSetupRequired:!1,introPlayed:!0,callAnswered:!0,portalPlacementPlayed:!0,ambassadorPresentationPlayed:!0,robotsActive:!0,voiceInputEnabled:!1,robotBehavior:"wandering",spawnRobotsImmediately:!0,entropodMinigame:!0},MODEM_STAY_QUESTION:{currentState:6,roomSetupRequired:!1,introPlayed:!0,callAnswered:!0,portalPlacementPlayed:!0,ambassadorPresentationPlayed:!0,robotsActive:!0,robotBehavior:"wandering",spawnRobotsImmediately:!0,modemArrived:!0},MODEM_STAY_VOICE:{currentState:6,roomSetupRequired:!1,introPlayed:!0,callAnswered:!0,portalPlacementPlayed:!0,ambassadorPresentationPlayed:!0,robotsActive:!0,robotBehavior:"wandering",spawnRobotsImmediately:!0,voiceInputEnabled:!0,interpretMode:"modem_stay"}};function m8(n){return{currentState:n}}function x8(n){if(n in vl)return vl[n];if(!(n in ut))return null;const e=ut[n],t=m8(e),s=g8[n]||{};return{...t,...s}}const y8=new Proxy({},{get(n,e){if(typeof e=="string"&&(e in vl||e in ut))return x8(e)},has(n,e){return typeof e=="string"&&(e in ut||e in vl)},ownKeys(){return[...Object.keys(ut),...Object.keys(vl)]},getOwnPropertyDescriptor(n,e){if(typeof e=="string"&&(e in ut||e in vl))return{enumerable:!0,configurable:!0}}});function _8(){const n=new URLSearchParams(window.location.search),e=n.get("debugSpawn")||n.get("gameState");if(!e)return null;const t=y8[e];if(!t)return Ib.warn(`Unknown gameState "${e}". Available states:`,[...Object.keys(ut),...Object.keys(vl)]),null;const s={...t};return n.has("introPlayed")&&(s.introPlayed=n.get("introPlayed")!=="false"),Ib.log(`Debug spawn state "${e}":`,s),s}function I8(){const n=new URLSearchParams(window.location.search);return n.has("debugSpawn")||n.has("gameState")}const ut={PLATFORM_CHECK:-2,UNSUPPORTED_PLATFORM:-1,LOADING:0,START_SCREEN:1,ENTERING_XR:2,XR_ACTIVE:3,XR_PAUSED:4,PLAYING:5,PORTAL_PLACEMENT:6};function vb(n){for(const[e,t]of Object.entries(ut))if(t===n)return e;return"UNKNOWN"}class v8{constructor(){this.logger=new wt("GameState",!1),this.debugSpawnState=_8(),this.isDebugMode=I8(),this.isDebugMode&&this.logger.log("Debug mode active:",this.debugSpawnState),this.state={currentState:ut.PLATFORM_CHECK,isQuest:!1,isEmulator:!1,isWebXRSupported:!1,isSupported:!1,loadingProgress:0,isXRActive:!1,hasEnteredXR:!1,xrPauseReason:null,visibilityState:"non-immersive",stateBeforePause:null,musicVolume:.5,sfxVolume:1,currentMusic:null,captionsEnabled:!0,roomSetupRequired:null,roomCaptureFailed:!1,callRingPlayed:!1,callAnswered:!1,introPlayed:!1,portalPlacementPlayed:!1,ambassadorPresentationPlayed:!1,robotsActive:!1,voiceInputEnabled:!1,goalPlacementEnabled:!1,friendlyGreetingReceived:!1,greetingResult:null,reassuranceResult:null,interpretMode:"greeting",robotsMovingToGoal:!1,robotsAtGoal:!1,robotBehavior:"wandering",firstCalmCompleted:!1,secondCalmCompleted:!1,thirdCalmCompleted:!1,minigameActive:!1,panicMinigameCompleted:!1,inputMode:"controllers",handedness:"right",portalSpawnPosition:null,world:null},this.eventListeners={}}hasDebugSpawn(){return this.isDebugMode&&this.debugSpawnState!==null}getDebugSpawnState(){return this.debugSpawnState}getState(){return{...this.state}}setState(e){const t={...this.state};e.currentState===ut.XR_ACTIVE&&t.currentState!==ut.XR_ACTIVE&&this.debugSpawnState&&!this._debugStateApplied&&(this._debugStateApplied=!0,this.logger.log("Merging debug spawn state with XR_ACTIVE transition:",this.debugSpawnState),e={...e,...this.debugSpawnState},this.logger.log("Merged state roomSetupRequired:",e.roomSetupRequired)),this.state={...this.state,...e},e.roomSetupRequired!==void 0&&e.roomSetupRequired!==t.roomSetupRequired&&this.logger.log(`roomSetupRequired changed: ${t.roomSetupRequired} -> ${e.roomSetupRequired}`),e.currentState!==void 0&&e.currentState!==t.currentState&&this.logger.log(`State changed: ${vb(t.currentState)} -> ${vb(e.currentState)}`),e.isXRActive!==void 0&&e.isXRActive!==t.isXRActive&&this.logger.log(`XR Active: ${e.isXRActive}`),this.emit("state:changed",this.state,t)}on(e,t){this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t)}off(e,t){if(this.eventListeners[e]){const s=this.eventListeners[e].indexOf(t);s>-1&&this.eventListeners[e].splice(s,1)}}emit(e,...t){this.eventListeners[e]&&this.eventListeners[e].forEach(s=>s(...t))}setWorld(e){this.state.world=e}getWorld(){return this.state.world}}const Oe=new v8,E8=new wt("PlatformDetection",!1);function pI(){const n=navigator.userAgent,e=/OculusBrowser|Quest/i.test(n),s=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||!e,i="xr"in navigator,o={isQuest:e,isEmulator:s,isWebXRSupported:i,isSupported:e||s,userAgent:n};return E8.log("Detected:",o),o}function C8(n){const e=pI();return n.setState({isQuest:e.isQuest,isEmulator:e.isEmulator,isWebXRSupported:e.isWebXRSupported,isSupported:e.isSupported}),e}class b8{constructor(e={}){this.logger=new wt("LoadingScreen",!1),this.container=null,this.progressBar=null,this.progressText=null,this.loadingTasks=new Map,this.isVisible=!0,this.isComplete=!1,this.onComplete=e.onComplete||null,this.createUI()}createUI(){this.container=document.createElement("div"),this.container.id="loading-screen",this.container.className="loading-screen";const e=document.createElement("div");e.className="loading-content";const t=document.createElement("div");t.className="loading-title",t.textContent="LOADING",e.appendChild(t);const s=document.createElement("div");s.className="loading-progress-container",this.progressBar=document.createElement("div"),this.progressBar.className="loading-progress-bar",this.progressBar.style.width="0%",s.appendChild(this.progressBar),e.appendChild(s),this.progressText=document.createElement("div"),this.progressText.className="loading-progress-text",this.progressText.textContent="0%",e.appendChild(this.progressText),this.container.appendChild(e),document.body.appendChild(this.container)}registerTask(e){this.loadingTasks.set(e,{progress:0}),this.updateProgress()}updateTask(e,t){const s=this.loadingTasks.get(e);s&&(s.progress=Math.max(0,Math.min(1,t)),this.updateProgress())}completeTask(e){const t=this.loadingTasks.get(e);t&&(t.progress=1,this.updateProgress())}updateProgress(){if(this.loadingTasks.size===0)return;let e=0,t=!0;for(const r of this.loadingTasks.values())e+=r.progress,r.progress<1&&(t=!1);const s=e/this.loadingTasks.size,i=s*100;this.progressBar&&(this.progressBar.style.width=`${i}%`),this.progressText&&(this.progressText.textContent=`${Math.round(i)}%`),Oe.setState({loadingProgress:s}),t&&!this.isComplete&&(this.isComplete=!0,this.handleLoadingComplete())}handleLoadingComplete(){this.logger.log("All tasks complete");const e=.5;this.hide(e),Oe.setState({currentState:ut.START_SCREEN}),this.onComplete&&setTimeout(()=>{this.onComplete()},e*1e3)}hide(e=.5){!this.isVisible||!this.container||(this.isVisible=!1,this.container.style.transition=`opacity ${e}s ease-out`,this.container.style.opacity="0",setTimeout(()=>{this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)},e*1e3))}show(){this.container&&(this.container.style.opacity="1",this.isVisible=!0)}isLoadingComplete(){return this.isComplete}getProgress(){if(this.loadingTasks.size===0)return 0;let e=0;for(const t of this.loadingTasks.values())e+=t.progress;return e/this.loadingTasks.size*100}}class w8{constructor(){this.container=null,this.createUI()}createUI(){this.container=document.createElement("div"),this.container.id="unsupported-screen",this.container.className="unsupported-screen";const e=document.createElement("div");e.className="unsupported-content";const t=document.createElement("div");t.className="unsupported-icon",t.innerHTML=`
      <svg viewBox="0 0 24 24" width="80" height="80" fill="currentColor">
        <path d="M20.5 6h-17A1.5 1.5 0 0 0 2 7.5v9A1.5 1.5 0 0 0 3.5 18h4.09a1.5 1.5 0 0 0 1.34-.83l1.17-2.34a1.5 1.5 0 0 1 1.34-.83h1.12a1.5 1.5 0 0 1 1.34.83l1.17 2.34a1.5 1.5 0 0 0 1.34.83h4.09a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 20.5 6zm-13 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm9 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/>
      </svg>
    `,e.appendChild(t);const s=document.createElement("h1");s.className="unsupported-title",s.textContent="Meta Quest Required",e.appendChild(s);const i=document.createElement("p");i.className="unsupported-message",i.textContent="This experience is designed for Meta Quest headsets. Please open this page in your Quest browser to continue.",e.appendChild(i);const r=document.createElement("p");r.className="unsupported-instructions",r.innerHTML=`
      <strong>How to access:</strong><br>
      1. Put on your Meta Quest headset<br>
      2. Open the Quest Browser<br>
      3. Navigate to this URL
    `,e.appendChild(r),this.container.appendChild(e),Oe.setState({currentState:ut.UNSUPPORTED_PLATFORM}),document.body.appendChild(this.container)}show(){this.container&&(this.container.style.display="flex")}hide(){this.container&&(this.container.style.display="none")}}class B8{constructor(e={}){this.logger=new wt("StartScreen",!1),this.onStart=e.onStart||null,this.onOptions=e.onOptions||null,this.isVisible=!1,this.selectedIndex=0,this.buttons=["start-button","options-button"],this.overlay=null,this.keydownHandler=null,this.serverReady=!1,this.micPermissionGranted=!1,this.mode="initial"}async initialize(){this.createOverlay(),this.setupInteractions(),this.setupKeyboardNavigation(),this.updateSelectionVisual(),this.serverReady=!0,this.setStartButtonEnabled(!0),this.logger.log("Initialized"),this.show()}createOverlay(){this.overlay=document.createElement("div"),this.overlay.id="start-screen-overlay",this.overlay.innerHTML=`
      <div class="start-panel">
        <div class="decorative-row">
          <div class="meter-group">
            <span class="meter m1"></span>
            <span class="meter m2"></span>
            <span class="meter m3"></span>
            <span class="meter m4"></span>
            <span class="meter m5"></span>
          </div>
          <div class="divider-line"></div>
          <div class="divider-dot"></div>
          <div class="divider-line"></div>
          <div class="meter-group right">
            <span class="meter m1"></span>
            <span class="meter m2"></span>
            <span class="meter m3"></span>
            <span class="meter m4"></span>
            <span class="meter m5"></span>
          </div>
        </div>

        <h1 class="title">NANAUTS</h1>
        <p class="subtitle">A STORY OF CULTURAL EXPLORATION</p>

        <div class="decorative-row">
          <div class="meter-group">
            <span class="meter m1"></span>
            <span class="meter m2"></span>
            <span class="meter m3"></span>
            <span class="meter m4"></span>
            <span class="meter m5"></span>
          </div>
          <div class="divider-line"></div>
          <div class="divider-dot"></div>
          <div class="divider-line"></div>
          <div class="meter-group right">
            <span class="meter m1"></span>
            <span class="meter m2"></span>
            <span class="meter m3"></span>
            <span class="meter m4"></span>
            <span class="meter m5"></span>
          </div>
        </div>

        <div class="button-container">
          <button id="start-button" class="menu-button start-button">START</button>
          <button id="options-button" class="menu-button">OPTIONS</button>
        </div>

        <div class="footer">
          <p class="credits">Made for WebXR with IWSDK and Llama 3.3</p>
          <p class="credits">for controllers or hand tracking (microgestures)</p>
        </div>
      </div>
    `,document.body.appendChild(this.overlay),this.overlay.setAttribute("tabindex","-1"),this.overlay.addEventListener("click",()=>{this.overlay.focus(),this.logger.log("Overlay focused")})}setupInteractions(){const e=document.getElementById("start-button"),t=document.getElementById("options-button");e&&e.addEventListener("click",()=>this.handleStart()),t&&t.addEventListener("click",()=>this.handleOptions())}setupKeyboardNavigation(){this._handledKeys=new Set,this.keydownHandler=e=>{if(!this.isVisible)return;const t=`${e.code}-${e.timeStamp}`;if(!this._handledKeys.has(t))switch(this._handledKeys.add(t),setTimeout(()=>this._handledKeys.delete(t),50),this.logger.log(`keydown: key=${e.key}, selectedIndex=${this.selectedIndex}`),e.key){case"ArrowUp":e.preventDefault(),this.selectedIndex=(this.selectedIndex-1+this.buttons.length)%this.buttons.length,this.updateSelectionVisual();break;case"ArrowDown":e.preventDefault(),this.selectedIndex=(this.selectedIndex+1)%this.buttons.length,this.updateSelectionVisual();break;case"Enter":case" ":e.preventDefault(),this.logger.log("Confirming selection via keyboard"),this.confirmSelection();break}},document.addEventListener("keydown",this.keydownHandler,!0),window.addEventListener("keydown",this.keydownHandler,!0),this.logger.log("Keyboard navigation listeners registered")}updateSelectionVisual(){this.logger.log(`updateSelectionVisual: selectedIndex=${this.selectedIndex}`),this.buttons.forEach((e,t)=>{const s=document.getElementById(e);if(s){const i=t===this.selectedIndex;s.classList.toggle("selected",i),this.logger.log(`Button ${e}: isSelected=${i}, classList=${s.className}`)}else this.logger.warn(`Button ${e} not found!`)})}async confirmSelection(){const e=this.buttons[this.selectedIndex];e==="start-button"?await this.handleStart():e==="options-button"&&this.handleOptions()}async handleStart(){this.logger.log("START clicked");const e=document.getElementById("start-button"),t=e?.textContent||"START";if(!this.micPermissionGranted){this.setStartButtonEnabled(!1),e&&(e.textContent="REQUESTING MIC...");try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(i=>i.stop()),this.micPermissionGranted=!0,this.logger.log("Microphone permission granted")}catch(s){this.logger.warn("Microphone permission denied:",s),e&&(e.textContent="MIC DENIED - TAP TO RETRY"),this.setStartButtonEnabled(!0);return}}e&&(e.textContent=t),Oe.setState({currentState:ut.ENTERING_XR}),this.hide(),this.onStart&&this.onStart()}handleOptions(){this.logger.log("OPTIONS clicked"),this.hide(),this.onOptions&&this.onOptions()}setStartButtonEnabled(e){const t=document.getElementById("start-button");t&&(t.disabled=!e,t.classList.toggle("disabled",!e))}setMode(e){this.mode=e,this.logger.log(`Mode set to: ${e}`)}_applyMode(){const e=document.getElementById("start-button"),t=document.getElementById("options-button");if(!(!e||!t)){switch(this.mode){case"paused":e.style.display="none",t.style.display="block",this.buttons=["options-button"],this.selectedIndex=0;break;case"reenter":e.style.display="block",e.textContent="RE-ENTER",t.style.display="block",this.buttons=["start-button","options-button"],this.selectedIndex=0,this.setStartButtonEnabled(!0);break;case"initial":default:e.style.display="block",e.textContent="START",t.style.display="block",this.buttons=["start-button","options-button"],this.selectedIndex=0,this.setStartButtonEnabled(!0);break}this.updateSelectionVisual()}}show(){this.overlay&&(this._applyMode(),this.overlay.style.display="flex",this.isVisible=!0,setTimeout(()=>{this.overlay.focus(),this.logger.log(`Shown in ${this.mode} mode`)},100))}hide(){this.overlay&&(this.overlay.style.display="none",this.isVisible=!1,this.logger.log("Hidden"))}destroy(){this.keydownHandler&&(document.removeEventListener("keydown",this.keydownHandler,!0),window.removeEventListener("keydown",this.keydownHandler,!0)),this.overlay&&this.overlay.remove()}}class N8{constructor(e={}){this.logger=new wt("OptionsMenu",!1),this.onBack=e.onBack||null,this.isVisible=!1,this.overlay=null,this.keydownHandler=null,this.settings={musicVolume:80,sfxVolume:80,captionsEnabled:!0,handedness:"right"},this.loadSettings()}async initialize(){this.createOverlay(),this.setupInteractions(),this.setupKeyboardNavigation(),this.applySettings(),this.updateUI(),this.logger.log("Initialized")}createOverlay(){this.overlay=document.createElement("div"),this.overlay.id="options-menu-overlay",this.overlay.innerHTML=`
      <div class="options-panel">
        <div class="header-row">
          <h2 class="title">OPTIONS</h2>
          <button id="close-button" class="close-button"></button>
        </div>

        <div class="settings-container">
          <div class="setting-row">
            <label class="setting-label">MUSIC VOLUME</label>
            <div class="slider-row">
              <input type="range" id="music-slider" class="slider" min="0" max="100" value="80">
              <span id="music-value" class="slider-value">80%</span>
            </div>
          </div>

          <div class="setting-row">
            <label class="setting-label">SFX & DIALOG VOLUME</label>
            <div class="slider-row">
              <input type="range" id="sfx-slider" class="slider" min="0" max="100" value="80">
              <span id="sfx-value" class="slider-value">80%</span>
            </div>
          </div>

          <div class="setting-row checkbox-row">
            <label class="setting-label">CAPTIONS</label>
            <label class="checkbox-container">
              <input type="checkbox" id="captions-checkbox" checked>
              <span class="checkmark"></span>
            </label>
          </div>

          <div class="setting-row toggle-row">
            <label class="setting-label">HANDEDNESS</label>
            <div class="toggle-buttons">
              <button id="hand-left" class="toggle-btn">LEFT</button>
              <button id="hand-right" class="toggle-btn active">RIGHT</button>
            </div>
          </div>
        </div>
      </div>
    `,document.body.appendChild(this.overlay)}setupInteractions(){this.overlay.addEventListener("click",a=>a.stopPropagation()),this.overlay.addEventListener("pointerdown",a=>a.stopPropagation()),this.overlay.addEventListener("pointerup",a=>a.stopPropagation());const e=document.getElementById("close-button"),t=document.getElementById("music-slider"),s=document.getElementById("sfx-slider"),i=document.getElementById("captions-checkbox");e&&e.addEventListener("click",()=>this.handleBack()),t&&t.addEventListener("input",a=>{this.settings.musicVolume=parseInt(a.target.value),this.updateUI(),this.applySettings(),this.saveSettings()}),s&&s.addEventListener("input",a=>{this.settings.sfxVolume=parseInt(a.target.value),this.updateUI(),this.applySettings(),this.saveSettings()}),i&&i.addEventListener("change",a=>{this.settings.captionsEnabled=a.target.checked,this.applySettings(),this.saveSettings()});const r=document.getElementById("hand-left"),o=document.getElementById("hand-right");r&&r.addEventListener("click",()=>{this.settings.handedness="left",this.updateUI(),this.applySettings(),this.saveSettings()}),o&&o.addEventListener("click",()=>{this.settings.handedness="right",this.updateUI(),this.applySettings(),this.saveSettings()})}setupKeyboardNavigation(){this.keydownHandler=e=>{this.isVisible&&e.key==="Escape"&&(e.preventDefault(),this.handleBack())},window.addEventListener("keydown",this.keydownHandler)}updateUI(){const e=document.getElementById("music-slider"),t=document.getElementById("music-value"),s=document.getElementById("sfx-slider"),i=document.getElementById("sfx-value"),r=document.getElementById("captions-checkbox");e&&(e.value=this.settings.musicVolume),t&&(t.textContent=`${this.settings.musicVolume}%`),s&&(s.value=this.settings.sfxVolume),i&&(i.textContent=`${this.settings.sfxVolume}%`),r&&(r.checked=this.settings.captionsEnabled);const o=document.getElementById("hand-left"),a=document.getElementById("hand-right");o&&a&&(o.classList.toggle("active",this.settings.handedness==="left"),a.classList.toggle("active",this.settings.handedness==="right"))}applySettings(){Oe.setState({musicVolume:this.settings.musicVolume/100,sfxVolume:this.settings.sfxVolume/100,captionsEnabled:this.settings.captionsEnabled,handedness:this.settings.handedness})}saveSettings(){try{localStorage.setItem("gameSettings",JSON.stringify(this.settings))}catch(e){console.warn("[OptionsMenu] Could not save settings:",e)}}loadSettings(){try{const e=localStorage.getItem("gameSettings");if(e){const t=JSON.parse(e);this.settings={...this.settings,...t}}}catch(e){this.logger.warn("Could not load settings:",e)}this.logger.log("Settings loaded:",this.settings)}handleBack(){this.hide(),this.onBack&&this.onBack()}show(){this.overlay&&(this.overlay.style.display="flex",this.isVisible=!0,this.updateUI(),this.logger.log("Shown"))}hide(){this.overlay&&(this.overlay.style.display="none",this.isVisible=!1,this.logger.log("Hidden"))}getSettings(){return{...this.settings}}destroy(){this.keydownHandler&&window.removeEventListener("keydown",this.keydownHandler),this.overlay&&this.overlay.remove()}}class S8 extends Ss({},{}){init(){this.logger=new wt("BrowserStateSystem",!1),this.logger.log("Initializing"),this.world.visibilityState.subscribe(e=>{this.handleVisibilityChange(e)})}handleVisibilityChange(e){const t=Oe.getState(),s=t.visibilityState;s!==e&&(Oe.setState({visibilityState:e}),this.logger.log(`visibilityState: ${s} -> ${e}`),e==="visible"?this.handleXRVisible(t):e==="visible-blurred"?this.handleXRPaused(t,"blurred"):e==="hidden"?this.handleXRPaused(t,"hidden"):e==="non-immersive"&&this.handleXREnded(t))}handleXRVisible(e){if(e.currentState===ut.ENTERING_XR){let t=ut.XR_ACTIVE;e.introPlayed&&e.callAnswered&&!e.robotsActive?(t=ut.PORTAL_PLACEMENT,this.logger.log("XR entry -> PORTAL_PLACEMENT (resuming placement)")):this.logger.log("XR entry -> XR_ACTIVE"),Oe.setState({isXRActive:!0,xrPauseReason:null,currentState:t,hasEnteredXR:!0})}else if(e.currentState===ut.XR_PAUSED){const t=e.stateBeforePause||ut.XR_ACTIVE;this.logger.log(`Resuming XR -> ${t}`),Oe.setState({isXRActive:!0,xrPauseReason:null,currentState:t})}}handleXRPaused(e,t){e.currentState>=ut.XR_ACTIVE&&e.currentState!==ut.XR_PAUSED&&(this.logger.log(`XR paused (${t}), saving state: ${e.currentState}`),Oe.setState({isXRActive:!1,xrPauseReason:t,stateBeforePause:e.currentState,currentState:ut.XR_PAUSED}))}handleXREnded(e){(e.isXRActive||e.currentState>=ut.XR_ACTIVE)&&(this.logger.log("XR session ended -> START_SCREEN"),Oe.setState({isXRActive:!1,stateBeforePause:null,currentState:ut.START_SCREEN}))}update(e,t){}destroy(){this.logger.log("Destroyed")}}function M8(n,e){if(typeof e!="object"||e===null||Array.isArray(e))return n===e;for(const[t,s]of Object.entries(e))switch(t){case"$eq":if(n!==s)return!1;break;case"$ne":if(n===s)return!1;break;case"$gt":if(!(n>s))return!1;break;case"$gte":if(!(n>=s))return!1;break;case"$lt":if(!(n<s))return!1;break;case"$lte":if(!(n<=s))return!1;break;case"$in":if(!Array.isArray(s)||!s.includes(n))return!1;break;case"$nin":if(!Array.isArray(s)||s.includes(n))return!1;break;default:return console.warn(`[CriteriaHelper] Unknown operator "${t}"`),!1}return!0}function gI(n,e){if(!e||typeof e!="object")return!0;for(const[t,s]of Object.entries(e)){const i=n[t];if(!M8(i,s))return!1}return!0}const Al={spaceMusic:{id:"spaceMusic",src:"./audio/music/space.mp3",type:"music",priority:"critical",loop:!0,volume:.6,spatial:!1,criteria:{currentState:{$gte:ut.START_SCREEN}}},tabletRing:{id:"tabletRing",src:"./audio/sfx/tablet-ring.wav",type:"sfx",priority:"critical",loop:!0,loopDelay:2e3,volume:.8,spatial:!1,analyze:!0,criteria:{currentState:ut.XR_ACTIVE}}};class T8{constructor(e={}){this.logger=new wt("AudioAnalyzer",!1),this.fftSize=e.fftSize||256,this.smoothingTimeConstant=e.smoothingTimeConstant||.8,this.minDecibels=e.minDecibels||-90,this.maxDecibels=e.maxDecibels||-10,this.audioContext=null,this.analyser=null,this.dataArray=null,this.sources=new Map,this._amplitude=0,this._smoothedAmplitude=0,this._smoothingFactor=e.amplitudeSmoothing||.3,this._initialized=!1}init(){if(!this._initialized)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,this.analyser.minDecibels=this.minDecibels,this.analyser.maxDecibels=this.maxDecibels,this.analyser.connect(this.audioContext.destination),this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),this._initialized=!0,this.logger.log("Initialized")}catch(e){this.logger.error("Failed to initialize:",e)}}connectAudioElement(e,t){if(this._initialized||this.init(),!this.audioContext||!e)return null;if(this.sources.has(t))return this.sources.get(t).source;try{this.audioContext.state==="suspended"&&this.audioContext.resume();const s=this.audioContext.createMediaElementSource(e),i=this.audioContext.createGain();return i.gain.value=1,s.connect(i),i.connect(this.analyser),this.sources.set(t,{source:s,gainNode:i,element:e}),this.logger.log(`Connected track: ${t}`),s}catch(s){return this.logger.error("Failed to connect audio element:",s),null}}disconnect(e){const t=this.sources.get(e);if(t){try{t.gainNode.disconnect(),t.source.disconnect()}catch{}this.sources.delete(e),this.logger.log(`Disconnected track: ${e}`)}}disconnectAll(){for(const e of this.sources.keys())this.disconnect(e)}update(){if(!this.analyser||!this.dataArray){this._amplitude=0,this._smoothedAmplitude=0;return}this.analyser.getByteTimeDomainData(this.dataArray);let e=0;for(let s=0;s<this.dataArray.length;s++){const i=(this.dataArray[s]-128)/128;e+=i*i}const t=Math.sqrt(e/this.dataArray.length);this._amplitude=Math.min(1,t*1.414),this._smoothedAmplitude=this._smoothedAmplitude*(1-this._smoothingFactor)+this._amplitude*this._smoothingFactor}getAmplitude(){return this._amplitude}getSmoothedAmplitude(){return this._smoothedAmplitude}getFrequencyData(){if(!this.analyser)return null;const e=new Uint8Array(this.analyser.frequencyBinCount);return this.analyser.getByteFrequencyData(e),e}getFrequencyBands(){const e=this.getFrequencyData();if(!e)return{bass:0,mid:0,high:0};const t=e.length,s=Math.floor(t*.1),i=Math.floor(t*.5);let r=0,o=0,a=0;for(let l=0;l<t;l++){const c=e[l]/255;l<s?r+=c:l<i?o+=c:a+=c}return{bass:r/s,mid:o/(i-s),high:a/(t-i)}}setTrackGain(e,t){const s=this.sources.get(e);s&&s.gainNode&&(s.gainNode.gain.value=t)}destroy(){this.disconnectAll(),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.analyser=null,this.dataArray=null,this._initialized=!1,this.logger.log("Destroyed")}}let U0=null;function mI(){return U0||(U0=new T8),U0}const De=new(window.AudioContext||window.webkitAudioContext);let gS=1,xI=!1;const Ey=new Set;function P8(n){gS=Math.max(0,Math.min(1,n))}function _n(){return gS}function R8(n,e,t,s=0,i=0,r=-1){const o=De.listener;o.positionX?(o.positionX.setValueAtTime(n,De.currentTime),o.positionY.setValueAtTime(e,De.currentTime),o.positionZ.setValueAtTime(t,De.currentTime),o.forwardX.setValueAtTime(s,De.currentTime),o.forwardY.setValueAtTime(i,De.currentTime),o.forwardZ.setValueAtTime(r,De.currentTime)):(o.setPosition(n,e,t),o.setOrientation(s,i,r,0,1,0))}function Fg(){const n=De.createPanner();return n.panningModel="HRTF",n.distanceModel="inverse",n.refDistance=1,n.maxDistance=20,n.rolloffFactor=1.5,n.coneInnerAngle=360,n.coneOuterAngle=360,n.coneOuterGain=1,n}function Cy(){De.state==="suspended"&&!xI&&De.resume()}function Ea(){return xI}function mS(n){return Ey.add(n),()=>Ey.delete(n)}function Q8(){const n=document.visibilityState==="visible";xI=!n,n?De.resume():De.suspend();for(const e of Ey)e(n)}document.addEventListener("visibilitychange",Q8);class D8 extends Ss({},{}){init(){this.logger=new wt("AudioSystem",!1),this.logger.log("Initializing"),this.player=this.world.player||this.world.getPlayer?.(),this.audioEntities=new Map,this.audioElements=new Map,this.playingTracks=new Set,this.loopTimeouts=new Map,this.analyzer=mI(),Oe.on("state:changed",(e,t)=>{this.updateAudioForState(e),e.musicVolume!==t.musicVolume&&this.applyMusicVolume(e.musicVolume),e.sfxVolume!==t.sfxVolume&&this.applySfxVolume(e.sfxVolume),e.currentState===ut.XR_PAUSED&&t.currentState!==ut.XR_PAUSED?this.pauseAll():t.currentState===ut.XR_PAUSED&&e.currentState!==ut.XR_PAUSED&&this.resumeAll()}),this._unsubVisibility=mS(e=>{e?this.resumeAll():this.pauseAll()}),this.updateAudioForState(Oe.getState())}updateAudioForState(e){for(const[t,s]of Object.entries(Al)){const i=s.criteria?gI(e,s.criteria):!1,r=this.playingTracks.has(t);i&&!r?this.playTrack(t,s):!i&&r&&this.stopTrack(t)}}playTrack(e,t){if(this.playingTracks.has(e))return;if(this.logger.log(`Playing track: ${e}${t.analyze?" (with analysis)":""}`),t.analyze||t.loopDelay>0){this.playAnalyzedTrack(e,t);return}let s;if(t.type==="music"||!t.spatial){const a=this.player?.head||this.world.camera;s=this.world.createTransformEntity(void 0,{parent:a})}else if(t.spatial&&t.position)s=this.world.createTransformEntity(),s.object3D.position.set(t.position.x||0,t.position.y||0,t.position.z||0);else{const a=this.player?.head||this.world.camera;s=this.world.createTransformEntity(void 0,{parent:a})}const i=Oe.getState(),r=t.type==="music"?i.musicVolume:i.sfxVolume,o=(t.volume||1)*r;try{s.addComponent(ft,{src:t.src,loop:t.loop||!1,volume:o,autoplay:!0}),rd.play(s),this.audioEntities.set(e,s),this.playingTracks.add(e)}catch(a){this.logger.warn(`Failed to play track ${e}:`,a),s.destroy()}}playAnalyzedTrack(e,t){try{const s=Oe.getState(),i=t.type==="music"?s.musicVolume:s.sfxVolume,r=new Audio(t.src);r.volume=(t.volume||1)*i,t.loop&&t.loopDelay>0?(r.loop=!1,r.addEventListener("ended",()=>{if(!this.playingTracks.has(e))return;const o=setTimeout(()=>{this.playingTracks.has(e)&&(r.currentTime=0,r.play().catch(()=>{}))},t.loopDelay);this.loopTimeouts.set(e,o)})):r.loop=t.loop||!1,t.analyze&&(this.analyzer._initialized||this.analyzer.init(),this.analyzer.connectAudioElement(r,e)),r.play().catch(o=>{this.logger.warn(`Failed to play track ${e}:`,o)}),this.audioElements.set(e,r),this.playingTracks.add(e),this.logger.log(`Playing: ${e}${t.analyze?" (analyzed)":""}${t.loopDelay?` (${t.loopDelay}ms loop delay)`:""}`)}catch(s){this.logger.warn(`Failed to setup track ${e}:`,s)}}stopTrack(e){if(!this.playingTracks.has(e))return;this.logger.log(`Stopping track: ${e}`);const t=this.loopTimeouts.get(e);t&&(clearTimeout(t),this.loopTimeouts.delete(e));const s=this.audioElements.get(e);if(s){s.pause(),s.currentTime=0,Al[e]?.analyze&&this.analyzer.disconnect(e),this.audioElements.delete(e),this.playingTracks.delete(e);return}const i=this.audioEntities.get(e);if(i){try{rd.stop(i)}catch{}i.destroy(),this.audioEntities.delete(e)}this.playingTracks.delete(e)}playOneShot(e){const t=Al[e];if(!t){this.logger.warn(`Unknown track: ${e}`);return}this.logger.log(`Playing one-shot: ${e}`);const s=this.player?.head||this.world.camera,i=this.world.createTransformEntity(void 0,{parent:s});try{const r=Oe.getState(),o=t.type==="music"?r.musicVolume:r.sfxVolume;i.addComponent(this.world.components.AudioSource||ft,{src:t.src,loop:!1,volume:(t.volume||1)*o,autoplay:!0}),rd.play(i),setTimeout(()=>{i.destroy()},5e3)}catch(r){this.logger.warn(`Failed to play one-shot ${e}:`,r),i.destroy()}}applyMusicVolume(e){this.logger.log(`Applying music volume: ${e}`);for(const[t,s]of this.audioElements){const i=Al[t];i&&i.type==="music"&&(s.volume=e*(i.volume||1))}for(const[t,s]of this.audioEntities){const i=Al[t];if(i&&i.type==="music")try{const r=s.getComponent(ft);r&&(r.volume=e*(i.volume||1))}catch{try{s.setValue(ft,"volume",e*(i.volume||1))}catch{}}}}applySfxVolume(e){this.logger.log(`Applying SFX volume: ${e}`);for(const[t,s]of this.audioElements){const i=Al[t];i&&i.type==="sfx"&&(s.volume=e*(i.volume||1))}for(const[t,s]of this.audioEntities){const i=Al[t];if(i&&i.type==="sfx")try{const r=s.getComponent(ft);r&&(r.volume=e*(i.volume||1))}catch{try{s.setValue(ft,"volume",e*(i.volume||1))}catch{}}}}setMusicVolume(e){Oe.setState({musicVolume:e})}setSFXVolume(e){Oe.setState({sfxVolume:e})}stopAll(){for(const e of this.playingTracks)this.stopTrack(e)}pauseAll(){for(const[e,t]of this.audioElements)t.pause();for(const[e,t]of this.audioEntities)try{rd.pause(t)}catch{}}resumeAll(){for(const[e,t]of this.audioElements)t.play().catch(()=>{});for(const[e,t]of this.audioEntities)try{rd.play(t)}catch{}}update(e,t){}destroy(){this.logger.log("Destroying"),this._unsubVisibility&&this._unsubVisibility(),this.stopAll()}}class L8{constructor(){this.world=null,this._initialized=!1,this.logger=new wt("Haptic",!1)}init(e){this.world=e,this._initialized=!0,this.logger.log("Initialized")}_getSession(){return this.world?.renderer?.xr?.getSession()||null}_getGamepad(e){const t=this._getSession();if(!t?.inputSources)return null;for(const s of t.inputSources)if(s.handedness===e&&s.gamepad)return s.gamepad;return null}pulse(e,t=1,s=100){if(!this._initialized)return this.logger.warn("Not initialized, call init(world) first"),!1;if(e==="both")return this.pulseBoth(t,s);const i=this._getSession();if(!i)return this.logger.log("No XR session"),!1;const r=this._getGamepad(e);if(!r){const o=i.inputSources?Array.from(i.inputSources).map(a=>`${a.handedness}:${a.targetRayMode}:gamepad=${!!a.gamepad}`).join(", "):"none";return this.logger.log(`No gamepad for ${e}. InputSources: [${o}]`),!1}return this._pulseGamepad(r,e,t,s)}pulseBoth(e=1,t=100){const s=this.pulse("left",e,t),i=this.pulse("right",e,t);return s||i}_pulseGamepad(e,t,s,i){s=Math.max(0,Math.min(1,s)),i=Math.max(0,i);let r=!1;if(e.hapticActuators&&e.hapticActuators.length>0)try{e.hapticActuators[0].pulse(s,i),r=!0,this.logger.log(`Pulse ${t}: intensity=${s.toFixed(2)}, duration=${i.toFixed(0)}ms`)}catch(o){this.logger.warn(`hapticActuators.pulse error: ${o.message}`)}if(!r&&e.vibrationActuator)try{e.vibrationActuator.playEffect("dual-rumble",{duration:i,strongMagnitude:s,weakMagnitude:s}),r=!0,this.logger.log(`Fallback pulse ${t}: intensity=${s.toFixed(2)}, duration=${i.toFixed(0)}ms`)}catch(o){this.logger.warn(`vibrationActuator.playEffect error: ${o.message}`)}return r}isAvailable(){const e=this._getGamepad("left"),t=this._getGamepad("right");return{left:!!(e?.hapticActuators?.length>0||e?.vibrationActuator),right:!!(t?.hapticActuators?.length>0||t?.vibrationActuator)}}getDiagnostics(){const e=this._getSession(),t={initialized:this._initialized,hasSession:!!e,inputSources:[],availability:this.isAvailable()};if(e?.inputSources)for(const s of e.inputSources)t.inputSources.push({handedness:s.handedness,targetRayMode:s.targetRayMode,hasGamepad:!!s.gamepad,hapticActuators:s.gamepad?.hapticActuators?.length||0,vibrationActuator:!!s.gamepad?.vibrationActuator});return t}}const hs=new L8;class k8 extends Ss({},{}){init(){this.logger=new wt("AudioAmplitude",!1),this.logger.log("Initializing"),this.analyzer=mI(),this._amplitude=0,this._smoothedAmplitude=0,this.connectedElements=new Map,this.hapticEnabled=!0,this.hapticThreshold=.02,this.hapticIntensityScale=2,this.hapticMinDuration=30,this.hapticMaxDuration=100,this._lastHapticTime=0,this._hapticCooldown=50,Oe.on("state:changed",(e,t)=>{e.currentState!==t.currentState&&e.currentState>=ut.XR_ACTIVE&&!this.analyzer._initialized&&this.analyzer.init()})}connectAudioElement(e,t){this.analyzer._initialized||this.analyzer.init(),this.analyzer.connectAudioElement(e,t),this.connectedElements.set(t,e)}disconnectAudioElement(e){this.analyzer.disconnect(e),this.connectedElements.delete(e)}setHapticConfig(e){e.enabled!==void 0&&(this.hapticEnabled=e.enabled),e.threshold!==void 0&&(this.hapticThreshold=e.threshold),e.intensityScale!==void 0&&(this.hapticIntensityScale=e.intensityScale),e.minDuration!==void 0&&(this.hapticMinDuration=e.minDuration),e.maxDuration!==void 0&&(this.hapticMaxDuration=e.maxDuration)}update(e,t){this.analyzer.update(),this._amplitude=this.analyzer.getAmplitude(),this._smoothedAmplitude=this.analyzer.getSmoothedAmplitude(),this._lastDebugLog||(this._lastDebugLog=0);const s=performance.now();if(s-this._lastDebugLog>1e3){this._lastDebugLog=s;const i=this.analyzer.sources?.size||0;(i>0||this._smoothedAmplitude>0)&&this.logger.log(`amplitude=${this._amplitude.toFixed(3)}, smoothed=${this._smoothedAmplitude.toFixed(3)}, sources=${i}`)}this.hapticEnabled&&this._smoothedAmplitude>this.hapticThreshold&&s-this._lastHapticTime>=this._hapticCooldown&&(this._lastHapticTime=s,this.triggerAudioHaptics(this._smoothedAmplitude))}triggerAudioHaptics(e){const t=(e-this.hapticThreshold)/(1-this.hapticThreshold),s=Math.min(1,t*this.hapticIntensityScale),i=this.hapticMinDuration+(this.hapticMaxDuration-this.hapticMinDuration)*t;this.logger.log(`Triggering haptic: intensity=${s.toFixed(2)}, duration=${i.toFixed(0)}ms`),hs.pulseBoth(s,i)||this.logger.log("HapticManager.pulseBoth returned false")}getAmplitude(){return this._amplitude}getSmoothedAmplitude(){return this._smoothedAmplitude}destroy(){this.logger.log("Destroying"),this.analyzer.destroy()}}class F8 extends Ss({animatedPanels:{required:[nn,Sn]}},{}){init(){this.animatedElements=new Map,this.pendingSetups=new Map,this.startTime=performance.now(),this._frameCounter=0,this.queries.animatedPanels.subscribe("qualify",e=>{this.pendingSetups.set(e.index,{attempts:0,entity:e})}),this.queries.animatedPanels.subscribe("disqualify",e=>{this.animatedElements.delete(e.index),this.pendingSetups.delete(e.index)})}_trySetupEntity(e,t){const s=Sn?.data?.document?.[e];if(!s)return!1;const i=s.getElementsByClassName?.("status-indicator")||[],r=s.getElementsByClassName?.("divider-dot")||[],o=s.getElementsByClassName?.("meter-active")||[];return this.animatedElements.set(e,{statusDots:Array.from(i),dividerDots:Array.from(r),meterSegments:Array.from(o),doc:s}),!0}update(e,t){for(const[r,o]of this.pendingSetups)o.attempts++,this._trySetupEntity(r,o.entity)?this.pendingSetups.delete(r):o.attempts>300&&this.pendingSetups.delete(r);if(this._frameCounter++,this._frameCounter%3!==0)return;const i=(performance.now()-this.startTime)/1e3;for(const[r,o]of this.animatedElements){for(const a of o.statusDots)if(a?.setProperties){const l=.3+.7*Math.abs(Math.sin(i*2));a.setProperties({opacity:l})}for(const a of o.dividerDots)if(a?.setProperties){const l=(Math.sin(i*1.5)+1)/2,c=Math.round(255*(1-l)),d=Math.round(100+155*l),u=Math.round(80+175*l),h=.14+.06*Math.sin(i*3);a.setProperties({backgroundColor:`rgba(${c}, ${d}, ${u}, 1.0)`,width:h,height:h})}for(let a=0;a<o.meterSegments.length;a++){const l=o.meterSegments[a];if(l?.setProperties){const c=i*3+a*.5,d=.3+.7*Math.abs(Math.sin(c));l.setProperties({backgroundColor:`rgba(0, ${Math.round(220*d)}, ${Math.round(255*d)}, 1.0)`})}}}}}class U8 extends Ss({detectedMeshes:{required:[Gs]},meshLabelPanels:{required:[nn,Sn],where:[Vy(nn,"config","./ui/mesh-label.json")]}}){init(){this.showLabels=!0,this.showDebugMeshes=!0,this.meshPanels=new Map,this.pendingPanels=new Map,this.meshVisualizations=new Map,this.vec3=new w,this.offset=new w(0,.5,0),this.logger=new wt("SemanticLabelsSystem",!1),this.queries.detectedMeshes.subscribe("qualify",e=>{const s=(Gs.data.semanticLabel?.[e.index]||"").toLowerCase();(s==="table"||s==="lamp")&&(this.showLabels&&this.assignLabelToMesh(e),this.showDebugMeshes&&this.visualizeMesh(e))}),this.queries.detectedMeshes.subscribe("disqualify",e=>{this.showLabels&&this.removeLabelFromMesh(e),this.showDebugMeshes&&this.removeMeshVisualization(e)}),this.queries.meshLabelPanels.subscribe("qualify",e=>{const t=this.pendingPanels.get(e.index);if(t){const s=Sn.data.document?.[e.index];if(s){const i=s.getElementById("mesh-label-text");i&&(i.setProperties({text:t.label}),this.meshPanels.set(t.meshEntity,{panelEntity:e,textElement:i,mesh:t.meshData,label:t.label}),this.pendingPanels.delete(e.index))}}})}assignLabelToMesh(e){if(this.meshPanels.has(e))return;const t=Gs.data.semanticLabel?.[e.index]||"",s=Gs.data.isBounded3D?.[e.index]||!1,i=Gs.data.dimensions?.[e.index],r=Gs.data.min?.[e.index],o=Gs.data.max?.[e.index],a={semanticLabel:t,isBounded3D:s,dimensions:i,min:r,max:o},l=this.getMeshLabel(a),c=this.world.createTransformEntity();this.pendingPanels=this.pendingPanels||new Map,this.pendingPanels.set(c.index,{meshEntity:e,label:l,meshData:a}),c.addComponent(nn,{config:"./ui/mesh-label.json"})}visualizeMesh(e){const s=(Gs.data.semanticLabel?.[e.index]||"").toLowerCase();if(s!=="table"&&s!=="lamp"||!(Gs.data.isBounded3D?.[e.index]||!1))return;const r=e.object3D;if(!r){this.logger.warn("Mesh entity has no object3D");return}r.visible=!0;const o=[];let a=0;r.traverse(c=>{if(c.isMesh&&c.geometry){a++,c.visible=!0,c.material&&(Array.isArray(c.material)?c.material.forEach(u=>{u.transparent=!0,u.opacity=.2}):(c.material.transparent=!0,c.material.opacity=.2));const d=new eu(new __(c.geometry),new Nt({color:3900150,transparent:!0,opacity:.9}));c.add(d),o.push(d)}}),this.logger.log(`Visualizing bounded mesh: ${a} mesh(es) found`);const l=Gs.data.dimensions?.[e.index];if(l){const c=l.x||l.X||1,d=l.y||l.Y||1,u=l.z||l.Z||1;if(c>0&&d>0&&u>0){const h=new ei(c,d,u),f=new Nt({color:65280,transparent:!0,opacity:.4,wireframe:!0}),A=new it(h,f);A.position.set(0,0,0),r.add(A),o.push(A),this.logger.log(`Added bounding box: ${c.toFixed(2)}${d.toFixed(2)}${u.toFixed(2)}`)}}o.length>0?this.meshVisualizations.set(e,o):this.logger.warn("No visualizations created for bounded mesh")}removeMeshVisualization(e){const t=this.meshVisualizations.get(e);t&&(e.object3D&&(Array.isArray(t)?t.forEach(i=>{i.parent&&i.parent.remove(i),i.geometry&&i.geometry.dispose(),i.material&&i.material.dispose()}):(t.parent&&t.parent.remove(t),t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose())),this.meshVisualizations.delete(e))}removeLabelFromMesh(e){const t=this.meshPanels.get(e);if(t){const s=t.panelEntity.object3D;s&&(s.visible=!1),t.panelEntity.destroy(),this.meshPanels.delete(e)}this.removeMeshVisualization(e)}getMeshLabel(e){const t=[],s=e.semanticLabel||e.semanticlabel;s&&s.trim()?t.push(s):t.push("Mesh"),(e.isBounded3D||e.isbounded3d)&&t.push("[Bounded]");const r=e.dimensions||e.Dimensions;if(r){const l=r.x||r.X||0,c=r.y||r.Y||0,d=r.z||r.Z||0;(l>0||c>0||d>0)&&t.push(`${l.toFixed(1)}${c.toFixed(1)}${d.toFixed(1)}m`)}const o=e.min||e.Min,a=e.max||e.Max;if(o&&a){const l=o.x||o.X||0,c=o.y||o.Y||0,d=o.z||o.Z||0,u=a.x||a.X||0,h=a.y||a.Y||0,f=a.z||a.Z||0,A={x:(l+u)/2,y:(c+h)/2,z:(d+f)/2};t.push(`@(${A.x.toFixed(1)},${A.y.toFixed(1)},${A.z.toFixed(1)})`)}return t.join(" ")}update(){if(window.systemTiming?.start("SemanticLabels"),!this.showLabels){window.systemTiming?.end("SemanticLabels");return}for(const[e,t]of this.meshPanels.entries()){const s=e.object3D,i=t.panelEntity.object3D;if(!(!s||!i)){if(i.visible=!0,s.getWorldPosition(this.vec3),t.mesh.dimensions){const r=t.mesh.dimensions,o=r.y||r.Y||.5;this.offset.y=o/2+.3}else this.offset.y=.5;i.position.copy(this.vec3).add(this.offset),i.lookAt(this.player.head.position)}}window.systemTiming?.end("SemanticLabels")}}function ru(n){return`${window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"https://localhost:8002":`https://${window.location.hostname.split(":")[0]}:8002`}${n}`}const O0=ru("/segment/json"),O8=ru("/generate3d"),G8=ru("/segment/voice");ru("/health");ru("/transcribe");ru("/interpret");const Eb="https://ust3u26jq6yroaiubpqlcah3au0kxuct.lambda-url.us-east-1.on.aws",Cb=!0;const H8=null;const z8=null,V8=["guitar","book","lamp"],G0=.5,bb=!1,q8=pI(),Mh=q8.isEmulator,W8=!1,_i={maxTrackingDistance:1,confidenceDecayRate:.1,minConfidence:.1,maxConfidence:1,positionSmoothing:.3},H0={serverDepthNear:.25,serverDepthFar:2.5,serverDepthInverted:!0};class X8{constructor(e=null,t=0){this.sessionId=e,this.frameIndex=t,this.logger=new wt("ApiClient",!0),this.bedrockEndpoint=`https://bedrock-runtime.${H8}.amazonaws.com/model/${encodeURIComponent(z8)}/converse`}setSessionId(e){this.sessionId=e}setFrameIndex(e){this.frameIndex=e}async sendToAPI(e){this.logger.log("Sending to API...");const t=performance.now();try{const s=await fetch(O0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:e,text_prompts:V8,threshold:G0,return_depth_map:!0,session_id:bb?this.sessionId:null,frame_index:bb?this.frameIndex:null})}),i=performance.now()-t;if(this.logger.log(`API response received (${i.toFixed(0)}ms)`),!s.ok){const o=await s.text();return this.logger.error(`API error ${s.status}:`,o),null}const r=await s.json();return this.logger.log(`Found ${r.detections?.length||0} detections`),r}catch(s){return this.logger.error("API request failed:",s),s.message.includes("SSL")||s.message.includes("ERR_SSL")?this.logger.error("SSL Certificate Error:",`
  The server's SSL certificate is invalid or incompatible.`,`
  Options:`,`
  1. Fix the SSL certificate on your server (recommended)`,`
  2. For development, you can use HTTP on localhost only`,`
  3. Add the certificate to your browser's trusted certificates`,`
  Current API URL:`,O0):(s.message.includes("Failed to fetch")||s.message.includes("network"))&&this.logger.error("Network Error:",`
  Could not connect to the API server.`,`
  Check that:`,`
  1. The server is running at`,O0,`
  2. The server is accessible from this device`,`
  3. Firewall allows connections on port 8002`),null}}async sendVoiceToAPI(e,t){try{const s=await fetch(G8,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:e,audio:t,threshold:G0,use_full_transcription:!0,return_depth_map:!0})});if(!s.ok){const r=await s.text();throw new Error(`Voice segmentation failed: ${s.status} ${r}`)}const i=await s.json();return window._lastApiResponse=i,i}catch(s){throw this.logger.error("Voice API request failed:",s),s}}async generate3DModel(e,t){try{const s=await fetch(O8,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:e,text_prompt:t,threshold:G0,format:"glb"})});if(!s.ok){const r=await s.text();throw new Error(`3D generation failed: ${s.status} ${r}`)}const i=await s.json();return this.logger.log(`3D model generated successfully (format: ${i.format})`),i}catch(s){throw this.logger.error("3D generation API failed:",s),s}}async transcribeAudio(e){try{let t;if(Cb){const i=await e.arrayBuffer(),r=btoa(String.fromCharCode(...new Uint8Array(i))),o=await fetch(`${Eb}/transcribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audio:r,filename:"audio.webm"})});if(!o.ok){const l=await o.text();throw new Error(`Transcription failed: ${o.status} ${l}`)}t=(await o.json()).text||""}this.logger.log(`Transcribed: "${t}"`);const s={transcription:t};return window._lastTranscription=s,s}catch(t){throw this.logger.error("Transcription API failed:",t),t}}async interpretText(e,t=null,s=null){try{let i;if(Cb){this.logger.log("Sending to Lambda proxy for interpretation..."),this.logger.log(`User message: "${e}"`);const o=s?{currentState:s.currentState,greetingResult:s.greetingResult,introPlayed:s.introPlayed,callAnswered:s.callAnswered}:null,a=await fetch(`${Eb}/interpret`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcription:e,gameState:o})});if(!a.ok){const l=await a.text();throw new Error(`Lambda proxy error ${a.status}: ${l}`)}i=await a.json(),this.logger.log("Lambda response:",JSON.stringify(i,null,2))}const r={transcription:i.transcription||e,corrected_transcription:i.corrected_transcription||null,intent:i.intent||"unknown",confidence:i.confidence||.5,is_greeting:i.is_greeting!==void 0?i.is_greeting:i.intent==="greeting",is_reassuring:i.is_reassuring!==void 0?i.is_reassuring:i.intent==="reassuring",is_goodbye:i.is_goodbye!==void 0?i.is_goodbye:i.intent==="farewell",suggested_action:i.suggested_action||"continue",response_text:i.response_text||"I heard you.",robot_directive:i.robot_directive||{stop_navigation:!1,face_user:!1},sentiment:{sentiment:i.sentiment?.sentiment||"neutral",is_rude:i.sentiment?.is_rude||!1,tone_description:i.sentiment?.tone_description||"",score:i.sentiment?.score!==void 0?i.sentiment.score:0}};return this.logger.log("Interpreted result:",JSON.stringify(r,null,2)),window._lastInterpretResponse=r,r}catch(i){throw this.logger.error("Interpretation failed:",i),i}}}class Y8{constructor(e=!0){this.debugMode=e,this.debugImageElement=null,this.debugImageTimeout=null,this.imageCounter=0,this.logger=new wt("DebugVisualizer",!1),this.visualizationPlanes=new Map,this.visualizationCanvases=new Map,this.visualizationModes=new Map,this.lastServerDepthCanvas=null,this.lastNativeDepthCanvas=null,this.lastOriginalCanvas=null,this._setupDownloadHelpers()}_setupDownloadHelpers(){const e=this;window.logDebugImages=()=>{const t=(s,i)=>{if(!s){console.log(`No ${i} canvas available`);return}const r=s.toDataURL("image/png");console.log(`
=== ${i} ===`),console.log("%c ",`
          background: url(${r}) no-repeat;
          background-size: contain;
          padding: 100px 200px;
        `),console.log(`Right-click to copy data URL for ${i}:`),console.log(r)};if(t(e.lastOriginalCanvas,"ORIGINAL"),t(e.lastServerDepthCanvas,"SERVER_DEPTH"),t(e.lastNativeDepthCanvas,"NATIVE_DEPTH"),window._lastApiResponse?.depth_map){console.log(`
=== RAW_DEPTH_MAP ===`);const s=window._lastApiResponse.depth_map,i=s.startsWith("data:")?s:`data:image/png;base64,${s}`;console.log(i)}},this.logger.log("Ready: logDebugImages() - logs to console for PC copy")}setDebugMode(e){this.debugMode=e}setImageCounter(e){this.imageCounter=e}createDebugImageDisplay(){this.debugImageElement=document.createElement("div"),this.debugImageElement.id="camera-debug-display",this.debugImageElement.style.cssText=`
      position: fixed;
      top: 10px;
      right: 10px;
      width: 320px;
      max-height: 240px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #00ff00;
      border-radius: 8px;
      padding: 8px;
      z-index: 99999;
      display: none;
      pointer-events: none;
    `;const e=document.createElement("img");e.id="camera-debug-image",e.style.cssText=`
      width: 100%;
      height: auto;
      display: block;
    `;const t=document.createElement("div");t.id="camera-debug-label",t.style.cssText=`
      color: #00ff00;
      font-family: monospace;
      font-size: 10px;
      margin-top: 4px;
      text-align: center;
    `,t.textContent="Camera Capture",this.debugImageElement.appendChild(e),this.debugImageElement.appendChild(t),document.body.appendChild(this.debugImageElement),this.logger.log("Debug image display created")}showDebugImage(e,t){if(!this.debugImageElement)return;const s=this.debugImageElement.querySelector("#camera-debug-image"),i=this.debugImageElement.querySelector("#camera-debug-label");s&&i&&(s.src=e,i.textContent=`Capture ${this.imageCounter} - ${new Date(t).toLocaleTimeString()}`,this.debugImageElement.style.display="block",this.debugImageTimeout&&clearTimeout(this.debugImageTimeout),this.debugImageTimeout=setTimeout(()=>{this.debugImageElement&&(this.debugImageElement.style.display="none")},3e3),this.logger.log("Debug image displayed"))}async saveImageLocally(e){return this.debugMode?new Promise(t=>{e.toBlob(s=>{if(!s){t(null);return}const i=new Date().toISOString().replace(/[:.]/g,"-"),r=`camera-capture-${this.imageCounter}-${i}.jpg`;this.imageCounter++;const o=URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download=r,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>URL.revokeObjectURL(o),100),this.logger.log(`Saved image: ${r}`),t({filename:r,url:o,blob:s})},"image/jpeg",.95)}):null}async saveDebugImageWithDepthOverlay(e,t,s,i){if(!i||!i.depthMap){this.logger.log("Cannot save debug image: No captured depth data");return}if(this.debugMode)try{const r=document.createElement("canvas");r.width=e.width,r.height=e.height;const o=r.getContext("2d");if(o.drawImage(e,0,0),t&&t.length>0){const f=[];if(s&&s.length>0){const A=t.map(async(g,m)=>{if(g.mask_index!==void 0&&s[g.mask_index])try{const y=s[g.mask_index],_=new Image;return new Promise((I,v)=>{_.onload=()=>I({index:m,image:_}),_.onerror=v,_.src=`data:image/png;base64,${y}`})}catch(y){return this.logger.warn(`Failed to load mask for detection ${m}:`,y),null}return null});(await Promise.all(A)).forEach(g=>{g&&(f[g.index]=g.image)})}for(let A=0;A<t.length;A++){const p=t[A],g=p.bbox;if(g){const[m,y,_,I]=g;o.strokeStyle="rgba(0, 255, 0, 0.8)",o.lineWidth=2,o.strokeRect(m,y,_-m,I-y),o.fillStyle="rgba(0, 255, 0, 0.9)",o.font="bold 14px Arial",o.fillText(p.label||"object",m,y-5)}f[A]&&(o.globalAlpha=.3,o.drawImage(f[A],0,0,e.width,e.height),o.globalAlpha=1)}}const a=i.depthMap;let l=1/0,c=-1/0;for(const f of a.values())l=Math.min(l,f.depth),c=Math.max(c,f.depth);const d=c-l||1;for(const[f,A]of a.entries()){const p=A.pixelX,g=A.pixelY,m=A.depth,y=(m-l)/d,_=Math.floor(y*255),I=Math.floor((1-y)*255),v=`rgb(${_}, 0, ${I})`;o.fillStyle=v,o.beginPath(),o.arc(p,g,5,0,Math.PI*2),o.fill(),o.strokeStyle="white",o.lineWidth=1,o.stroke(),o.fillStyle="white",o.font="10px monospace",o.fillText(m.toFixed(2)+"m",p+7,g+3)}const u=new Date().toISOString().replace(/[:.]/g,"-"),h=`depth-overlay-${this.imageCounter}-${u}.jpg`;this.imageCounter++,r.toBlob(f=>{if(!f){this.logger.warn("Failed to create debug image blob.");return}const A=URL.createObjectURL(f),p=document.createElement("a");p.href=A,p.download=h,p.style.display="none",document.body.appendChild(p),p.click(),document.body.removeChild(p),setTimeout(()=>URL.revokeObjectURL(A),100),this.logger.log(`Saved debug image with depth overlay: ${h}`)},"image/jpeg",.95)}catch(r){this.logger.warn("Error saving depth overlay:",r)}}async createNativeDepthVisualization(e,t,s,i,r,o){if(!i||!i.depthMap)return this.logger.warn("No native depth data available"),null;const a=document.createElement("canvas");a.width=r,a.height=o;const l=a.getContext("2d");e?l.drawImage(e,0,0,r,o):(l.fillStyle="#333333",l.fillRect(0,0,r,o));const c=i.depthMap;l.createImageData(r,o);let d=1/0,u=-1/0;for(const f of c.values())d=Math.min(d,f.depth),u=Math.max(u,f.depth);const h=u-d||1;for(const[f,A]of c.entries()){const p=A.pixelX,g=A.pixelY,m=A.depth,y=(m-d)/h,_=Math.floor(y*255),I=Math.floor((1-y)*255),v=`rgb(${_}, 0, ${I})`;l.fillStyle=v,l.beginPath(),l.arc(p,g,5,0,Math.PI*2),l.fill(),l.fillStyle="#ffffff",l.font="bold 11px monospace",l.fillText(`${m.toFixed(2)}m`,p+8,g-8)}if(t&&s&&s.length>0)for(let f=0;f<t.length;f++){const A=t[f];if(A.mask_index!==void 0&&s[A.mask_index])try{const p=new Image;await new Promise((g,m)=>{p.onload=g,p.onerror=m,p.src=`data:image/png;base64,${s[A.mask_index]}`}),l.globalAlpha=.4,l.fillStyle="#00ffff",l.drawImage(p,0,0,r,o),l.globalAlpha=1}catch(p){this.logger.warn(`Failed to load mask ${f}:`,p)}}if(t)for(const f of t){const A=f.bbox;if(A){const[p,g,m,y]=A;l.strokeStyle="#00ffff",l.lineWidth=3,l.strokeRect(p,g,m-p,y-g),l.fillStyle="#00ffff",l.font="bold 16px Arial",l.fillText(`${f.label||"object"} (native)`,p,g-8)}}if(t&&s&&s.length>0){const f=[];for(let A=0;A<t.length;A++){const p=t[A];if(p.mask_index!==void 0&&s[p.mask_index])try{const g=new Image;await new Promise((_,I)=>{g.onload=_,g.onerror=I,g.src=`data:image/png;base64,${s[p.mask_index]}`});const m=document.createElement("canvas");m.width=r,m.height=o;const y=m.getContext("2d");y.drawImage(g,0,0,r,o),f.push(y.getImageData(0,0,r,o))}catch(g){this.logger.warn(`Failed to load mask ${A} for native depth sampling:`,g),f.push(null)}else f.push(null)}for(const[A,p]of c.entries()){const g=p.pixelX,m=p.pixelY;let y=!1;for(let b=0;b<f.length;b++){const N=f[b];if(!N)continue;const C=(m*r+g)*4;if(C<N.data.length&&N.data[C+3]>=128){y=!0;break}}if(!y)continue;const I=(p.depth-d)/h,v=Math.floor(I*255),E=Math.floor((1-I)*255);l.fillStyle=`rgb(${v}, 0, ${E})`,l.beginPath(),l.arc(g,m,5,0,Math.PI*2),l.fill()}}return a}async createServerDepthVisualization(e,t,s,i,r,o){if(!i)return this.logger.warn("No server depth map available"),null;if(this.logger.log(`Server depth visualization: depthMapImageData=${!!i}, width=${i?.width}, height=${i?.height}, dataLength=${i?.data?.length||0}`),!i.data||i.data.length===0)return this.logger.error("Server depth map has no data!"),null;const a=document.createElement("canvas");a.width=r,a.height=o;const l=a.getContext("2d"),c=document.createElement("canvas");c.width=i.width,c.height=i.height,c.getContext("2d").putImageData(i,0,0),l.drawImage(c,0,0,r,o);const u=.25,h=2.5,f=i.data,A=i.width,p=i.height;if(t&&s&&s.length>0)for(let g=0;g<t.length;g++){const m=t[g];if(m.mask_index!==void 0&&s[m.mask_index])try{const y=new Image;await new Promise((C,B)=>{y.onload=C,y.onerror=B,y.src=`data:image/png;base64,${s[m.mask_index]}`}),l.globalAlpha=.5,l.drawImage(y,0,0,r,o),l.globalAlpha=1;const _=document.createElement("canvas");_.width=r,_.height=o;const I=_.getContext("2d");I.drawImage(y,0,0,r,o);const v=I.getImageData(0,0,r,o),E=40;let b=0;const N=[];for(let C=0;C<o;C+=E)for(let B=0;B<r;B+=E){const S=(C*r+B)*4;if(S>=v.data.length||v.data[S+3]<128)continue;const T=Math.floor(B/r*A),D=Math.floor(C/o*p);if(T<0||T>=A||D<0||D>=p)continue;const L=(D*A+T)*4;if(L>=f.length||f[L+3]===0)continue;const z=f[L],V=f[L+1],se=f[L+2],Ae=Math.round((z+V+se)/3)/255,pe=u+(1-Ae)*(h-u);if(isFinite(pe)&&pe>0&&pe<=h){N.push(pe);const Ye=(pe-u)/(h-u),Me=Math.floor(Ye*255),We=Math.floor((1-Ye)*255);l.fillStyle=`rgb(${Me}, 0, ${We})`,l.beginPath(),l.arc(B,C,5,0,Math.PI*2),l.fill(),l.strokeStyle="#ffffff",l.lineWidth=1,l.stroke(),l.fillStyle="#ffffff",l.font="bold 11px monospace",l.fillText(`${pe.toFixed(2)}m`,B+8,C-8),b++}}if(N.length>0){const C=Math.min(...N),B=Math.max(...N),S=N.reduce((T,D)=>T+D,0)/N.length;this.logger.log(`Server depth visualization: ${b} samples for ${m.label||"object"}, depth range: ${C.toFixed(2)}m - ${B.toFixed(2)}m, avg: ${S.toFixed(2)}m`)}else this.logger.warn(`Server depth visualization: No valid depth samples found for ${m.label||"object"}`)}catch(y){this.logger.warn(`Failed to load mask ${g} for overlay:`,y)}}return a}async showDepthVisualizations(e,t,s,i,r,o,a,l,c,d,u=null){if(this.logger.log(`showDepthVisualizations called: debugMode=${this.debugMode}, capturedDepthData=${!!i}, serverDepthMapImageData=${!!r}, headTransform=${!!u}`),!this.debugMode){this.logger.warn("Debug mode is disabled, skipping visualization");return}{this.logger.log("Mid-air visualization disabled in config, skipping");return}}async createVisualizationPlaneAtCamera(e,t,s,i,r){this.removeVisualizationPlane(i,r);const o=new vn(e);o.colorSpace=cs,o.minFilter=Ot,o.magFilter=Ot;const a=e.width/e.height,l=1.2,c=l/a;this.logger.log(`Creating visualization plane: canvas=${e.width}x${e.height}, plane=${l.toFixed(2)}x${c.toFixed(2)}m, position=(${t.x.toFixed(2)}, ${t.y.toFixed(2)}, ${t.z.toFixed(2)})`);const d=new Us(l,c),u=new Nt({map:o,transparent:!0,opacity:1,side:2,depthWrite:!1,depthTest:!0}),h=new it(d,u);if(!t||!isFinite(t.x)||!isFinite(t.y)||!isFinite(t.z)){this.logger.error(`Invalid camera position: ${t}`);return}const f=new w(0,0,-.3);s&&isFinite(s.x)&&isFinite(s.y)&&isFinite(s.z)&&isFinite(s.w)&&f.applyQuaternion(s),h.position.set(t.x+f.x,t.y+f.y,t.z+f.z),(!isFinite(h.position.x)||!isFinite(h.position.y)||!isFinite(h.position.z))&&(this.logger.error(`Position calculation produced NaN: cameraPos=(${t.x}, ${t.y}, ${t.z}), offset=(${f.x}, ${f.y}, ${f.z})`),h.position.copy(t));const A=new Ge;A.setFromAxisAngle(new w(0,1,0),Math.PI);let p=A;s&&isFinite(s.x)&&isFinite(s.y)&&isFinite(s.z)&&isFinite(s.w)&&(p=s.clone().multiply(A),(!isFinite(p.x)||!isFinite(p.y)||!isFinite(p.z)||!isFinite(p.w))&&(this.logger.warn("Rotation calculation produced NaN, using default rotation"),p=A)),h.setRotationFromQuaternion(p),this.logger.log(`Plane positioned: cameraPos=(${t.x.toFixed(2)}, ${t.y.toFixed(2)}, ${t.z.toFixed(2)}), finalPos=(${h.position.x.toFixed(2)}, ${h.position.y.toFixed(2)}, ${h.position.z.toFixed(2)}), rotation=${!!s}`),h.visible=!0,h.matrixAutoUpdate=!0;const g=r.createTransformEntity(h);if(!g){this.logger.error(`Failed to create visualization plane entity for ${i}`);return}h.parent?this.logger.log(`Mesh is in scene, parent: ${h.parent.constructor.name}`):(this.logger.warn("Mesh has no parent after createTransformEntity, adding to scene manually"),r.scene.add(h)),h.updateMatrixWorld(!0);try{g.addComponent(Ga),h.userData.debugKey=i,h.userData.isDebugImage=!0,h.onClick=()=>{this.logger.log("Debug image clicked, toggling..."),this.toggleDebugImage(i,r)}}catch(m){this.logger.warn("Could not add Interactable to debug image:",m)}this.visualizationPlanes.set(i,{entity:g,mesh:h}),this.logger.log(`Created debug visualization plane at camera position: (${t.x.toFixed(2)}, ${t.y.toFixed(2)}, ${t.z.toFixed(2)}), mesh.visible=${h.visible}, mesh.parent=${!!h.parent}, mesh.position=(${h.position.x.toFixed(2)}, ${h.position.y.toFixed(2)}, ${h.position.z.toFixed(2)})`)}toggleDebugImage(e,t){const s=this.visualizationCanvases.get(e);if(!s){this.logger.warn(`No canvases found for key: ${e}`);return}const r=(this.visualizationModes.get(e)||"server")==="server"?"native":"server",o=r==="server"?s.serverCanvas:s.nativeCanvas;if(!o){this.logger.warn(`No ${r} canvas available`);return}const a=this.visualizationPlanes.get(e);if(a&&a.mesh&&a.mesh.material){a.mesh.material.map&&a.mesh.material.map.dispose();const l=new vn(o);l.colorSpace=cs,l.minFilter=Ot,l.magFilter=Ot,a.mesh.material.map=l,a.mesh.material.needsUpdate=!0,this.visualizationModes.set(e,r),this.logger.log(`Toggled debug image to ${r} mode`)}}removeVisualizationPlane(e,t){const s=this.visualizationPlanes.get(e);s&&(s.entity&&typeof s.entity.destroy=="function"?s.entity.destroy():s.mesh&&(t.scene.remove(s.mesh),s.mesh.material&&(s.mesh.material.map&&s.mesh.material.map.dispose(),s.mesh.material.dispose()),s.mesh.geometry&&s.mesh.geometry.dispose()),this.visualizationPlanes.delete(e))}removeAllVisualizationPlanes(e){for(const t of this.visualizationPlanes.keys())this.removeVisualizationPlane(t,e)}updateVisualizationPlanes(e){const t=e.head.position;for(const{mesh:s}of this.visualizationPlanes.values())s&&s.visible&&!s.userData.isDebugImage&&s.lookAt(t.x,t.y,t.z)}downloadCanvas(e,t){e.toBlob(s=>{if(!s){this.logger.warn(`Failed to create blob for ${t}`);return}const i=URL.createObjectURL(s),r=document.createElement("a");r.href=i,r.download=t,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>URL.revokeObjectURL(i),100)},"image/png",1)}}class J8{constructor(e,t){this.world=e,this.player=t,this.logger=new wt("CameraCapture",!1),this._quaternionErrorLogged=!1,this._intrinsicsChecked=!1,this._intrinsicsNotFoundLogged=!1,this._intrinsicsLogged=!1,this._extrinsicsChecked=!1,this._extrinsicsNotFoundLogged=!1,this._extrinsicsLogged=!1,this._cachedIntrinsics=null,this._cachedExtrinsics=null,this._emulatorCameraWarningLogged=!1,this._captureErrorLogged=!1}captureFrame(e){if(Mh)return this._emulatorCameraWarningLogged||(this.logger.log("Emulator mode: camera capture disabled (no front-facing camera)"),this._emulatorCameraWarningLogged=!0),null;try{return jl.captureFrame(e)}catch(t){return this._captureErrorLogged||(this.logger.warn("Camera capture failed:",t.message),this._captureErrorLogged=!0),null}}getHeadTransform(){const e=this.player?.head;if(!e)return this.logger.warn("getHeadTransform: No player.head available"),{position:[0,0,0],rotation:[0,0,0,1],matrix:null,object3D:null,quaternion:null};const t=new w;e.getWorldPosition(t);const s=e;let i=null,r=null;return s?(s.updateMatrixWorld(!0),r=s.matrixWorld,r&&r.elements&&(!r.elements.every(a=>a===0)?(i=new Ge,i.setFromRotationMatrix(r)):this.logger.warn("getHeadTransform:  matrixWorld exists but all elements are zero")),!i&&typeof s.getWorldQuaternion=="function"&&(i=new Ge,s.getWorldQuaternion(i),i.w===1&&i.x===0&&i.y===0&&i.z===0&&(i=null)),!i&&s.quaternion&&s.quaternion.w!==void 0&&(i=s.quaternion,i.w===1&&i.x===0&&i.y===0&&i.z===0&&(i=null)),!i&&s.rotation&&(i=new Ge,i.setFromEuler(s.rotation)),i||this._quaternionErrorLogged||(this.logger.error("getHeadTransform:  CRITICAL: Could not get quaternion from any method!"),this._quaternionErrorLogged=!0)):(this.logger.error("getHeadTransform:  CRITICAL: head is null/undefined or not an Object3D"),this.logger.error("getHeadTransform: head:",e)),{position:[t.x,t.y,t.z],rotation:i?[i.x,i.y,i.z,i.w]:[0,0,0,1],matrix:r,object3D:s,quaternion:i}}getCameraIntrinsics(e){const t=Vt.data.videoElement?.[e.index];if(!t)return this._noVideoElementLogged||(console.debug("[CameraSemanticLabels] getCameraIntrinsics: No video element (camera not active yet)"),this._noVideoElementLogged=!0),null;this._noVideoElementLogged&&(this._noVideoElementLogged=!1);const s=t.srcObject;if(!s)return this._noStreamLogged||(console.debug("[CameraSemanticLabels] getCameraIntrinsics: No stream"),this._noStreamLogged=!0),null;this._noStreamLogged&&(this._noStreamLogged=!1);const i=s.getVideoTracks()[0];if(!i)return this._noVideoTrackLogged||(console.debug("[CameraSemanticLabels] getCameraIntrinsics: No video track"),this._noVideoTrackLogged=!0),null;this._noVideoTrackLogged&&(this._noVideoTrackLogged=!1);const r=i.getSettings();if(this._intrinsicsChecked||(this.logger.log("getCameraIntrinsics: Checking MediaTrackSettings..."),this.logger.log("  Available settings keys:",Object.keys(r).join(", ")),this._intrinsicsChecked=!0),r.lensIntrinsicCalibration){const o=r.lensIntrinsicCalibration;return this._intrinsicsLogged||this.logger.log("   Found lensIntrinsicCalibration:",o),{fx:o[0]||o.fx,fy:o[1]||o.fy,cx:o[2]||o.cx,cy:o[3]||o.cy,source:"MediaTrackSettings"}}return this._intrinsicsNotFoundLogged||(this.logger.log("   lensIntrinsicCalibration not found in MediaTrackSettings"),this.logger.log("  Will use approximated intrinsics from FOV"),this._intrinsicsNotFoundLogged=!0),null}getCameraExtrinsics(e){const t=Vt.data.videoElement?.[e.index];if(!t)return this.logger.log("getCameraExtrinsics: No video element"),null;const s=t.srcObject;if(!s)return this.logger.log("getCameraExtrinsics: No stream"),null;const i=s.getVideoTracks()[0];if(!i)return this.logger.log("getCameraExtrinsics: No video track"),null;const r=i.getSettings();return this._extrinsicsChecked||(this.logger.log("getCameraExtrinsics: Checking MediaTrackSettings..."),this._extrinsicsChecked=!0),r.lensPoseTranslation&&r.lensPoseRotation?(this._extrinsicsLogged||(this.logger.log("   Found lensPoseTranslation:",r.lensPoseTranslation),this.logger.log("   Found lensPoseRotation:",r.lensPoseRotation),this._extrinsicsLogged=!0),{translation:r.lensPoseTranslation,rotation:r.lensPoseRotation,source:"MediaTrackSettings"}):(this._extrinsicsNotFoundLogged||(this.logger.log("   lensPoseTranslation/rotation not found in MediaTrackSettings"),this.logger.log("  Using fallback extrinsics: translation=[0.0, -0.02, -0.06]"),this._extrinsicsNotFoundLogged=!0),{translation:[0,-.02,-.06],rotation:null,source:"fallback"})}async loadTestImage(){return new Promise(e=>{const t=new Image;t.crossOrigin="anonymous",t.onload=()=>{const s=document.createElement("canvas");s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(t,0,0),this.logger.log(`Test image loaded: ${s.width}x${s.height}`),e(s)},t.onerror=()=>{this.logger.warn("Failed to load test image"),e(null)},t.src="./test-image.jpg"})}}function xS(n,e,t,s,i,r){const{fx:o,fy:a,cx:l,cy:c}=t,d=(n-l)/o,u=(e-c)/a,h=1,f=new w(d,u,h).normalize();return f.applyQuaternion(i),{origin:s.clone(),direction:f,depth:r}}function K8(n,e){const t=new w().subVectors(n.origin,e.origin),s=n.direction.dot(n.direction),i=n.direction.dot(e.direction),r=e.direction.dot(e.direction),o=n.direction.dot(t),a=e.direction.dot(t),l=s*r-i*i;if(Math.abs(l)<1e-10){const g=new w().copy(n.origin).addScaledVector(n.direction,0),m=new w().copy(e.origin).addScaledVector(e.direction,0),y=g.distanceTo(m);return{point:new w().addVectors(g,m).multiplyScalar(.5),distance:y}}const c=(i*a-r*o)/l,d=(s*a-i*o)/l,u=new w().copy(n.origin).addScaledVector(n.direction,c),h=new w().copy(e.origin).addScaledVector(e.direction,d),f=new w().addVectors(u,h).multiplyScalar(.5),A=u.distanceTo(h);return{point:f,distance:A}}function j8(n,e=null){if(n.length===0)return{position:new w(0,0,0),uncertainty:1/0};if(n.length===1){const d=n[0];return{position:new w().copy(d.origin).addScaledVector(d.direction,d.depth||1),uncertainty:d.uncertainty||1}}if(n.length===2){const d=K8(n[0],n[1]),u=((n[0].uncertainty||.1)+(n[1].uncertainty||.1))/2;return{position:d.point,uncertainty:Math.max(d.distance/2,u)}}const t=n.length,s=e||new Array(t).fill(1),i=[[0,0,0],[0,0,0],[0,0,0]],r=[0,0,0];for(let d=0;d<t;d++){const u=n[d],h=s[d]/(u.uncertainty||.1),f=u.direction,A=u.origin,p=f,g=A,m=[[1-p.x*p.x,-p.x*p.y,-p.x*p.z],[-p.y*p.x,1-p.y*p.y,-p.y*p.z],[-p.z*p.x,-p.z*p.y,1-p.z*p.z]];for(let y=0;y<3;y++){for(let _=0;_<3;_++)i[y][_]+=h*m[y][_];r[y]+=h*(m[y][0]*g.x+m[y][1]*g.y+m[y][2]*g.z)}}const o=Z8(i,r);if(!o){let d=0;const u=new w(0,0,0);for(let h=0;h<t;h++){const f=n[h],A=s[h]/(f.uncertainty||.1),p=new w().copy(f.origin).addScaledVector(f.direction,f.depth||1);u.addScaledVector(p,A),d+=A}return{position:u.multiplyScalar(1/d),uncertainty:1}}let a=0,l=0;for(let d=0;d<t;d++){const u=n[d],h=s[d]/(u.uncertainty||.1),f=new w().copy(u.origin).addScaledVector(u.direction,u.depth||1),A=o.distanceTo(f);a+=A*h,l+=h}const c=l>0?a/l:1;return{position:o,uncertainty:c}}function Z8(n,e){const s=[[n[0][0],n[0][1],n[0][2],e[0]],[n[1][0],n[1][1],n[1][2],e[1]],[n[2][0],n[2][1],n[2][2],e[2]]];for(let r=0;r<3;r++){let o=r;for(let a=r+1;a<3;a++)Math.abs(s[a][r])>Math.abs(s[o][r])&&(o=a);if([s[r],s[o]]=[s[o],s[r]],Math.abs(s[r][r])<1e-10)return null;for(let a=r+1;a<3;a++){const l=s[a][r]/s[r][r];for(let c=r;c<4;c++)s[a][c]-=l*s[r][c]}}const i=[0,0,0];for(let r=2;r>=0;r--){i[r]=s[r][3];for(let o=r+1;o<3;o++)i[r]-=s[r][o]*i[o];i[r]/=s[r][r]}return new w(i[0],i[1],i[2])}function $8(n,e){if(n.length<3)return .1;const t=n.map(a=>a.z),s=t.reduce((a,l)=>a+l,0)/t.length,i=t.reduce((a,l)=>a+(l-s)**2,0)/t.length,r=Math.sqrt(i);return Math.max(r*.5,.02)}function e6(n,e=.01,t=.005){return Math.sqrt(n**2+e**2+t**2)}function wb(n,e=.001){return 1/(n+e)}function yS(n,e){const t=2-n*1.5;return e*t}function Bb(n,e=.7){if(n.length===0)return new w(0,0,0);if(n.length===1)return n[0].position.clone();let t=n[0].position.clone();for(let s=1;s<n.length;s++){const i=n[s].position,r=Math.pow(e,n.length-s-1);t.lerp(i,1-r)}return t}class Nb{constructor(e={}){this.maxTrackingDistance=e.maxTrackingDistance||_i.maxTrackingDistance,this.confidenceDecayRate=e.confidenceDecayRate||_i.confidenceDecayRate,this.minConfidence=e.minConfidence||_i.minConfidence,this.maxConfidence=e.maxConfidence||_i.maxConfidence,this.positionSmoothing=e.positionSmoothing||_i.positionSmoothing,this.trackedObjects=new Map,this.nextObjectId=0,this.onCreateLabel=null,this.onUpdateLabel=null,this.onCreateWireframe=null,this.onUpdateWireframe=null,this.onRemoveLabel=null,this.onRemoveWireframe=null,this.logger=new wt("ObjectTracker",!1)}setCallbacks(e){this.onCreateLabel=e.onCreateLabel,this.onUpdateLabel=e.onUpdateLabel,this.onCreateWireframe=e.onCreateWireframe,this.onUpdateWireframe=e.onUpdateWireframe,this.onRemoveLabel=e.onRemoveLabel,this.onRemoveWireframe=e.onRemoveWireframe}matchToTrackedObject(e,t,s,i,r=null){let o=null,a=1/0;for(const[l,c]of i.entries()){if(c.label!==e||r&&r.has(l))continue;const d=t.distanceTo(c.fusedPosition);d<this.maxTrackingDistance&&d<a&&(o=l,a=d)}return o&&this.logger.log(`Match found: ${e} -> ${o} (distance: ${a.toFixed(2)}m)`),o}createTrackedObject(e,t,s,i,r,o,a,l,c=!1,d,u=null,h=null,f=null,A=.1){const p=c?`video_obj_${this.nextObjectId++}`:`obj_${this.nextObjectId++}`,g={objectId:p,label:e,fusedPosition:t.clone(),captureTimePosition:t.clone(),positionHistory:[],nativePositionHistory:[],nativeFusedPosition:u?u.clone():null,viewCount:1,confidence:Math.min(i,this.maxConfidence),lastSeen:Date.now(),lastHeadTransform:r,depthMeters:s,nativeDepthMeters:h,nativeWorldPosition:u?u.clone():null,cameraIntrinsics:o,bbox:a?[...a]:null,maskIndex:l||null,isVideoMode:c};u&&g.nativePositionHistory.push({position:u.clone(),depth:h||1,timestamp:Date.now()}),g.positionHistory.push({position:t.clone(),ray:f,uncertainty:A,timestamp:Date.now()}),d.set(p,g);const m=c?"[VIDEO]":"[IMAGE]";return this.logger.log(`${m} New: ${e} (${p})`),this.onCreateLabel&&this.onCreateLabel(p,g,c),this.onCreateWireframe&&this.onCreateWireframe(p,g,c),p}updateTrackedObject(e,t,s,i,r,o,a,l,c=null,d=null,u=null,h=.1){const f=l.get(e);if(!f)return;if(r&&o&&a){const p=new w(r.position[0],r.position[1],r.position[2]);let g=new Ge;r.quaternion?g.copy(r.quaternion):r.matrix&&g.setFromRotationMatrix(r.matrix);const m=(a[0]+a[2])/2,y=(a[1]+a[3])/2;u=xS(m,y,o,p,g,s||1),h=yS(i||.5,.05),h=e6(h)}f.positionHistory.push({position:t.clone(),ray:u,uncertainty:h,timestamp:Date.now()}),f.positionHistory.length>10&&f.positionHistory.shift();const A=f.positionHistory.filter(p=>p.ray);if(A.length>=2){const p=A.map(v=>({...v.ray,uncertainty:v.uncertainty})),g=A.map(v=>wb(v.uncertainty)),m=j8(p,g),y=new w(m.position.x,m.position.y,m.position.z),_=Bb(f.positionHistory,.7),I=new w().lerpVectors(y,_,.3);f.fusedPosition.lerp(I,1-this.positionSmoothing)}else if(f.positionHistory.length>0){let p=0,g=0,m=0,y=0;for(let _=0;_<f.positionHistory.length;_++){const I=f.positionHistory[_],v=I.position,E=(_+1)/f.positionHistory.length,b=wb(I.uncertainty),N=f.confidence*E*b;p+=v.x*N,g+=v.y*N,m+=v.z*N,y+=N}if(y>0){const _=new w(p/y,g/y,m/y);f.fusedPosition.lerp(_,1-this.positionSmoothing)}else f.fusedPosition.lerp(t,1-this.positionSmoothing)}else f.fusedPosition.lerp(t,1-this.positionSmoothing);if(f.confidence=Math.min(f.confidence+i*.1,this.maxConfidence),f.viewCount++,f.lastSeen=Date.now(),f.lastHeadTransform=r,s!==null&&(f.depthMeters=s),d!==null&&(f.nativeDepthMeters=d),c){if(f.nativePositionHistory.push({position:c.clone(),depth:d||1,timestamp:Date.now()}),f.nativePositionHistory.length>10&&f.nativePositionHistory.shift(),f.nativePositionHistory.length>0){let p=0,g=0,m=0,y=0;for(let _=0;_<f.nativePositionHistory.length;_++){const I=f.nativePositionHistory[_],v=I.position,E=(_+1)/f.nativePositionHistory.length,b=1/(I.depth||1),N=f.confidence*E*b;p+=v.x*N,g+=v.y*N,m+=v.z*N,y+=N}if(y>0){const _=new w(p/y,g/y,m/y);if(!f.nativeFusedPosition)f.nativeFusedPosition=_.clone();else{const I=Bb(f.nativePositionHistory.map(E=>({position:E.position,timestamp:E.timestamp,uncertainty:.05})),.7),v=new w().lerpVectors(_,I,.3);f.nativeFusedPosition.lerp(v,1-this.positionSmoothing)}}else f.nativeFusedPosition?f.nativeFusedPosition.lerp(c,1-this.positionSmoothing):f.nativeFusedPosition=c.clone()}f.nativeWorldPosition?f.nativeWorldPosition.lerp(c,1-this.positionSmoothing):f.nativeWorldPosition=c.clone()}o&&(f.cameraIntrinsics=o),a&&(f.bbox?f.bbox=[(f.bbox[0]+a[0])/2,(f.bbox[1]+a[1])/2,(f.bbox[2]+a[2])/2,(f.bbox[3]+a[3])/2]:f.bbox=[...a]),this.onUpdateLabel&&this.onUpdateLabel(e,f),this.onUpdateWireframe&&this.onUpdateWireframe(e,f)}decayTrackingConfidence(e,t){const s=new Map;for(const i of e){const r=i.label||"object";s.has(r)||s.set(r,[]),s.get(r).push(i)}for(const[i,r]of t.entries()){const o=r.label;(s.get(o)||[]).length>0||(r.confidence=Math.max(0,r.confidence-this.confidenceDecayRate))}}cleanupLowConfidenceObjects(e,t=null,s=3e3){const i=[],r=t||this.minConfidence;for(const[o,a]of e.entries()){const l=Date.now()-a.lastSeen;a.confidence<r&&l>s&&i.push(o)}for(const o of i){const a=e.get(o);if(a){const l=Date.now()-a.lastSeen;this.logger.log(`Removing low-confidence object ${o}: ${a.label} (confidence: ${a.confidence.toFixed(2)}, unseen for ${(l/1e3).toFixed(1)}s)`),e.delete(o),this.onRemoveLabel&&this.onRemoveLabel(o),this.onRemoveWireframe&&this.onRemoveWireframe(o)}}return i.length}removeTrackedObject(e,t){t.delete(e),this.onRemoveLabel&&this.onRemoveLabel(e),this.onRemoveWireframe&&this.onRemoveWireframe(e)}getTrackedObject(e,t){return t.get(e)}getAllTrackedObjects(e){return Array.from(e.values())}resetAll(e){const t=Array.from(e.keys());for(const s of t)this.removeTrackedObject(s,e);e.clear(),this.nextObjectId=0,this.logger.log("Reset all tracked objects")}}class Sb{constructor(e,t,s={}){this.world=e,this.player=t,this.positionSmoothing=s.positionSmoothing||_i.positionSmoothing,this.offset=new w(0,.3,0),this.labelEntities=new Map,this.logger=new wt("LabelManager",!1)}_renderLabelCanvas(e,t,s,i=!1){const r=document.createElement("canvas");r.width=512,r.height=128;const o=r.getContext("2d");o.fillStyle="rgba(0, 0, 0, 0.7)",o.fillRect(0,0,r.width,r.height),o.fillStyle="#ffffff",o.font="bold 48px Arial",o.textAlign="center",o.textBaseline="middle";const a=s?"[VIDEO] ":"",l=i?" ":"";o.fillText(`${a}${e.label.toUpperCase()}${l}`,r.width/2,r.height/2-15),o.fillStyle=s?"#88ffff":"#88ff88",o.font="32px Arial",o.fillText(`${(e.confidence*100).toFixed(0)}%`,r.width/2,r.height/2+20),o.fillStyle="#aaaaaa",o.font="20px Arial";const c=`(${t.x.toFixed(1)}, ${t.y.toFixed(1)}, ${t.z.toFixed(1)}) [${e.viewCount} views]`;o.fillText(c,r.width/2,r.height/2+45);const d=e.positionHistory.length>0?e.positionHistory.reduce((A,p)=>A+(p.uncertainty||.1),0)/e.positionHistory.length:.1,u=(d*100).toFixed(1);let h="#00ff00";d>.1?h="#ff0000":d>.05&&(h="#ffff00"),o.fillStyle=h,o.font="18px Arial",o.fillText(`${u}cm`,r.width/2,r.height/2+70);const f=new vn(r);return f.colorSpace=cs,f.minFilter=Ot,f.magFilter=Ot,f}createLabel(e,t,s=!1){const i=t.label,r=t.captureTimePosition||t.fusedPosition;if(this.labelEntities.has(e)){this.updateLabel(e,t,s);return}const o=this._renderLabelCanvas(t,r,s,!1),a=new Us(1,.3),l=new Nt({map:o,transparent:!0,opacity:.9,side:2,depthWrite:!1}),c=new it(a,l);c.position.copy(r),c.position.add(this.offset);const d=this.player.head.position;c.lookAt(d.x,d.y,d.z),c.matrixAutoUpdate=!0,c.visible=!0;const u=this.world.createTransformEntity(c);if(!u){this.logger.error(`ERROR: createTransformEntity returned null for ${e}`);return}try{u.addComponent(Ga),u.object3D.userData.objectId=e,u.object3D.userData.label=i,u.object3D.userData.isVideoMode=s}catch(f){this.logger.warn(`Could not add Interactable to label ${e}:`,f)}this.labelEntities.set(e,u),this.logger.log(`Created ${s?"cyan":"green"} label for ${e} (${i})`),u.object3D&&(u.object3D.parent===null&&(this.logger.warn(`WARNING: Label mesh for ${e} not in scene, adding manually`),this.world.scene.add(u.object3D)),u.object3D.visible=!0);const h=c.position.distanceTo(d);h>10&&this.logger.warn(`Label for ${e} is very far away (${h.toFixed(2)}m) - may be hard to see`)}updateLabel(e,t,s=!1){const i=this.labelEntities.get(e);if(!i||!i.object3D){this.createLabel(e,t,s);return}const r=i.object3D,o=t.captureTimePosition||t.fusedPosition;r.position.lerp(new w(o.x+this.offset.x,o.y+this.offset.y,o.z+this.offset.z),1-this.positionSmoothing);const a=r.userData.clonedTo3D||!1,l=this._renderLabelCanvas(t,o,s,a);r.material.map=l,r.material.needsUpdate=!0;const c=this.player.head.position;r.lookAt(c.x,c.y,c.z)}removeLabel(e){const t=this.labelEntities.get(e);t&&(typeof t.destroy=="function"?t.destroy():t.object3D&&(this.world.scene.remove(t.object3D),t.object3D.material&&(t.object3D.material.map&&t.object3D.material.map.dispose(),t.object3D.material.dispose()),t.object3D.geometry&&t.object3D.geometry.dispose())),this.labelEntities.delete(e)}markLabelAsCloned(e){const t=this.labelEntities.get(e);if(t&&t.object3D){t.object3D.userData.clonedTo3D=!0;const s=this.getTrackedObject?.(e);s&&this.updateLabel(e,s)}}getLabel(e){return this.labelEntities.get(e)}getAllLabels(){return Array.from(this.labelEntities.values())}resetAll(){const e=this.labelEntities.size;this.logger.log(`Resetting ${e} labels...`);for(const[t,s]of this.labelEntities.entries())s?typeof s.destroy=="function"?(this.logger.log(`Destroying label entity ${t} via destroy()`),s.destroy()):s.object3D?(this.logger.log(`Removing label entity ${t} from scene (no destroy method)`),this.world.scene.remove(s.object3D),s.object3D.material&&(s.object3D.material.map&&s.object3D.material.map.dispose(),s.object3D.material.dispose()),s.object3D.geometry&&s.object3D.geometry.dispose()):this.logger.warn(`Label entity ${t} has no object3D`):this.logger.warn(`Label entity ${t} is null/undefined`);this.labelEntities.clear(),this.logger.log(`Reset all labels (cleared ${e} labels)`)}}class Mb{constructor(e,t={}){this.world=e,this.positionSmoothing=t.positionSmoothing||_i.positionSmoothing,this.wireframeBoxes=new Map,this.nativeWireframeBoxes=new Map,this.logger=new wt("WireframeManager",!1)}createWireframeBox(e,t,s=!1,i=!1){const r=i?this.nativeWireframeBoxes:this.wireframeBoxes;if(r.has(e))return;const o=i&&t.nativeFusedPosition?t.nativeFusedPosition.clone():i&&t.nativeWorldPosition?t.nativeWorldPosition.clone():t.captureTimePosition||t.fusedPosition;i&&this.logger.log(`Creating native wireframe for ${e}: nativeFusedPosition=${!!t.nativeFusedPosition}, nativeWorldPosition=${!!t.nativeWorldPosition}, position=(${o.x.toFixed(2)}, ${o.y.toFixed(2)}, ${o.z.toFixed(2)})`);const a=i&&t.nativeDepthMeters!==null?t.nativeDepthMeters:t.depthMeters,l=t.cameraIntrinsics,c=t.bbox;let d,u,h;if(c&&a&&l){const y=l.fx,_=l.fy,I=c[2]-c[0],v=c[3]-c[1];d=I/y*a,u=v/_*a,h=Math.max(d,u)*.3}else if(c&&a){const y=c[2]-c[0],_=c[3]-c[1],I=a*.001;d=y*I,u=_*I,h=Math.max(d,u)*.3}else if(a){const y=Math.min(a*.3,.5);d=y,u=y,h=y*.6}else d=.4,u=.4,h=.3;d=Math.max(.1,Math.min(d,2)),u=Math.max(.1,Math.min(u,2)),h=Math.max(.1,Math.min(h,1));const f=new ei(d,u,h),A=new A_(f),p=i?8965375:s?65535:65280,g=new eu(A,new To({color:p,linewidth:2}));g.position.copy(o),g.visible=!0,this.world.scene.add(g),r.set(e,g);const m=i?"light blue (native)":s?"cyan":"green";this.logger.log(`Created ${m} wireframe box for ${e} (${t.label})`)}updateWireframeBox(e,t,s=!1){if(!this.wireframeBoxes.get(e)){this.createWireframeBox(e,t,s,!1);return}const a=this.nativeWireframeBoxes.get(e),l=t.nativeFusedPosition||t.nativeWorldPosition;a&&l?a.position.lerp(l,1-this.positionSmoothing):l&&!a&&this.createWireframeBox(e,t,s,!0)}removeWireframeBox(e){const t=this.wireframeBoxes.get(e);t&&(this.world.scene.remove(t),this.wireframeBoxes.delete(e));const s=this.nativeWireframeBoxes.get(e);s&&(this.world.scene.remove(s),this.nativeWireframeBoxes.delete(e))}getWireframeBox(e){return this.wireframeBoxes.get(e)}getNativeWireframeBox(e){return this.nativeWireframeBoxes.get(e)}resetAll(){for(const[e,t]of this.wireframeBoxes.entries())this.world.scene.remove(t);this.wireframeBoxes.clear();for(const[e,t]of this.nativeWireframeBoxes.entries())this.world.scene.remove(t);this.nativeWireframeBoxes.clear(),this.logger.log("Reset all wireframes")}}function Tb(n,e,t,s,i,r=128,o=1){const{fx:a,fy:l,cx:c,cy:d}=t,u=[],h=1/a,f=1/l,A=-c/a,p=-d/l,g=.25,m=2.5,y=m-g,_=e.width/s,I=e.height/i;for(let v=0;v<n.height;v+=o)for(let E=0;E<n.width;E+=o){const b=(v*n.width+E)*4;if(n.data[b+3]<r)continue;const C=Math.floor(E*_),B=Math.floor(v*I);if(C<0||C>=e.width||B<0||B>=e.height)continue;const S=(B*e.width+C)*4,T=e.data[S]/255,D=g+(1-T)*y;if(!isFinite(D)||D<=0||D>m)continue;const L=(E*h+A)*D,z=(v*f+p)*D,V=D;u.push(new w(L,z,V))}return u}function Pb(n,e=.1,t=2.5){return n.filter(s=>isFinite(s.x)&&isFinite(s.y)&&isFinite(s.z)&&s.z>=e&&s.z<=t)}function t6(n,e=.02,t=3){if(n.length===0)return{clusters:[],outliers:[]};const s=new Set,i=new Set,r=[],o=[],a=(A,p)=>{const g=A.x-p.x,m=A.y-p.y,y=A.z-p.z;return g*g+m*m+y*y},l=e*e,c=A=>{const p=[],g=n[A];for(let m=0;m<n.length;m++)m!==A&&a(g,n[m])<=l&&p.push(m);return p},d=(A,p,g)=>{r[g]=r[g]||[],r[g].push(n[A]),i.add(A);let m=0;for(;m<p.length;){const y=p[m];if(!s.has(y)){s.add(y);const _=c(y);_.length>=t&&p.push(..._)}i.has(y)||(r[g].push(n[y]),i.add(y)),m++}};let u=0;for(let A=0;A<n.length;A++){if(s.has(A))continue;s.add(A);const p=c(A);p.length<t?o.push(n[A]):(d(A,p,u),u++)}let h=null,f=0;for(const A of r)A.length>f&&(f=A.length,h=A);return{clusters:r,outliers:o,largestCluster:h||[]}}function s6(n,e=.02,t=3){if(n.length<t)return n;const s=t6(n,e,t);return s.largestCluster.length>0?s.largestCluster:n}function Rb(n){if(n.length===0)return new w(0,0,0);const e=new w(0,0,0);for(const t of n)e.add(t);return e.multiplyScalar(1/n.length)}function n6(n,e){const t=n.length;if(t===0)return[[0,0,0],[0,0,0],[0,0,0]];const s=[[0,0,0],[0,0,0],[0,0,0]];for(const r of n){const o=r.x-e.x,a=r.y-e.y,l=r.z-e.z;s[0][0]+=o*o,s[0][1]+=o*a,s[0][2]+=o*l,s[1][0]+=a*o,s[1][1]+=a*a,s[1][2]+=a*l,s[2][0]+=l*o,s[2][1]+=l*a,s[2][2]+=l*l}const i=1/t;for(let r=0;r<3;r++)for(let o=0;o<3;o++)s[r][o]*=i;return s}function i6(n){let s=[[n[0][0],n[0][1],n[0][2]],[n[1][0],n[1][1],n[1][2]],[n[2][0],n[2][1],n[2][2]]],i=[[1,0,0],[0,1,0],[0,0,1]];for(let l=0;l<100;l++){let c=0,d=0,u=0;for(let y=0;y<3;y++)for(let _=y+1;_<3;_++){const I=Math.abs(s[y][_]);I>c&&(c=I,d=y,u=_)}if(c<1e-10)break;const h=.5*Math.atan2(2*s[d][u],s[u][u]-s[d][d]),f=Math.cos(h),A=Math.sin(h),p=s[d][u],g=s[d][d],m=s[u][u];s[d][d]=f*f*g-2*f*A*p+A*A*m,s[u][u]=A*A*g+2*f*A*p+f*f*m,s[d][u]=s[u][d]=(f*f-A*A)*p+f*A*(g-m);for(let y=0;y<3;y++)if(y!==d&&y!==u){const _=s[y][d],I=s[y][u];s[y][d]=s[d][y]=f*_-A*I,s[y][u]=s[u][y]=A*_+f*I}for(let y=0;y<3;y++){const _=i[y][d],I=i[y][u];i[y][d]=f*_-A*I,i[y][u]=A*_+f*I}}const r=[s[0][0],s[1][1],s[2][2]],o=[new w(i[0][0],i[1][0],i[2][0]),new w(i[0][1],i[1][1],i[2][1]),new w(i[0][2],i[1][2],i[2][2])],a=[0,1,2].sort((l,c)=>Math.abs(r[c])-Math.abs(r[l]));return{eigenvalues:a.map(l=>r[l]),eigenvectors:a.map(l=>o[l])}}function r6(n){if(n.length<3){const l=Rb(n),c=new w(.1,.1,.1);return{centroid:l,axes:[new w(1,0,0),new w(0,1,0),new w(0,0,1)],dimensions:c,eigenvalues:[0,0,0]}}const e=Rb(n),t=n6(n,e),{eigenvalues:s,eigenvectors:i}=i6(t),r=i.map(l=>l.normalize()),o=new w(0,0,0),a=[[],[],[]];for(const l of n){const c=new w().subVectors(l,e);for(let d=0;d<3;d++){const u=c.dot(r[d]);a[d].push(u)}}for(let l=0;l<3;l++){const c=a[l];if(c.length>0){const d=Math.min(...c),u=Math.max(...c);o.setComponent(l,Math.max(u-d,.1))}}return{centroid:e,axes:r,dimensions:o,eigenvalues:s}}function o6(n,e=5){const t=n.width,s=n.height;for(let i=0;i<s;i++)for(let r=0;r<t;r++){const o=(i*t+r)*4;if(n.data[o+3]>128&&(r<e||r>=t-e||i<e||i>=s-e))return!0}return!1}function a6(n,e=20){const t=n.width,s=n.height,i=new Uint8Array(t*s);for(let c=0;c<s;c++)for(let d=0;d<t;d++){const u=(c*t+d)*4;i[c*t+d]=n.data[u+3]>128?1:0}const r=new Uint8Array(t*s);let o=0;for(let c=0;c<s;c++)for(let d=0;d<t;d++){const u=c*t+d;i[u]===1&&r[u]===0&&(o++,Xu(i,r,d,c,t,s,o))}if(o>1)return!0;const a=d6(i,t,s);let l=0;for(let c=0;c<t*s;c++)a[c]===1&&i[c]===0&&l++;return l>=e}function l6(n,e,t=.05,s=2,i=3){const r=n.width,o=n.height,a=.25,l=2.5,c=new Float32Array(r*o);for(let m=0;m<o;m++)for(let y=0;y<r;y++){const _=(m*e.width+y)*4,I=e.data[_]/255;c[m*r+y]=a+(1-I)*(l-a)}const d=new Uint8Array(r*o);for(let m=0;m<o;m++)for(let y=0;y<r;y++){const _=(m*r+y)*4;d[m*r+y]=n.data[_+3]>128?1:0}const u=u6(d,r,o,s),h=new Uint8Array(r*o);for(let m=0;m<r*o;m++)h[m]=d[m]&~u[m];const f=h6(d,r,o,s),A=new Uint8Array(r*o);for(let m=0;m<r*o;m++)A[m]=f[m]&~d[m];const p=f6(c,A,r,o,i);let g=0;for(let m=0;m<o;m++)for(let y=0;y<r;y++){const _=m*r+y;if(h[_]===1){const I=c[_],v=p[_];isFinite(I)&&isFinite(v)&&I-v>t&&g++}}return g>10}function c6(n,e=null,t={}){const{minRegionArea:s=25,borderThickness:i=5,zThresh:r=.3,minHoleArea:o=100}=t,a=A6(n,s);return!!(o6(a,i)||a6(a,o)||e&&l6(a,e,r))}function Xu(n,e,t,s,i,r,o){const a=[[t,s]];for(;a.length>0;){const[l,c]=a.pop(),d=c*i+l;l<0||l>=i||c<0||c>=r||e[d]!==0||n[d]===0||(e[d]=o,a.push([l+1,c],[l-1,c],[l,c+1],[l,c-1]))}}function d6(n,e,t){const s=new Uint8Array(n.length);s.set(n);for(let i=0;i<t;i++)Xu(s,new Uint8Array(e*t),0,i,e,t,2),Xu(s,new Uint8Array(e*t),e-1,i,e,t,2);for(let i=0;i<e;i++)Xu(s,new Uint8Array(e*t),i,0,e,t,2),Xu(s,new Uint8Array(e*t),i,t-1,e,t,2);for(let i=0;i<e*t;i++)s[i]=s[i]===2?0:1;return s}function u6(n,e,t,s){let i=new Uint8Array(n);for(let r=0;r<s;r++){const o=new Uint8Array(e*t);for(let a=1;a<t-1;a++)for(let l=1;l<e-1;l++){const c=a*e+l;i[c]===1&&i[(a-1)*e+l]===1&&i[(a+1)*e+l]===1&&i[a*e+l-1]===1&&i[a*e+l+1]===1&&(o[c]=1)}i=o}return i}function h6(n,e,t,s){let i=new Uint8Array(n);for(let r=0;r<s;r++){const o=new Uint8Array(i);for(let a=1;a<t-1;a++)for(let l=1;l<e-1;l++){const c=a*e+l;(i[c]===1||i[(a-1)*e+l]===1||i[(a+1)*e+l]===1||i[a*e+l-1]===1||i[a*e+l+1]===1)&&(o[c]=1)}i=o}return i}function f6(n,e,t,s,i){const r=new Float32Array(t*s);r.fill(1/0);const o=Math.floor(i/2);for(let a=0;a<s;a++)for(let l=0;l<t;l++)if(e[a*t+l]===1){let c=1/0;for(let d=-o;d<=o;d++)for(let u=-o;u<=o;u++){const h=a+d,f=l+u;if(h>=0&&h<s&&f>=0&&f<t){const A=n[h*t+f];isFinite(A)&&(c=Math.min(c,A))}}r[a*t+l]=isFinite(c)?c:1/0}return r}function A6(n,e){const t=n.width,s=n.height,i=new Uint8Array(t*s);for(let c=0;c<s;c++)for(let d=0;d<t;d++){const u=(c*t+d)*4;i[c*t+d]=n.data[u+3]>128?1:0}const r=new Uint8Array(t*s),o=[];let a=1;for(let c=0;c<s;c++)for(let d=0;d<t;d++){const u=c*t+d;if(i[u]===1&&r[u]===0){const h=p6(i,r,d,c,t,s,a);o[a]=h,a++}}const l=new ImageData(t,s);l.data.set(n.data);for(let c=0;c<s;c++)for(let d=0;d<t;d++){const u=c*t+d,h=r[u];if(h>0&&o[h]<e){const f=u*4;l.data[f+3]=0}}return l}function p6(n,e,t,s,i,r,o){const a=[[t,s]];let l=0;for(;a.length>0;){const[c,d]=a.pop(),u=d*i+c;c<0||c>=i||d<0||d>=r||e[u]!==0||n[u]===0||(e[u]=o,l++,a.push([c+1,d],[c-1,d],[c,d+1],[c,d-1]))}return l}function g6(n,e=null){if(!n)return{score:0,hasHoles:!0,hasNoise:!0,hasDiscontinuities:!0};const t=n.width,s=n.height,i=.25,r=2.5,o=new Float32Array(t*s);let a=0;for(let v=0;v<s;v++)for(let E=0;E<t;E++){const b=(v*t+E)*4,N=n.data[b]/255,C=i+(1-N)*(r-i);isFinite(C)&&C>0&&C<=r?(o[v*t+E]=C,a++):o[v*t+E]=NaN}const l=1-a/(t*s),c=l>.1;let d=0,u=0;const h=3;for(let v=h;v<s-h;v+=5)for(let E=h;E<t-h;E+=5){if(e){const B=Math.floor(v/s*e.height)*e.width*4+Math.floor(E/t*e.width)*4;if(e.data[B+3]<128)continue}const b=o[v*t+E];if(!isFinite(b))continue;let N=0,C=0;for(let B=-h;B<=h;B++)for(let S=-h;S<=h;S++){const T=o[(v+B)*t+(E+S)];if(isFinite(T)){const D=T-b;N+=D*D,C++}}C>0&&(N/=C,d+=Math.sqrt(N),u++)}const f=u>0?d/u:0,A=f>.05;let p=0,g=0;const m=.2;for(let v=1;v<s-1;v+=3)for(let E=1;E<t-1;E+=3){if(e){const C=Math.floor(v/s*e.height)*e.width*4+Math.floor(E/t*e.width)*4;if(e.data[C+3]<128)continue}const b=o[v*t+E];if(!isFinite(b))continue;const N=[o[v*t+(E-1)],o[v*t+(E+1)],o[(v-1)*t+E],o[(v+1)*t+E]];for(const C of N)isFinite(C)&&(Math.abs(b-C)>m&&p++,g++)}const y=g>0?p/g:0,_=y>.15;let I=1;return I-=l*.4,I-=Math.min(f/.1,.3),I-=y*.3,I=Math.max(0,Math.min(1,I)),{score:I,hasHoles:c,hasNoise:A,hasDiscontinuities:_,holeRatio:l,noiseLevel:f,discontinuityRatio:y}}function m6(n){return n.score>.5&&!n.hasHoles&&n.noiseLevel<.1}class x6{constructor(){this.capturedDepthData=null,this.logger=new wt("DepthProcessor",!1),this.depthNearMeters=H0?.serverDepthNear,this.depthFarMeters=H0?.serverDepthFar,this.depthInverted=H0?.serverDepthInverted,this._depthEncodingLogged=!1}setDepthEncoding(e,t,s=!0){this.depthNearMeters=e,this.depthFarMeters=t,this.depthInverted=s,this.logger.log(`Depth encoding set: near=${e}m, far=${t}m, inverted=${s}`)}decodeDepthValue(e){return this.depthInverted?this.depthNearMeters+(1-e)*(this.depthFarMeters-this.depthNearMeters):this.depthNearMeters+e*(this.depthFarMeters-this.depthNearMeters)}setCapturedDepthData(e){this.capturedDepthData=e}async loadDepthMap(e){return new Promise(t=>{const s=new Image;s.onload=()=>{const i=document.createElement("canvas");i.width=s.width,i.height=s.height;const r=i.getContext("2d");r.drawImage(s,0,0);const o=r.getImageData(0,0,i.width,i.height);t(o)},s.onerror=()=>{this.logger.error("Failed to load depth map"),t(null)},s.src=`data:image/png;base64,${e}`})}async loadMask(e){return new Promise(t=>{const s=new Image;s.onload=()=>{const i=document.createElement("canvas");i.width=s.width,i.height=s.height;const r=i.getContext("2d");r.drawImage(s,0,0);const o=r.getImageData(0,0,i.width,i.height);t(o)},s.onerror=()=>{this.logger.warn("Failed to load mask"),t(null)},s.src=`data:image/png;base64,${e}`})}findPointInMask(e,t,s,i){const r=(t[0]+t[2])/2,o=(t[1]+t[3])/2,a=Math.floor(r/s*e.width),c=(Math.floor(o/i*e.height)*e.width+a)*4;if(c>=0&&c<e.data.length&&e.data[c]>128)return{x:r,y:o};for(let d=t[1];d<=t[3];d+=5)for(let u=t[0];u<=t[2];u+=5){const h=Math.floor(u/s*e.width),A=(Math.floor(d/i*e.height)*e.width+h)*4;if(A>=0&&A<e.data.length&&e.data[A]>128)return{x:u,y:d}}return{x:r,y:o}}findExtremePointsInMask(e,t,s,i){let r={x:t[0],y:t[3]},o={x:t[0],y:t[1]},a={x:t[2],y:t[1]},l={x:t[0],y:t[1]};for(let c=t[1];c<=t[3];c++)for(let d=t[0];d<=t[2];d++){const u=Math.floor(d/s*e.width),f=(Math.floor(c/i*e.height)*e.width+u)*4;f>=0&&f<e.data.length&&e.data[f]>128&&(c<r.y&&(r={x:d,y:c}),c>o.y&&(o={x:d,y:c}),d<a.x&&(a={x:d,y:c}),d>l.x&&(l={x:d,y:c}))}return{topmost:r,bottommost:o,leftmost:a,rightmost:l}}calculateWorldPosition(e,t,s,i,r,o=null,a=null,l=null){if(!t)return this.logger.warn("No depth map for position calculation"),null;const c=e.bbox;let d,u,h;if(l){d=this.findExtremePointsInMask(l,c,s,i);const L=(d.leftmost.x+d.rightmost.x)/2,z=(d.topmost.y+d.bottommost.y)/2;u=L,h=z}else u=(c[0]+c[2])/2,h=(c[1]+c[3])/2,d={topmost:{x:u,y:c[1]},bottommost:{x:u,y:c[3]},leftmost:{x:c[0],y:h},rightmost:{x:c[2],y:h}};let f,A,p,g;if(o)f=o.fx,A=o.fy,p=o.cx,g=o.cy;else{const L=90*Math.PI/180,z=70*Math.PI/180;f=s/(2*Math.tan(L/2)),A=i/(2*Math.tan(z/2)),p=s/2,g=i/2}const m={fx:f,fy:A,cx:p,cy:g};let y=1,_=new w(0,0,1);if(l){const L=g6(t,l),z=!m6(L);if(c6(l,t,{minRegionArea:25,borderThickness:5,zThresh:.3,minHoleArea:100})||z){const se=Math.floor(u/s*t.width),q=Math.floor(h/i*t.height);if(se>=0&&se<t.width&&q>=0&&q<t.height){const Ae=(q*t.width+se)*4,pe=t.data[Ae]/255;y=this.decodeDepthValue(pe),_=new w((u-p)/f*y,(h-g)/A*y,y)}}else{const se=Tb(l,t,m,s,i,128,2),q=Pb(se,.1,2.5);if(q.length>=10){const Ae=s6(q,.02,3);if(Ae.length>=3){const pe=r6(Ae);_=pe.centroid,y=pe.centroid.z}else{const pe=Ae.reduce((Ye,Me)=>Ye.add(Me),new w(0,0,0));pe.multiplyScalar(1/Ae.length),_=pe,y=pe.z}}else{const Ae=Math.floor(u/s*t.width),pe=Math.floor(h/i*t.height);if(Ae>=0&&Ae<t.width&&pe>=0&&pe<t.height){const Ye=(pe*t.width+Ae)*4,Me=t.data[Ye]/255;y=this.decodeDepthValue(Me),_=new w((u-p)/f*y,(h-g)/A*y,y)}}}}else{const L=Math.floor(u/s*t.width),z=Math.floor(h/i*t.height);if(L>=0&&L<t.width&&z>=0&&z<t.height){const V=(z*t.width+L)*4,se=t.data[V]/255;y=this.decodeDepthValue(se),this._depthEncodingLogged||(this.logger.log(`Depth encoding: normalized=${se.toFixed(3)} -> ${y.toFixed(2)}m (near=${this.depthNearMeters}m, far=${this.depthFarMeters}m, inverted=${this.depthInverted})`),this._depthEncodingLogged=!0),_=new w((u-p)/f*y,(h-g)/A*y,y)}}const I=new w(_.x,-_.y,-_.z);if(a&&a.translation){const L=new w(a.translation[0]||0,a.translation[1]||0,a.translation[2]||0);if(a.rotation&&Array.isArray(a.rotation)){const z=a.rotation;if(z.length===4){const V=new Ge(z[0],z[1],z[2],z[3]);I.applyQuaternion(V)}}I.add(L)}const v=new w(r.position[0],r.position[1],r.position[2]);let E,b=null;if(r.matrix){const L=r.matrix;b=new Ge,b.setFromRotationMatrix(L);const z=I.clone();z.applyQuaternion(b),E=v.clone().add(z)}else if(r.quaternion){b=new Ge().copy(r.quaternion);const L=I.clone();L.applyQuaternion(b),E=v.clone().add(L)}else E=v.clone().add(I),b=new Ge;const N=(c[0]+c[2])/2,C=(c[1]+c[3])/2,B=xS(N,C,o||m,v,b,y),S=e.score||.5;let T=.1;if(l)try{const L=Tb(l,t,m,s,i,64,1),z=Pb(L,.1,2.5);Array.isArray(z)&&z.length>=3&&(T=$8(z,y))}catch(L){this.logger.warn("Failed to construct point cloud for uncertainty:",L)}const D=yS(S,T);return{position:E,depth:y,ray:B,uncertainty:D}}async calculateNativeDepthPosition(e,t,s,i,r=null,o=null,a=null){if(!this.capturedDepthData||!this.capturedDepthData.depthMap)return this.logger.warn("No captured depth data available for native depth calculation"),null;const l=e.bbox;if(!l)return this.logger.warn("No bbox in detection for native depth calculation"),null;const c=this.capturedDepthData.depthMap,d=this.capturedDepthData.sampleStep||40;this.logger.log(`Calculating native depth for detection: bbox=[${l[0].toFixed(0)}, ${l[1].toFixed(0)}, ${l[2].toFixed(0)}, ${l[3].toFixed(0)}], depthMap size=${c.size}, sampleStep=${d}`);const u=Math.max(0,Math.floor(l[0])),h=Math.max(0,Math.floor(l[1])),f=Math.min(t-1,Math.ceil(l[2])),A=Math.min(s-1,Math.ceil(l[3])),p=[];let g=0,m=0;for(const[N,C]of c.entries()){const[B,S]=N.split(",").map(Number);if(B>=u&&B<=f&&S>=h&&S<=A)if(g++,a&&a.data&&a.width&&a.height){const T=Math.floor(B/t*a.width),L=(Math.floor(S/s*a.height)*a.width+T)*4;L>=0&&L<a.data.length&&a.data[L]>128?p.push(C):m++}else p.push(C)}this.logger.log(`Native depth filtering: ${g} in bbox, ${m} rejected by mask, ${p.length} accepted`);const y=p;if(y.length,y.length===0){this.logger.warn(`No depth samples found in bbox [${u},${h},${f},${A}]. Total depthMap entries: ${c.size}`);const N=Array.from(c.keys()).slice(0,5);return this.logger.log(`Sample depth map keys: ${N.join(", ")}`),null}this.logger.log(`Found ${y.length} depth samples within bbox`);let _=0,I=new w(0,0,0);for(const N of y)_+=N.depth,I.add(N.position);_/=y.length,I.divideScalar(y.length);const v=I.y;I.y=-I.y;const E=-.3,b=2.5;return I.y<E||I.y>b?(this.logger.warn(`Native Y=${I.y.toFixed(2)} out of bounds [${E}, ${b}], clamping (raw was ${v.toFixed(2)})`),I.y=Math.max(E,Math.min(b,I.y))):this.logger.log(`Applied Y flip: new Y=${I.y.toFixed(2)} (raw was ${v.toFixed(2)})`),this.logger.log(`Native depth calculated: position=(${I.x.toFixed(2)}, ${I.y.toFixed(2)}, ${I.z.toFixed(2)}), depth=${_.toFixed(2)}m`),{position:I,depth:_}}}class y6{constructor(e,t,s){this.world=e,this.player=t,this.apiClient=s,this.generating3D=!1,this.generationStartTime=null,this.progressIndicator=null,this.spawned3DModels=new Map,this.logger=new wt("ModelGenerator",!1)}async generate3DModel(e,t,s,i,r,o=!1){if(this.generating3D){this.logger.warn("3D generation already in progress, skipping");return}this.generating3D=!0,this.generationStartTime=Date.now(),this.logger.log(`Starting 3D generation for ${t} (${e})...`),i&&this.showProgressIndicator(i.fusedPosition,t);try{if(!s)throw new Error("Camera entity not available");const a=Vt.data.videoElement?.[s.index];if(!a||a.readyState!==4)throw new Error("Camera video element not ready");const l=document.createElement("canvas");l.width=a.videoWidth,l.height=a.videoHeight,l.getContext("2d").drawImage(a,0,0);const u=l.toDataURL("image/jpeg",.95).split(",")[1],h=await this.apiClient.generate3DModel(u,t);if(h.glb_file){const f=h.glb_file,A=Uint8Array.from(atob(f),p=>p.charCodeAt(0));await this.loadAndSpawnGLB(A,e,t,i,r,o)}else throw new Error(`No 3D file found in response. Format: ${h.format}, has glb: ${!!h.glb_file}`);this.logger.log(`3D model spawned for ${t} (${e})`),this.hideProgressIndicator()}catch(a){this.logger.error(`Error generating 3D model for ${t}:`,a),this.updateProgressIndicator("Error: "+a.message,!0),setTimeout(()=>{this.hideProgressIndicator()},3e3)}finally{this.generating3D=!1,this.generationStartTime=null}}async loadAndSpawnGLB(e,t,s,i,r,o){const{GLTFLoader:a}=await Rd(async()=>{const{GLTFLoader:z}=await Promise.resolve().then(()=>bF);return{GLTFLoader:z}},void 0),l=new a,c=new Blob([e],{type:"model/gltf-binary"}),d=URL.createObjectURL(c),u=await new Promise((z,V)=>{l.load(d,se=>z(se),void 0,se=>V(se))});URL.revokeObjectURL(d);const h=u.scene;if(!h)throw new Error("No scene in GLB file");if(!i)throw new Error(`Tracked object ${t} not found`);if(!r)throw new Error(`Wireframe box for ${t} not found`);const f=r.position.clone(),A=r.scale,p=r.geometry;(!p||!p.boundingBox)&&p.computeBoundingBox();const g=p.boundingBox,m=(g.max.x-g.min.x)*A.x,y=(g.max.y-g.min.y)*A.y,_=(g.max.z-g.min.z)*A.z;let I=!1;if(h.traverse(z=>{z.isMesh&&(I=!0,z.visible=!0,z.castShadow=!0,z.receiveShadow=!0,z.material||(z.material=new Nt({color:16777215})),z.geometry&&(z.geometry.computeBoundingBox(),z.geometry.computeBoundingSphere()))}),!I)throw new Error("No meshes found in GLB file");h.computeBoundingBox();const v=h.boundingBox,E=v.max.x-v.min.x,b=v.max.y-v.min.y,N=v.max.z-v.min.z,C=m/E,B=y/b,S=_/N,T=Math.min(C,B,S)*.9;h.scale.set(T,T,T);const D=new w;v.getCenter(D),h.position.copy(f),h.position.sub(D.multiplyScalar(T));const L=this.world.createTransformEntity(h);if(!L)throw new Error("Failed to create model entity");this.spawned3DModels.set(t,L),this.logger.log(`3D model loaded and positioned for ${s} (${t})`)}showProgressIndicator(e,t){this.hideProgressIndicator();const s=document.createElement("canvas");s.width=512,s.height=128;const i=s.getContext("2d");i.fillStyle="rgba(0, 0, 0, 0.8)",i.fillRect(0,0,s.width,s.height),i.fillStyle="#ffff00",i.font="bold 48px Arial",i.textAlign="center",i.textBaseline="middle",i.fillText(`GENERATING ${t.toUpperCase()}`,s.width/2,s.height/2-15),i.fillStyle="#ffffff",i.font="32px Arial",i.fillText("0.0s",s.width/2,s.height/2+20);const r=new vn(s);r.colorSpace=cs,r.minFilter=Ot,r.magFilter=Ot;const o=new Us(1,.3),a=new Nt({map:r,transparent:!0,opacity:.95,side:2,depthWrite:!1}),l=new it(o,a);l.position.copy(e),l.position.add(new w(0,.75,0));const c=this.player?.head?.position;c&&l.lookAt(c.x,c.y,c.z);const d=this.world.createTransformEntity(l);d&&(this.progressIndicator=d)}updateProgressIndicator(e,t=!1){if(!this.progressIndicator)return;const s=this.progressIndicator.object3D;if(!s)return;const i=document.createElement("canvas");i.width=512,i.height=128;const r=i.getContext("2d");r.fillStyle=t?"rgba(100, 0, 0, 0.9)":"rgba(0, 0, 0, 0.8)",r.fillRect(0,0,i.width,i.height),r.fillStyle=t?"#ff0000":"#ffff00",r.font="bold 36px Arial",r.textAlign="center",r.textBaseline="middle";const o=e.split(`
`),a=40,l=i.height/2-(o.length-1)*a/2;o.forEach((d,u)=>{r.fillText(d,i.width/2,l+u*a)});const c=new vn(i);c.colorSpace=cs,c.minFilter=Ot,c.magFilter=Ot,s.material.map=c,s.material.needsUpdate=!0}hideProgressIndicator(){if(this.progressIndicator){const e=this.progressIndicator.object3D;e&&e.material?(this._fadingIndicators||(this._fadingIndicators=[]),this._fadingIndicators.push({mesh:e,startOpacity:e.material.opacity,startTime:Date.now(),fadeDuration:4e3}),this.progressIndicator=null):(e&&e.parent?e.parent.remove(e):e&&this.world.scene.remove(e),this.progressIndicator=null)}}update(){if(!(!this._fadingIndicators||this._fadingIndicators.length===0))for(let e=this._fadingIndicators.length-1;e>=0;e--){const t=this._fadingIndicators[e],s=Date.now()-t.startTime,i=Math.min(s/t.fadeDuration,1),r=t.startOpacity*(1-i);t.mesh.material&&(t.mesh.material.opacity=r),i>=1&&(t.mesh.parent?t.mesh.parent.remove(t.mesh):this.world.scene.remove(t.mesh),this._fadingIndicators.splice(e,1))}}getSpawnedModel(e){return this.spawned3DModels.get(e)}}class _6{constructor(){this.isRecording=!1,this.mediaRecorder=null,this.audioStream=null,this.recordingStartTime=null,this.recordedAudioBlob=null,this.microphonePermissionGranted=!1,this.onRecordingStopped=null,this.logger=new wt("VoiceRecorder",!1)}async requestMicrophonePermission(){try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});return this.microphonePermissionGranted=!0,e.getTracks().forEach(t=>t.stop()),this.logger.log("Microphone permission granted"),!0}catch(e){return this.microphonePermissionGranted=!1,this.logger.warn("Microphone permission denied:",e),console.warn("[VoiceRecorder]  Cursor browser doesn't support mic permissions. For audio testing, open http://localhost:5173 in Chrome instead."),!1}}async startVoiceRecording(){if(!this.microphonePermissionGranted&&!await this.requestMicrophonePermission())return this.logger.warn("Cannot record: microphone permission denied"),!1;try{this.audioStream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.mediaRecorder=new MediaRecorder(this.audioStream,{mimeType:"audio/webm;codecs=opus"});const e=[];return this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&e.push(t.data)},this.mediaRecorder.onstop=()=>{this.recordedAudioBlob=new Blob(e,{type:"audio/webm"}),this.logger.log(`Recording stopped, size: ${this.recordedAudioBlob.size} bytes`),this.onRecordingStopped&&this.onRecordingStopped(this.recordedAudioBlob)},this.mediaRecorder.start(),this.isRecording=!0,this.recordingStartTime=Date.now(),this.logger.log("Voice recording started"),!0}catch(e){return this.logger.error("Failed to start recording:",e),this.isRecording=!1,!1}}async stopVoiceRecording(){if(!this.isRecording||!this.mediaRecorder)return null;try{this.mediaRecorder.stop(),this.mediaRecorder=null,this.audioStream&&(this.audioStream.getTracks().forEach(t=>t.stop()),this.audioStream=null),this.isRecording=!1;const e=((Date.now()-this.recordingStartTime)/1e3).toFixed(1);return this.recordingStartTime=null,await new Promise(t=>setTimeout(t,100)),this.recordedAudioBlob}catch(e){return this.logger.error("Error stopping recording:",e),this.isRecording=!1,null}}getRecordingDuration(){return this.recordingStartTime?(Date.now()-this.recordingStartTime)/1e3:0}async audioBlobToBase64(e){return new Promise((t,s)=>{const i=new FileReader;i.onloadend=()=>{const r=i.result.split(",")[1];t(r)},i.onerror=s,i.readAsDataURL(e)})}}class I6{constructor(){this.logger=new wt("KeyboardManager",!1),this._spacePressed=!1,this._enabled=!1,this._handledEvents=new Set,this._onAButtonDown=null,this._onAButtonUp=null,this._onBButton=null,this._xrKeyboardActive=!1,this._setupListeners()}_setupListeners(){document.addEventListener("keydown",e=>this._handleKeyDown(e),!0),document.addEventListener("keyup",e=>this._handleKeyUp(e),!0),window.addEventListener("keydown",e=>this._handleKeyDown(e),!0),window.addEventListener("keyup",e=>this._handleKeyUp(e),!0),document.addEventListener("click",()=>{document.body&&document.body.focus()}),this.logger.log("Keyboard listeners registered on document and window")}_handleKeyDown(e){if(e.code!=="Space"||e.repeat)return;const t=`down-${e.code}-${e.timeStamp}`;if(!this._handledEvents.has(t)&&(this._handledEvents.add(t),setTimeout(()=>this._handledEvents.delete(t),50),!this._spacePressed)){if(this.logger.log(`SPACE keydown detected, enabled=${this._enabled}, active=${this._xrKeyboardActive}, hasCallback=${!!this._onAButtonDown}`),!this._shouldHandleXRKeyboard()){this.logger.log("Not handling - shouldHandleXRKeyboard returned false");return}e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"||(this._spacePressed=!0,e.preventDefault(),this.logger.log("SPACE down  A button callback"),this._onAButtonDown?.())}}_handleKeyUp(e){if(e.code!=="Space")return;const t=`up-${e.code}-${e.timeStamp}`;this._handledEvents.has(t)||(this._handledEvents.add(t),setTimeout(()=>this._handledEvents.delete(t),50),this._spacePressed&&(this._spacePressed=!1,this._shouldHandleXRKeyboard()&&(e.preventDefault(),this.logger.log("SPACE up  A button release"),this._onAButtonUp?.())))}_shouldHandleXRKeyboard(){if(!this._enabled||!this._xrKeyboardActive||!this._onAButtonDown)return!1;const e=document.getElementById("start-screen-overlay");if(e){const s=window.getComputedStyle(e);if(s.display!=="none"&&s.visibility!=="hidden")return!1}const t=document.getElementById("options-menu");if(t){const s=window.getComputedStyle(t);if(s.display!=="none"&&s.visibility!=="hidden")return!1}return!0}enableXRKeyboard(){this._enabled=!0,this.logger.log("XR keyboard emulation enabled")}disableXRKeyboard(){this._enabled=!1,this._spacePressed=!1,this.logger.log("XR keyboard emulation disabled")}setXRKeyboardActive(e){this._xrKeyboardActive=e}setXRButtonCallbacks(e){this._onAButtonDown=e?.onAButtonDown||null,this._onAButtonUp=e?.onAButtonUp||null,this._onBButton=e?.onBButton||null}clearXRButtonCallbacks(){this._onAButtonDown=null,this._onAButtonUp=null,this._onBButton=null}}const Zp=new I6;class v6{constructor(e,t,s){this.world=e,this.xrInput=t,this.player=s,this.currentInputTarget=null,this.currentInputTargetType=null,this.handsDetected=!1,this.controllersDetected=!1,this.pinchRecordingActive={left:!1,right:!1},this.bButtonWasPressed=!1,this._inputSourceChangeHandler=null,this.logger=new wt("InputHandler",!1),this._aButtonWasPressed=!1,this._leftAButtonWasPressed=!1,this._aButtonDownPressed=!1,this._leftAButtonDownPressed=!1,this._bButtonDownPressed=!1,this._leftBButtonDownPressed=!1,this._buttonHandlerDebugLogged=!1,this._xrNotActiveLogged=!1,this._noXrInputLogged=!1,this._noGamepadsLogged=!1,this._padAvailabilityLogged=!1}setXRInput(e){this.xrInput=e}setupInputSourceListeners(e){if(!e||!e.getSession){this.logger.warn("XR manager doesn't support getSession, cannot listen for input source changes");return}const t=e.getSession();if(!t){setTimeout(()=>{this.setupInputSourceListeners(e)},1e3);return}this._inputSourceChangeHandler&&t.removeEventListener("inputsourceschange",this._inputSourceChangeHandler),this._inputSourceChangeHandler=s=>{this.logger.log(`Input sources changed: added=${s.added.length}, removed=${s.removed.length}`),this.handleInputSourceChange(s.added.some(i=>i.hand),s.added.some(i=>i.targetRayMode==="tracked-pointer"))},t.addEventListener("inputsourceschange",this._inputSourceChangeHandler),this.logger.log("Listening for XR input source changes")}handleInputSourceChange(e,t){this.handsDetected=e,this.controllersDetected=t}isXRActive(){return this.world.visibilityState?.value!==Do.NonImmersive}pollGamepadButtons(e){if(typeof e=="function"){const o=e,a=arguments[1];e={onAButtonDown:o,onAButtonUp:null,onBButton:a}}const{onAButtonDown:t,onAButtonUp:s,onBButton:i}=e||{};Zp.setXRButtonCallbacks({onAButtonDown:t,onAButtonUp:s,onBButton:i}),Zp.setXRKeyboardActive(!0);const r=this.isXRActive();if(this._buttonHandlerDebugLogged||(this.logger.log(`pollGamepadButtons called: isXRActive=${r}, xrInput=${!!this.xrInput}, gamepads=${!!this.xrInput?.gamepads}`),this._buttonHandlerDebugLogged=!0),!r||!this.xrInput||!this.xrInput.gamepads){!r&&!this._xrNotActiveLogged&&(this.logger.warn(`Button handler: XR not active. visibilityState=${this.world.visibilityState?.value}`),this._xrNotActiveLogged=!0),!this.xrInput&&!this._noXrInputLogged&&(this.logger.warn("Button handler: No xrInput"),this._noXrInputLogged=!0),!this.xrInput?.gamepads&&!this._noGamepadsLogged&&(this.logger.warn(`Button handler: No gamepads (use SPACE key for A button in emulator). xrInput=${!!this.xrInput}, gamepads=${!!this.xrInput?.gamepads}`),this._noGamepadsLogged=!0);return}try{const o=this.xrInput.gamepads.right,a=this.xrInput.gamepads.left;if(this._padAvailabilityLogged||(this.logger.log(`Pads available: right=${!!o}, left=${!!a}`),o&&this.logger.log(`Right pad methods: getButtonDown=${typeof o.getButtonDown}, getButtonPressed=${typeof o.getButtonPressed}, getSelectStart=${typeof o.getSelectStart}`),this._padAvailabilityLogged=!0),o&&typeof o.getButtonPressed=="function")try{const l=o.getButtonPressed("a-button")||!1,c=this._aButtonWasPressed||!1;l&&!c?(this.logger.log("A button DOWN (right)"),t&&t()):!l&&c&&(this.logger.log("A button UP (right)"),s&&s()),this._aButtonWasPressed=l}catch(l){this.logger.warn('getButtonPressed("a-button") error:',l)}if(a&&typeof a.getButtonPressed=="function")try{const l=a.getButtonPressed("a-button")||!1,c=this._leftAButtonWasPressed||!1;l&&!c?(this.logger.log("A button DOWN (left)"),t&&t()):!l&&c&&(this.logger.log("A button UP (left)"),s&&s()),this._leftAButtonWasPressed=l}catch{}if(o&&typeof o.getButtonDown=="function")try{o.getButtonDown("b-button")?this._bButtonDownPressed||(this.logger.log("B button pressed - resetting all objects"),i&&i(),this._bButtonDownPressed=!0):this._bButtonDownPressed=!1}catch(l){this.logger.warn('getButtonDown("b-button") error:',l)}if(a&&typeof a.getButtonDown=="function")try{a.getButtonDown("b-button")?this._leftBButtonDownPressed||(this.logger.log("B button pressed (left) - resetting all objects"),i&&i(),this._leftBButtonDownPressed=!0):this._leftBButtonDownPressed=!1}catch{}}catch(o){this.logger.error("Error in button handling:",o)}}getBestInputTarget(e=!0){if(!this.xrInput)return null;const t=[];return e?(this.xrInput.gamepads?.right?.grip&&t.push({target:this.xrInput.gamepads.right.grip,type:"right-controller"}),this.xrInput.gamepads?.left?.grip&&t.push({target:this.xrInput.gamepads.left.grip,type:"left-controller"})):(this.xrInput.gamepads?.left?.grip&&t.push({target:this.xrInput.gamepads.left.grip,type:"left-controller"}),this.xrInput.gamepads?.right?.grip&&t.push({target:this.xrInput.gamepads.right.grip,type:"right-controller"})),t.length===0&&(e?(this.xrInput.gamepads?.right?.object3D&&t.push({target:this.xrInput.gamepads.right.object3D,type:"right-controller"}),this.xrInput.gamepads?.left?.object3D&&t.push({target:this.xrInput.gamepads.left.object3D,type:"left-controller"})):(this.xrInput.gamepads?.left?.object3D&&t.push({target:this.xrInput.gamepads.left.object3D,type:"left-controller"}),this.xrInput.gamepads?.right?.object3D&&t.push({target:this.xrInput.gamepads.right.object3D,type:"right-controller"}))),t.length===0&&this.xrInput.xrOrigin?.raySpaces&&(e?(this.xrInput.xrOrigin.raySpaces.right&&t.push({target:this.xrInput.xrOrigin.raySpaces.right,type:"right-hand"}),this.xrInput.xrOrigin.raySpaces.left&&t.push({target:this.xrInput.xrOrigin.raySpaces.left,type:"left-hand"})):(this.xrInput.xrOrigin.raySpaces.left&&t.push({target:this.xrInput.xrOrigin.raySpaces.left,type:"left-hand"}),this.xrInput.xrOrigin.raySpaces.right&&t.push({target:this.xrInput.xrOrigin.raySpaces.right,type:"right-hand"}))),t.length>0?t[0]:null}handleRightControllerMenuInput(e){if(!e)return;const t=e.buttons?.find(s=>s.name==="b-button");return t&&t.pressed&&!this.bButtonWasPressed?(this.bButtonWasPressed=!0,{action:"capture"}):(t&&!t.pressed&&this.bButtonWasPressed&&(this.bButtonWasPressed=!1),null)}handlePinchGesture(e,t,s){return t&&!this.pinchRecordingActive[e]?(this.pinchRecordingActive[e]=!0,{action:"startRecording",side:e}):!t&&this.pinchRecordingActive[e]?(this.pinchRecordingActive[e]=!1,{action:"stopRecording",side:e}):null}}const kt={WRIST:"wrist",HUD:"hud",CENTER:"center",SCORE:"score",WORLD:"world"};class E6{constructor(e,t={}){this.world=e,this.logger=new wt("SpatialMount",t.debug??!1),this.preferHand=t.preferHand||"right",this.wristMountGroup=null,this.hudMountGroup=null,this.centerMountGroup=null,this.scoreMountGroup=null,this.worldMountGroup=null,this.isAttached=!1,this._xrInput=null,this._tempPos=new w,this._tempQuat=new Ge,this._tempOffset=new w,this._tempCamPos=new w,this._tempCamQuat=new Ge,this._tempLookAtGroup=new Tt,this._positionLerpFactor=.08,this._rotationLerpFactor=.06,this.panelOffsetController=new w(.05,.12,-.12),this.panelOffsetHand=new w(.05,.2,-.12),this.panelOffset=new w(.05,.12,-.12),this._lastInputMode=null,this._hudOffset=new w(.2,.1,-.5),this._centerOffset=new w(0,0,-.6),this._scoreOffset=new w(-.18,.1,-.5),this._wristTargetPosition=new w,this._wristTargetQuaternion=new Ge,this._wristCurrentPosition=new w,this._wristCurrentQuaternion=new Ge,this._wristPositionInitialized=!1,this._hudTargetPosition=new w,this._hudTargetQuaternion=new Ge,this._hudCurrentPosition=new w,this._hudCurrentQuaternion=new Ge,this._hudPositionInitialized=!1,this._centerTargetPosition=new w,this._centerTargetQuaternion=new Ge,this._centerCurrentPosition=new w,this._centerCurrentQuaternion=new Ge,this._centerPositionInitialized=!1,this._scoreTargetPosition=new w,this._scoreTargetQuaternion=new Ge,this._scoreCurrentPosition=new w,this._scoreCurrentQuaternion=new Ge,this._scorePositionInitialized=!1,this._worldBasePosition=new w,this._worldSurfaceNormal=new w(0,1,0),this._worldTargetPosition=new w,this._worldTargetQuaternion=new Ge,this._worldCurrentPosition=new w,this._worldCurrentQuaternion=new Ge,this._worldPositionInitialized=!1,this._worldFloatTime=0,this._worldFloatAmplitude=.02,this._worldFloatSpeed=1.5,this._worldHeightOffset=1.5,this._worldModeActive=!1}createMountGroups(){this.wristMountGroup=new Tt,this.wristMountGroup.name="spatialUI-wrist-mount",this.world.scene.add(this.wristMountGroup),this.wristMountGroup.visible=!1,this.wristMountGroup.frustumCulled=!1,this.hudMountGroup=new Tt,this.hudMountGroup.name="spatialUI-hud-mount",this.world.scene.add(this.hudMountGroup),this.hudMountGroup.visible=!1,this.hudMountGroup.frustumCulled=!1,this.centerMountGroup=new Tt,this.centerMountGroup.name="spatialUI-center-mount",this.world.scene.add(this.centerMountGroup),this.centerMountGroup.visible=!1,this.centerMountGroup.frustumCulled=!1,this.scoreMountGroup=new Tt,this.scoreMountGroup.name="spatialUI-score-mount",this.world.scene.add(this.scoreMountGroup),this.scoreMountGroup.visible=!1,this.scoreMountGroup.frustumCulled=!1,this.worldMountGroup=new Tt,this.worldMountGroup.name="spatialUI-world-mount",this.world.scene.add(this.worldMountGroup),this.worldMountGroup.visible=!1,this.worldMountGroup.frustumCulled=!1,this.logger.log("Mount groups created")}getMountGroup(e){switch(e){case kt.HUD:return this.hudMountGroup;case kt.CENTER:return this.centerMountGroup;case kt.SCORE:return this.scoreMountGroup;case kt.WORLD:return this.worldMountGroup;case kt.WRIST:default:return this.wristMountGroup}}setMountVisibility(e,t){const s=this.getMountGroup(e);s&&(s.visible=t)}updateMounts(e,t,s=new Set){if(!this.wristMountGroup||!e||!t)return!1;if(this._xrInput=e,this._updateInputMode(e),this.wristMountGroup.visible=s.has(kt.WRIST),this.hudMountGroup.visible=s.has(kt.HUD),this.centerMountGroup.visible=s.has(kt.CENTER),this.worldMountGroup.visible=s.has(kt.WORLD),this.wristMountGroup.visible){const i=this._findController(e);i?(this._calculateWristTarget(i),this._applyWristSmoothFollow()):this._wristPositionInitialized||(this._placeAtDefaultPosition(),this._wristCurrentPosition.copy(this.wristMountGroup.position),this._wristCurrentQuaternion.copy(this.wristMountGroup.quaternion),this._wristPositionInitialized=!0)}return this.hudMountGroup.visible&&(this._calculateHUDTarget(),this._applyHUDSmoothFollow()),this.centerMountGroup.visible&&(this._calculateCenterTarget(),this._applyCenterSmoothFollow()),this.scoreMountGroup?.visible&&(this._calculateScoreTarget(),this._applyScoreSmoothFollow()),(this.worldMountGroup?.visible||this._worldModeActive)&&(this._calculateWorldTarget(),this._applyWorldSmoothFollow()),this.isAttached||(this.isAttached=!0,this.logger.log("Mount groups attached")),!0}forceUpdateMountPosition(e){switch(e){case kt.WRIST:const t=this._findController(this._xrInput);t&&(this._calculateWristTarget(t),this._wristCurrentPosition.copy(this._wristTargetPosition),this._wristCurrentQuaternion.copy(this._wristTargetQuaternion),this._applyWristSmoothFollow());break;case kt.HUD:this._calculateHUDTarget(),this._hudCurrentPosition.copy(this._hudTargetPosition),this._hudCurrentQuaternion.copy(this._hudTargetQuaternion),this._applyHUDSmoothFollow();break;case kt.CENTER:this._calculateCenterTarget(),this._centerCurrentPosition.copy(this._centerTargetPosition),this._centerCurrentQuaternion.copy(this._centerTargetQuaternion),this._applyCenterSmoothFollow();break;case kt.WORLD:this._worldModeActive&&(this._calculateWorldTarget(),this._worldCurrentPosition.copy(this._worldTargetPosition),this._worldCurrentQuaternion.copy(this._worldTargetQuaternion),this._applyWorldSmoothFollow());break}}setWorldTarget(e,t=new w(0,1,0),s={}){this._worldBasePosition.copy(e),this._worldSurfaceNormal.copy(t).normalize(),this._worldFloatTime=0,this._worldPositionInitialized=!1,s.heightOffset!==void 0&&(this._worldHeightOffset=s.heightOffset),s.floatAmplitude!==void 0&&(this._worldFloatAmplitude=s.floatAmplitude),s.floatSpeed!==void 0&&(this._worldFloatSpeed=s.floatSpeed),this._worldModeActive=!0,this.logger.log(`World target set at (${e.x.toFixed(2)}, ${e.y.toFixed(2)}, ${e.z.toFixed(2)})`)}clearWorldTarget(){this._worldModeActive=!1,this._worldPositionInitialized=!1,this.logger.log("World target cleared")}isWorldModeActive(){return this._worldModeActive}_updateInputMode(e){let t=!1;const s=e.gamepads,i=this.preferHand,r=i==="left"?"right":"left";let o=!1;for(const l of[i,r])if(s?.[l]?.grip){o=!0;break}if(!o){const l=e.xrOrigin?.raySpaces;(l?.[i]||l?.[r])&&(t=!0)}const a=t?"hands":"controllers";this._lastInputMode!==a&&(this._lastInputMode=a,this.panelOffset.copy(t?this.panelOffsetHand:this.panelOffsetController),this._wristPositionInitialized=!1,this.logger.log(`Input mode changed to ${a}, offset: (${this.panelOffset.x.toFixed(3)}, ${this.panelOffset.y.toFixed(3)}, ${this.panelOffset.z.toFixed(3)})`))}_findController(e){const t=e.gamepads,s=this.preferHand,i=s==="left"?"right":"left";for(const o of[s,i]){const a=t?.[o];if(a?.grip)return a.grip;if(a?.object3D)return a.object3D}const r=e.xrOrigin?.raySpaces;return r?.[s]?r[s]:r?.[i]?r[i]:null}_calculateWristTarget(e){if(e.getWorldPosition?(e.getWorldPosition(this._wristTargetPosition),e.getWorldQuaternion(this._wristTargetQuaternion)):e.position&&(this._wristTargetPosition.copy(e.position),this._wristTargetQuaternion.copy(e.quaternion),e.parent&&(e.updateMatrixWorld(!0),e.getWorldPosition(this._wristTargetPosition),e.getWorldQuaternion(this._wristTargetQuaternion))),this._tempOffset.copy(this.panelOffset),this._tempOffset.applyQuaternion(this._wristTargetQuaternion),this._wristTargetPosition.add(this._tempOffset),this.world.camera){const t=this.world.camera.position.clone(),s=new Tt;s.position.copy(this._wristTargetPosition),s.lookAt(t),this._wristTargetQuaternion.copy(s.quaternion)}}_applyWristSmoothFollow(){this._wristPositionInitialized?(this._wristCurrentPosition.lerp(this._wristTargetPosition,this._positionLerpFactor),this._wristCurrentQuaternion.slerp(this._wristTargetQuaternion,this._rotationLerpFactor)):(this._wristCurrentPosition.copy(this._wristTargetPosition),this._wristCurrentQuaternion.copy(this._wristTargetQuaternion),this._wristPositionInitialized=!0),this.wristMountGroup.position.copy(this._wristCurrentPosition),this.wristMountGroup.quaternion.copy(this._wristCurrentQuaternion)}_calculateHUDTarget(){const e=this.world.camera;e&&(e.getWorldPosition(this._tempCamPos),e.getWorldQuaternion(this._tempCamQuat),this._tempOffset.copy(this._hudOffset).applyQuaternion(this._tempCamQuat),this._hudTargetPosition.copy(this._tempCamPos).add(this._tempOffset),this._tempLookAtGroup.position.copy(this._hudTargetPosition),this._tempLookAtGroup.lookAt(this._tempCamPos),this._hudTargetQuaternion.copy(this._tempLookAtGroup.quaternion))}_applyHUDSmoothFollow(){this._hudPositionInitialized?(this._hudCurrentPosition.lerp(this._hudTargetPosition,this._positionLerpFactor),this._hudCurrentQuaternion.slerp(this._hudTargetQuaternion,this._rotationLerpFactor)):(this._hudCurrentPosition.copy(this._hudTargetPosition),this._hudCurrentQuaternion.copy(this._hudTargetQuaternion),this._hudPositionInitialized=!0),this.hudMountGroup.position.copy(this._hudCurrentPosition),this.hudMountGroup.quaternion.copy(this._hudCurrentQuaternion)}_calculateCenterTarget(){const e=this.world.camera;e&&(e.getWorldPosition(this._tempCamPos),e.getWorldQuaternion(this._tempCamQuat),this._tempOffset.copy(this._centerOffset).applyQuaternion(this._tempCamQuat),this._centerTargetPosition.copy(this._tempCamPos).add(this._tempOffset),this._tempLookAtGroup.position.copy(this._centerTargetPosition),this._tempLookAtGroup.lookAt(this._tempCamPos),this._centerTargetQuaternion.copy(this._tempLookAtGroup.quaternion))}_applyCenterSmoothFollow(){this._centerPositionInitialized?(this._centerCurrentPosition.lerp(this._centerTargetPosition,this._positionLerpFactor),this._centerCurrentQuaternion.slerp(this._centerTargetQuaternion,this._rotationLerpFactor)):(this._centerCurrentPosition.copy(this._centerTargetPosition),this._centerCurrentQuaternion.copy(this._centerTargetQuaternion),this._centerPositionInitialized=!0),this.centerMountGroup.position.copy(this._centerCurrentPosition),this.centerMountGroup.quaternion.copy(this._centerCurrentQuaternion)}_calculateScoreTarget(){const e=this.world.camera;e&&(e.getWorldPosition(this._tempCamPos),e.getWorldQuaternion(this._tempCamQuat),this._tempOffset.copy(this._scoreOffset).applyQuaternion(this._tempCamQuat),this._scoreTargetPosition.copy(this._tempCamPos).add(this._tempOffset),this._scoreTargetQuaternion.copy(this._tempCamQuat))}_applyScoreSmoothFollow(){this._scorePositionInitialized||(this._scoreCurrentPosition.copy(this._scoreTargetPosition),this._scoreCurrentQuaternion.copy(this._scoreTargetQuaternion),this._scorePositionInitialized=!0),this._scoreCurrentPosition.lerp(this._scoreTargetPosition,this._positionLerpFactor),this._scoreCurrentQuaternion.slerp(this._scoreTargetQuaternion,this._rotationLerpFactor),this.scoreMountGroup.position.copy(this._scoreCurrentPosition),this.scoreMountGroup.quaternion.copy(this._scoreCurrentQuaternion)}_calculateWorldTarget(){const e=this.world.camera;if(!e)return;this._worldFloatTime+=1/60;const t=Math.sin(this._worldFloatTime*this._worldFloatSpeed*Math.PI*2)*this._worldFloatAmplitude;this._tempOffset.copy(this._worldSurfaceNormal).multiplyScalar(this._worldHeightOffset+t),this._worldTargetPosition.copy(this._worldBasePosition).add(this._tempOffset),e.getWorldPosition(this._tempCamPos),this._tempLookAtGroup.position.copy(this._worldTargetPosition),this._tempLookAtGroup.lookAt(this._tempCamPos),this._worldTargetQuaternion.copy(this._tempLookAtGroup.quaternion)}_applyWorldSmoothFollow(){this._worldPositionInitialized||(this._worldCurrentPosition.copy(this._worldTargetPosition),this._worldCurrentQuaternion.copy(this._worldTargetQuaternion),this._worldPositionInitialized=!0),this._worldCurrentPosition.lerp(this._worldTargetPosition,this._positionLerpFactor*.7),this._worldCurrentQuaternion.slerp(this._worldTargetQuaternion,this._rotationLerpFactor),this.worldMountGroup.position.copy(this._worldCurrentPosition),this.worldMountGroup.quaternion.copy(this._worldCurrentQuaternion)}_placeAtDefaultPosition(){if(!this.wristMountGroup)return;let e=this.world.camera;if(e||(e=this.world.player?.head?.object3D||this.world.player?.object3D),e){const t=new w(0,0,-.5);t.applyQuaternion(e.quaternion),this.wristMountGroup.position.copy(e.position).add(t),this.wristMountGroup.position.y-=.1,this.wristMountGroup.lookAt(e.position)}else this.wristMountGroup.position.set(0,1.5,-.5),this.wristMountGroup.rotation.set(0,0,0);this.wristMountGroup.visible=!0,this.wristMountGroup.updateMatrixWorld(!0)}getXRInput(){return this._xrInput}setPreferHand(e){e!=="left"&&e!=="right"||this.preferHand!==e&&(this.preferHand=e,this._wristPositionInitialized=!1,this.logger.log(`Prefer hand changed to: ${e}`))}destroy(){this.wristMountGroup&&this.world.scene.remove(this.wristMountGroup),this.hudMountGroup&&this.world.scene.remove(this.hudMountGroup),this.centerMountGroup&&this.world.scene.remove(this.centerMountGroup),this.scoreMountGroup&&this.world.scene.remove(this.scoreMountGroup),this.worldMountGroup&&this.world.scene.remove(this.worldMountGroup),this.wristMountGroup=null,this.hudMountGroup=null,this.centerMountGroup=null,this.scoreMountGroup=null,this.worldMountGroup=null}}const _S={call:{config:"./ui/wrist/callPanel.json",mount:kt.HUD},callWorld:{config:"./ui/wrist/worldCallPanel.json",mount:kt.WORLD,maxWidth:1,maxHeight:1},voice:{config:"./ui/wrist/translator.json",mount:kt.WRIST},score:{config:"./ui/wrist/scorePanel.json",mount:kt.SCORE},portalPlacement:{config:"./ui/wrist/portalPlacement.json",mount:kt.WRIST}};class C6{constructor(e,t,s={}){this.world=e,this.mountManager=t,this.logger=new wt("PanelRegistry",s.debug??!1),this.panels={},this.documents={},this._pendingDocuments=new Map,this._panelTransitions={},this._fadeAnimations={},this.panelMaxWidth=.18,this.panelMaxHeight=.3,this._mountSizeMultipliers={[kt.CENTER]:1.25,[kt.HUD]:.7,[kt.WRIST]:1,[kt.WORLD]:1}}async createPanel(e,t=null){if(this.panels[e])return this.panels[e];const s=_S[e];if(!s)return this.logger.warn(`No definition for panel: ${e}`),null;const i=s.config,r=t||s.mount,o=s.maxWidth??this.panelMaxWidth,a=s.maxHeight??this.panelMaxHeight,l=this.world.createEntity(),c=new Tt;c.name=`spatialUI-${e}`,l.object3D=c,this.mountManager.getMountGroup(r).add(c),l.addComponent(nn,{config:i,maxWidth:o,maxHeight:a}),c.frustumCulled=!1,c.visible=!1,this.panels[e]={entity:l,group:c,currentMount:r},this.logger.log(`Created panel: ${e}`),await this._waitForDocument(e,l);const u=e==="callWorld"?8900:9e3;return c.traverse(h=>{h.frustumCulled=!1,h.layers.enableAll(),h.isMesh&&h.renderOrder<u&&(h.renderOrder=u,h.material&&(h.material.depthTest=!1,h.material.depthWrite=!1))}),this.panels[e]}async _waitForDocument(e,t){return new Promise(s=>{this._pendingDocuments.set(e,{entity:t,attempts:0,maxAttempts:300,resolve:s})})}pollPendingDocuments(e=null){if(this._pendingDocuments.size!==0)for(const[t,s]of this._pendingDocuments){s.attempts++;const i=Sn?.data?.document?.[s.entity.index];if(i){this.documents[t]=i;const r=this.panels[t];r&&(this.applyMountSizing(t,r.currentMount),this._enforceUIRenderSettingsForPanel(r,t)),this.logger.log(`Panel ${t} document ready after ${s.attempts} frames`),this._pendingDocuments.delete(t),s.resolve(),e&&e(t,i)}else s.attempts>=s.maxAttempts&&(this.logger.warn(`Panel ${t} document timeout`),this._pendingDocuments.delete(t),s.resolve())}}getDocument(e){return this.documents[e]}getPanel(e){return this.panels[e]}applyMountSizing(e,t){const s=this.documents[e];if(!s)return;const i=this._mountSizeMultipliers[t]??1,r=this.panelMaxWidth*i,o=this.panelMaxHeight*i;s.setTargetDimensions(r,o),this.logger.log(`Panel ${e} sized for ${t}: ${r.toFixed(3)}m x ${o.toFixed(3)}m`)}reparentPanel(e,t){const s=this.panels[e];if(!s)return;this.mountManager.forceUpdateMountPosition(t);const i=this.mountManager.getMountGroup(t),r=s.group.parent;if(this.applyMountSizing(e,t),s.currentMount=t,r&&r!==i){s.group.updateMatrixWorld(!0);const o=new w;s.group.getWorldPosition(o),r.remove(s.group),i.add(s.group),i.updateMatrixWorld(!0);const a=new w;i.getWorldPosition(a),s.group.position.copy(o).sub(a),this._panelTransitions[e]={startOffset:s.group.position.clone(),progress:0},this.logger.log(`Reparented ${e} panel to ${t}`)}}updatePanelTransitions(){for(const[t,s]of Object.entries(this._panelTransitions)){s.progress+=.08;const i=this.panels[t]?.group;i&&(i.position.lerp(new w(0,0,0),.08),i.position.length()<.001&&(i.position.set(0,0,0),delete this._panelTransitions[t]))}}_enforceUIRenderSettingsForPanel(e,t=null){if(!e?.group)return;const s=t==="callWorld"?8900:9e3;e.group.traverse(i=>{i.isMesh&&i.renderOrder<s&&(i.renderOrder=s,i.material&&(i.material.depthTest=!1,i.material.depthWrite=!1))})}setPanelVisible(e,t,s=0){const i=this.panels[e];i&&(t?(i.group.visible=!0,this._applyOpacityToGroup(i.group,1),delete this._fadeAnimations[e]):s>0?this.fadePanel(e,0,s):i.group.visible=!1)}fadePanel(e,t,s=1){const i=this.panels[e];if(!i)return;const r=this._fadeAnimations[e]?.current??(i.group.visible?1:0);t>0&&(i.group.visible=!0),this._fadeAnimations[e]={current:r,target:t,speed:1/s},this.logger.log(`Fade ${e}: ${r.toFixed(2)} -> ${t} over ${s}s`)}fadeInPanel(e,t=1){const s=this.panels[e];s&&(s.group.visible=!0,this._applyOpacityToGroup(s.group,0),this._fadeAnimations[e]={current:0,target:1,speed:1/t},this.logger.log(`FadeIn ${e}: 0 -> 1 over ${t}s`))}updateFadeAnimations(e){for(const[t,s]of Object.entries(this._fadeAnimations)){const i=this.panels[t];if(!i){delete this._fadeAnimations[t];continue}const r=e||1/60,o=s.speed*r;s.current<s.target?s.current=Math.min(s.target,s.current+o):s.current=Math.max(s.target,s.current-o),this._applyOpacityToGroup(i.group,s.current),s.current<=.001?(i.group.visible=!1,delete this._fadeAnimations[t]):Math.abs(s.current-s.target)<.001&&delete this._fadeAnimations[t]}}enforceRenderSettingsForVisiblePanels(){for(const[e,t]of Object.entries(this.panels))t?.group?.visible&&this._enforceUIRenderSettingsForPanel(t,e)}_applyOpacityToGroup(e,t){e.traverse(s=>{s.material&&(s.material.transparent=!0,s.material.opacity=t,s.material.needsUpdate=!0)})}isFading(e){return!!this._fadeAnimations[e]}forceVisibilityRefresh(e){const t=this.panels[e];if(!t)return;const s=t.group,i=this.mountManager.getMountGroup(t.currentMount),r=e==="callWorld"?8900:9e3,o=a=>{a.frustumCulled=!1,a.layers.enableAll(),a.isMesh&&a.renderOrder<r&&(a.renderOrder=r,a.material&&(a.material.depthTest=!1,a.material.depthWrite=!1,a.material.needsUpdate=!0))};s.traverse(o),i.traverse(o),i.updateMatrixWorld(!0),this.logger.log(`Panel ${e} refreshed`)}destroy(){for(const e in this.panels){const{entity:t,group:s}=this.panels[e];s.parent&&s.parent.remove(s),t&&this.world&&this.world.removeEntity(t)}this.panels={},this.documents={},this._pendingDocuments.clear()}}const b6=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,w6=`
uniform sampler2D uTexture;
uniform float uTime;
uniform vec3 uHoloColor;
uniform float uScanLineIntensity;
uniform float uAlpha;
uniform vec2 uUvOffset;
uniform vec2 uUvRepeat;

varying vec2 vUv;

void main() {
  // === SAMPLE TEXTURE with sprite sheet UV mapping ===
  vec2 spriteUv = vUv * uUvRepeat + uUvOffset;
  vec4 texColor = texture2D(uTexture, spriteUv);
  
  // === SCAN LINES ===
  // Fast scanline using fract instead of sin
  float scanY = vUv.y * 60.0 + uTime * 3.0;
  float scanLine = fract(scanY);
  scanLine = smoothstep(0.0, 0.5, scanLine) * smoothstep(1.0, 0.5, scanLine);
  float scanEffect = mix(1.0, 0.7 + scanLine * 0.3, uScanLineIntensity);
  
  // === HOLOGRAPHIC TINT ===
  vec3 holoTint = texColor.rgb * uHoloColor * 1.3;
  holoTint *= scanEffect;
  
  // === EDGE GLOW (UV-based, no fresnel calc needed for flat plane) ===
  float edgeDist = min(min(vUv.x, 1.0 - vUv.x), min(vUv.y, 1.0 - vUv.y));
  float edgeGlow = smoothstep(0.0, 0.15, edgeDist);
  holoTint += uHoloColor * (1.0 - edgeGlow) * 0.3;
  
  // === ALPHA ===
  float alpha = texColor.a * uAlpha * scanEffect;
  
  gl_FragColor = vec4(holoTint, alpha);
}
`;let z0=null,Qb=!1;const V0=[];function B6(n){if(z0){n(z0);return}if(V0.push(n),Qb)return;Qb=!0,new nr().load("./textures/viseme.png",t=>{z0=t,V0.forEach(s=>s(t)),V0.length=0})}class Db{constructor(e={}){this.size=e.size??.12,this.renderOrder=e.renderOrder??9010,this.position=e.position??{x:0,y:0,z:.01},this.mesh=null,this.uniforms=null,this._ready=!1}get ready(){return this._ready}create(e){if(this.mesh){this.mesh.visible=!0,e&&this.mesh.parent!==e&&e.add(this.mesh);return}B6(t=>{if(this.mesh)return;const s=.02,i=1/4,r=i*(1-s*2);this.uniforms={uTexture:{value:t},uTime:{value:0},uHoloColor:{value:new w(0,.85,.95)},uScanLineIntensity:{value:.4},uAlpha:{value:this._pendingAlpha??1},uUvOffset:{value:new Be(i*s,3/4+i*s)},uUvRepeat:{value:new Be(r,r)}};const o=new Ds({vertexShader:b6,fragmentShader:w6,uniforms:this.uniforms,transparent:!0,depthWrite:!1,depthTest:!1,side:js}),a=new Us(this.size,this.size);this.mesh=new it(a,o),this.mesh.position.set(this.position.x,this.position.y,this.position.z),this.mesh.renderOrder=this.renderOrder,e&&e.add(this.mesh),this._ready=!0})}show(){this.mesh&&(this.mesh.visible=!0)}hide(){this.mesh&&(this.mesh.visible=!1)}setVisible(e){this.mesh&&(this.mesh.visible=e)}updateFrame(e){this.uniforms&&(this.uniforms.uUvOffset.value.set(e.u,e.v),this.uniforms.uUvRepeat.value.set(e.uSize,e.vSize))}updateTime(e){this.uniforms&&(this.uniforms.uTime.value+=e)}setAlpha(e){this._pendingAlpha=e,this.uniforms&&(this.uniforms.uAlpha.value=e)}dispose(){this.mesh&&(this.mesh.parent&&this.mesh.parent.remove(this.mesh),this.mesh.geometry?.dispose(),this.mesh.material?.dispose(),this.mesh=null,this.uniforms=null,this._ready=!1)}}let q0=null,Lb=!1;const W0=[];function N6(n){if(q0){n(q0);return}if(W0.push(n),Lb)return;Lb=!0,new nr().load("./images/uv-scroll-thumbtap.png",t=>{q0=t,W0.forEach(s=>s(t)),W0.length=0})}class Ug{constructor(e={}){this.size=e.size??.03,this.renderOrder=e.renderOrder??9020,this.position=e.position??{x:0,y:0,z:.02},this.frameInterval=e.frameInterval??500,this.mesh=null,this._ready=!1,this._currentFrame=0,this._lastFrameTime=0,this._frames=[{u:0,v:.5},{u:.5,v:.5},{u:0,v:0},{u:.5,v:0}]}get ready(){return this._ready}create(e){if(this.mesh){this.mesh.visible=!0,e&&this.mesh.parent!==e&&e.add(this.mesh);return}e&&N6(t=>{if(this.mesh)return;const s=new Us(this.size,this.size),i=s.attributes.uv;this._setUVsForFrame(i,0);const r=new Nt({map:t,transparent:!0,depthWrite:!1,depthTest:!1,side:js});this.mesh=new it(s,r),this.mesh.position.set(this.position.x,this.position.y,this.position.z),this.mesh.renderOrder=this.renderOrder,this.mesh.visible=!1,this.mesh.name="thumbtap-sprite",e.add(this.mesh),this._ready=!0,this._lastFrameTime=performance.now()})}_setUVsForFrame(e,t){const s=this._frames[t],i=.5;e.setXY(0,s.u,s.v+i),e.setXY(1,s.u+i,s.v+i),e.setXY(2,s.u,s.v),e.setXY(3,s.u+i,s.v),e.needsUpdate=!0}update(){if(!this.mesh||!this.mesh.visible)return;const e=performance.now();e-this._lastFrameTime>=this.frameInterval&&(this._currentFrame=(this._currentFrame+1)%this._frames.length,this._setUVsForFrame(this.mesh.geometry.attributes.uv,this._currentFrame),this._lastFrameTime=e)}show(){this.mesh&&(this.mesh.visible=!0,this._lastFrameTime=performance.now())}hide(){this.mesh&&(this.mesh.visible=!1)}setVisible(e){e?this.show():this.hide()}dispose(){this.mesh&&(this.mesh.parent&&this.mesh.parent.remove(this.mesh),this.mesh.geometry?.dispose(),this.mesh.material?.dispose(),this.mesh=null,this._ready=!1)}}const kb=.6,X0=[0,2,4,7,9,12],S6=440;function an(n,e=0){const t=X0[n%X0.length]+Math.floor(n/X0.length)*12+e*12;return S6*Math.pow(2,t/12)}function Du(n){return n[Math.floor(Math.random()*n.length)]}class M6{constructor(){this._lastPlayTime=0,this._minInterval=30}_canPlay(){const e=performance.now();return e-this._lastPlayTime<this._minInterval?!1:(this._lastPlayTime=e,!0)}_playTone(e,t,s=0,i=.1,r="sine",o=0){const a=De.createOscillator();a.type=r;const l=De.createGain();l.gain.setValueAtTime(0,0);const c=i*_n()*kb;a.connect(l),l.connect(De.destination);const d=De.currentTime+s,u=d+t;a.frequency.setValueAtTime(e,d),o!==0&&a.frequency.linearRampToValueAtTime(e+o,u);const h=Math.min(.02,t*.15),f=Math.min(.04,t*.3);l.gain.setValueAtTime(0,d),l.gain.linearRampToValueAtTime(c,d+h),l.gain.setValueAtTime(c,u-f),l.gain.exponentialRampToValueAtTime(.001,u),a.start(d),a.stop(u+.01)}_playFilteredTone(e,t,s=0,i=.1,r=2e3){const o=De.createOscillator();o.type="triangle";const a=De.createBiquadFilter();a.type="lowpass",a.frequency.value=r,a.Q.value=1;const l=De.createGain(),c=i*_n()*kb;o.connect(a),a.connect(l),l.connect(De.destination);const d=De.currentTime+s,u=d+t;o.frequency.setValueAtTime(e,d);const h=Math.min(.015,t*.1),f=Math.min(.05,t*.35);l.gain.setValueAtTime(0,d),l.gain.linearRampToValueAtTime(c,d+h),l.gain.setValueAtTime(c*.8,u-f),l.gain.exponentialRampToValueAtTime(.001,u),o.start(d),o.stop(u+.01)}hover(){if(!this._canPlay())return;const e=an(Du([2,3,4]),1);this._playFilteredTone(e,.06,0,.05,1800)}press(){if(!this._canPlay())return;const e=an(Du([0,2,4]),0);this._playTone(e,.08,0,.12,"sine",15),this._playTone(e*2,.06,.005,.04,"sine",10)}release(){if(!this._canPlay())return;const e=an(Du([3,4,5]),1);this._playFilteredTone(e,.05,0,.06,1500)}confirm(){if(!this._canPlay())return;const e=an(0,0);this._playTone(e,.1,0,.1,"sine",0),this._playTone(e*1.5,.1,.08,.1,"sine",20),this._playTone(e*2,.15,.16,.08,"sine",30)}cancel(){if(!this._canPlay())return;const e=an(3,0);this._playTone(e,.12,0,.1,"sine",-40),this._playTone(e*.75,.15,.08,.08,"triangle",-30)}toggle(e=!0){if(this._canPlay())if(e){const t=an(2,0);this._playTone(t,.06,0,.1,"sine",30),this._playTone(t*1.25,.08,.05,.08,"sine",20)}else{const t=an(4,0);this._playTone(t,.06,0,.1,"sine",-20),this._playTone(t*.8,.08,.05,.08,"sine",-15)}}error(){if(!this._canPlay())return;const e=280;this._playTone(e,.1,0,.12,"triangle",0),this._playTone(e*.9,.12,.12,.1,"triangle",-10)}notification(){if(!this._canPlay())return;const e=an(4,1);this._playTone(e,.08,0,.08,"sine",0),this._playTone(e*1.2,.1,.1,.07,"sine",15),this._playTone(e,.06,.22,.05,"sine",0)}panelOpen(){if(!this._canPlay())return;[0,2,4].forEach((t,s)=>{const i=an(t,0);this._playFilteredTone(i,.08,s*.04,.08,2200)})}panelClose(){if(!this._canPlay())return;[4,2,0].forEach((t,s)=>{const i=an(t,0);this._playFilteredTone(i,.06,s*.035,.07,1800)})}callRing(){if(!this._canPlay())return;const e=an(4,1),t=an(2,1);this._playTone(e,.12,0,.1,"sine",0),this._playTone(t,.12,.15,.1,"sine",0),this._playTone(e,.12,.3,.1,"sine",0)}callAnswer(){if(!this._canPlay())return;[0,2,4,5].forEach((t,s)=>{const i=an(t,0);this._playTone(i,.1+s*.02,s*.06,.09,"sine",20)})}callEnd(){if(!this._canPlay())return;[5,4,2,0].forEach((t,s)=>{const i=an(t,0);this._playTone(i,.1-s*.01,s*.07,.08-s*.01,"sine",-15)})}voiceStart(){if(!this._canPlay())return;const e=an(0,1);this._playTone(e,.15,0,.1,"sine",60),this._playTone(e*1.5,.12,.02,.06,"sine",40)}voiceStop(){if(!this._canPlay())return;const e=an(4,1);this._playTone(e,.1,0,.08,"sine",-30),this._playTone(e*.75,.12,.06,.05,"sine",-20)}success(){if(!this._canPlay())return;const e=an(0,0);this._playTone(e,.1,0,.1,"sine",0),this._playTone(e*1.25,.1,.08,.1,"sine",0),this._playTone(e*1.5,.12,.16,.1,"sine",0),this._playTone(e*2,.18,.26,.08,"sine",40)}scoreUp(){if(!this._canPlay())return;const e=an(2,1);this._playTone(e,.06,0,.1,"sine",30),this._playTone(e*1.33,.08,.05,.08,"sine",25),this._playTone(e*1.5,.1,.11,.06,"sine",20)}tick(){if(!this._canPlay())return;const e=an(Du([0,2,4]),1);this._playFilteredTone(e,.03,0,.04,1200)}subtle(){if(!this._canPlay())return;const e=an(Du([2,3,4]),1);this._playFilteredTone(e,.04,0,.03,1e3)}}const fs=new M6,Vs={HIDDEN:"hidden",INCOMING:"incoming",ACTIVE:"active"};class T6{constructor(e,t,s={}){this.registry=e,this.mountManager=t,this.logger=new wt("CallPanelUI",s.debug??!1),this.currentState=Vs.HIDDEN,this.viseme=new Db({size:.15,position:{x:0,y:-.015,z:-.01}}),this.worldViseme=new Db({size:.75,position:{x:0,y:-.065,z:-.01},renderOrder:8910}),this.callStartTime=0,this.callTimerInterval=null,this.hapticPulsing=!1,this.hapticInterval=null,this._visualAmplitude=0,this._visualSmoothingFactor=.08,this._hologramTime=0,this._fadeProgress=0,this._fadeTarget=0,this._fadeDuration=.5,this._incomingUIOpacity=1,this._incomingUITarget=1,this._visemeOpacity=0,this._visemeTarget=0,this._crossfadeDuration=.5,this.onCallAnswered=s.onCallAnswered||null,this.onCallEnded=s.onCallEnded||null,this.inputMode="controllers",this.thumbTap=new Ug({size:.028,position:{x:.0525,y:-.065,z:.01}}),this._thumbTapCreated=!1}getDocument(){return this.registry.getDocument("call")}setState(e){e!==this.currentState&&(this.logger.log(`Call state: ${this.currentState} -> ${e}`),this.currentState===Vs.INCOMING&&this.stopHapticPulse(),this.currentState===Vs.ACTIVE&&this._stopCallTimer(),this.currentState=e,this._updateUIForState(e),e===Vs.INCOMING&&(this.startHapticPulse(),this.inputMode=Oe.getState().inputMode||"controllers",this._applyInputModeToUI()),e===Vs.ACTIVE&&this._startCallTimer())}_updateUIForState(e){const t=[this.registry.getDocument("call"),this.registry.getDocument("callWorld")].filter(Boolean);e===Vs.INCOMING||e===Vs.ACTIVE?(this._fadeTarget=1,this.logger.log(`Starting fade-in: progress=${this._fadeProgress}, target=${this._fadeTarget}`)):e===Vs.HIDDEN&&(this._fadeTarget=0,this.logger.log(`Starting fade-out: progress=${this._fadeProgress}, target=${this._fadeTarget}`));for(const s of t){const i=s.getElementById("status-text"),r=s.getElementById("status-dot");if(e===Vs.INCOMING){this._incomingUITarget=1,this._visemeTarget=0;const o=s.getElementById("incoming-prompt"),a=s.getElementById("incoming-info");o&&o.setProperties({display:"flex"}),a&&a.setProperties({display:"flex"}),i&&i.setProperties({text:"RINGING"}),r&&r.setProperties({backgroundColor:"#f0ad4e"})}else e===Vs.ACTIVE&&(this._incomingUITarget=0,this._visemeTarget=1,i&&i.setProperties({text:"CONNECTED"}),r&&r.setProperties({backgroundColor:"#00d4e6"}))}e===Vs.INCOMING?this.viseme.hide():e===Vs.ACTIVE?(this._createViseme(),this.viseme.setAlpha(0),this._visemeOpacity=0,this.thumbTap.hide()):e===Vs.HIDDEN&&(this._stopVideo(),this.thumbTap.hide())}setStatusText(e){const t=this.getDocument();if(!t)return;const s=t.getElementById("status-text");s&&s.setProperties({text:e})}setCallerName(e){const t=this.getDocument();if(!t)return;const s=t.getElementById("caller-name");s&&s.setProperties({text:e})}updateInputModeUI(e){this.inputMode=e,this.currentState===Vs.INCOMING&&this._applyInputModeToUI()}_applyInputModeToUI(){const e=[this.registry.getDocument("call"),this.registry.getDocument("callWorld")].filter(Boolean);this._ensureThumbTapCreated();for(const t of e){const s=t.getElementById("button-hint"),i=t.getElementById("button-letter"),r=t.getElementById("prompt-text");this.inputMode==="hands"?(s&&s.setProperties({display:"none"}),this.thumbTap.show(),r&&r.setProperties({text:"THUMBTAP TO ANSWER"})):(s&&s.setProperties({display:"flex"}),this.thumbTap.hide(),i&&i.setProperties({text:"A"}),r&&r.setProperties({text:"PRESS TO ANSWER"}))}}_ensureThumbTapCreated(){if(this._thumbTapCreated)return;const e=this.registry.getPanel("call");e?.group&&(this.thumbTap.create(e.group),this._thumbTapCreated=!0)}_createViseme(){const e=this.registry.getPanel("call");e?.group&&(this.viseme.create(e.group),this.logger.log("Viseme created"))}showPhoneme(){this._createViseme(),this.viseme.show()}updatePhonemeFrame(e,t){this.viseme.updateFrame(t),this.worldViseme.updateFrame(t)}getPhoneMesh(){return this.viseme.mesh}createWorldViseme(){const e=this.registry.getPanel("callWorld");e?.group&&(this.worldViseme.create(e.group),this.worldViseme.show(),this.logger.log("World viseme created"))}hideWorldViseme(){this.worldViseme.hide()}_startCallTimer(){this.callStartTime=performance.now(),this.callTimerInterval=setInterval(()=>{const e=Math.floor((performance.now()-this.callStartTime)/1e3),t=Math.floor(e/60).toString().padStart(2,"0"),s=(e%60).toString().padStart(2,"0"),i=this.getDocument();if(i){const r=i.getElementById("status-text");r&&r.setProperties({text:`${t}:${s}`})}},1e3)}_stopCallTimer(){this.callTimerInterval&&(clearInterval(this.callTimerInterval),this.callTimerInterval=null)}_stopVideo(){this.viseme.hide()}startHapticPulse(){this.hapticPulsing=!0,this._pulseHaptic()}stopHapticPulse(){this.hapticPulsing=!1,this.hapticInterval&&(clearTimeout(this.hapticInterval),this.hapticInterval=null)}_pulseHaptic(){if(!this.hapticPulsing)return;const e=this.mountManager.getXRInput();if(e?.gamepads){const t=e.gamepads.right||e.gamepads.left;t?.hapticActuators?.[0]?t.hapticActuators[0].pulse(1,200):t?.vibrationActuator&&t.vibrationActuator.playEffect("dual-rumble",{duration:200,strongMagnitude:1,weakMagnitude:1})}this.hapticInterval=setTimeout(()=>this._pulseHaptic(),500)}update(e){const t=e||.016666666666666666;if(this.inputMode==="hands"&&this.currentState===Vs.INCOMING&&(this._thumbTapCreated||this._ensureThumbTapCreated(),this.thumbTap.ready&&this.thumbTap.mesh&&!this.thumbTap.mesh.visible&&this.thumbTap.show(),this.thumbTap.update()),this._updateFadeAnimation(t),this._updateCrossfade(t),this.currentState===Vs.ACTIVE&&(this._hologramTime+=t,this.viseme.uniforms&&(this.viseme.uniforms.uTime.value=this._hologramTime),this.worldViseme.uniforms&&(this.worldViseme.uniforms.uTime.value=this._hologramTime)),this.currentState!==Vs.INCOMING)return;const s=this.getDocument();if(!s)return;const r=mI().getSmoothedAmplitude();this._visualAmplitude+=(r-this._visualAmplitude)*this._visualSmoothingFactor;const o=Math.min(1,this._visualAmplitude*10);if(this.inputMode!=="hands"){const c=s.getElementById("button-hint");if(c){const d=Math.floor(0+o*255),u=Math.floor(212+o*43),h=Math.floor(230+o*25);c.setProperties({backgroundColor:`rgb(${d}, ${u}, ${h})`})}}const a=s.getElementById("status-dot");if(a){const c=Math.floor(240+o*15),d=Math.floor(173+o*82),u=Math.floor(78+o*177);a.setProperties({backgroundColor:`rgb(${c}, ${d}, ${u})`})}const l=s.getElementById("incoming-prompt");if(l){const c=.7+o*.25,d=.5+o*.5;l.setProperties({backgroundColor:`rgba(0, 70, 90, ${c})`,borderColor:`rgba(0, 220, 240, ${d})`})}}setupInteractions(e){const t=this.getDocument();if(!t)return;const s=t.getElementById("end-call-btn");s&&s.addEventListener("click",()=>{fs.cancel(),hs.pulseBoth(.6,50),e&&e()})}_updateFadeAnimation(e){const t=this.registry.getPanel("call");if(!t?.group)return;if(Math.abs(this._fadeProgress-this._fadeTarget)<.001){this._fadeProgress=this._fadeTarget,this._fadeProgress<=.001&&(t.group.visible=!1);return}const s=1/this._fadeDuration;this._fadeProgress<this._fadeTarget?(this._fadeProgress=Math.min(this._fadeTarget,this._fadeProgress+s*e),t.group.visible=!0):this._fadeProgress=Math.max(this._fadeTarget,this._fadeProgress-s*e),this._applyOpacityToGroup(t.group,this._fadeProgress),this._fadeProgress<=.001&&(t.group.visible=!1)}_updateCrossfade(e){const t=1/this._crossfadeDuration;if(Math.abs(this._incomingUIOpacity-this._incomingUITarget)>.001){this._incomingUIOpacity<this._incomingUITarget?this._incomingUIOpacity=Math.min(this._incomingUITarget,this._incomingUIOpacity+t*e):this._incomingUIOpacity=Math.max(this._incomingUITarget,this._incomingUIOpacity-t*e);const s=this.getDocument();if(s){const i=s.getElementById("incoming-prompt"),r=s.getElementById("incoming-info");i&&(i.setProperties({opacity:this._incomingUIOpacity}),this._incomingUIOpacity<=.01&&i.setProperties({display:"none"})),r&&(r.setProperties({opacity:this._incomingUIOpacity}),this._incomingUIOpacity<=.01&&r.setProperties({display:"none"}))}}Math.abs(this._visemeOpacity-this._visemeTarget)>.001&&(this._visemeOpacity<this._visemeTarget?this._visemeOpacity=Math.min(this._visemeTarget,this._visemeOpacity+t*e):this._visemeOpacity=Math.max(this._visemeTarget,this._visemeOpacity-t*e),this.viseme.setAlpha(this._visemeOpacity))}_applyOpacityToGroup(e,t){e.traverse(s=>{if(s.material){const i=Array.isArray(s.material)?s.material:[s.material];for(const r of i)r.opacity!==void 0&&(r.transparent=!0,r.opacity=t,r.needsUpdate=!0)}})}destroy(){this.stopHapticPulse(),this._stopCallTimer(),this._stopVideo(),this.viseme.dispose(),this.thumbTap.dispose()}}const P6=.3,yi={IDLE:"idle",RECORDING:"recording",PROCESSING:"processing"};class R6{constructor(e,t={}){this.registry=e,this.logger=new wt("TranslatorUI",t.debug??!1),this.recordingState=yi.IDLE,this.inputMode="controllers",this.thumbTap=new Ug({size:.028,position:{x:.06,y:-.0885,z:.01}}),this._thumbTapCreated=!1,this._inputModeSynced=!1,this._disabled=!1,this._fadeProgress=1,this._targetFade=1,this._onStateChanged=this._onStateChanged.bind(this),Oe.on("state:changed",this._onStateChanged)}_onStateChanged(e,t){e.minigameActive!==t.minigameActive&&(e.minigameActive?this._disableForMinigame():this._enableAfterMinigame())}_disableForMinigame(){this._disabled=!0,this._targetFade=0,this.logger.log("Disabling translator for minigame"),this.recordingState!==yi.IDLE&&(this.recordingState=yi.IDLE)}_enableAfterMinigame(){this._disabled=!1,this._targetFade=1,this.logger.log("Re-enabling translator after minigame")}isDisabled(){return this._disabled}getDocument(){return this.registry.getDocument("voice")}setRecordingState(e){const t=this.recordingState;this.recordingState=e,e===yi.RECORDING&&t!==yi.RECORDING?(fs.voiceStart(),hs.pulseBoth(.7,60)):e===yi.PROCESSING&&t===yi.RECORDING&&(fs.voiceStop(),hs.pulseBoth(.5,40));const s=this.getDocument();if(!s){this.logger.warn("Voice document not ready for recording state update");return}const i=s.getElementById("status-dot"),r=s.getElementById("status-text"),o=s.getElementById("prompt-row"),a=s.getElementById("button-hint"),l=s.getElementById("prompt-text"),c=s.getElementById("button-letter"),d=this.inputMode==="hands";e===yi.RECORDING?(i&&i.setProperties({backgroundColor:"#ef4444"}),r&&r.setProperties({text:"RECORDING"}),o&&o.setProperties({backgroundColor:"rgba(239, 68, 68, 0.3)",borderColor:"rgba(239, 68, 68, 0.7)"}),a&&a.setProperties({backgroundColor:"#ef4444",display:d?"none":"flex"}),c&&c.setProperties({text:"A"}),l&&l.setProperties({text:"RELEASE TO SEND",color:"#fca5a5"})):e===yi.PROCESSING?(i&&i.setProperties({backgroundColor:"#f59e0b"}),r&&r.setProperties({text:"PROCESSING"}),o&&o.setProperties({backgroundColor:"rgba(245, 158, 11, 0.3)",borderColor:"rgba(245, 158, 11, 0.7)"}),a&&a.setProperties({backgroundColor:"#f59e0b",display:d?"none":"flex"}),c&&c.setProperties({text:"A"}),l&&l.setProperties({text:"INTERPRETING...",color:"#fcd34d"})):(i&&i.setProperties({backgroundColor:"#4ade80"}),r&&r.setProperties({text:"READY"}),o&&o.setProperties({backgroundColor:"rgba(0, 70, 90, 0.7)",borderColor:"rgba(0, 200, 220, 0.5)"}),a&&a.setProperties({backgroundColor:"#00d4e6",display:d?"none":"flex"}),c&&c.setProperties({text:"A"}),l&&l.setProperties({text:this.getIdlePromptText(),color:"#00d4e6"}))}showTranscription(e,t="pending"){const s=this.getDocument();if(!s){this.logger.warn("Voice document not ready for transcription display");return}const i=s.getElementById("transcription-text"),r=s.getElementById("result-row"),o=s.getElementById("result-text"),a=s.getElementById("status-dot"),l=s.getElementById("status-text");if(i&&i.setProperties({text:`"${e}"`,color:"#ffffff"}),t==="pending")fs.tick(),r&&r.setProperties({backgroundColor:"rgba(96, 165, 250, 0.2)",borderColor:"rgba(96, 165, 250, 0.5)"}),o&&o.setProperties({text:"Interpreting...",color:"#fcd34d"}),a&&a.setProperties({backgroundColor:"#60a5fa"}),l&&l.setProperties({text:"INTERPRETING"});else if(t==="error"){fs.error(),hs.pulseBoth(.6,60),r&&r.setProperties({backgroundColor:"rgba(239, 68, 68, 0.2)",borderColor:"rgba(239, 68, 68, 0.5)"}),o&&o.setProperties({text:e,color:"#ef4444"}),a&&a.setProperties({backgroundColor:"#ef4444"}),l&&l.setProperties({text:"ERROR"});const c=s.getElementById("prompt-row"),d=s.getElementById("button-hint"),u=s.getElementById("button-letter"),h=s.getElementById("prompt-text"),f=this.inputMode==="hands";c&&c.setProperties({backgroundColor:"rgba(0, 70, 90, 0.7)",borderColor:"rgba(0, 200, 220, 0.5)"}),d&&d.setProperties({backgroundColor:"#00d4e6",display:f?"none":"flex"}),u&&u.setProperties({text:"A"}),h&&h.setProperties({text:this.getIdlePromptText(),color:"#00d4e6"})}this.recordingState=yi.IDLE}showInterpretResult(e,t="greeting"){const s=this.getDocument();if(!s){this.logger.warn("Voice document not ready for result display");return}const i=s.getElementById("transcription-text"),r=s.getElementById("result-row"),o=s.getElementById("result-text"),a=s.getElementById("status-dot"),l=s.getElementById("status-text"),c=s.getElementById("prompt-row"),d=s.getElementById("button-hint"),u=s.getElementById("prompt-text"),h=e.corrected_transcription||e.transcription||"...";i&&i.setProperties({text:`"${h}"`,color:"#ffffff"});const f=e.sentiment||{},A=f.is_rude||!1;if(t==="reassurance")e.intent==="reassuring"||f.sentiment==="friendly"&&f.score>.3?(fs.success(),hs.pulseBoth(.8,80),setTimeout(()=>hs.pulseBoth(.6,60),100),r&&r.setProperties({backgroundColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgba(34, 197, 94, 0.5)"}),o&&o.setProperties({text:"Baud feels better!",color:"#22c55e"}),a&&a.setProperties({backgroundColor:"#22c55e"}),l&&l.setProperties({text:"REASSURING"})):(fs.notification(),hs.pulseBoth(.3,30),r&&r.setProperties({backgroundColor:"rgba(245, 158, 11, 0.2)",borderColor:"rgba(245, 158, 11, 0.5)"}),o&&o.setProperties({text:"Baud still worried...",color:"#f59e0b"}),a&&a.setProperties({backgroundColor:"#f59e0b"}),l&&l.setProperties({text:"NON-REASSURING"}));else if(t==="modem_stay"){const m=(e.corrected_transcription||e.transcription||"").toLowerCase(),y=/\b(yes|yeah|yep|yup|sure|okay|ok|of course|absolutely|definitely|please|stay|welcome|friend|can stay|love to|i'd love|would love|happy to|gladly)\b/i,_=/\b(no|nope|nah|sorry|leave|go away|goodbye|bye|can't stay|cannot stay|have to go|must go|go home)\b/i,I=y.test(m),v=_.test(m);this.logger.log(`Modem stay UI check - transcription: "${m}", isYes: ${I}, isNo: ${v}`),I?(fs.success(),hs.pulseBoth(.8,80),setTimeout(()=>hs.pulseBoth(.6,60),100),r&&r.setProperties({backgroundColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgba(34, 197, 94, 0.5)"}),o&&o.setProperties({text:"Modem can stay!",color:"#22c55e"}),a&&a.setProperties({backgroundColor:"#22c55e"}),l&&l.setProperties({text:"YES"})):v?(fs.notification(),hs.pulseBoth(.5,50),r&&r.setProperties({backgroundColor:"rgba(245, 158, 11, 0.2)",borderColor:"rgba(245, 158, 11, 0.5)"}),o&&o.setProperties({text:"Modem must go...",color:"#f59e0b"}),a&&a.setProperties({backgroundColor:"#f59e0b"}),l&&l.setProperties({text:"NO"})):(fs.notification(),hs.pulseBoth(.3,30),r&&r.setProperties({backgroundColor:"rgba(100, 100, 100, 0.2)",borderColor:"rgba(150, 150, 150, 0.5)"}),o&&o.setProperties({text:"Yes or no?",color:"#9ca3af"}),a&&a.setProperties({backgroundColor:"#9ca3af"}),l&&l.setProperties({text:"NON-ANSWER"}))}else{const m=e.is_greeting||e.robot_directive?.stop_navigation;m&&!A?(fs.success(),hs.pulseBoth(.8,80),setTimeout(()=>hs.pulseBoth(.6,60),100),r&&r.setProperties({backgroundColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgba(34, 197, 94, 0.5)"}),o&&o.setProperties({text:"Friendly Greeting!",color:"#22c55e"}),a&&a.setProperties({backgroundColor:"#22c55e"}),l&&l.setProperties({text:"SUCCESS"}),Oe.setState({friendlyGreetingReceived:!0,robotsMovingToGoal:!0,robotBehavior:"moving_to_goal"})):m&&A?(fs.error(),hs.pulseBoth(.5,50),r&&r.setProperties({backgroundColor:"rgba(245, 158, 11, 0.2)",borderColor:"rgba(245, 158, 11, 0.5)"}),o&&o.setProperties({text:"Unfriendly Greeting",color:"#f59e0b"}),a&&a.setProperties({backgroundColor:"#f59e0b"}),l&&l.setProperties({text:"RUDE"})):A?(fs.error(),hs.pulseBoth(.5,50),r&&r.setProperties({backgroundColor:"rgba(239, 68, 68, 0.2)",borderColor:"rgba(239, 68, 68, 0.5)"}),o&&o.setProperties({text:f.tone_description||"Unfriendly",color:"#ef4444"}),a&&a.setProperties({backgroundColor:"#ef4444"}),l&&l.setProperties({text:"RUDE"})):(fs.notification(),hs.pulseBoth(.3,30),r&&r.setProperties({backgroundColor:"rgba(239, 68, 68, 0.2)",borderColor:"rgba(239, 68, 68, 0.5)"}),o&&o.setProperties({text:"Non-greeting",color:"#ef4444"}),a&&a.setProperties({backgroundColor:"#ef4444"}),l&&l.setProperties({text:"TRY AGAIN"}))}const p=s.getElementById("button-letter"),g=this.inputMode==="hands";c&&c.setProperties({backgroundColor:"rgba(0, 70, 90, 0.7)",borderColor:"rgba(0, 200, 220, 0.5)"}),d&&d.setProperties({backgroundColor:"#00d4e6",display:g?"none":"flex"}),p&&p.setProperties({text:"A"}),u&&u.setProperties({text:this.getIdlePromptText(),color:"#00d4e6"}),this.recordingState=yi.IDLE}setupInteractions(e){const t=this.getDocument();if(!t)return;const s=t.getElementById("record-btn");s&&s.addEventListener("click",()=>{this.logger.log("Record button clicked"),e&&e()})}updateInputModeUI(e){this.inputMode=e,this._inputModeSynced=!1,this._applyInputModeUI()}_applyInputModeUI(){const e=this.getDocument();if(!e)return;const t=e.getElementById("button-hint"),s=e.getElementById("button-letter"),i=e.getElementById("prompt-text");this._ensureThumbTapCreated(),this.recordingState===yi.IDLE&&(this.inputMode==="hands"?(t&&t.setProperties({display:"none"}),this.thumbTap.show(),i&&i.setProperties({text:"THUMBTAP TO SPEAK"})):(t&&t.setProperties({display:"flex"}),this.thumbTap.hide(),s&&s.setProperties({text:"A"}),i&&i.setProperties({text:"HOLD TO SPEAK"}))),this._inputModeSynced=!0}_ensureThumbTapCreated(){if(this._thumbTapCreated)return;const e=this.registry.getPanel("voice");e?.group&&(this.thumbTap.create(e.group),this._thumbTapCreated=!0)}update(e=.016){if(this._fadeProgress!==this._targetFade){const s=1/P6;this._targetFade<this._fadeProgress?this._fadeProgress=Math.max(this._targetFade,this._fadeProgress-s*e):this._fadeProgress=Math.min(this._targetFade,this._fadeProgress+s*e);const i=this.registry.getPanel("voice");i?.group&&(i.group.visible=this._fadeProgress>.01,i.group.traverse(r=>{r.material&&(r.material.opacity=this._fadeProgress)}))}if(this._inputModeSynced||this._applyInputModeUI(),this.inputMode!=="hands")return;this._thumbTapCreated||this._ensureThumbTapCreated(),this.registry.getPanel("voice")?.group?.visible&&this.thumbTap.ready&&this.thumbTap.mesh&&!this.thumbTap.mesh.visible&&!this._disabled&&this.thumbTap.show(),this._disabled&&this.thumbTap.mesh?.visible&&this.thumbTap.hide(),this.thumbTap.update()}getIdlePromptText(){return this.inputMode==="hands"?"THUMBTAP TO SPEAK":"HOLD TO SPEAK"}destroy(){this.recordingState=yi.IDLE,this.thumbTap.dispose(),Oe.off("state:changed",this._onStateChanged)}}class Q6{constructor(e,t,s={}){this.registry=e,this.mountManager=t,this.logger=new wt("ScorePanelUI",s.debug??!1),this._animationScale=0,this._animating=!1,this._statusState="scanning",this._calmedFlashUntil=0,this._mode="panic",this._labels={panic:{alert:"PANICKING",success:"CALMED",score:"CALMED"},entropy:{alert:"ENTROPY",success:"CAPTURED",score:"CAPTURED"}}}getDocument(){return this.registry.getDocument("score")}async show(){this.registry.getPanel("score")||await this.registry.createPanel("score",kt.SCORE);const e=this.registry.getPanel("score");if(!e){this.logger.warn("Score panel not available");return}this._animationScale=0,this._animating=!0,this._statusState="scanning",this._calmedFlashUntil=0,this.mountManager.setMountVisibility(kt.SCORE,!0),e.group.visible=!0,e.group.scale.setScalar(0);const t=this.getDocument();t&&this._updateStatusDisplay(t,0,5),this.logger.log("Score panel shown")}hide(){this._animating=!1,this.mountManager.setMountVisibility(kt.SCORE,!1);const e=this.registry.getPanel("score");e&&(e.group.visible=!1),this.logger.log("Score panel hidden")}setMode(e){this._mode=e==="entropy"?"entropy":"panic";const t=this.getDocument();if(t){const s=t.querySelector(".score-label");s&&s.setProperties({text:this._labels[this._mode].score})}}updateDisplay(e,t){const s=this.getDocument();if(!s){this.logger.warn("Score document not available");return}const i=s.getElementById("score-text");i&&i.setProperties({text:`${e} / ${t}`});const r=s.querySelector(".score-label");r&&r.setProperties({text:this._labels[this._mode].score});const o=performance.now();if(this._statusState==="calmed"&&this._calmedFlashUntil>0&&o>=this._calmedFlashUntil){const a=this._checkAnyPanicking?this._checkAnyPanicking():!1;this._statusState=a?"panicking":"scanning",this._calmedFlashUntil=0,this._updateStatusDisplay(s,e,t);return}this._updateStatusDisplay(s,e,t)}setPanicking(e=null){this._statusState!=="panicking"&&(this._statusState="panicking",this._checkAnyPanicking=e,this._updateStatusDisplay(this.getDocument(),null,null))}flashCalmed(e=null){this._statusState="calmed",this._calmedFlashUntil=performance.now()+2e3,this._checkAnyPanicking=e,this._updateStatusDisplay(this.getDocument(),null,null)}_updateStatusDisplay(e,t,s){if(!e)return;const i=e.querySelector(".app-title"),r=e.getElementById("status-dot");let o,a,l;const c=this._labels[this._mode];this._statusState==="panicking"?(o=c.alert,a="#ff6666",l="#ff6666"):this._statusState==="calmed"?(o=c.success,a="#66ff66",l="#66ff66"):(o="SCANNING",a="#66ccff",l="#66ccff"),i&&i.setProperties({text:o,color:a}),r&&r.setProperties({backgroundColor:l});const d=e.querySelector(".score-label");d&&d.setProperties({color:"#cccccc"});const u=e.querySelector(".score-panel"),h=e.querySelector(".score-container");this._statusState==="panicking"?(u&&u.setProperties({backgroundColor:"rgba(36, 8, 8, 0.95)",borderColor:"rgba(255, 100, 100, 0.6)"}),h&&h.setProperties({backgroundColor:"rgba(60, 20, 20, 0.6)",borderColor:"rgba(255, 100, 100, 0.3)"})):(u&&u.setProperties({backgroundColor:"rgba(8, 24, 36, 0.95)",borderColor:"rgba(100, 200, 255, 0.6)"}),h&&h.setProperties({backgroundColor:"rgba(20, 40, 60, 0.6)",borderColor:"rgba(100, 200, 255, 0.3)"}))}_lerpRedToGreen(e){const t=Math.max(0,Math.min(1,e));let s,i,r;if(t<.5){const h=t*2;s=Math.round(255-0*h),i=Math.round(100+155*h),r=Math.round(100-0*h)}else{const h=(t-.5)*2;s=Math.round(255-155*h),i=Math.round(255-0*h),r=Math.round(100-0*h)}const o=Math.round(s*.15),a=Math.round(i*.15),l=Math.round(r*.15),c=Math.round(s*.25),d=Math.round(i*.25),u=Math.round(r*.25);return{background:`rgba(${o}, ${a}, ${l}, 0.95)`,border:`rgba(${s}, ${i}, ${r}, 0.6)`,containerBg:`rgba(${c}, ${d}, ${u}, 0.6)`,containerBorder:`rgba(${s}, ${i}, ${r}, 0.3)`,dot:`rgb(${s}, ${i}, ${r})`,text:`rgb(${s}, ${i}, ${r})`}}update(){const e=performance.now();if(this._statusState==="calmed"&&this._calmedFlashUntil>0&&e>=this._calmedFlashUntil){const i=this._checkAnyPanicking?this._checkAnyPanicking():!1;this._statusState=i?"panicking":"scanning",this._calmedFlashUntil=0;const r=this.getDocument();r&&this._updateStatusDisplay(r,null,null)}if(!this._animating||this._animationScale>=1)return;this._animationScale=Math.min(1,this._animationScale+.08);const t=1-Math.pow(1-this._animationScale,3),s=this.registry.getPanel("score");s&&s.group.scale.setScalar(t)}isAnimating(){return this._animating&&this._animationScale<1}destroy(){this._animating=!1,this._animationScale=0}}const es={HIDDEN:"hidden",INCOMING_CALL:"incoming_call",ACTIVE_CALL:"active_call",PORTAL_PLACEMENT:"portal_placement",VOICE_INPUT:"voice_input"},D6={[es.HIDDEN]:[],[es.INCOMING_CALL]:["call"],[es.ACTIVE_CALL]:["call"],[es.PORTAL_PLACEMENT]:["call","portalPlacement"],[es.VOICE_INPUT]:["call","voice"]},L6={[es.INCOMING_CALL]:{call:kt.WRIST},[es.ACTIVE_CALL]:{call:kt.CENTER}};class k6{constructor(e,t={}){this.world=e,this.logger=new wt("SpatialUI",t.debug??!1),this.currentState=es.HIDDEN,this.previousState=null,this.mountManager=new E6(e,t),this.registry=new C6(e,this.mountManager,t),this.callUI=new T6(this.registry,this.mountManager,t),this.voiceUI=new R6(this.registry,t),this.scoreUI=new Q6(this.registry,this.mountManager,t),this.onCallAnswered=t.onCallAnswered||null,this.onCallEnded=t.onCallEnded||null,this._callPanelWorldMode=!1,this._worldFadeDuration=.5,this._voicePanelActive=!1,this._dialogCallPanelActive=!1,this._renderSettingsCounter=0,this._renderSettingsInterval=10,this._setupGameStateListener()}_setupGameStateListener(){Oe.on("state:changed",(e,t)=>{e.introPlayed&&!t.introPlayed&&(this.logger.log("Intro complete - moving call panel to HUD"),this.registry.reparentPanel("call",kt.HUD),this.currentState===es.ACTIVE_CALL&&(this.mountManager.setMountVisibility(kt.CENTER,!1),this.mountManager.setMountVisibility(kt.HUD,!0))),e.voiceInputEnabled&&!t.voiceInputEnabled&&(this.logger.log("Voice input enabled - showing voice panel on wrist"),this._voicePanelActive=!0,this.registry.createPanel("voice",kt.WRIST).then(()=>{this.registry.fadeInPanel("voice",.75),hs.pulseBoth(.8,80),setTimeout(()=>hs.pulseBoth(.8,80),120)})),e.inputMode!==t.inputMode&&(this.logger.log(`Input mode changed: ${t.inputMode} -> ${e.inputMode}`),this._updateInputModeUI(e.inputMode)),e.handedness!==t.handedness&&(this.logger.log(`Handedness changed: ${t.handedness} -> ${e.handedness}`),this.mountManager.setPreferHand(e.handedness))})}_updateInputModeUI(e){this.callUI.updateInputModeUI(e),this.voiceUI.updateInputModeUI(e)}async initialize(){this.mountManager.createMountGroups(),this.logger.log("SpatialUIManager initialized")}syncToGameState(e){this.logger.log(`Syncing to game state: currentState=${e.currentState}, voiceInputEnabled=${e.voiceInputEnabled}, inputMode=${e.inputMode}`),e.voiceInputEnabled?(this.setState(es.VOICE_INPUT),this.logger.log("Synced to VOICE_INPUT state")):e.currentState>=ut.PLAYING&&(this.setState(es.ACTIVE_CALL),this.logger.log("Synced to ACTIVE_CALL state")),e.inputMode&&this._updateInputModeUI(e.inputMode)}_getMountModeForPanel(e){const t=Oe.getState();if(e==="callWorld")return kt.WORLD;const s=L6[this.currentState]||{};return s[e]?e==="call"&&t.introPlayed?kt.HUD:s[e]:_S[e]?.mount||kt.WRIST}_getPanelsForState(e){return D6[e]||[]}async setState(e){if(e===this.currentState)return;this.logger.log(`State: ${this.currentState} -> ${e}`),this.previousState=this.currentState,this.currentState=e,e===es.INCOMING_CALL?Oe.getState().callRingPlayed||(fs.callRing(),Oe.setState({callRingPlayed:!0})):e===es.VOICE_INPUT?fs.voiceStart():e===es.HIDDEN&&this.previousState!==null&&fs.panelClose();const t=this._getPanelsForState(e);for(const i of Object.keys(this.registry.panels)){if(i==="callWorld"||i==="call")continue;const r=t.includes(i);this.registry.setPanelVisible(i,r)}for(const i of t){const r=this._getMountModeForPanel(i);this.registry.reparentPanel(i,r)}const s=new Set(t.map(i=>this._getMountModeForPanel(i)).filter(Boolean));if(this.mountManager.setMountVisibility(kt.WRIST,s.has(kt.WRIST)),this.mountManager.setMountVisibility(kt.HUD,s.has(kt.HUD)),this.mountManager.setMountVisibility(kt.CENTER,s.has(kt.CENTER)),e===es.HIDDEN){this.callUI.setState(Vs.HIDDEN);return}for(const i of t)await this.registry.createPanel(i,this._getMountModeForPanel(i)),this.registry.setPanelVisible(i,!0),this.registry.forceVisibilityRefresh(i);t.includes("call")&&(e===es.INCOMING_CALL?this.callUI.setState(Vs.INCOMING):(e===es.ACTIVE_CALL||e===es.VOICE_INPUT)&&(this.callUI.setState(Vs.ACTIVE),e===es.VOICE_INPUT&&this.callUI.setStatusText("LISTENING"))),this._setupInteractionsWhenReady()}_setupInteractionsWhenReady(){this.registry.getDocument("call")&&this.callUI.setupInteractions(()=>this.endCall()),this.registry.getDocument("voice")&&this.voiceUI.setupInteractions(null)}showIncomingCall(e="Prof. Sea"){this.setState(es.INCOMING_CALL).then(()=>{this.callUI.setCallerName(e)})}answerCall(){this.callUI.stopHapticPulse(),fs.callAnswer(),hs.pulseBoth(.8,80),this.setState(es.ACTIVE_CALL).then(()=>{this.onCallAnswered&&this.onCallAnswered()})}endCall(){fs.callEnd(),hs.pulseBoth(.5,60),this.callUI.setState(Vs.HIDDEN),this.setState(es.HIDDEN),this.onCallEnded&&this.onCallEnded()}showPhoneme(){this.callUI.showPhoneme()}updatePhonemeFrame(e,t){this.callUI.updatePhonemeFrame(e,t)}async fadeInCallPanel(){await this.registry.createPanel("call"),this.registry.reparentPanel("call",kt.HUD),this.mountManager.setMountVisibility(kt.HUD,!0),this._dialogCallPanelActive=!0,this.registry.setPanelVisible("call",!0),this.registry.fadeInPanel("call",.3),this.callUI.setState(Vs.ACTIVE),this.logger.log("Call panel fading in for dialog (HUD mount)")}fadeOutCallPanel(){this.registry.fadePanel("call",0,.3),this._dialogCallPanelActive=!1,setTimeout(()=>{this._dialogCallPanelActive||(this.registry.setPanelVisible("call",!1),this._getPanelsForState(this.currentState).some(s=>this._getMountModeForPanel(s)===kt.HUD)||this.mountManager.setMountVisibility(kt.HUD,!1))},350),this.logger.log("Call panel fading out after dialog")}setVoiceRecordingState(e){this.voiceUI.setRecordingState(e)}showTranscription(e,t="pending"){this.voiceUI.showTranscription(e,t)}showInterpretResult(e,t="greeting"){this.voiceUI.showInterpretResult(e,t)}async showScorePanel(){fs.panelOpen(),await this.scoreUI.show()}hideScorePanel(){fs.panelClose(),this.scoreUI.hide()}updateScoreDisplay(e,t){fs.scoreUp(),hs.pulseBoth(.6,50),this.scoreUI.updateDisplay(e,t)}async setCallPanelWorldTarget(e,t=new w(0,1,0),s={}){this._callPanelWorldMode||(this._callPanelWorldMode=!0,this.mountManager.setWorldTarget(e,t,s),await this.registry.createPanel("callWorld"),this.callUI.createWorldViseme(),this.registry.fadeInPanel("callWorld",this._worldFadeDuration),this.logger.log(`World panel shown at (${e.x.toFixed(2)}, ${e.y.toFixed(2)}, ${e.z.toFixed(2)})`))}clearCallPanelWorldTarget(){this._callPanelWorldMode&&(this._callPanelWorldMode=!1,this.callUI.hideWorldViseme(),this.registry.fadePanel("callWorld",0,this._worldFadeDuration),this.mountManager.clearWorldTarget(),this.logger.log("World panel hidden"))}async switchToHUDCallPanel(){this._callPanelWorldMode&&(this._callPanelWorldMode=!1,this.callUI.hideWorldViseme(),this.registry.fadePanel("callWorld",0,this._worldFadeDuration),this.mountManager.clearWorldTarget(),this.logger.log("World call panel faded out for minigame"));const e=await this.registry.createPanel("call");this.registry.reparentPanel("call",kt.HUD),this.mountManager.setMountVisibility(kt.HUD,!0),e?.group&&(e.group.visible=!0,this.logger.log(`HUD call panel group visible=${e.group.visible}, parent=${e.group.parent?.name}`)),this.registry.setPanelVisible("call",!0),this.registry.fadeInPanel("call",this._worldFadeDuration),this.callUI.setState(Vs.ACTIVE),this.logger.log("Switched to HUD call panel")}handleButtonPress(e){return this.currentState===es.INCOMING_CALL&&e==="a"?(this.answerCall(),!0):this.currentState===es.ACTIVE_CALL&&e==="b"?(this.endCall(),!0):!1}updateAttachment(e,t){this.registry.pollPendingDocuments((o,a)=>{this._setupInteractionsWhenReady()});const s=this._getPanelsForState(this.currentState),i=new Set(s.map(o=>this._getMountModeForPanel(o)).filter(Boolean));(this._callPanelWorldMode||this.registry.isFading("callWorld"))&&i.add(kt.WORLD),(this._voicePanelActive||this.registry.isFading("voice"))&&i.add(kt.WRIST),(this._dialogCallPanelActive||this.registry.isFading("call"))&&i.add(kt.HUD);const r=this.mountManager.updateMounts(e,t,i);return this.registry.updatePanelTransitions(),this.scoreUI.update(),r}update(e){this.callUI.update(e),this.voiceUI.update(),this.registry.updateFadeAnimations(e),this._renderSettingsCounter++,this._renderSettingsCounter>=this._renderSettingsInterval&&(this._renderSettingsCounter=0,this.registry.enforceRenderSettingsForVisiblePanels())}setAttachmentMode(e){}get mountGroup(){return this.mountManager.wristMountGroup}get documents(){return this.registry.documents}get panels(){return this.registry.panels}getMountGroup(e){return this.mountManager.getMountGroup(e)}destroy(){this.callUI.destroy(),this.voiceUI.destroy(),this.scoreUI.destroy(),this.registry.destroy(),this.mountManager.destroy()}}const IS={intro:{id:"intro",audio:"./audio/dialog/00_intro.mp3",captions:[{text:"Greetings, Ambassador!",duration:1.04},{text:"Nanobots from a distant alien civilization",startTime:1.64,duration:2.16},{text:"have begun exploring Earth.",startTime:3.8,duration:1.92},{text:"Good news, they're friendly",startTime:6.2,duration:1.58},{text:"and have advanced technology to offer.",startTime:7.78,duration:1.96},{text:"The bad news...",startTime:10.46,duration:.56},{text:"they're... kind of annoying.",startTime:11.8,duration:1.08},{text:"Nevertheless, to show Earth's goodwill to these bots,",startTime:13.64,duration:2.44},{text:"you will help them understand our culture and way of life",startTime:16.48,duration:2.6},{text:"by way of exploring your environment.",startTime:19.08,duration:2.1}],criteria:{currentState:ut.PLAYING,introPlayed:{$ne:!0}},once:!0,autoPlay:!0,priority:100,delay:1,onComplete:n=>{n.setState({introPlayed:!0,currentState:ut.PORTAL_PLACEMENT})}},portalPlacement:{id:"portalPlacement",audio:"./audio/dialog/01_our-guests-are-ready-to-join-us-now.mp3",captions:[{text:"Our guests are ready to join us.",duration:2.1},{text:"Just set the coordinates in an open area on the floor.",startTime:3,duration:3.02},{text:"They'll... find their way in.",startTime:7.2,duration:2.3},{text:"Trans-dimensionally.",startTime:9.76,duration:.7}],criteria:{currentState:ut.PORTAL_PLACEMENT,portalPlacementPlayed:{$ne:!0},roomSetupRequired:{$ne:!0}},autoPlay:!0,once:!0,priority:90,delay:.5,onComplete:n=>{n.setState({portalPlacementPlayed:!0});const e=n.getState();if(!e.portalPlacementStarted){const t=e.world?.aiManager?.dialogManager,s=e.inputMode==="hands"?"portalPlacementHelperHands":"portalPlacementHelperControllers";t&&t.playDialog(s)}}},portalPlacementHelperHands:{id:"portalPlacementHelperHands",audio:"./audio/dialog/01a_hands_simply-point-make-a-thumbs-up.mp3",captions:[{text:"Simply point,",duration:1.42},{text:"make a thumbs up,",startTime:1.98,duration:1.08},{text:"then tap your thumb.",startTime:3.36,duration:.96}],autoPlay:!1,once:!0,priority:89},portalPlacementHelperControllers:{id:"portalPlacementHelperControllers",audio:"./audio/dialog/01a_contr_simply-point-and-pull-the-trigger.mp3",captions:[{text:"Simply point and pull the trigger.",duration:2.66}],autoPlay:!1,once:!0,priority:89},ambassadorPresentation:{id:"ambassadorPresentation",audio:"./audio/dialog/02_splendid-ambassador-may-i-present.mp3",captions:[{text:"Splendid!",startTime:.78,duration:.64},{text:"Ambassador, may I present",startTime:1.9,duration:1.76},{text:"Modem, Blit, and Baud.",startTime:3.66,duration:2.42},{text:"The Nanaunts!",startTime:6.74,duration:.7},{text:"They'll start by taking a quick look around.",startTime:8.18,duration:2.54}],timedEvents:[{time:3.66,type:"robotReaction",robotName:"Modem",reaction:"happyLoop"},{time:4.5,type:"robotReaction",robotName:"Blit",reaction:"happyBarrel"},{time:5.3,type:"robotReaction",robotName:"Baud",reaction:"happyBounce"}],criteria:{robotsActive:!0,robotBehavior:"gathered",ambassadorPresentationPlayed:{$ne:!0}},autoPlay:!0,once:!0,priority:85,delay:1,onComplete:n=>{n.setState({ambassadorPresentationPlayed:!0,voiceInputEnabled:!0,robotBehavior:"wandering"});const e=n.getState(),t=e.world?.aiManager?.dialogManager,s=e.inputMode==="hands"?"translationAppHands":"translationAppControllers";t&&t.playDialog(s)}},translationAppControllers:{id:"translationAppControllers",audio:"./audio/dialog/03_contr_a-translation-app.mp3",captions:[{text:"A translation app has been",duration:2.06},{text:"uploaded to your Nanopad",startTime:2.06,duration:2.18},{text:"You must press and hold A to record",startTime:4.96,duration:2.84},{text:"then release to translate your",startTime:8.22,duration:2.44},{text:"speech into their language.",startTime:10.66,duration:1.58},{text:"Try it now!",startTime:12.98,duration:1.14},{text:"Give these explorers",startTime:14.62,duration:1.42},{text:"a nice, friendly greeting",startTime:16.04,duration:1.96}],autoPlay:!1,once:!0,priority:84},translationAppHands:{id:"translationAppHands",audio:"./audio/dialog/03_hands_a-translation-app.mp3",captions:[{text:"A translation app has been uploaded to your NanoPad.",duration:4.4},{text:"Do another thumb tap to stop recording.",startTime:4.88,duration:2.78},{text:"Tap again to stop recording and translate your speech",startTime:8.24,duration:4.28},{text:"into their language.",startTime:12.52,duration:1.58},{text:"Try it now!",startTime:15,duration:1.04},{text:"Give these explorers a nice,",startTime:16.62,duration:2.22},{text:"friendly greeting.",startTime:19.14,duration:.86}],autoPlay:!1,once:!0,priority:84},greetingPositive:{id:"greetingPositive",audio:"./audio/dialog/what-a-lovely-greeting.mp3",captions:[{text:"Ah! What a lovely greeting.",duration:2.64},{text:"They are most pleased.",startTime:3.12,duration:1.7}],criteria:{greetingResult:"positive"},autoPlay:!0,once:!0,priority:80,playNext:"moreReadings",onComplete:n=>{n.setState({greetingResult:null,robotBehavior:"wandering"})}},moreReadings:{id:"moreReadings",audio:"./audio/dialog/06_they-need-to-take-a-few-more-readings.mp3",captions:[{text:"They need to take a few more readings,",duration:2.48},{text:"but they're a little overexcited, let's say.",startTime:2.8,duration:2},{text:"If you see one panicking,",startTime:5.2,duration:1.5},{text:"give them a little pat on the head for encouragement.",startTime:7,duration:2.5}],autoPlay:!1,once:!0,priority:79,onComplete:n=>{n.setState({robotBehavior:"panicking"})}},greetingNotRecognized:{id:"greetingNotRecognized",audio:"./audio/dialog/they-didnt-quite-recognize-that.mp3",captions:[{text:"They didn't quite recognize that",duration:3.28},{text:"as a friendly greeting.",startTime:3.28,duration:1.22}],criteria:{greetingResult:"negative"},autoPlay:!0,once:!1,priority:79,onComplete:n=>{n.setState({greetingResult:null})}},robotQuestion_modem:{id:"robotQuestion_modem",audio:"./audio/dialog/question_modem.mp3",captions:[{text:"Modem has a question for you!",duration:1.5},{text:"What is this strange object you call... a 'door'?",startTime:1.8,duration:2.5},{text:"Is it a portal to another dimension?",startTime:4.5,duration:2}],autoPlay:!1,once:!1,priority:50},robotQuestion_blit:{id:"robotQuestion_blit",audio:"./audio/dialog/question_blit.mp3",captions:[{text:"Blit seems curious...",duration:1.5},{text:"Why do humans sit on these soft rectangles?",startTime:1.8,duration:2.5},{text:"Do they not have hover-pods?",startTime:4.5,duration:2}],autoPlay:!1,once:!1,priority:50},robotQuestion_baud:{id:"robotQuestion_baud",audio:"./audio/dialog/question_baud.mp3",captions:[{text:"Baud is excited to ask!",duration:1.5},{text:"What is this shiny surface that shows another you?",startTime:1.8,duration:2.5},{text:"Is the other you friendly too?",startTime:4.5,duration:2}],autoPlay:!1,once:!1,priority:50},panicWorkedUp:{id:"panicWorkedUp",audio:"./audio/dialog/oh-no-theyre-a-little-worked-up.mp3",captions:[{text:"Oh no! They're a little worked up.",duration:3.24},{text:"Reassure them by connecting your hand to their antennae.",startTime:3.76,duration:3.48}],autoPlay:!1,once:!0,priority:70,showCallPanel:!0},panicFourth:{id:"panicFourth",audio:"./audio/dialog/08-whoa-hes-really-moving.mp3",captions:[{text:"Whoa, he's really moving!",duration:4.58},{text:"Quite nervous for a godlike AI.",startTime:4.58,duration:2.38}],autoPlay:!1,once:!0,priority:70,showCallPanel:!0},panicCalmed:{id:"panicCalmed",audio:"./audio/dialog/08_there-there-little-friend.mp3",captions:[{text:"There there, little friend.",duration:1.88},{text:"Good job. They're calm.",startTime:2.74,duration:1.38}],criteria:{firstCalmCompleted:!0},autoPlay:!0,once:!0,priority:70,showCallPanel:!0,onComplete:n=>{n.setState({firstCalmCompleted:!1})}},entropodFirst:{id:"entropodFirst",audio:"./audio/dialog/12_for-the-love-of-higgs-boson.mp3",captions:[{text:"For the love of Higgs boson,",duration:1.96},{text:"protects the boss at all cost!",startTime:1.98,duration:2.72},{text:"Place a portal beneath the Entropods",startTime:5.38,duration:2.1},{text:"and they'll be hoovered into it! Gone!",startTime:7.48,duration:2.64}],criteria:{firstEntropodSpawned:!0},autoPlay:!0,once:!0,priority:70,showCallPanel:!0,onComplete:n=>{n.setState({firstEntropodSpawned:!1})}},entropodComplete:{id:"entropodComplete",audio:"./audio/dialog/13_youve-done-it.mp3",captions:[{text:"You've done it!",duration:2.28},{text:"The nanobots have collected all the data they need.",startTime:2.8,duration:3.42},{text:"This will advance intergalactic relations by milliseconds.",startTime:7.16,duration:3.92},{text:"Thank you, Ambassador.",startTime:12.6,duration:1.16},{text:"Modem has something he wishes to say.",startTime:16.6,duration:2.56}],criteria:{entropodMinigameCompleted:!0},autoPlay:!0,once:!0,priority:75,showCallPanel:!0,onComplete:n=>{n.setState({entropodMinigameCompleted:!1,modemApproaching:!0})}},modemQuestion:{id:"modemQuestion",audio:"./audio/dialog/14_ah-he-wants-to-know.mp3",captions:[{text:"Ah,",duration:1.56},{text:"he wants to know if he can stay and be friends,",startTime:2.8,duration:5},{text:"well what do you say, up to you ambassador.",startTime:7.8,duration:5.36}],criteria:{modemArrived:!0},autoPlay:!0,once:!0,priority:75,showCallPanel:!0,onComplete:n=>{n.setState({modemArrived:!1,voiceInputEnabled:!0,interpretMode:"modem_stay"})}},modemStayYes:{id:"modemStayYes",audio:"./audio/dialog/15_incredible-i-know-youll-care.mp3",captions:[{text:"Incredible! I know you'll care for this nanaut as your own.",startTime:.88,duration:4.56}],criteria:{modemStayResult:"yes"},autoPlay:!0,once:!0,priority:80,showCallPanel:!0,onComplete:n=>{n.setState({modemStayResult:null,voiceInputEnabled:!1,interpretMode:"greeting",gameEnding:!0,modemStays:!0})}},modemStayNo:{id:"modemStayNo",audio:"./audio/dialog/15_well-they-understand.mp3",captions:[{text:"Well, they understand.",duration:2.44},{text:"It's for the best.",startTime:2.98,duration:.82}],criteria:{modemStayResult:"no"},autoPlay:!0,once:!0,priority:80,showCallPanel:!0,onComplete:n=>{n.setState({modemStayResult:null,voiceInputEnabled:!1,interpretMode:"greeting",gameEnding:!0,modemStays:!1})}},modemStayNonAnswer:{id:"modemStayNonAnswer",audio:"./audio/dialog/15_thats-not-really-an-answer.mp3",captions:[{text:"That's not really an answer.",startTime:.86,duration:1.84},{text:"Can they stay with you from now on?",startTime:3.64,duration:1.7}],criteria:{modemStayResult:"non_answer"},autoPlay:!0,once:!1,priority:80,showCallPanel:!0,onComplete:n=>{n.setState({modemStayResult:null})}},gameOutro:{id:"gameOutro",audio:"./audio/dialog/16_come-on-bots.mp3",captions:[{text:"Come on, bots!",duration:1.5},{text:"Thank you again for your efforts on behalf of Interstellar Understanding,",startTime:1.34,duration:6.74},{text:"Ambassador. Till next time!",startTime:8.32,duration:2.5}],criteria:{gameEnding:!0},autoPlay:!0,once:!0,priority:85,showCallPanel:!0,onComplete:n=>{console.log("[Dialog] gameOutro onComplete - setting robotBehavior: exiting"),n.setState({gameEnding:!1,robotBehavior:"exiting"})}},panicCalmedSecond:{id:"panicCalmedSecond",audio:"./audio/dialog/08-such-a-cutie.mp3",captions:[{text:"Such a cutie.",duration:1.88},{text:"Now, another.",startTime:2.44,duration:1.1}],criteria:{secondCalmCompleted:!0},autoPlay:!0,once:!0,priority:70,showCallPanel:!0,onComplete:n=>{n.setState({secondCalmCompleted:!1})}},panicCalmedThird:{id:"panicCalmedThird",audio:"./audio/dialog/08-you-soothed-the-savage-nano-bot.mp3",captions:[{text:"You soothed the savage nanobot, great work!",duration:4.4}],criteria:{thirdCalmCompleted:!0},autoPlay:!0,once:!0,priority:70,showCallPanel:!0,onComplete:n=>{n.setState({thirdCalmCompleted:!1})}},baudStillWorried:{id:"baudStillWorried",audio:"./audio/dialog/09-baud-is-still-worried.mp3",captions:[{text:"Baud is still worried.",duration:2.42},{text:"Use the translator to reassure them.",startTime:3.08,duration:2.84}],criteria:{panicMinigameCompleted:!0},autoPlay:!0,once:!0,priority:75,showCallPanel:!0,onComplete:n=>{n.setState({panicMinigameCompleted:!1,voiceInputEnabled:!0,interpretMode:"reassurance"});const t=n.getState().world?.robotSystem;if(t){t.summonRobotByName("Baud");const s=t.characterManager?.getByName("Baud");s&&t.playerInteractionManager?.setNeedsReassurance(s.entityIndex)}}},reassurancePositive:{id:"reassurancePositive",audio:"./audio/dialog/10-aww-that-was-touching.mp3",captions:[{text:"Aw, that was touching.",startTime:.68,duration:1.98},{text:"Baud says they feel much better.",startTime:3.74,duration:1.74}],criteria:{reassuranceResult:"positive"},autoPlay:!0,once:!0,priority:80,showCallPanel:!0,playNext:"entropodIntro",onComplete:n=>{n.setState({reassuranceResult:null})}},entropodIntro:{id:"entropodIntro",audio:"./audio/dialog/11-entropod-intro.mp3",captions:[{text:"Now, this is a critical part of the scanning phase,",startTime:2,duration:2.58},{text:"but we're likely to attract unwanted attention.",startTime:5.86,duration:3.58},{text:"Entropods are the Nanaut's natural enemies.",startTime:10.76,duration:2.92},{text:"They'll appear soon.",startTime:14.68,duration:1.24},{text:"You need to position this device beneath them",startTime:16.84,duration:3.4},{text:"to vacuum them up. Ah, ever seen Ghostbusters?",startTime:20.24,duration:4.68}],autoPlay:!1,once:!0,priority:78,showCallPanel:!0,onComplete:n=>{n.setState({entropodMinigame:!0})}},reassuranceNegative:{id:"reassuranceNegative",audio:"./audio/dialog/10-uh-that-did-not-inspire-confidence.mp3",captions:[{text:"Uh, that did not inspire confidence.",duration:3.66}],criteria:{reassuranceResult:"negative"},autoPlay:!0,once:!1,priority:79,showCallPanel:!0,onComplete:n=>{n.setState({reassuranceResult:null})}}};function F6(n,e=new Set){const s=Object.values(IS).filter(r=>r.autoPlay===!0).sort((r,o)=>(o.priority||0)-(r.priority||0)),i=[];for(const r of s)r.once&&e.has(r.id)||(!r.criteria||gI(n,r.criteria))&&i.push(r);return i}function Fb(n){return IS[n]||null}class U6{constructor(e={}){this.logger=new wt("LipSync",e.debug||!1),this.cols=e.cols||4,this.rows=e.rows||4,this.totalFrames=this.cols*this.rows,this.updateInterval=50,this.lastUpdateTime=0,this.currentFrame=0,this.targetFrame=0,this.audioContext=null,this.analyser=null,this.audioSource=null,this.audioElement=null,this.frequencyData=null,this.timeDomainData=null,this.binHz=0,this.onFrameChange=e.onFrameChange||null,this.visemeFrames={silence:14,neutral:0,rest:15,BMP:14,CHJ:6,UHU:9,OOW:5,AEI:4,consonants:7,OH:5,TH:9,FV:11,EE:2,L:13,R:5,smile:3,surprised:1,IH:6,EH:9,AE:4,AH:8,AW:5,OO:5,UH:9},this._animationId=null,this._isPlaying=!1}async initialize(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.analyser.smoothingTimeConstant=.7;const e=this.analyser.frequencyBinCount;return this.frequencyData=new Uint8Array(e),this.timeDomainData=new Uint8Array(e),this.binHz=44100/this.analyser.fftSize,this.logger.log("Initialized with FFT size:",this.analyser.fftSize,"binHz:",this.binHz.toFixed(1)),!0}catch(e){return this.logger.error("Failed to initialize:",e),!1}}async loadAudio(e){this.audioContext||await this.initialize(),this.audioContext.state==="suspended"&&await this.audioContext.resume(),this.audioElement=document.createElement("audio"),this.audioElement.src=e,this.audioElement.crossOrigin="anonymous",this.audioElement.loop=!1,await new Promise((t,s)=>{this.audioElement.addEventListener("canplaythrough",t,{once:!0}),this.audioElement.addEventListener("error",s,{once:!0}),this.audioElement.load()}),this.audioSource=this.audioContext.createMediaElementSource(this.audioElement),this.audioSource.connect(this.analyser),this.analyser.connect(this.audioContext.destination),this.binHz=this.audioContext.sampleRate/this.analyser.fftSize,this.logger.log("Audio loaded:",e,"sampleRate:",this.audioContext.sampleRate)}play(){if(!this.audioElement){this.logger.warn("No audio element to play");return}this._isPlaying=!0,(async()=>{try{this.audioContext?.state==="suspended"&&(this.logger.log("Resuming suspended AudioContext..."),await this.audioContext.resume()),await this.audioElement.play(),this.logger.log("Audio playback started")}catch(t){this.logger.error("Audio play failed:",t.message),setTimeout(async()=>{try{await this.audioElement.play(),this.logger.log("Audio playback started (retry)")}catch(s){this.logger.error("Audio play retry failed:",s.message)}},100)}})(),this._startAnalysis(),this.audioElement.addEventListener("ended",()=>{this._isPlaying=!1,this._stopAnalysis(),this.currentFrame=0,this.onFrameChange&&this.onFrameChange(0,this.getUV(0))},{once:!0})}stop(){this.audioElement&&(this.audioElement.pause(),this.audioElement.currentTime=0),this._isPlaying=!1,this._stopAnalysis()}_startAnalysis(){this._analysisActive=!0}_stopAnalysis(){this._analysisActive=!1}updateAnalysis(){if(!this._isPlaying||!this._analysisActive||!this.analyser)return;const e=performance.now();if(e-this.lastUpdateTime<this.updateInterval)return;this.lastUpdateTime=e,this.analyser.getByteFrequencyData(this.frequencyData),this.analyser.getByteTimeDomainData(this.timeDomainData);const t=this._getAmplitude();if(t<.015)this.targetFrame=this.visemeFrames.silence;else{const{f1:s,f2:i}=this._findFormants(),r=this._getHighFrequencyEnergy();this.targetFrame=this._formantToViseme(s,i,t,r)}this.currentFrame=this.targetFrame,this.onFrameChange&&this.onFrameChange(this.currentFrame,this.getUV(this.currentFrame))}_getAmplitude(){let e=0;for(let t=0;t<this.timeDomainData.length;t++){const s=(this.timeDomainData[t]-128)/128;e+=s*s}return Math.sqrt(e/this.timeDomainData.length)}_getHighFrequencyEnergy(){const e=Math.floor(2500/this.binHz),t=Math.min(Math.floor(8e3/this.binHz),this.frequencyData.length-1);let s=0;for(let i=e;i<=t;i++)s+=this.frequencyData[i];return s/(t-e+1)/255}_findFormants(){const e=Math.floor(250/this.binHz),t=Math.floor(900/this.binHz),s=Math.floor(800/this.binHz),i=Math.floor(2500/this.binHz);let r=e,o=0;for(let u=e;u<=t&&u<this.frequencyData.length;u++)this.frequencyData[u]>o&&(o=this.frequencyData[u],r=u);let a=s,l=0;for(let u=s;u<=i&&u<this.frequencyData.length;u++)Math.abs(u-r)<3||this.frequencyData[u]>l&&(l=this.frequencyData[u],a=u);const c=r*this.binHz,d=a*this.binHz;return{f1:c,f2:d,f1Strength:o/255,f2Strength:l/255}}_formantToViseme(e,t,s,i){if(i>.5)return this.visemeFrames.CHJ;if(s<.03)return this.visemeFrames.silence;if(i>.35&&s<.15)return this.visemeFrames.FV;const r=Math.max(0,Math.min(1,(e-250)/550)),o=Math.max(0,Math.min(1,(t-800)/1700));return r>.6||s>.25?o>.5?this.visemeFrames.AEI:o<.25?this.visemeFrames.AH:this.visemeFrames.UHU:r>.35?o>.55?this.visemeFrames.EH:o<.3?this.visemeFrames.OH:this.visemeFrames.UH:o>.6?this.visemeFrames.EE:o<.25?this.visemeFrames.OOW:s>.08?this.visemeFrames.consonants:this.visemeFrames.neutral}getUV(e){e=Math.max(0,Math.min(e,this.totalFrames-1));const t=e%this.cols,s=Math.floor(e/this.cols),i=1/this.cols,r=1/this.rows,o=.02,a=i*(1-o*2),l=r*(1-o*2),c=t*i+i*o,d=(this.rows-1-s)*r+r*o;return{u:c,v:d,uSize:a,vSize:l}}destroy(){this.stop(),this.audioElement&&(this.audioElement.src="",this.audioElement=null),this.audioSource&&(this.audioSource.disconnect(),this.audioSource=null),this.analyser=null}}class O6{constructor(e={}){this.logger=new wt("Dialog",e.debug||!1),this.world=e.world,this.player=e.player,this.baseVolume=e.volume||.8,this.audioVolume=this.baseVolume,this.currentDialog=null,this.isPlaying=!1,this.dialogStartTime=0,this._firedEvents=new Set,this.captions=[],this.currentCaptionIndex=-1,this.captionMesh=null,this.textCanvas=null,this.textContext=null,this.textTexture=null,this.captionOffset=e.captionOffset||new w(0,-.25,-.6),this.captionScale=e.captionScale||.35,this.fontSize=e.fontSize||42,this.fontFamily=e.fontFamily||"Arial, sans-serif",this.textColor=e.textColor||"#ffffff",this.backgroundColor=e.backgroundColor||"rgba(0, 0, 0, 0.75)",this.padding=e.padding||16,this.maxWidth=e.maxWidth||700,this.borderRadius=e.borderRadius||10,this.lipSyncManager=null,this.onFrameChange=e.onFrameChange||null,this.playedDialogs=new Set,this.pendingDialogs=new Map,this._stateHandler=null,this._animationId=null,this.onDialogStart=e.onDialogStart||null,this.onDialogComplete=e.onDialogComplete||null,this.onCaptionChange=e.onCaptionChange||null,this._pausedForXR=!1,this._pausedAudioTime=0}async initialize(){return!this.world||!this.player?.head?(this.logger.warn("World or player.head not available"),!1):(this._createCaptionPanel(),this.lipSyncManager=new U6({debug:!0,onFrameChange:(e,t)=>{this.onFrameChange&&this.onFrameChange(e,t)}}),await this.lipSyncManager.initialize(),this._subscribeToState(),this.logger.log("Initialized"),!0)}_createCaptionPanel(){this.textCanvas=document.createElement("canvas"),this.textCanvas.width=this.maxWidth,this.textCanvas.height=160,this.textContext=this.textCanvas.getContext("2d"),this.textTexture=new vn(this.textCanvas),this.textTexture.minFilter=Ot,this.textTexture.magFilter=Ot;const e=this.textCanvas.width/this.textCanvas.height,t=new Us(e*.2,.2),s=new Nt({map:this.textTexture,transparent:!0,depthTest:!1,depthWrite:!1});this.captionMesh=new it(t,s),this.captionMesh.scale.set(this.captionScale,this.captionScale,1),this.captionMesh.position.copy(this.captionOffset),this.captionMesh.visible=!1,this.captionMesh.renderOrder=9999,this.player.head.add(this.captionMesh),this._clearCanvas()}_clearCanvas(){this.textContext.clearRect(0,0,this.textCanvas.width,this.textCanvas.height),this.textTexture.needsUpdate=!0}_renderCaption(e){const t=this.textContext,s=this.textCanvas;if(t.clearRect(0,0,s.width,s.height),!e){this.textTexture.needsUpdate=!0;return}t.font=`bold ${this.fontSize}px ${this.fontFamily}`;const i=e.split(" "),r=[];let o="";const a=s.width-this.padding*2;for(const u of i){const h=o?`${o} ${u}`:u;t.measureText(h).width>a&&o?(r.push(o),o=u):o=h}o&&r.push(o);const l=this.fontSize*1.25,c=r.length*l,d=(s.height-c)/2+l/2;t.textAlign="center",t.textBaseline="middle",t.strokeStyle="#000000",t.lineWidth=4,t.lineJoin="round",t.miterLimit=2;for(let u=0;u<r.length;u++){const h=d+u*l;t.strokeText(r[u],s.width/2,h)}t.fillStyle="#ffffff";for(let u=0;u<r.length;u++){const h=d+u*l;t.fillText(r[u],s.width/2,h)}this.textTexture.needsUpdate=!0}_roundRect(e,t,s,i,r,o){e.beginPath(),e.moveTo(t+o,s),e.lineTo(t+i-o,s),e.quadraticCurveTo(t+i,s,t+i,s+o),e.lineTo(t+i,s+r-o),e.quadraticCurveTo(t+i,s+r,t+i-o,s+r),e.lineTo(t+o,s+r),e.quadraticCurveTo(t,s+r,t,s+r-o),e.lineTo(t,s+o),e.quadraticCurveTo(t,s,t+o,s),e.closePath()}_subscribeToState(){if(!Oe)return;this._stateHandler=(t,s)=>{const i=s?.currentState>=ut.XR_ACTIVE&&s?.currentState!==ut.XR_PAUSED,r=t?.currentState>=ut.XR_ACTIVE&&t?.currentState!==ut.XR_PAUSED;i&&!r?(this.logger.log(`XR inactive (state ${s?.currentState} -> ${t?.currentState}) - pausing dialog`),this._pauseForXR()):!i&&r&&this._pausedForXR&&(this.logger.log(`XR active (state ${s?.currentState} -> ${t?.currentState}) - resuming dialog`),this._resumeFromXR()),(t?.currentState!==s?.currentState||t?.roomSetupRequired!==s?.roomSetupRequired||t?.robotsActive!==s?.robotsActive||t?.robotBehavior!==s?.robotBehavior||t?.introPlayed!==s?.introPlayed||t?.portalPlacementPlayed!==s?.portalPlacementPlayed||t?.ambassadorPresentationPlayed!==s?.ambassadorPresentationPlayed||t?.greetingResult!==s?.greetingResult||t?.firstCalmCompleted!==s?.firstCalmCompleted||t?.secondCalmCompleted!==s?.secondCalmCompleted||t?.thirdCalmCompleted!==s?.thirdCalmCompleted||t?.panicMinigameCompleted!==s?.panicMinigameCompleted||t?.reassuranceResult!==s?.reassuranceResult||t?.firstEntropodSpawned!==s?.firstEntropodSpawned||t?.entropodMinigameCompleted!==s?.entropodMinigameCompleted||t?.modemApproaching!==s?.modemApproaching||t?.modemArrived!==s?.modemArrived||t?.modemStayResult!==s?.modemStayResult||t?.voiceInputEnabled!==s?.voiceInputEnabled||t?.gameEnding!==s?.gameEnding)&&(t?.entropodMinigameCompleted!==s?.entropodMinigameCompleted&&this.logger.log(`entropodMinigameCompleted: ${s?.entropodMinigameCompleted} -> ${t?.entropodMinigameCompleted}`),t?.modemArrived!==s?.modemArrived&&this.logger.log(`modemArrived: ${s?.modemArrived} -> ${t?.modemArrived}`),t?.voiceInputEnabled!==s?.voiceInputEnabled&&this.logger.log(`voiceInputEnabled: ${s?.voiceInputEnabled} -> ${t?.voiceInputEnabled}`),t?.gameEnding!==s?.gameEnding&&this.logger.log(`gameEnding: ${s?.gameEnding} -> ${t?.gameEnding}`),t?.modemStayResult!==s?.modemStayResult&&this.logger.log(`modemStayResult: ${s?.modemStayResult} -> ${t?.modemStayResult}`),this._checkAutoPlayDialogs(t))},Oe.on("state:changed",this._stateHandler),this.logger.log("Subscribed to state changes");const e=Oe.getState();e&&(this.logger.log(`Checking initial state: ${e.currentState}`),this._checkAutoPlayDialogs(e))}_checkAutoPlayDialogs(e){if((e?.firstCalmCompleted||e?.secondCalmCompleted||e?.thirdCalmCompleted)&&this.logger.log(`Calm states: 1st=${e.firstCalmCompleted}, 2nd=${e.secondCalmCompleted}, 3rd=${e.thirdCalmCompleted}, isPlaying=${this.isPlaying}`),this.isPlaying){this.logger.log(`Skipping auto-play check - dialog already playing: ${this.currentDialog?.id}`);return}e?.greetingResult&&this.logger.log(`Checking dialogs with greetingResult=${e.greetingResult}, friendlyGreetingReceived=${e.friendlyGreetingReceived}`);const t=F6(e,this.playedDialogs);this.logger.log(`Found ${t.length} matching dialogs: ${t.map(s=>s.id).join(", ")||"none"}`);for(const s of t)if(this.currentDialog?.id!==s.id&&!this.pendingDialogs.has(s.id)){this.logger.log(`Auto-play triggered: ${s.id}`),s.once&&this.playedDialogs.add(s.id),s.delay&&s.delay>0?this._scheduleDialog(s):this.playDialog(s);break}}_scheduleDialog(e){this.pendingDialogs.set(e.id,{dialog:e,timer:0,delay:e.delay}),this.logger.log(`Scheduled dialog "${e.id}" with ${e.delay}s delay`)}async playDialog(e){const t=typeof e=="string"?Fb(e):e;if(!t){this.logger.warn(`Dialog not found: ${e}`);return}if(this.isPlaying&&this.stop(),this.currentDialog=t,this.captions=t.captions||[],this.currentCaptionIndex=-1,this.isPlaying=!0,this._firedEvents.clear(),this.dialogStartTime=performance.now(),this.logger.log(`Playing dialog: ${t.id}`),this.onDialogStart&&this.onDialogStart(t),t.audio&&this.lipSyncManager)try{this.logger.log(`Loading audio: ${t.audio}`),await this.lipSyncManager.loadAudio(t.audio),this.logger.log("Audio loaded, starting playback..."),this.lipSyncManager.play()}catch(s){this.logger.error(`Failed to load audio: ${s}`)}else this.logger.warn(`No audio or lipSyncManager - audio: ${t.audio}, lipSync: ${!!this.lipSyncManager}`);this._startPlaybackLoop()}_startPlaybackLoop(){this._playbackActive=!0}_updatePlayback(){if(!this.isPlaying||!this._playbackActive||this._pausedForXR)return;const e=Oe?.getState?.()?.captionsEnabled??!0;let t;if(this.lipSyncManager?.audioElement){if(t=this.lipSyncManager.audioElement.currentTime*1e3,this.lipSyncManager.audioElement.ended){this._handleDialogComplete();return}}else t=performance.now()-this.dialogStartTime;if(e&&this.captions.length>0){const s=this._findCaptionIndex(t);if(s!==this.currentCaptionIndex)if(this.currentCaptionIndex=s,s>=0&&s<this.captions.length){const i=this.captions[s];this._renderCaption(i.text),this.captionMesh.visible=!0,this.onCaptionChange&&this.onCaptionChange(i,s)}else this._clearCanvas(),this.captionMesh.visible=!1}else this.captionMesh.visible=!1;if(!this.lipSyncManager?.audioElement&&this._isDialogComplete(t)){this._handleDialogComplete();return}this.lipSyncManager&&this.lipSyncManager.updateAnalysis(),this._processTimedEvents(t/1e3)}_processTimedEvents(e){if(this.currentDialog?.timedEvents)for(const t of this.currentDialog.timedEvents){const s=`${this.currentDialog.id}_${t.time}`;this._firedEvents.has(s)||e>=t.time&&(this._firedEvents.add(s),this._fireTimedEvent(t))}}_fireTimedEvent(e){if(this.logger.log(`Timed event: ${e.type} at ${e.time}s`),e.type==="robotReaction"&&e.robotName){const t=this.world?.robotSystem;t&&(t.showNameTagByName(e.robotName),t.triggerNamedRobotReaction(e.robotName,e.reaction))}else e.callback&&e.callback(this.world,Oe)}_findCaptionIndex(e){let t=0;for(let s=0;s<this.captions.length;s++){const i=this.captions[s],r=i.startTime!==void 0?i.startTime*1e3:t,o=(i.duration||3)*1e3,a=r+o;if(e>=r&&e<a)return s;i.startTime===void 0&&(t+=o)}return-1}_isDialogComplete(e){if(this.captions.length===0)return!0;const t=this.captions[this.captions.length-1];let s;return t.startTime!==void 0?s=(t.startTime+(t.duration||3))*1e3:s=this.captions.reduce((i,r)=>i+(r.duration||3)*1e3,0),e>=s}_handleDialogComplete(){const e=this.currentDialog;if(this.logger.log(`Dialog complete: ${e?.id}`),this.isPlaying=!1,this._playbackActive=!1,this._clearCanvas(),this.captionMesh.visible=!1,this.lipSyncManager&&this.lipSyncManager.stop(),e?.onComplete&&e.onComplete(Oe),this.onDialogComplete&&this.onDialogComplete(e),this.currentDialog=null,e?.playNext){const s=Fb(e.playNext);if(s){s.delay&&s.delay>0?this._scheduleDialog(s):this.playDialog(s);return}}const t=Oe?.getState?.();t&&this._checkAutoPlayDialogs(t)}update(e){if(!this._pausedForXR){for(const[t,s]of this.pendingDialogs)if(s.timer+=e,s.timer>=s.delay){this.pendingDialogs.delete(t),this.playDialog(s.dialog);break}this._updatePlayback()}}stop(){this.isPlaying=!1,this._playbackActive=!1,this._pausedForXR=!1,this.lipSyncManager&&this.lipSyncManager.stop(),this._clearCanvas(),this.captionMesh.visible=!1,this.currentDialog=null,this.currentCaptionIndex=-1}_pauseForXR(){!this.isPlaying||this._pausedForXR||(this._pausedForXR=!0,this.logger.log(`Pausing dialog for XR exit: ${this.currentDialog?.id}`),this.lipSyncManager?.audioElement&&(this._pausedAudioTime=this.lipSyncManager.audioElement.currentTime,this.lipSyncManager.audioElement.pause()),this.captionMesh&&(this.captionMesh.visible=!1))}_resumeFromXR(){this._pausedForXR&&(this._pausedForXR=!1,this.logger.log(`Resuming dialog after XR entry: ${this.currentDialog?.id}`),this.lipSyncManager?.audioElement&&this.isPlaying&&(this.lipSyncManager.audioElement.currentTime=this._pausedAudioTime,this.lipSyncManager.audioElement.play().catch(e=>{this.logger.warn(`Failed to resume audio: ${e}`)})))}setVolume(e){this.audioVolume=Math.max(0,Math.min(1,e))*this.baseVolume}isDialogPlaying(){return this.isPlaying}destroy(){this.stop(),this._stateHandler&&(Oe.off("state:changed",this._stateHandler),this._stateHandler=null),this.captionMesh&&(this.captionMesh.parent?.remove(this.captionMesh),this.captionMesh.geometry?.dispose(),this.captionMesh.material?.dispose(),this.captionMesh=null),this.textTexture&&(this.textTexture.dispose(),this.textTexture=null),this.lipSyncManager&&(this.lipSyncManager.destroy(),this.lipSyncManager=null),this.textCanvas=null,this.textContext=null}}const Ar={XR_PAUSED:"xrPaused",ROOM_CAPTURE_FAILED:"roomCaptureFailed",ROOM_CAPTURE:"roomCapture",INCOMING_CALL:"incomingCall",ACTIVE_CALL:"activeCall",PORTAL_PLACEMENT:"portalPlacement",VOICE_INPUT:"voiceInput"},G6={[Ar.XR_PAUSED]:{showWhen:{currentState:ut.XR_PAUSED},priority:300,exclusive:!0,wristUIState:es.HIDDEN},[Ar.ROOM_CAPTURE_FAILED]:{showWhen:{currentState:{$gte:ut.XR_ACTIVE},roomCaptureFailed:!0},priority:200,exclusive:!0,wristUIState:es.HIDDEN},[Ar.ROOM_CAPTURE]:{showWhen:{currentState:{$gte:ut.XR_ACTIVE},roomSetupRequired:!0,roomCaptureFailed:!1},priority:100,exclusive:!0,wristUIState:es.HIDDEN},[Ar.INCOMING_CALL]:{showWhen:{currentState:ut.XR_ACTIVE,roomSetupRequired:!1,introPlayed:!1,callAnswered:!1},priority:50,wristUIState:es.INCOMING_CALL},[Ar.ACTIVE_CALL]:{showWhen:{currentState:{$gte:ut.XR_ACTIVE,$lte:ut.PORTAL_PLACEMENT},roomSetupRequired:!1,callAnswered:!0,voiceInputEnabled:!1,robotsActive:!1},priority:45,wristUIState:es.ACTIVE_CALL},[Ar.PORTAL_PLACEMENT]:{showWhen:{currentState:ut.PORTAL_PLACEMENT,roomSetupRequired:!1,robotsActive:!1,inputMode:"hands"},priority:50,wristUIState:es.PORTAL_PLACEMENT},[Ar.ACTIVE_CALL+"_placement"]:{showWhen:{currentState:ut.PORTAL_PLACEMENT,roomSetupRequired:!1,robotsActive:!1,inputMode:"controllers"},priority:50,wristUIState:es.ACTIVE_CALL},[Ar.VOICE_INPUT]:{showWhen:{currentState:{$gte:ut.XR_ACTIVE},roomSetupRequired:!1,voiceInputEnabled:!0,robotsActive:!1},priority:50,wristUIState:es.VOICE_INPUT},[Ar.VOICE_INPUT+"_modem"]:{showWhen:{currentState:{$gte:ut.XR_ACTIVE},roomSetupRequired:!1,voiceInputEnabled:!0,interpretMode:"modem_stay"},priority:55,wristUIState:es.VOICE_INPUT,useHUDCallPanel:!0}};function H6(n,e={}){const t={...G6,...e},s=Object.entries(t).sort(([,i],[,r])=>(r.priority||0)-(i.priority||0));for(const[i,r]of s)if(gI(n,r.showWhen))return{panelId:i,config:r,wristUIState:r.wristUIState||es.HIDDEN,exclusive:r.exclusive||!1};return{panelId:null,config:null,wristUIState:es.HIDDEN,exclusive:!1}}class z6{constructor(e,t={}){this.world=e,this.logger=new wt("UIStateManager",t.debug??!1),this.wristUI=null,this.roomCaptureUI=null,this.customPanels={},this.activePanel=null,this.previousPanel=null,this._boundOnStateChange=this._onGameStateChange.bind(this),Oe.on("state:changed",this._boundOnStateChange),this.logger.log("UIStateManager initialized")}registerWristUI(e){this.wristUI=e,this.logger.log("WristUI registered"),this._evaluateAndApply()}registerRoomCaptureUI(e){this.roomCaptureUI=e,this.logger.log("RoomCaptureUI registered"),this._evaluateAndApply()}registerCustomPanel(e,t,s,i){this.customPanels[e]={...t,show:s,hide:i},this.logger.log(`Custom panel registered: ${e}`),this._evaluateAndApply()}unregisterCustomPanel(e){delete this.customPanels[e],this._evaluateAndApply()}_onGameStateChange(e,t){this._evaluateAndApply()}_evaluateAndApply(){const e=Oe.getState(),t=H6(e,this.customPanels),s=t.panelId,i=this.activePanel;(e.interpretMode==="modem_stay"||e.voiceInputEnabled)&&(this.logger.log(`Evaluating: interpretMode=${e.interpretMode}, voiceInputEnabled=${e.voiceInputEnabled}, callAnswered=${e.callAnswered}, introPlayed=${e.introPlayed}`),this.logger.log(`Result: panelId=${t.panelId}, wristUIState=${t.wristUIState}`)),e.roomSetupRequired===!0&&this.logger.log("roomSetupRequired=true, evaluatedPanel:",s,"roomCaptureUI:",!!this.roomCaptureUI),s!==i&&this.logger.log(`UI Panel: ${i||"none"} -> ${s||"none"}`),this.previousPanel=i,this.activePanel=s,this._applyPanelState(t)}_applyPanelState(e){const{panelId:t,config:s,wristUIState:i,exclusive:r}=e;if(t===Ar.ROOM_CAPTURE||t===Ar.ROOM_CAPTURE_FAILED?this._showRoomCapture():this._hideRoomCapture(),this.wristUI){const o=r&&t!==null?es.HIDDEN:i||es.HIDDEN;this.wristUI.setState(o),s?.useHUDCallPanel&&this.wristUI.switchToHUDCallPanel&&this.wristUI.switchToHUDCallPanel()}for(const[o,a]of Object.entries(this.customPanels))o===t?a.show?.():a.hide?.()}_showRoomCapture(){if(!this.roomCaptureUI){this.logger.log("_showRoomCapture: roomCaptureUI not registered yet");return}this.roomCaptureUI.isVisible||(this.logger.log("_showRoomCapture: showing room capture UI"),this.roomCaptureUI.show(),this.logger.log("RoomCaptureUI shown"))}_hideRoomCapture(){this.roomCaptureUI&&this.roomCaptureUI.isVisible&&(this.roomCaptureUI.hide(),this.logger.log("RoomCaptureUI hidden"))}refresh(){this._evaluateAndApply()}getActivePanel(){return this.activePanel}isPanelActive(e){return this.activePanel===e}destroy(){Oe.off("state:changed",this._boundOnStateChange),this.wristUI=null,this.roomCaptureUI=null,this.customPanels={}}}const pa={enableVoicePanel:!0,enableDebugVisualizer:!0,enableVoiceRecording:!0};class V6 extends Ss({voicePanelReady:{required:[nn,$n]},camera:{required:[Vt]},labelClicked:{required:[Ga,va]}}){init(){this.logger=new wt("AIManager",!1),this.logger.log("System initializing..."),this.logger.log("Config:",JSON.stringify(pa)),this.world.aiManager=this,this.player=this.world.player||this.world.getPlayer?.(),this.isEmulator=Mh,this.useTestImage=W8,this._xrInitialized=!1,this._modulesInitialized=!1,this.mountEntity=null,this.voicePanelEntity=null,this.voicePanelDocument=null,this.debugVisualizer=null,this.dialogManager=null,this.wristUI=null,this.uiStateManager=null,this._initCoreModules(),this._boundOnStateChange=this._onGameStateChange.bind(this),Oe.on("state:changed",this._boundOnStateChange),this._initState(),this._setupCameraSubscription(),this._setupLabelClickSubscription(),this.logger.log("System initialized (XR modules deferred)")}_initCoreModules(){this.apiClient=new X8,this.cameraCapture=new J8(this.world,this.player),this.inputHandler=new v6(this.world,null,this.player),this.depthProcessor=new x6,this.objectTracker=new Nb(_i),this.videoObjectTracker=new Nb(_i),this.labelManager=new Sb(this.world,this.player,_i),this.videoLabelManager=new Sb(this.world,this.player,_i),this.wireframeManager=new Mb(this.world,_i),this.videoWireframeManager=new Mb(this.world,_i),this.modelGenerator=new y6(this.world,this.player,this.apiClient),pa.enableVoiceRecording&&(this.voiceRecorder=new _6),this._wristPanelCreated=!1,this.setupTrackerCallbacks()}_initXRModules(){this._xrInitialized||(this.logger.log("Initializing XR-dependent modules..."),pa.enableVoicePanel&&this.voicePanelEntity&&this.queries.voicePanelReady.subscribe("qualify",e=>{e===this.voicePanelEntity&&this.logger.log(`Voice panel qualified: index=${e.index}`)}),pa.enableDebugVisualizer&&(this.debugVisualizer=new Y8(!0)),this._xrInitialized=!0,this.logger.log("XR modules initialized"))}_cleanupXRModules(){this._xrInitialized&&(this.logger.log("Cleaning up XR modules..."),this._xrInitialized=!1)}_onGameStateChange(e,t){const s=e.currentState,i=t.currentState;s===ut.START_SCREEN&&!this._wristPanelCreated&&pa.enableVoicePanel&&(this._wristPanelCreated=!0,setTimeout(async()=>{this.uiStateManager=new z6(this.world,{debug:!0});const r=Oe.getState().handedness||"right";this.wristUI=new k6(this.world,{debug:!0,preferHand:r,onCallAnswered:()=>{this.logger.log("Call answered - transitioning to PLAYING"),Oe.setState({currentState:ut.PLAYING,callAnswered:!0})},onCallEnded:()=>this.logger.log("Call ended")}),await this.wristUI.initialize(),this.world.spatialUIManager=this.wristUI,this.uiStateManager.registerWristUI(this.wristUI),this.dialogManager=new O6({world:this.world,player:this.player,debug:!0,onFrameChange:(o,a)=>{this.wristUI&&this.wristUI.updatePhonemeFrame(o,a)},onDialogStart:o=>{this.logger.log(`Dialog started: ${o.id}`),this.wristUI&&(this.wristUI.showPhoneme(),o.showCallPanel&&this.wristUI.fadeInCallPanel())},onDialogComplete:o=>{this.logger.log(`Dialog complete: ${o?.id}`),this.wristUI&&o?.showCallPanel&&this.wristUI.fadeOutCallPanel()}}),await this.dialogManager.initialize(),this.logger.log("SpatialUIManager + DialogManager + UIStateManager created")},100)),s>=ut.XR_ACTIVE&&i<ut.XR_ACTIVE&&(this._initXRModules(),Zp.enableXRKeyboard()),s===ut.START_SCREEN&&i>=ut.XR_ACTIVE&&Zp.disableXRKeyboard()}_initState(){this.isProcessing=!1,this.trackedObjects=new Map,this.videoTrackedObjects=new Map,this.nextObjectId=0,this.nextVideoObjectId=0,this.imageCounter=0,this.sessionId=null,this.frameIndex=0,this.xrInput=null,this.cameraEntity=null,this.generating3D=!1,this.lastXRFrame=null,this.capturedDepthData=null,this.pendingDepthCapture=null,this.isRecording=!1,this.isProcessingVoice=!1,this.recordingStartTime=null,this.recordedAudioBlob=null,this._panelButtonsSetup=!1}_setupCameraSubscription(){if(!Mh){this.queries.camera.subscribe("qualify",t=>{this.logger.log("Camera entity qualified"),this.cameraEntity=t});const e=Array.from(this.queries.camera.entities);e.length>0&&(this.cameraEntity=e[0])}}_setupLabelClickSubscription(){this.queries.labelClicked.subscribe("qualify",e=>{this._handleLabelClick(e)})}setupTrackerCallbacks(){const e=t=>({onCreateLabel:(s,i,r)=>{(t?this.videoLabelManager:this.labelManager).createLabel(s,i,r)},onUpdateLabel:(s,i)=>{(i.isVideoMode?this.videoLabelManager:this.labelManager).updateLabel(s,i,i.isVideoMode)},onCreateWireframe:(s,i,r)=>{const o=r?this.videoWireframeManager:this.wireframeManager;o.createWireframeBox(s,i,r,!1),(i.nativeFusedPosition||i.nativeWorldPosition)&&o.createWireframeBox(s,i,r,!0)},onUpdateWireframe:(s,i)=>{(i.isVideoMode?this.videoWireframeManager:this.wireframeManager).updateWireframeBox(s,i,i.isVideoMode)},onRemoveLabel:s=>{this.labelManager.removeLabel(s),this.videoLabelManager.removeLabel(s)},onRemoveWireframe:s=>{this.wireframeManager.removeWireframeBox(s),this.videoWireframeManager.removeWireframeBox(s)}});this.objectTracker.setCallbacks(e(!1)),this.videoObjectTracker.setCallbacks(e(!0))}update(e){const t=Oe.getState();if(t.currentState<ut.XR_ACTIVE)return;this._updateXRInput();const s=t.currentState>=ut.XR_ACTIVE;if(this.inputHandler&&this.xrInput&&this.inputHandler.xrInput!==this.xrInput&&this.inputHandler.setXRInput(this.xrInput),this.wristUI&&this.xrInput&&s&&this.wristUI.updateAttachment(this.xrInput,s),this.wristUI&&this.wristUI.update(e),this.dialogManager&&this.dialogManager.update(e),this.modelGenerator&&this.modelGenerator.update(),s&&this.world.renderer?.xr){const i=this.world.renderer.xr.getFrame?.();i&&(this.lastXRFrame=i)}this.inputHandler.pollGamepadButtons({onAButtonDown:()=>{this.world.robotSystem?.roomSetupManager?.handleButtonPress("a")||this.wristUI?.handleButtonPress("a")||this._handleRecordButtonDown()},onAButtonUp:()=>{this._handleRecordButtonUp()},onBButton:()=>{this.wristUI?.handleButtonPress("b")||this._resetAllObjects()}}),this.debugVisualizer&&this.debugVisualizer.updateVisualizationPlanes(this.player),this._syncRecordingState()}_updateXRInput(){this.world.xrInputSystem?.xrInput&&this.xrInput!==this.world.xrInputSystem.xrInput&&(this.xrInput=this.world.xrInputSystem.xrInput)}_syncRecordingState(){if(!this.voiceRecorder)return;const e=this.voiceRecorder.isRecording;this.isRecording!==e&&(this.isRecording=e,e||(this.recordingStartTime=null))}_handleRecordButtonDown(){const e=Oe.getState();if(!e.voiceInputEnabled){this.logger.log("Voice recording blocked - voiceInputEnabled is false");return}if(e.currentState<ut.PLAYING){this.logger.log("Voice recording blocked - not in PLAYING state");return}!this.isRecording&&!this.isProcessingVoice&&this.startVoiceRecording()}_handleRecordButtonUp(){this.isRecording&&this.stopVoiceRecordingAndProcess()}_handleRecordButtonClick(){this.isRecording?this.stopVoiceRecordingAndProcess():this._handleRecordButtonDown()}_resetAllObjects(){this.logger.log("Resetting all tracked objects"),this.objectTracker.resetAll(this.trackedObjects),this.labelManager.resetAll(),this.wireframeManager.resetAll(),this.videoObjectTracker.resetAll(this.videoTrackedObjects),this.videoLabelManager.resetAll(),this.videoWireframeManager.resetAll(),this.debugVisualizer?.removeAllVisualizationPlanes(this.world)}_handleLabelClick(e){this.world.hitTestManager?.markUIHit();const t=e.object3D;if(!t?.userData)return;const{objectId:s,label:i,isVideoMode:r}=t.userData;!s||!i||(this.logger.log(`Label clicked: ${i} (${s})`),!this.generating3D&&this._generate3DForObject(s,i,r||!1))}async _generate3DForObject(e,t,s=!1){if(!this.generating3D){this.generating3D=!0;try{await this.modelGenerator.generate3DModel(e,t,this.cameraEntity,s?this.videoTrackedObjects:this.trackedObjects)}catch(i){this.logger.error(`3D generation failed for ${t}:`,i)}finally{this.generating3D=!1}}}async startVoiceRecording(){if(!this.voiceRecorder)return!1;if(Oe.getState().minigameActive)return this.logger.log("Voice recording blocked - minigame active"),!1;const e=await this.voiceRecorder.startVoiceRecording();return e&&(this.isRecording=!0,this.recordingStartTime=Date.now(),this.wristUI?.setVoiceRecordingState("recording")),e}async stopVoiceRecordingAndProcess(){if(!this.voiceRecorder?.isRecording)return;this.wristUI?.setVoiceRecordingState("processing"),this.isProcessingVoice=!0;const e=await this.voiceRecorder.stopVoiceRecording();this.isRecording=!1,this.recordedAudioBlob=e,e?.size>0?await this._processRecordedAudio(e):this.wristUI?.setVoiceRecordingState("idle"),this.isProcessingVoice=!1}async _processRecordedAudio(e){try{let t;try{t=(await this.apiClient.transcribeAudio(e)).transcription}catch(i){this.logger.warn("Transcription failed:",i.message);const r=i.message?.includes("400")?"No speech detected":"Transcription failed";this.wristUI?.showTranscription(r,"error");return}this.logger.log(`Transcribed: "${t}"`),this.wristUI?.showTranscription(t,"pending");const s=this.world?.robotSystem;s&&s.onTranscription(),this._interpretTranscription(t)}catch(t){this.logger.error("Error processing audio:",t),this.wristUI?.showTranscription("Error processing audio","error")}}async _interpretTranscription(e){try{const t=Oe.getState(),s=await this.apiClient.interpretText(e,null,t);this._handleInterpretResponse(s)}catch(t){this.logger.warn("Interpretation failed:",t.message),this._checkRobotNameInTranscription(e);const s={transcription:e,intent:"unknown",is_greeting:!1,sentiment:{sentiment:"unknown",score:0,is_rude:!1,tone_description:"Llama unavailable"}};this.wristUI?.showInterpretResult(s);const i=this.world?.robotSystem;i&&i.onInterpretResponse(s)}}_checkRobotNameInTranscription(e){if(!e)return;const t=this.world?.robotSystem;if(!t?.characterManager||!t?.playerInteractionManager)return;const s=e.toLowerCase(),i=["modem","blit","baud"];for(const r of i)if(s.includes(r)){const o=t.characterManager.getByName(r);if(o){this.logger.log(`Robot name "${r}" detected in transcription - summoning robot ${o.entityIndex}`),t.playerInteractionManager.summonRobot(o.entityIndex);break}}}_handleInterpretResponse(e){this.logger.log(`Interpretation: "${e.transcription}" -> ${e.intent} (greeting: ${e.is_greeting})`);const t=e.corrected_transcription||e.transcription;this._checkRobotNameInTranscription(t);const s=Oe.getState();this.logger.log(`Interpret result - interpretMode: ${s.interpretMode}, voiceInputEnabled: ${s.voiceInputEnabled}`),this.wristUI?.showInterpretResult(e,s.interpretMode);const i=this.world?.robotSystem;if(i&&(i.onInterpretResponse(e),this.logger.log("Robot interpret response initiated")),s.voiceInputEnabled)if(s.interpretMode==="reassurance"){const r=e.intent==="reassuring"||e.sentiment?.sentiment==="friendly"&&e.sentiment?.score>.3;this.logger.log(`Setting reassuranceResult: ${r?"positive":"negative"}`),Oe.setState({reassuranceResult:r?"positive":"negative"}),this._triggerBaudReaction(r,e)}else if(s.interpretMode==="modem_stay"){const r=(e.corrected_transcription||e.transcription||"").toLowerCase();this.logger.log(`Modem stay check - transcription: "${r}"`);const o=/\b(yes|yeah|yep|yup|sure|okay|ok|of course|absolutely|definitely|please|stay|welcome|friend|can stay|love to|i'd love|would love|happy to|gladly)\b/i,a=/\b(no|nope|nah|sorry|leave|go away|goodbye|bye|can't stay|cannot stay|have to go|must go|go home)\b/i;let l=null;o.test(r)?l="yes":a.test(r)&&(l="no"),this.logger.log(`Setting modemStayResult: ${l||"non_answer"}`),l?(Oe.setState({modemStayResult:l}),this.world?.robotSystem?._handleModemStayResponse(l==="yes")):Oe.setState({modemStayResult:"non_answer"})}else{const r=e.is_greeting&&e.sentiment?.sentiment!=="negative"&&!e.sentiment?.is_rude;this.logger.log(`Setting greetingResult: ${r?"positive":"negative"}`),Oe.setState({greetingResult:r?"positive":"negative"})}window._lastInterpretResult=e}_triggerBaudReaction(e,t){const s=this.world?.robotSystem;if(!s)return;const i=s.characterManager?.getByName("Baud");if(!i)return;const{entityIndex:r}=i,o=s.audioManager?.getVoice(r),a=s.playerInteractionManager;e?(s.setRobotFaceEmotion(r,"HAPPY"),o?.happy?.(),s.interactionManager?.triggerSoloAnimation(r,"happyBounce"),this.logger.log("Baud is happy - reassurance received!"),a?.clearReassurance(r),Oe.setState({voiceInputEnabled:!1,interpretMode:"greeting"})):(s.setRobotFaceEmotion(r,"SAD"),o?.sad?.(),this.logger.log("Baud is sad - still waiting for reassurance"))}async _processVoiceSegmentation(e){let t=null,s=null;if(!this.cameraEntity){const r=Array.from(this.queries.camera.entities);r.length>0&&(this.cameraEntity=r[0])}if(this.cameraEntity&&this.cameraCapture){let r=this.useTestImage?await this.cameraCapture.loadTestImage():this.cameraCapture.captureFrame(this.cameraEntity);r&&(s=r,t=r.toDataURL("image/jpeg",.95).split(",")[1])}if(!t){this.logger.warn("Camera frame required for voice segmentation");return}const i=await this.apiClient.sendVoiceToAPI(t,e);this._handleApiResponse(i,s)}_handleApiResponse(e,t){let s=e.detected_terms;if(!s&&e.detections?.length>0&&(s=e.detections.map(i=>i.label).filter(Boolean)),e.detections?.length>0){const i=this.cameraCapture?.getHeadTransform(),r=this.cameraCapture?.getCameraIntrinsics?.(this.cameraEntity),o=this.cameraCapture?.getCameraExtrinsics?.(this.cameraEntity);this.processVoiceAPIResponse(e,i,r,o,t)}}async processVoiceAPIResponse(e,t,s,i,r){const o=e.detections||[];if(o.length===0)return;let a=null,l=1280,c=960;if(e.depth_map)try{a=await this.depthProcessor.loadDepthMap(e.depth_map)}catch(d){this.logger.error("Error loading depth map:",d)}if(this.cameraEntity){const u=(await Rd(async()=>{const{CameraSource:h}=await Promise.resolve().then(()=>MG);return{CameraSource:h}},void 0)).CameraSource.data.videoElement?.[this.cameraEntity.index];u&&(l=u.videoWidth||l,c=u.videoHeight||c)}await this.updateTracking(o,a?{depthMap:a,imageWidth:l,imageHeight:c,masks:e.masks}:null,t,s,i,!1),this.objectTracker.decayTrackingConfidence(o,this.trackedObjects),this.objectTracker.cleanupLowConfidenceObjects(this.trackedObjects)}async updateTracking(e,t,s,i,r,o){const a=o?this.videoTrackedObjects:this.trackedObjects,l=new Set;for(const c of e){const d=c.label||"object",u=c.score||.5;let h=null,f=null;if(t?.depthMap){let m=null;t.masks&&c.mask_index!==void 0&&(m=await this.depthProcessor.loadMask(t.masks[c.mask_index])),h=this.depthProcessor.calculateWorldPosition(c,t.depthMap,t.imageWidth,t.imageHeight,s,i,r,m);try{f=await this.depthProcessor.calculateNativeDepthPosition(c,t.imageWidth,t.imageHeight,s,i,r,m)}catch{}}const A=h?.position;if(!A)continue;const p=o?this.videoObjectTracker:this.objectTracker,g=p.matchToTrackedObject(d,A,u,a,l);if(g)p.updateTrackedObject(g,A,h?.depth,u,s,i,c.bbox,a,f?.position,f?.depth,h?.ray,h?.uncertainty||.1),l.add(g);else{const m=p.createTrackedObject(d,A,h?.depth,u,s,i,c.bbox,c.mask_index,o,a,f?.position,f?.depth,h?.ray,h?.uncertainty||.1);l.add(m)}}}destroy(){Oe.off("state:changed",this._boundOnStateChange),this.logger.log("System destroyed")}}class q6 extends Ss({}){init(){this.xrInput=null,this.fingertipColliders=new Map,this.handAdapters={left:null,right:null},this.controllerAdapters={left:null,right:null},this.pinchStates={left:!1,right:!1},this.pinchThreshold=.02,this.debugVisualizers=new Map,this.buttonDebugVisualizers=new Map,this.debugEnabled=!0,this.logger=new wt("XrInputSystem",!0),this.controllerFeaturesEnabled=!1,this.microgesturesSupported={left:!1,right:!1},this.tapStates={left:!1,right:!1},this._setupIntroCompleteListener(),this.world.xrInputSystem=this}_setupIntroCompleteListener(){Oe.on("state:changed",(t,s)=>{t.introPlayed&&!s.introPlayed&&(this.logger.log("Intro complete - enabling controller features"),this.setControllerFeaturesEnabled(!0))}),Oe.getState().introPlayed&&(this.logger.log("Initial state has introPlayed=true - enabling controller features"),this.setControllerFeaturesEnabled(!0))}setControllerFeaturesEnabled(e){this.controllerFeaturesEnabled=e,this._updateControllerVisibility()}_updateControllerVisibility(){if(!this.xrInput)return;const e=this.xrInput.xrOrigin;e&&e.traverse(t=>{(t.name?.includes("controller")||t.name?.includes("ray")||t.name?.includes("pointer")||t.name?.includes("reticle"))&&(t.visible=this.controllerFeaturesEnabled)}),this.logger.log(`Controller features ${this.controllerFeaturesEnabled?"enabled":"disabled"}`)}update(e,t){if(window.systemTiming?.start("HandInput"),this.world.visibilityState.value!==this.world.VisibilityState?.NonImmersive&&!this.xrInput&&this.world.renderer?.xr)try{if(this.xrInput=new eI({scene:this.world.scene,camera:this.world.camera}),this.world.scene.add(this.xrInput.xrOrigin),this.logger.log("XRInputManager initialized"),hs.init(this.world),this.logger.log("HapticManager initialized"),this.logger.log("visualAdapters:",this.xrInput.visualAdapters),this.logger.log("hand adapters available:",{left:!!this.xrInput.visualAdapters?.hand?.left,right:!!this.xrInput.visualAdapters?.hand?.right}),this.xrInput.visualAdapters){const r=this.xrInput.visualAdapters.left,o=this.xrInput.visualAdapters.right;r&&typeof r.subscribe=="function"&&(r.subscribe(a=>{this.logger.log("Left primary adapter changed:",a?.constructor?.name),this._handlePrimaryAdapterChange("left",a)}),r.value&&this._handlePrimaryAdapterChange("left",r.value)),o&&typeof o.subscribe=="function"&&(o.subscribe(a=>{this.logger.log("Right primary adapter changed:",a?.constructor?.name),this._handlePrimaryAdapterChange("right",a)}),o.value&&this._handlePrimaryAdapterChange("right",o.value)),this.xrInput.visualAdapters.hand&&this.logger.log("Hand adapters available (for fingertip tracking)")}else this.logger.warn("visualAdapters not available");this.xrInput.multiPointers.left.toggleSubPointer("grab",!0),this.xrInput.multiPointers.right.toggleSubPointer("grab",!0);const i=this.world.renderer.xr.getSession();if(i&&i.inputSources){this.logger.log(`WebXR session has ${i.inputSources.length} input sources`);for(const r of i.inputSources)this.logger.log(`Input source: handedness=${r.handedness}, targetRayMode=${r.targetRayMode}, hasGamepad=${!!r.gamepad}`),(r.handedness==="left"||r.handedness==="right")&&this.logger.log(`Found ${r.handedness} controller via WebXR inputSources`)}i&&i.addEventListener("inputsourceschange",r=>{this.logger.log(`WebXR inputsourceschange: added=${r.added.length}, removed=${r.removed.length}`);for(const o of r.added)this.logger.log(`Input source added: handedness=${o.handedness}, targetRayMode=${o.targetRayMode}`);for(const o of r.removed)this.logger.log(`Input source removed: handedness=${o.handedness}`)}),this._updateControllerVisibility()}catch(i){this.logger.error("Could not initialize XRInputManager:",i),this.logger.error("Error stack:",i.stack)}if(this.xrInput&&this.world.renderer?.xr&&(this.xrInput.update(this.world.renderer.xr,e,t),this.xrInput.visualAdapters?.hand))for(const i of["left","right"]){const r=this.xrInput.visualAdapters.hand[i];if(r){const o=r.value!==void 0?r.value:r;if(o&&o.jointSpaces){const a=o.jointSpaces;let l=!1;a instanceof Map?l=a.size>0:Array.isArray(a)?l=a.length>0:l=Object.keys(a).length>0,l&&this._pendingHandAdapters?.[i]&&(console.debug(`[XrInputSystem] Joints now available for ${i} hand after XR update`),delete this._pendingHandAdapters[i],this.handAdapters[i]=o,this.createFingertipColliders(i))}}}if(this.xrInput?.visualAdapters){const i=this.xrInput.visualAdapters.left,r=this.xrInput.visualAdapters.right;if(i?.value!==void 0){const o=i.value,a=o?.jointSpaces!==void 0,l=this.handAdapters.left!==null,c=this.controllerAdapters.left!==null;a&&!l?this._handlePrimaryAdapterChange("left",o):!a&&o&&!c?this._handlePrimaryAdapterChange("left",o):!o&&(l||c)&&this._handlePrimaryAdapterChange("left",null)}if(r?.value!==void 0){const o=r.value,a=o?.jointSpaces!==void 0,l=this.handAdapters.right!==null,c=this.controllerAdapters.right!==null;a&&!l?this._handlePrimaryAdapterChange("right",o):!a&&o&&!c?this._handlePrimaryAdapterChange("right",o):!o&&(l||c)&&this._handlePrimaryAdapterChange("right",null)}}if(this._pendingHandAdapters)for(const[i,r]of Object.entries(this._pendingHandAdapters)){const o=r?.jointSpaces;o&&(Array.isArray(o)?o.length>0:Object.keys(o).length>0)&&(console.debug(`[XrInputSystem] Retrying collider creation for ${i} hand - joints now available`),delete this._pendingHandAdapters[i],this.createFingertipColliders(i))}if(this.updateFingertipColliders(e,t),this.updatePinchDetection(),this.world.hitTestManager){const i=this.world.renderer?.xr?.getFrame?.();i&&this.world.hitTestManager.update(i,e),this.xrInput&&this.world.hitTestManager.setXRInput(this.xrInput)}window.systemTiming?.end("HandInput")}_handlePrimaryAdapterChange(e,t){const s=t&&(t.jointSpaces!==void 0||t.indexTip!==void 0),i=t&&!s;this.logger.log(`Primary adapter (${e}): ${s?"HAND":i?"CONTROLLER":"NONE"}`),s?(this.handleHandAdapterChange(e,t),this.handleControllerAdapterChange(e,null)):i?(this.handleControllerAdapterChange(e,t),this.handleHandAdapterChange(e,null)):(this.handleHandAdapterChange(e,null),this.handleControllerAdapterChange(e,null))}handleHandAdapterChange(e,t){const s=this.handAdapters[e]!==null,i=t!=null;this.handAdapters[e]=t,i&&!s?(this.logger.log(`${e} hand appeared`),this.createFingertipColliders(e),this.notifyInputChange()):!i&&s&&(this.logger.log(`${e} hand disappeared`),this.destroyFingertipColliders(e),this.notifyInputChange())}handleControllerAdapterChange(e,t){const s=this.controllerAdapters[e]!==null,i=t!==null;this.controllerAdapters[e]=t,(i&&!s||!i&&s)&&(this.logger.log(`${e} controller ${i?"appeared":"disappeared"}`),this.notifyInputChange())}notifyInputChange(){const e=this.hasHands(),t=this.hasControllers(),s=e?"hands":"controllers",i=Oe.getState();i.inputMode!==s&&(this.logger.log(`Input mode changed: ${i.inputMode} -> ${s}`),Oe.setState({inputMode:s}));const r=this.world.aiManager;r&&r.inputHandler&&r.inputHandler.handleInputSourceChange&&r.inputHandler.handleInputSourceChange(e,t)}hasHands(){return this.handAdapters.left!==null||this.handAdapters.right!==null}hasControllers(){return this.controllerAdapters.left!==null||this.controllerAdapters.right!==null}createFingertipColliders(e){}createColliderForJoint(e,t,s,i){const r=`${e}_${t}`,o=this.handAdapters[e];if(!o){this.logger.warn(`Cannot create collider: ${e} hand adapter missing`);return}const a=o.visual;if(!a||!a.model){this.logger.warn(`Hand visual or model not available yet for ${e} hand`),this._pendingHandAdapters=this._pendingHandAdapters||{},this._pendingHandAdapters[e]=o;return}const l=a.model;let c=null;const d=[s,s.replace(/-/g,"_"),s.replace(/-/g,""),`hand-${e}-${s}`,`${e}-${s}`];for(const g of d)if(c=l.getObjectByName(g),c)break;if(c||l.traverse(g=>{if(g.isBone||g.isObject3D){const m=g.name?.toLowerCase()||"",y=s.toLowerCase();(m.includes(y)||y.includes(m))&&(m===y||m.includes("tip")&&y.includes("tip"))&&(c=g)}}),!c){this._jointNotFoundLogged?.[`${e}_${s}`]||(this.logger.warn(`Could not find joint ${s} in hand model for ${e} hand`),this._jointNotFoundLogged=this._jointNotFoundLogged||{},this._jointNotFoundLogged[`${e}_${s}`]=!0);return}const u=.015,h=new Un(u,8,8),f=new Nt({color:65280,transparent:!0,opacity:.3}),A=new it(h,f);A.name=`fingertip-${e}-${t}`,A.visible=!0,A.matrixAutoUpdate=!0;const p=this.world.createTransformEntity(A);p.addComponent(Ga),p.addComponent(xs,{shape:Nn.Sphere,dimensions:[u,0,0]}),p.addComponent(ln,{state:Fa.Kinematic}),c.add(A),this.fingertipColliders.set(r,{entity:p,colliderMesh:A,joint:c,jointName:s,side:e,fingerType:t}),console.debug(`[XrInputSystem] Created ${e} ${t} fingertip collider at joint ${s}`)}createTipDebugVisualizers(e,t){if(!t||!t.jointSpaces)return;const s=t.visual;if(!s||!s.model)return;const i=s.model,r=["index-finger-tip","thumb-tip"];for(const o of r){let a=null;const l=[o,o.replace(/-/g,"_"),o.replace(/-/g,""),`hand-${e}-${o}`,`${e}-${o}`];for(const c of l)if(a=i.getObjectByName(c),a)break;if(a||i.traverse(c=>{if(c.isBone||c.isObject3D){const d=c.name?.toLowerCase()||"",u=o.toLowerCase();d.includes(u)&&u.includes("tip")&&(a=c)}}),a&&a.isObject3D){const c=o.includes("thumb")?16711935:65280,d=new Un(.015,8,8),u=new Nt({color:c,transparent:!0,opacity:.8}),h=new it(d,u);h.name=`debug-${e}-${o}`,a.add(h);const f=`${e}_${o}`;this.debugVisualizers.set(f,{mesh:h,joint:a,side:e,fingerType:o.includes("thumb")?"thumb":"index"}),console.debug(`[XrInputSystem] Created debug visualizer for ${e} ${o}`)}}}createAllJointDebugVisualizers(e,t){if(!t||!t.jointSpaces){this.logger.warn("Cannot create debug visualizers: adapter or jointSpaces missing");return}this.logger.log(`Creating debug visualizers for ${e} hand`);const s=t.jointSpaces;this.logger.log("Available joints:",Object.keys(s));const i={wrist:0,"thumb-metacarpal":1,"thumb-phalanx-proximal":2,"thumb-phalanx-distal":3,"thumb-tip":4,"index-finger-metacarpal":5,"index-finger-phalanx-proximal":6,"index-finger-phalanx-intermediate":7,"index-finger-phalanx-distal":8,"index-finger-tip":9,"middle-finger-metacarpal":10,"middle-finger-phalanx-proximal":11,"middle-finger-phalanx-intermediate":12,"middle-finger-phalanx-distal":13,"middle-finger-tip":14,"ring-finger-metacarpal":15,"ring-finger-phalanx-proximal":16,"ring-finger-phalanx-intermediate":17,"ring-finger-phalanx-distal":18,"ring-finger-tip":19,"pinky-finger-metacarpal":20,"pinky-finger-phalanx-proximal":21,"pinky-finger-phalanx-intermediate":22,"pinky-finger-phalanx-distal":23,"pinky-finger-tip":24};let r=[];s instanceof Map?r=Array.from(s.keys()):Array.isArray(s)?r=Object.keys(i):r=Object.keys(s),this.logger.log(`Creating visualizers for ${r.length} joints`);let o=0;for(const a of r){if(s instanceof Map)s.get(a);else if(Array.isArray(s)){const f=i[a];f!==void 0&&s[f]?s[f]:s.find(A=>(A?.name||A?.jointName)===a)}else s[a];const d=this.handAdapters[e]?.visual?.model;if(!d)continue;let u=null;const h=[a,a.replace(/-/g,"_"),a.replace(/-/g,""),`hand-${e}-${a}`,`${e}-${a}`];for(const f of h)if(u=d.getObjectByName(f),u)break;if(u||d.traverse(f=>{if(f.isBone||f.isObject3D){const A=f.name?.toLowerCase()||"",p=a.toLowerCase();(A.includes(p)||p.includes(A))&&(A===p||A.includes("tip")&&p.includes("tip"))&&(u=f)}}),u&&u.isObject3D){o++,this.logger.log(`Found joint bone: ${a} -> ${u.name}`);let f="other",A=8947848;a.includes("thumb")?(f="thumb",A=16711935):a.includes("index")?(f="index",A=65280):a.includes("middle")?(f="middle",A=255):a.includes("ring")?(f="ring",A=16776960):a.includes("pinky")?(f="pinky",A=16746496):a==="wrist"&&(f="wrist",A=16777215);const p=a.includes("tip"),g=p?.015:.008,m=new Un(g,8,8),y=new Nt({color:A,transparent:!0,opacity:p?.8:.5}),_=new it(m,y);_.name=`debug-${e}-${a}`,u.add(_);const I=`${e}_${a}`;this.debugVisualizers.set(I,{mesh:_,joint:u,side:e,fingerType:f})}else this.logger.log(`Joint space not valid Object3D: ${a}`)}this.logger.log(`Created debug visualizers for ${e} hand: ${o}/${r.length} joints found`)}createJointDebugVisualizer(e,t,s,i){}findJointInModel(e,t){let s=e.getObjectByName(t);if(s)return s;const i=[t,t.replace(/-/g,"_"),t.replace(/-/g,""),t.toLowerCase(),t.toUpperCase()];for(const r of i)if(s=e.getObjectByName(r),s)return s;return e.traverse(r=>{if(r.name){const o=r.name.toLowerCase(),a=t.toLowerCase();(o.includes(a)||a.includes(o))&&(o===a||o.includes("tip")&&a.includes("tip"))&&(s=r)}}),s}destroyFingertipColliders(e){const t=[];for(const[i,r]of this.fingertipColliders.entries())r.side===e&&(r.joint&&r.colliderMesh&&r.joint.remove(r.colliderMesh),r.entity&&typeof this.world.removeEntity=="function"&&this.world.removeEntity(r.entity),r.colliderMesh&&(r.colliderMesh.geometry&&r.colliderMesh.geometry.dispose(),r.colliderMesh.material&&r.colliderMesh.material.dispose()),t.push(i));for(const i of t)this.fingertipColliders.delete(i);const s=[];for(const[i,r]of this.debugVisualizers.entries())r.side===e&&(r.joint&&r.mesh&&r.joint.remove(r.mesh),r.mesh&&(r.mesh.geometry&&r.mesh.geometry.dispose(),r.mesh.material&&r.mesh.material.dispose()),s.push(i));for(const i of s)this.debugVisualizers.delete(i);this.logger.log(`Destroyed ${e} hand fingertip colliders and debug visualizers`)}updateFingertipColliders(e,t){}updatePinchDetection(){if(!this.xrInput)return;if(!this._lastGamepadLog||Date.now()-this._lastGamepadLog>5e3){this._lastGamepadLog=Date.now();const t=Oe.getState();this.logger.log(`Gamepad check - inputMode: ${t.inputMode}, left: ${!!this.xrInput.gamepads?.left}, right: ${!!this.xrInput.gamepads?.right}, microgestures: L=${this.microgesturesSupported.left} R=${this.microgesturesSupported.right}`)}let e={left:!1,right:!1};try{e=this._updateMicrogestureDetection()}catch(t){this.logger.warn("Microgesture detection error:",t)}}_updateMicrogestureDetection(){const e={left:!1,right:!1},t=this.world.renderer?.xr?.getSession?.();if(!t?.inputSources)return e;if(!this._inputSourcesLogged){this._inputSourcesLogged=!0,this.logger.log(`Raw WebXR inputSources: ${t.inputSources.length}`);for(const s of t.inputSources)this.logger.log(`  - ${s.handedness}: hand=${!!s.hand}, gamepad=${!!s.gamepad}, targetRayMode=${s.targetRayMode}`),s.gamepad&&this.logger.log(`    gamepad buttons: ${s.gamepad.buttons?.length||0}`)}for(const s of t.inputSources){const i=!!s.gamepad;if(s.hand||s.targetRayMode,!i)continue;const r=s.handedness;if(r!=="left"&&r!=="right")continue;const a=s.gamepad.buttons;if(this._checkMicrogestureSupport(r,a),!this.microgesturesSupported[r])continue;const l=this._getTapButtonIndex(a);if(l===-1)continue;const c=a[l],d=c?.value||0,u=c?.pressed||d>.5,h=this.tapStates[r],f=l===9?"tap-thumb":"pinch";this._lastGestureEnd||(this._lastGestureEnd={});const p=Date.now()-(this._lastGestureEnd[r]||0)>200;u&&!h&&p?(this.logger.log(`${f} START (${r}) btn[${l}]=${d.toFixed(2)}`),this.tapStates[r]=!0,this._handleSelectStart(r),e[r]=!0):!u&&h?(this.logger.log(`${f} END (${r})`),this.tapStates[r]=!1,this._lastGestureEnd[r]=Date.now(),this._handleSelectEnd(r),e[r]=!0):this.microgesturesSupported[r]&&(e[r]=!0)}return e}_checkMicrogestureSupport(e,t){const s=this.microgesturesSupported[e];t.length>=10?(this.microgesturesSupported[e]=!0,s||this.logger.log(`Tap-thumb SUPPORTED on ${e} hand (${t.length} buttons, using button 9)`)):(this.microgesturesSupported[e]=!1,s&&this.logger.log(`Tap-thumb NO LONGER supported on ${e} hand (only ${t.length} buttons)`))}_getTapButtonIndex(e){return e.length>=10?9:-1}_handleSelectStart(e){const t=Oe.getState();if(t.inputMode!=="hands")return;if(this.world.spatialUIManager?.handleButtonPress("a")){hs.pulse(e,.6,40),fs.press(),this.logger.log(`Pinch (${e}) answered call`);return}if(this.world.robotSystem?.roomSetupManager?.handleButtonPress("a")){hs.pulse(e,.6,40),fs.press(),this.logger.log(`Pinch (${e}) handled by room setup`);return}if(!t.voiceInputEnabled)return;hs.pulse(e,.6,40),fs.press();const i=this.world.aiManager;i?._handleRecordButtonDown&&(this.logger.log(`Pinch (${e}) starting voice recording`),i._handleRecordButtonDown())}_handleSelectEnd(e){const t=Oe.getState();if(t.inputMode!=="hands"||!t.voiceInputEnabled)return;hs.pulse(e,.3,20),fs.release();const s=this.world.aiManager;s?._handleRecordButtonUp&&(this.logger.log(`Pinch (${e}) ending voice recording`),s._handleRecordButtonUp())}getPinchState(e){return this.pinchStates[e]||!1}getFingertipColliders(){return this.fingertipColliders}visualizeButtonColliders(e,t){if(!e||!t||!this.debugEnabled)return;const s=["toggle-debug-btn","record-btn"],i=e.object3D;if(!i){this.logger.log("Panel has no object3D for button visualization");return}const r=[];i.traverse(o=>{o.isMesh&&r.push({name:o.name,id:o.userData?.id,type:o.type,parent:o.parent?.name})}),this.logger.log(`Found ${r.length} meshes in panel:`,r);for(const o of s){if(this.buttonDebugVisualizers.has(o))continue;if(!t.getElementById(o)){this.logger.log(`Button ${o} not found in document`);continue}let l=null;const c=o.toLowerCase();if(i.traverse(d=>{if(d.isMesh&&!l){const u=(d.name||"").toLowerCase(),h=(d.userData?.id||"").toLowerCase(),f=(d.userData?.elementId||"").toLowerCase();(u.includes(c)||h.includes(c)||f.includes(c)||u.includes("button")&&d.parent?.name?.includes(c))&&(l=d,this.logger.log(`Found button mesh for ${o}:`,{name:d.name,id:d.userData?.id,type:d.type}))}}),l){l.updateMatrixWorld(!0);const d=new Jt().setFromObject(l),u=d.getSize(new w),h=d.getCenter(new w),f=new ei(u.x,u.y,u.z),A=new A_(f),p=new eu(A,new To({color:65535,linewidth:2}));p.position.copy(h),p.rotation.copy(l.rotation),p.scale.multiplyScalar(1.02),this.world.scene.add(p),p.userData.followTarget=l,p.userData.followOffset=new w().subVectors(h,l.getWorldPosition(new w)),l&&!l.userData.pointerHandlersAdded&&(l.onClick=()=>{this.logger.log(`Button mesh clicked: ${o}`),hs.pulseBoth(.7,50),fs.confirm();const I=t.getElementById(o);I&&(typeof I.click=="function"?I.click():I.dispatchEvent&&I.dispatchEvent(new Event("click",{bubbles:!0})))},l.onPointerEnter=()=>{this.logger.log(`Button mesh pointer enter: ${o}`),hs.pulseBoth(.2,15),fs.hover()},l.onPointerLeave=()=>{this.logger.log(`Button mesh pointer leave: ${o}`)},l.userData.pointerHandlersAdded=!0,this.logger.log(`Added pointer event handlers to button mesh ${o}`));const g=new ei(u.x,u.y,Math.max(u.z,.01)),m=new Nt({color:16711935,transparent:!0,opacity:.3}),y=new it(g,m);y.name=`button-collider-visual-${o}`,y.visible=!0,y.matrixAutoUpdate=!0,this.world.scene.add(y),y.userData.followTarget=l;const _=this.world.createTransformEntity(y);_.addComponent(Ga),_.addComponent(xs,{shape:Nn.Box,dimensions:[u.x,u.y,Math.max(u.z,.01)]}),_.addComponent(ln,{state:Fa.Static}),this.logger.log(`Created separate collider entity for button ${o}`),this.buttonDebugVisualizers.set(o,{wireframe:p,mesh:l,colliderMesh:y,colliderEntity:_}),this.logger.log(`Created physics collider and debug visualizer for button ${o}`,{size:u,center:h})}else this.logger.log(`Could not find 3D mesh for button ${o}`)}}updateButtonColliderPositions(e,t){for(const[s,i]of this.buttonDebugVisualizers.entries()){if(i.wireframe&&i.wireframe.userData.followTarget){const r=i.wireframe.userData.followTarget;r.updateMatrixWorld(!0);const o=new w;r.getWorldPosition(o),i.wireframe.position.copy(o),i.wireframe.rotation.copy(r.getWorldQuaternion(new Ge).toEuler(new gs))}if(i.colliderMesh&&i.colliderMesh.userData.followTarget){const r=i.colliderMesh.userData.followTarget;r.updateMatrixWorld(!0);const o=new w;r.getWorldPosition(o),i.colliderMesh.position.copy(o),i.colliderMesh.rotation.copy(r.getWorldQuaternion(new Ge).toEuler(new gs))}}}updateButtonColliderVisualizers(){const e=this.world.aiManager;e&&e.voicePanelEntity&&e.voicePanelDocument&&this.visualizeButtonColliders(e.voicePanelEntity,e.voicePanelDocument)}getControllerRay(e){if(!this.xrInput)return null;const t=new w,s=new w(0,0,-1);let i=null;const r=this.xrInput.xrOrigin?.raySpaces?.[e];if(r){r.getWorldPosition(t);const h=new Ge;return r.getWorldQuaternion(h),s.applyQuaternion(h),i=`raySpaces.${e}`,{position:t,direction:s,source:i}}const o=this.controllerAdapters?.[e];if(o){if(o.ray){o.ray.getWorldPosition(t);const h=new Ge;return o.ray.getWorldQuaternion(h),s.applyQuaternion(h),i=`controllerAdapter.${e}.ray`,{position:t,direction:s,source:i}}if(o.grip){o.grip.getWorldPosition(t);const h=new Ge;return o.grip.getWorldQuaternion(h),s.applyQuaternion(h),i=`controllerAdapter.${e}.grip`,{position:t,direction:s,source:i}}}const a=this.xrInput.gamepads?.[e]?.grip;if(a){a.getWorldPosition(t);const h=new Ge;return a.getWorldQuaternion(h),s.applyQuaternion(h),i=`gamepads.${e}.grip`,{position:t,direction:s,source:i}}const l=this.xrInput.gamepads?.[e]?.object3D;if(l){l.getWorldPosition(t);const h=new Ge;return l.getWorldQuaternion(h),s.applyQuaternion(h),i=`gamepads.${e}.object3D`,{position:t,direction:s,source:i}}const c=this.world.renderer?.xr?.getSession?.(),d=this.world.renderer?.xr?.getReferenceSpace?.(),u=this.world.renderer?.xr?.getFrame?.();if(c?.inputSources&&d&&u){for(const h of c.inputSources)if(h.handedness===e&&h.targetRayMode==="tracked-pointer"&&h.targetRaySpace)try{const f=u.getPose(h.targetRaySpace,d);if(f){t.set(f.transform.position.x,f.transform.position.y,f.transform.position.z);const A=f.transform.orientation;return s.set(0,0,-1),s.applyQuaternion(new Ge(A.x,A.y,A.z,A.w)),i=`session.${e}`,{position:t,direction:s,source:i}}}catch{}}return null}getPreferredControllerRay(){const e=Oe.getState().handedness||"right",t=e==="right"?"left":"right";let s=this.getControllerRay(e);return s?{...s,hand:e}:(s=this.getControllerRay(t),s?{...s,hand:t}:null)}getInputAvailability(){const e=this.xrInput;return{xrInput:!!e,xrOrigin:!!e?.xrOrigin,raySpaces:{left:!!e?.xrOrigin?.raySpaces?.left,right:!!e?.xrOrigin?.raySpaces?.right},controllerAdapters:{left:!!this.controllerAdapters?.left,right:!!this.controllerAdapters?.right,leftRay:!!this.controllerAdapters?.left?.ray,rightRay:!!this.controllerAdapters?.right?.ray},gamepads:{left:{grip:!!e?.gamepads?.left?.grip,object3D:!!e?.gamepads?.left?.object3D},right:{grip:!!e?.gamepads?.right?.grip,object3D:!!e?.gamepads?.right?.object3D}},fingertipColliders:this.fingertipColliders.size}}}const by=Es("Robot",{}),Y0={STANDARD:"standard",MODEM:"modem"},$p={MODEM:{id:"modem",name:"Modem",modelUrl:"./gltf/modem.glb",voiceType:Y0.MODEM,pitchOffset:0,personality:{curiosity:.9,friendliness:.7,energy:.6,chattiness:.8,patience:.5},behavior:{scanFrequency:1.2,wanderRadius:1,groupAffinity:.6,playerAttention:.8},physics:{maxSpeed:.7,maxAcceleration:8,agentRadius:.1,turnSpeedMultiplier:1,jumpDurationMultiplier:1.2},appearance:{primaryColor:13395456,accentColor:14712896,glowIntensity:1,nameTagHeight:.4,thrusterSize:.6,thrusterYOffset:.1,thrusterMaxScale:1,heightOffset:.075,shadowSize:.35},animationScale:1},BLIT:{id:"blit",name:"Blit",modelUrl:"./gltf/blit.glb",voiceType:Y0.STANDARD,pitchOffset:12,personality:{curiosity:.5,friendliness:.8,energy:.4,chattiness:.5,patience:.9},behavior:{scanFrequency:.7,wanderRadius:.8,groupAffinity:.8,playerAttention:.6},physics:{maxSpeed:1,maxAcceleration:10,agentRadius:.1,turnSpeedMultiplier:.5,jumpDurationMultiplier:1},appearance:{primaryColor:8930559,accentColor:11167487,glowIntensity:.8,nameTagHeight:.58,thrusterSize:.45,thrusterYOffset:0,thrusterMaxScale:1,heightOffset:.075,shadowSize:.25},animationScale:.25},BAUD:{id:"baud",name:"Baud",modelUrl:"./gltf/baud.glb",voiceType:Y0.STANDARD,pitchOffset:-12,personality:{curiosity:.7,friendliness:.9,energy:.9,chattiness:.9,patience:.3},behavior:{scanFrequency:1,wanderRadius:1.3,groupAffinity:.4,playerAttention:.9},physics:{maxSpeed:.9,maxAcceleration:6,agentRadius:.18,turnSpeedMultiplier:.6,jumpDurationMultiplier:1.4},appearance:{primaryColor:2142890,accentColor:4247760,glowIntensity:1.2,nameTagHeight:.63,thrusterSize:1.1,thrusterYOffset:.1,thrusterMaxScale:1,heightOffset:.075,shadowSize:.45},animationScale:1}};function wy(n){const e=Object.values($p);return e[n%e.length]}function eg(n){return Object.values($p).find(e=>e.id===n)||$p.MODEM}class tg{constructor(){this.isActive=!1,this.panner=Fg(),this.panner.connect(De.destination),this.position={x:0,y:0,z:0},this.rumbleOsc=null,this.rumbleLfo=null,this.rumbleGain=null,this.harmonicOscs=[],this.harmonicGains=[],this.harmonicLfos=[],this.sparkleNoise=null,this.sparkleFilter=null,this.sparkleGain=null,this.sparkleLfo=null,this.whooshNoise=null,this.whooshFilter=null,this.whooshGain=null,this.delayNode=null,this.delayGain=null,this.masterGain=null,this.currentPhase=null,this.lastRobotSpawned=-1,this.warpShotInterval=null,this.lastProgress=0}setPosition(e,t,s){this.position={x:e,y:t,z:s},this.panner.positionX?(this.panner.positionX.setValueAtTime(e,De.currentTime),this.panner.positionY.setValueAtTime(t,De.currentTime),this.panner.positionZ.setValueAtTime(s,De.currentTime)):this.panner.setPosition(e,t,s)}_createNoiseBuffer(e=2,t="white"){const s=De.sampleRate,i=s*e,r=De.createBuffer(1,i,s),o=r.getChannelData(0);if(t==="white")for(let a=0;a<i;a++)o[a]=Math.random()*2-1;else if(t==="pink"){let a=0,l=0,c=0,d=0,u=0,h=0,f=0;for(let A=0;A<i;A++){const p=Math.random()*2-1;a=.99886*a+p*.0555179,l=.99332*l+p*.0750759,c=.969*c+p*.153852,d=.8665*d+p*.3104856,u=.55*u+p*.5329522,h=-.7616*h-p*.016898,o[A]=(a+l+c+d+u+h+f+p*.5362)*.11,f=p*.115926}}return r}playPlacement(){if(Ea())return;const e=De.currentTime,t=.05*_n(),s=De.createOscillator();s.type="sine",s.frequency.setValueAtTime(400,e),s.frequency.exponentialRampToValueAtTime(200,e+.2);const i=De.createGain();i.gain.setValueAtTime(0,e),i.gain.linearRampToValueAtTime(t,e+.02),i.gain.setValueAtTime(t,e+.1),i.gain.linearRampToValueAtTime(0,e+.2),s.connect(i),i.connect(this.panner),s.start(e),s.stop(e+.25)}startEntrance(){if(this.isActive||Ea())return;this.isActive=!0,this.currentPhase="opening",this.lastRobotSpawned=-1;const e=De.currentTime,t=_n();this.masterGain=De.createGain(),this.masterGain.gain.setValueAtTime(0,e),this.masterGain.connect(this.panner),this.delayNode=De.createDelay(1),this.delayNode.delayTime.setValueAtTime(.15,e),this.delayGain=De.createGain(),this.delayGain.gain.setValueAtTime(.3,e),this.delayNode.connect(this.delayGain),this.delayGain.connect(this.masterGain),this._createRumbleLayer(e,t),this._createHarmonicLayer(e,t),this._createSparkleLayer(e,t),this._createWhooshLayer(e,t),this.masterGain.gain.linearRampToValueAtTime(1,e+.1)}_createRumbleLayer(e,t){this.rumbleOsc=De.createOscillator(),this.rumbleOsc.type="sine",this.rumbleOsc.frequency.setValueAtTime(45,e),this.rumbleLfo=De.createOscillator(),this.rumbleLfo.type="sine",this.rumbleLfo.frequency.setValueAtTime(2,e);const s=De.createGain();s.gain.setValueAtTime(8,e),this.rumbleGain=De.createGain(),this.rumbleGain.gain.setValueAtTime(0,e),this.rumbleLfo.connect(s),s.connect(this.rumbleOsc.frequency),this.rumbleOsc.connect(this.rumbleGain),this.rumbleGain.connect(this.masterGain),this.rumbleGain.connect(this.delayNode),this.rumbleOsc.start(e),this.rumbleLfo.start(e),this.rumbleGain.gain.linearRampToValueAtTime(.15*t,e+.5)}_createHarmonicLayer(e,t){[80,160,240,320].forEach((s,i)=>{const r=De.createOscillator();r.type="sine",r.frequency.setValueAtTime(s,e);const o=De.createOscillator();o.type="sine",o.frequency.setValueAtTime(.5+i*.3,e);const a=De.createGain();a.gain.setValueAtTime(s*.08,e),o.connect(a),a.connect(r.frequency),o.start(e);const l=De.createGain(),c=(.05-i*.01)*t;l.gain.setValueAtTime(0,e),r.connect(l),l.connect(this.masterGain),l.connect(this.delayNode),r.start(e),this.harmonicOscs.push(r),this.harmonicGains.push({gain:l,baseVol:c,baseFreq:s,lfoGain:a}),this.harmonicLfos.push(o)})}_createSparkleLayer(e){const t=this._createNoiseBuffer(2,"white");this.sparkleNoise=De.createBufferSource(),this.sparkleNoise.buffer=t,this.sparkleNoise.loop=!0,this.sparkleFilter=De.createBiquadFilter(),this.sparkleFilter.type="bandpass",this.sparkleFilter.frequency.setValueAtTime(2e3,e),this.sparkleFilter.Q.setValueAtTime(8,e),this.sparkleLfo=De.createOscillator(),this.sparkleLfo.type="sine",this.sparkleLfo.frequency.setValueAtTime(4,e);const s=De.createGain();s.gain.setValueAtTime(1e3,e),this.sparkleGain=De.createGain(),this.sparkleGain.gain.setValueAtTime(0,e),this.sparkleLfo.connect(s),s.connect(this.sparkleFilter.frequency),this.sparkleNoise.connect(this.sparkleFilter),this.sparkleFilter.connect(this.sparkleGain),this.sparkleGain.connect(this.masterGain),this.sparkleNoise.start(e),this.sparkleLfo.start(e)}_createWhooshLayer(e){const t=this._createNoiseBuffer(2,"pink");this.whooshNoise=De.createBufferSource(),this.whooshNoise.buffer=t,this.whooshNoise.loop=!0,this.whooshFilter=De.createBiquadFilter(),this.whooshFilter.type="lowpass",this.whooshFilter.frequency.setValueAtTime(400,e),this.whooshFilter.Q.setValueAtTime(2,e),this.whooshGain=De.createGain(),this.whooshGain.gain.setValueAtTime(0,e),this.whooshNoise.connect(this.whooshFilter),this.whooshFilter.connect(this.whooshGain),this.whooshGain.connect(this.masterGain),this.whooshNoise.start(e)}_playWarpShot(){if(!this.isActive||Ea())return;const e=De.currentTime,t=.08*_n(),s=800+Math.random()*600,i=De.createOscillator();i.type="sawtooth",i.frequency.setValueAtTime(s,e),i.frequency.exponentialRampToValueAtTime(80,e+.12);const r=De.createBiquadFilter();r.type="lowpass",r.frequency.setValueAtTime(3e3,e),r.frequency.exponentialRampToValueAtTime(200,e+.1),r.Q.setValueAtTime(5,e);const o=De.createGain();o.gain.setValueAtTime(t,e),o.gain.exponentialRampToValueAtTime(.001,e+.15),i.connect(r),r.connect(o),o.connect(this.masterGain),i.start(e),i.stop(e+.2)}_startWarpShots(){if(this.warpShotInterval)return;const e=()=>{if(!this.isActive||this.currentPhase!=="opening"){this._stopWarpShots();return}this._playWarpShot();const t=60+Math.random()*80;this.warpShotInterval=setTimeout(e,t)};e()}_stopWarpShots(){this.warpShotInterval&&(clearTimeout(this.warpShotInterval),this.warpShotInterval=null)}playRobotEmergence(e){if(!this.isActive||Ea())return;const t=De.currentTime,s=.12*_n(),i=300+e*50,r=De.createOscillator();r.type="triangle",r.frequency.setValueAtTime(i,t),r.frequency.exponentialRampToValueAtTime(i*2,t+.15);const o=De.createOscillator();o.type="sine",o.frequency.setValueAtTime(i*1.5,t),o.frequency.exponentialRampToValueAtTime(i*3,t+.15);const a=De.createGain();a.gain.setValueAtTime(0,t),a.gain.linearRampToValueAtTime(s,t+.02),a.gain.linearRampToValueAtTime(0,t+.2);const l=De.createGain();l.gain.setValueAtTime(0,t),l.gain.linearRampToValueAtTime(s*.5,t+.02),l.gain.linearRampToValueAtTime(0,t+.2),r.connect(a),o.connect(l),a.connect(this.masterGain),l.connect(this.masterGain),r.start(t),r.stop(t+.25),o.start(t),o.stop(t+.25)}updateEntrance(e,t,s=0){if(!this.isActive)return;const i=De.currentTime,r=_n();e!==this.currentPhase&&(this.currentPhase=e),s>this.lastRobotSpawned&&s>0&&(this.playRobotEmergence(s-1),this.lastRobotSpawned=s),e==="opening"?this._updateOpening(t,r,i):e==="holding"?this._updateHolding(r,i):e==="spawning"?this._updateSpawning(r,i):e==="closing"&&this._updateClosing(t,r,i)}_updateOpening(e,t,s){e>.05&&this.lastProgress<=.05&&this._startWarpShots(),this.lastProgress=e,this.rumbleGain&&this.rumbleGain.gain.setTargetAtTime((.15+e*.1)*t,s,.1),this.rumbleOsc&&this.rumbleOsc.frequency.setTargetAtTime(45+e*15,s,.1),this.harmonicGains.forEach(({gain:i,baseVol:r,baseFreq:o,lfoGain:a},l)=>{i.gain.setTargetAtTime(r*e,s,.05),this.harmonicOscs[l]&&this.harmonicOscs[l].frequency.setTargetAtTime(o*(1+e*.3),s,.1),a&&a.gain.setTargetAtTime(o*(.08+e*.12),s,.1)}),this.sparkleGain&&this.sparkleGain.gain.setTargetAtTime(.06*e*t,s,.05),this.sparkleFilter&&this.sparkleFilter.frequency.setTargetAtTime(2e3+e*4e3,s,.1),this.whooshGain&&this.whooshGain.gain.setTargetAtTime(.12*Math.sin(e*Math.PI)*t,s,.05),this.whooshFilter&&this.whooshFilter.frequency.setTargetAtTime(400+e*800,s,.1)}_updateHolding(e,t){this._stopWarpShots(),this.rumbleGain&&this.rumbleGain.gain.setTargetAtTime(.2*e,t,.1),this.harmonicGains.forEach(({gain:s,baseVol:i})=>s.gain.setTargetAtTime(i*.7,t,.05)),this.sparkleGain&&this.sparkleGain.gain.setTargetAtTime(.06*e,t,.05),this.whooshGain&&this.whooshGain.gain.setTargetAtTime(.04*e,t,.05)}_updateSpawning(e,t){this._stopWarpShots(),this.rumbleGain&&this.rumbleGain.gain.setTargetAtTime(.15*e,t,.1),this.harmonicGains.forEach(({gain:s,baseVol:i})=>s.gain.setTargetAtTime(i*.5,t,.05)),this.sparkleGain&&this.sparkleGain.gain.setTargetAtTime((.04+Math.sin(t*8)*.015)*e,t,.02),this.whooshGain&&this.whooshGain.gain.setTargetAtTime(.025*e,t,.05)}_updateClosing(e,t,s){this._stopWarpShots();const i=1-e;this.rumbleGain&&this.rumbleGain.gain.setTargetAtTime(.15*i*t,s,.05),this.rumbleOsc&&this.rumbleOsc.frequency.setTargetAtTime(60-e*20,s,.1),this.harmonicGains.forEach(({gain:r,baseVol:o,baseFreq:a,lfoGain:l},c)=>{r.gain.setTargetAtTime(o*i*.5,s,.05),this.harmonicOscs[c]&&this.harmonicOscs[c].frequency.setTargetAtTime(a*(1-e*.3),s,.1),l&&l.gain.setTargetAtTime(a*.04*i,s,.1)}),this.sparkleGain&&this.sparkleGain.gain.setTargetAtTime(.04*i*t,s,.05),this.sparkleFilter&&this.sparkleFilter.frequency.setTargetAtTime(2e3*i+500,s,.1),this.whooshGain&&this.whooshGain.gain.setTargetAtTime(.1*Math.sin(e*Math.PI)*t,s,.05)}stop(){this.isActive&&(this.isActive=!1,this.currentPhase=null,this._stopWarpShots(),this.masterGain&&this.masterGain.gain.setTargetAtTime(0,De.currentTime,.1),setTimeout(()=>this._cleanup(),300))}_cleanup(){try{this._stopWarpShots(),this.lastProgress=0,this.rumbleOsc&&(this.rumbleOsc.stop(),this.rumbleOsc=null),this.rumbleLfo&&(this.rumbleLfo.stop(),this.rumbleLfo=null),this.rumbleGain=null,this.harmonicOscs.forEach(e=>{try{e.stop()}catch{}}),this.harmonicLfos.forEach(e=>{try{e.stop()}catch{}}),this.harmonicOscs=[],this.harmonicGains=[],this.harmonicLfos=[],this.sparkleNoise&&(this.sparkleNoise.stop(),this.sparkleNoise=null),this.sparkleLfo&&(this.sparkleLfo.stop(),this.sparkleLfo=null),this.sparkleFilter=null,this.sparkleGain=null,this.whooshNoise&&(this.whooshNoise.stop(),this.whooshNoise=null),this.whooshFilter=null,this.whooshGain=null,this.delayNode=null,this.delayGain=null,this.masterGain=null}catch{}}dispose(){this.stop(),this.panner.disconnect()}}class W6 extends Ss({}){init(){this.logger=new wt("RobotSpawner",!0),this.world.robotSpawnerSystem=this,this.enabled=!1,this.portals=[],this.robots=[],this.gltfLoader=new Fh,this.cachedModels=new Map,this.portalMaxRadius=.3,this.portalOpenDuration=3.6,this.portalHoldDuration=.8,this.portalCloseDuration=1,this.robotRiseDuration=1.5,this.robotRiseHeight=.4,this.robotsPerPortal=3,this.robotSpawnDelay=2,this.mode="spawning",this.initialPortalComplete=!1,this.goalMarker=null,this.portalPreview=null,this.portalPreviewPose=null,this._particleTexture=new nr().load("./images/star-particle.png"),this._portalPreviewTime=0,this._placementAudio=new tg,this._vfxAttached=!1,this._placementPanelVisible=!1,this._inputMode="controllers",this._thumbTap=new Ug({size:.1,renderOrder:9020,position:{x:0,y:0,z:.02}}),this._fadeProgress=0,this._fadeTarget=0,this._fadeDuration=1,this._placementLine=null,this._placementLineParticles=null,this._lineValidColor=new st(65416),this._lineInvalidColor=new st(16729156),this._lineDisabledColor=new st(8947848),this._lineParticleTexture=null,this._lineTime=0,this._setupGameStateListener(),this._preloadRobotModels(),this._debugAutoSpawnPending=!1,this._debugAutoSpawnChecked=!1}_setupGameStateListener(){Oe.on("state:changed",(t,s)=>{this.logger.log(`State changed: currentState=${t.currentState} (was ${s.currentState}), roomSetupRequired=${t.roomSetupRequired} (was ${s.roomSetupRequired}), enabled=${this.enabled}`),t.currentState===ut.PORTAL_PLACEMENT&&s.currentState!==ut.PORTAL_PLACEMENT&&(t.roomSetupRequired===!1?(this.logger.log("PORTAL_PLACEMENT state entered, roomSetupRequired=false - enabling spawner"),this.enabled=!0,this.world.hitTestManager&&this.world.hitTestManager.setEnabled(!0)):this.logger.log(`PORTAL_PLACEMENT state but room setup=${t.roomSetupRequired} - spawner deferred`)),t.roomSetupRequired===!1&&s.roomSetupRequired!==!1&&(this.logger.log(`Room setup complete! currentState=${t.currentState}, enabled=${this.enabled}`),t.currentState>=ut.PORTAL_PLACEMENT&&!this.enabled&&(this.logger.log("Room setup complete + PORTAL_PLACEMENT state - robot spawning enabled"),this.enabled=!0,this.world.hitTestManager&&this.world.hitTestManager.setEnabled(!0))),t.portalPlacementPlayed&&!s.portalPlacementPlayed&&(this.logger.log("Portal placement dialog completed"),this.portalPreviewPose&&!this.initialPortalComplete&&this.portals.length===0&&(this.logger.log("Spawning portal at preview location"),this._disposePortalPreview(),this.world.hitTestManager&&this.world.hitTestManager.scaleOutAllPlacedVisuals(),this.spawnPortalAndRobots(this.portalPreviewPose),this.portalPreviewPose=null)),t.inputMode!==s.inputMode&&(this._inputMode=t.inputMode,this._updatePlacementInputMode()),t.robotsActive&&!s.robotsActive&&this._cleanupPlacementVFX()}),this._inputMode=Oe.getState().inputMode||"controllers";const e=Oe.getState();this.logger.log(`Initial state check: currentState=${e.currentState}, roomSetupRequired=${e.roomSetupRequired}`),e.currentState>=ut.PORTAL_PLACEMENT&&e.roomSetupRequired===!1&&(this.logger.log("Initial state has PORTAL_PLACEMENT+ and roomSetupRequired=false - robot spawning enabled"),this.enabled=!0)}_attachPlacementVFX(){if(this._vfxAttached)return this.logger.log("[VFX] _attachPlacementVFX called but already attached"),!0;this.logger.log(`[VFX] Attaching VFX, _placementLine exists: ${!!this._placementLine}`),this._createPlacementLineVFX(),this._vfxAttached=!0,this._placementPanelVisible=!0,this._fadeTarget=1,this._fadeProgress=0,this.logger.log(`[VFX] After create: _placementLine=${!!this._placementLine}, inScene=${!!this._placementLine?.parent}`);const t=this.world.aiManager?.wristUI?.registry?.getPanel("portalPlacement");return t?.group?(this._thumbTap.create(t.group),this._updatePlacementInputMode(),this.logger.log("Placement VFX attached (with panel)")):this.logger.log("Placement VFX attached (no panel - controller mode)"),!0}_cleanupPlacementVFX(){if(!this._vfxAttached){this.logger.log("[VFX] _cleanupPlacementVFX called but not attached");return}this.logger.log(`[VFX] Cleaning up VFX, _placementLine=${!!this._placementLine}`),this._thumbTap.hide(),this._disposePlacementLineVFX(),this._vfxAttached=!1,this._placementPanelVisible=!1,this._fadeProgress=0,this.logger.log(`[VFX] After cleanup: _placementLine=${!!this._placementLine}, _vfxAttached=${this._vfxAttached}`)}_updatePlacementFade(e){if(Math.abs(this._fadeProgress-this._fadeTarget)<.001){this._fadeProgress=this._fadeTarget;return}const t=1/this._fadeDuration;this._fadeProgress<this._fadeTarget?this._fadeProgress=Math.min(this._fadeTarget,this._fadeProgress+t*e):this._fadeProgress=Math.max(this._fadeTarget,this._fadeProgress-t*e),this._thumbTap.mesh&&(this._thumbTap.mesh.material&&(this._thumbTap.mesh.material.opacity=this._fadeProgress),this._fadeProgress>.01&&this._inputMode==="hands"?this._thumbTap.mesh.visible=!0:this._thumbTap.mesh.visible=!1);const i=this.world.aiManager?.wristUI?.registry?.getPanel("portalPlacement");i?.group&&(i.group.visible=!0,this._applyOpacityToGroup(i.group,this._fadeProgress))}_applyOpacityToGroup(e,t){e.traverse(s=>{if(s.material){const i=Array.isArray(s.material)?s.material:[s.material];for(const r of i)r.opacity!==void 0&&(r.transparent=!0,r.opacity=t,r.needsUpdate=!0)}})}_updatePlacementInputMode(){const e=this.world.aiManager?.wristUI;if(!e||!this._placementPanelVisible)return;const t=e.registry.getDocument("portalPlacement");if(!t)return;const s=t.getElementById("hint-text"),i=t.getElementById("thumbtap-area");this._inputMode==="hands"?(s&&s.setProperties({value:"THUMBTAP TO PLACE"}),i&&i.setProperties({display:"flex"})):(s&&s.setProperties({value:"TRIGGER TO PLACE"}),i&&i.setProperties({display:"none"}),this._thumbTap.mesh&&(this._thumbTap.mesh.visible=!1))}_createPlacementLineVFX(){if(this._placementLine)return;if(!this._lineParticleTexture){const d=document.createElement("canvas");d.width=32,d.height=32;const u=d.getContext("2d"),h=u.createRadialGradient(32/2,32/2,0,32/2,32/2,32/2);h.addColorStop(0,"rgba(255,255,255,1)"),h.addColorStop(.3,"rgba(255,255,255,0.8)"),h.addColorStop(.7,"rgba(255,255,255,0.3)"),h.addColorStop(1,"rgba(255,255,255,0)"),u.fillStyle=h,u.fillRect(0,0,32,32),this._lineParticleTexture=new vn(d)}const e=new Qt,t=new Float32Array(6);e.setAttribute("position",new yt(t,3));const s=new To({color:this._lineValidColor,transparent:!0,opacity:.8,depthTest:!1,depthWrite:!1});this._placementLine=new br(e,s),this._placementLine.renderOrder=500,this._placementLine.visible=!1,this.world.scene.add(this._placementLine);const i=12,r=new Qt,o=new Float32Array(i*3),a=new Float32Array(i*3);r.setAttribute("position",new yt(o,3)),r.setAttribute("color",new yt(a,3));const l=new pi({size:.015,map:this._lineParticleTexture,vertexColors:!0,transparent:!0,opacity:.9,blending:Ts,depthWrite:!1,depthTest:!1,sizeAttenuation:!0});this._placementLineParticles=new bi(r,l),this._placementLineParticles.renderOrder=501,this._placementLineParticles.visible=!1,this.world.scene.add(this._placementLineParticles),this.logger.log("Placement line VFX created")}_disposePlacementLineVFX(){this._placementLine&&(this._placementLine.geometry?.dispose(),this._placementLine.material?.dispose(),this._placementLine.parent&&this._placementLine.parent.remove(this._placementLine),this._placementLine=null),this._placementLineParticles&&(this._placementLineParticles.geometry?.dispose(),this._placementLineParticles.material?.dispose(),this._placementLineParticles.parent&&this._placementLineParticles.parent.remove(this._placementLineParticles),this._placementLineParticles=null)}_updatePlacementLineVFX(e){const t=this.world.hitTestManager;if(!t||!this._placementLine||!this._placementPanelVisible){this._placementLine&&(this._placementLine.visible=!1),this._placementLineParticles&&(this._placementLineParticles.visible=!1);return}const s=Oe.getState().handedness||"right",i=s==="right"?"left":"right",r=t.lastHitPose?.[s]||t.lastHitPose?.[i],o=this.world.xrInputSystem;let a=null,l=null;if(!this._lastLineVFXLog||performance.now()-this._lastLineVFXLog>1e3)if(this._lastLineVFXLog=performance.now(),o){const m=o.getInputAvailability();this.logger.log(`[LineVFX] Input availability: ${JSON.stringify(m)}`)}else this.logger.log("[LineVFX] xrInputSystem not available");const c=o?.getPreferredControllerRay();if(c?(a=c.position,l=c.direction,(!this._lastResultLog||performance.now()-this._lastResultLog>1e3)&&(this._lastResultLog=performance.now(),this.logger.log(`[LineVFX] Got ray from ${c.source}, hand=${c.hand}`))):(!this._lastResultLog||performance.now()-this._lastResultLog>1e3)&&(this._lastResultLog=performance.now(),this.logger.log("[LineVFX] No controller ray available")),!a){this._placementLine.visible=!1,this._placementLineParticles.visible=!1;return}let d,u=!1;if(r){const m=new Je().fromArray(r.transform.matrix);d=new w,m.decompose(d,new Ge,new w),u=!0}else if(l)d=a.clone().add(l.multiplyScalar(3)),u=!1;else{this._placementLine.visible=!1,this._placementLineParticles.visible=!1;return}const h=this._placementLine.geometry.attributes.position.array;h[0]=a.x,h[1]=a.y,h[2]=a.z,h[3]=d.x,h[4]=d.y,h[5]=d.z,this._placementLine.geometry.attributes.position.needsUpdate=!0;const f=u&&t._surfaceValid?this._lineValidColor:this._lineDisabledColor;this._placementLine.material.color.copy(f),this._placementLine.material.opacity=.8*this._fadeProgress,this._placementLine.visible=this._fadeProgress>.01,this._lineTime+=e;const A=this._placementLineParticles.geometry.attributes.position.array,p=this._placementLineParticles.geometry.attributes.color.array,g=A.length/3;for(let m=0;m<g;m++){let y=(m/g+this._lineTime*.8)%1;const _=a.x+(d.x-a.x)*y,I=a.y+(d.y-a.y)*y,v=a.z+(d.z-a.z)*y;A[m*3]=_,A[m*3+1]=I,A[m*3+2]=v,p[m*3]=f.r,p[m*3+1]=f.g,p[m*3+2]=f.b}this._placementLineParticles.geometry.attributes.position.needsUpdate=!0,this._placementLineParticles.geometry.attributes.color.needsUpdate=!0,this._placementLineParticles.material.opacity=.9*this._fadeProgress,this._placementLineParticles.visible=this._fadeProgress>.01}async _preloadRobotModels(){const e=Object.values($p),t=e.map(async s=>{try{const i=await this.gltfLoader.loadAsync(s.modelUrl);this.cachedModels.set(s.id,i.scene),this.logger.log(`Model preloaded for ${s.name}: ${s.modelUrl}`)}catch(i){this.logger.error(`Failed to preload model for ${s.name}:`,i)}});await Promise.all(t),this.logger.log(`All robot models preloaded (${this.cachedModels.size}/${e.length})`)}spawnPortalAndRobots(e){Oe.setState({portalPlacementStarted:!0}),this._cleanupPlacementVFX();const t=new Je().fromArray(e.transform.matrix),s=new w,i=new Ge,r=new w;t.decompose(s,i,r);const o=new w(0,1,0).applyQuaternion(i),a=Math.abs(o.y)>.7,l=s.clone().add(o.clone().multiplyScalar(.02));this.logger.log(`Spawning portal with ${this.robotsPerPortal} robots at ${l.x.toFixed(2)}, ${l.y.toFixed(2)}, ${l.z.toFixed(2)} (raised 0.15m from hit)`);const c=this.world.vfxManager?.createPortal({position:l,config:{maxRadius:this.portalMaxRadius,primaryColor:65535,secondaryColor:35071,glowIntensity:1.2,scanLineSpeed:2,particleCount:60,particleSpeed:1.5}});c||this.logger.warn("VFXManager not available - portal VFX disabled");const d=new tg;d.setPosition(l.x,l.y,l.z),d.startEntrance();const u={portalHandle:c,portalAudio:d,position:l.clone(),floorPosition:s.clone(),quaternion:i.clone(),surfaceNormal:o.clone(),isHorizontal:a,startTime:performance.now(),phase:"opening",robots:[],robotsToSpawn:this.robotsPerPortal,robotsSpawned:0,lastRobotSpawnTime:0};return this.portals.push(u),this._disposePortalPreview(),this.world.hitTestManager&&(this.world.hitTestManager.setEnabled(!1),this.world.hitTestManager.scaleOutAllPlacedVisuals()),u}spawnAtPose(e){if(!this.enabled)return this.logger.log("Spawning not enabled yet"),null;const t=Oe.getState();return t.roomSetupRequired!==!1?(this.logger.log("Spawning blocked - room setup required"),null):this.mode==="spawning"?this.portals.length>0||this.initialPortalComplete?(this.logger.log("Portal already spawning or complete - ignoring"),null):t.portalPlacementPlayed?(this.portalPreview&&this._disposePortalPreview(),this.world.hitTestManager&&this.world.hitTestManager.scaleOutAllPlacedVisuals(),this.spawnPortalAndRobots(e)):(this._placePortalPreview(e),null):this.mode==="goal_placement"?this.placeGoal(e):null}placeGoal(e){const t=new Je().fromArray(e.transform.matrix),s=new w,i=new Ge,r=new w;t.decompose(s,i,r),this.logger.log(`Placing goal at ${s.x.toFixed(2)}, ${s.y.toFixed(2)}, ${s.z.toFixed(2)}`),this.goalMarker&&this._disposeGoalMarker(),this.goalMarker=this._createGoalMarker(s),this.world.scene.add(this.goalMarker);const o=this.world.robotSystem;return o&&(o.setGoal([s.x,s.y,s.z]),this.logger.log("Goal set on RobotSystem")),this.goalMarker}_createGoalMarker(e){const t=new Tt;t.position.copy(e);const s=new it(new ql(.15,.18,32),new Nt({color:16737792,transparent:!0,opacity:.9,side:2}));s.rotation.x=-Math.PI/2,s.position.y=.005,t.add(s);const i=new it(new ql(.05,.08,32),new Nt({color:16755200,transparent:!0,opacity:.9,side:2}));i.rotation.x=-Math.PI/2,i.position.y=.006,t.add(i);const r=new it(new Hl(.02,16),new Nt({color:16776960,transparent:!0,opacity:1}));return r.rotation.x=-Math.PI/2,r.position.y=.007,t.add(r),t.userData.outerRing=s,t.userData.innerRing=i,t.userData.centerDot=r,t.userData.startTime=performance.now(),t}_disposeGoalMarker(){if(!this.goalMarker)return;const{outerRing:e,innerRing:t,centerDot:s}=this.goalMarker.userData;[e,t,s].forEach(i=>{i&&(i.geometry?.dispose(),i.material?.dispose())}),this.goalMarker.parent&&this.goalMarker.parent.remove(this.goalMarker),this.goalMarker=null}clearGoal(){this._disposeGoalMarker(),this.logger.log("Goal cleared")}_placePortalPreview(e){const t=new Je().fromArray(e.transform.matrix),s=new w,i=new Ge,r=new w;t.decompose(s,i,r),this.logger.log(`Placing portal preview at ${s.x.toFixed(2)}, ${s.y.toFixed(2)}, ${s.z.toFixed(2)}`),this.portalPreviewPose=e,this.portalPreview?(this.portalPreview.position.copy(s),this._placementAudio.setPosition(s.x,s.y,s.z)):(this._portalPreviewTime=0,this.portalPreview=this._createPortalPreviewMarker(s),this.world.scene.add(this.portalPreview),this._placementAudio.setPosition(s.x,s.y,s.z),this._placementAudio.playPlacement())}_createPortalPreviewMarker(e){const t=new Tt;t.position.copy(e),t.position.y+=.002;const s=new st(8965375),i=new st(11197951),r=.18,o=new Us(r*3,r*3),a=new Ds({vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        uniform float uTime;
        uniform vec3 uPrimaryColor;
        uniform vec3 uSecondaryColor;
        uniform float uRadius;
        
        varying vec2 vUv;
        
        #define PI 3.14159265359
        
        void main() {
          vec2 center = vec2(0.5, 0.5);
          vec2 uv = vUv;
          float dist = length(uv - center) * 2.0;
          
          if (dist > 1.0) discard;
          
          float normDist = 1.0 - dist;
          
          float gridScale = 15.0;
          vec2 gridUv = (uv - center) * gridScale;
          
          float gridAngle = uTime * 0.15;
          float cs = cos(gridAngle);
          float sn = sin(gridAngle);
          gridUv = vec2(gridUv.x * cs - gridUv.y * sn, gridUv.x * sn + gridUv.y * cs);
          
          vec2 gridLines = abs(fract(gridUv) - 0.5);
          float grid = smoothstep(0.02, 0.06, min(gridLines.x, gridLines.y));
          grid = 1.0 - grid;
          grid *= smoothstep(0.0, 0.4, normDist) * 0.5;
          
          float angle = atan(uv.y - 0.5, uv.x - 0.5);
          float sweepAngle = mod(-uTime * 2.5, PI * 2.0);
          float angleDiff = mod(angle - sweepAngle + PI * 2.0, PI * 2.0);
          
          float sweep = smoothstep(PI * 0.5, 0.0, angleDiff);
          sweep *= smoothstep(0.15, 0.3, dist) * smoothstep(1.0, 0.7, dist);
          sweep *= 0.6;
          
          float ringFreq = 8.0;
          float rings = sin((dist * ringFreq - uTime * 1.5) * PI);
          rings = smoothstep(0.5, 1.0, rings);
          rings *= smoothstep(0.0, 0.3, normDist) * smoothstep(1.0, 0.6, normDist) * 0.3;
          
          float outerRing = smoothstep(0.88, 0.92, dist) * smoothstep(1.0, 0.96, dist);
          float pulse = sin(uTime * 3.0) * 0.2 + 0.8;
          outerRing *= pulse;
          
          float innerRing = smoothstep(0.28, 0.32, dist) * smoothstep(0.38, 0.34, dist) * 0.6;
          
          float centerDot = smoothstep(0.12, 0.08, dist);
          centerDot *= 0.9 + sin(uTime * 4.0) * 0.1;
          
          vec3 color = vec3(0.0);
          color += uPrimaryColor * grid;
          color += uSecondaryColor * sweep;
          color += mix(uPrimaryColor, uSecondaryColor, 0.5) * rings;
          color += uPrimaryColor * outerRing * 1.2;
          color += uPrimaryColor * innerRing;
          color += uSecondaryColor * centerDot;
          
          float edgeGlow = smoothstep(1.0, 0.85, dist) * smoothstep(0.7, 0.9, dist) * 0.4;
          color += uPrimaryColor * edgeGlow * pulse;
          
          float alpha = grid * 0.8 + sweep * 0.9 + rings * 0.6 + outerRing * 0.9 + innerRing * 0.7 + centerDot + edgeGlow * 0.5;
          alpha = clamp(alpha, 0.0, 1.0);
          alpha *= smoothstep(1.0, 0.95, dist);
          
          gl_FragColor = vec4(color, alpha);
        }
      `,uniforms:{uTime:{value:0},uPrimaryColor:{value:s},uSecondaryColor:{value:i},uRadius:{value:r}},transparent:!0,side:js,depthTest:!1,depthWrite:!1,blending:Ts}),l=new it(o,a);l.rotation.x=-Math.PI/2,l.position.y=.003,l.renderOrder=500,t.add(l);const c=24,d=new Float32Array(c*3),u=new Float32Array(c*3),h=new Float32Array(c),f=new Float32Array(c),A=new Float32Array(c);for(let y=0;y<c;y++){h[y]=Math.random()*Math.PI*2,f[y]=.8+Math.random()*.8,A[y]=.12+Math.random()*.06,d[y*3]=0,d[y*3+1]=.01,d[y*3+2]=0;const _=Math.random();u[y*3]=s.r*(1-_)+i.r*_,u[y*3+1]=s.g*(1-_)+i.g*_,u[y*3+2]=s.b*(1-_)+i.b*_}const p=new Qt;p.setAttribute("position",new yt(d,3)),p.setAttribute("color",new yt(u,3));const g=new pi({size:.012,map:this._particleTexture,vertexColors:!0,transparent:!0,opacity:.7,blending:Ts,depthWrite:!1,depthTest:!1,sizeAttenuation:!0}),m=new bi(p,g);return m.renderOrder=501,t.add(m),t.userData.disc=l,t.userData.particles=m,t.userData.particleAngles=h,t.userData.particleSpeeds=f,t.userData.particleRadii=A,t.userData.startTime=performance.now(),t}_disposePortalPreview(){if(!this.portalPreview)return;const{disc:e,particles:t}=this.portalPreview.userData;e&&(e.geometry?.dispose(),e.material?.dispose()),t&&(t.geometry?.dispose(),t.material?.dispose()),this.portalPreview.parent&&this.portalPreview.parent.remove(this.portalPreview),this.portalPreview=null}async _spawnRobot(e){const t=e.robotsSpawned,s=wy(t),i=this.cachedModels.get(s.id);if(!i)return this.logger.warn(`Model not loaded for ${s.name}`),null;const r=i.clone(!0);r.scale.set(.3,.3,.3),r.userData.characterId=s.id,r.userData.characterName=s.name;const o=e.portalHandle?.getStencilRef()||1;r.traverse(A=>{A.isMesh&&A.material&&(Array.isArray(A.material)?A.material:[A.material]).forEach(g=>{g.stencilWrite=!1,g.stencilRef=o,g.stencilFunc=dB,g.stencilFail=zr,g.stencilZFail=zr,g.stencilZPass=zr})});const a=e.position.clone(),l=e.surfaceNormal.clone().multiplyScalar(-this.robotRiseHeight);a.add(l);const c=(t-1)*.6,d=new w(Math.sin(c)*.3,0,Math.cos(c)*.3);a.add(d),r.position.copy(a);const u=(e.floorPosition||e.position).clone();if(u.y+=.5,u.add(d),this.world.camera){const A=this.world.camera.position.clone();A.y=r.position.y,r.lookAt(A)}this.world.scene.add(r);let h=null;this.world.robotSystem&&(this.world.robotSystem.applyEnvMapToRobot(r),this.world.robotSystem.applyFaceToRobot(r),h=this.world.robotSystem.createThrustVFXForRobot(r));const f={group:r,startPosition:a.clone(),targetPosition:u,startTime:performance.now(),phase:"rising",portalData:e,robotIndex:t,thrustVFX:h};return this.robots.push(f),e.robots.push(f),e.robotsSpawned++,this.logger.log(`Robot ${t+1}/${e.robotsToSpawn} (${s.name}) spawned and rising from portal`),f}update(e,t){const s=performance.now();if(!this._debugAutoSpawnChecked){this._debugAutoSpawnChecked=!0;const o=Oe.getDebugSpawnState();o?.spawnRobotsImmediately&&(this._debugAutoSpawnPending=!0,this.logger.log("Debug auto-spawn pending - waiting for room setup + navmesh surface")),o?.spawnPortalImmediately&&(this._debugPortalPending=!0,this._debugPortalOffset=o.debugPortalOffset||{x:0,y:0,z:-2},this.logger.log("Debug portal spawn pending - waiting for room setup + navmesh"))}if(this._debugAutoSpawnPending){const o=Oe.getState();if((!this._lastDebugLog||s-this._lastDebugLog>2e3)&&(this._lastDebugLog=s,this.logger.log(`Debug auto-spawn waiting: enabled=${this.enabled}, modelsLoaded=${this.cachedModels.size}, roomSetup=${o.roomSetupRequired}, introPlayed=${o.introPlayed}`)),this.enabled&&this.cachedModels.size>0&&o.roomSetupRequired===!1){const a=this.world.navSurfacesSystem,l=a?.getFloorSurface(),c=l||a?.getFirstSurface();c?this.portals.length>0?this.logger.log("Debug auto-spawn: portals already exist"):this.initialPortalComplete?this.logger.log("Debug auto-spawn: initial portal already complete"):(this._debugAutoSpawnPending=!1,this.logger.log(`Debug auto-spawn: spawning robots on ${l?"floor":"first surface"}`),this.world.hitTestManager&&this.world.hitTestManager.setEnabled(!1),this._debugSpawnRobots(c)):this.logger.log("Debug auto-spawn: waiting for navmesh surface")}}if(this._debugPortalPending){const o=Oe.getState();if(this.enabled&&this.cachedModels.size>0&&o.roomSetupRequired===!1){if(this.portals.length>0||this.initialPortalComplete)this._debugPortalPending=!1;else if(this.world.camera){this._debugPortalPending=!1;const a=this.world.camera.position.clone(),l=new w(0,0,-1).applyQuaternion(this.world.camera.quaternion);l.y=0,l.normalize();const c=this._debugPortalOffset,d=new w(a.x+l.x*Math.abs(c.z)+c.x,c.y,a.z+l.z*Math.abs(c.z));this.logger.log(`Debug portal spawn: creating portal at ${d.x.toFixed(2)}, ${d.y.toFixed(2)}, ${d.z.toFixed(2)}`);const u=new Ge,f={transform:{matrix:new Je().compose(d,u,new w(1,1,1)).toArray()}};this.spawnPortalAndRobots(f)}}}const i=Oe.getState(),r=i.currentState===ut.PORTAL_PLACEMENT&&!i.robotsActive&&!i.roomSetupRequired;if(this._lastInPortalPlacement!==r&&(this.logger.log(`[VFX] inPortalPlacement changed: ${this._lastInPortalPlacement} -> ${r}, state=${i.currentState}, robotsActive=${i.robotsActive}, roomSetupRequired=${i.roomSetupRequired}, vfxAttached=${this._vfxAttached}`),this._lastInPortalPlacement=r),r&&!this._vfxAttached?this._attachPlacementVFX():!r&&this._vfxAttached&&this._cleanupPlacementVFX(),this._vfxAttached&&(this._updatePlacementFade(e),this._thumbTap.update(),this.enabled&&this._updatePlacementLineVFX(e),(!this._lastFadeLog||s-this._lastFadeLog>1e3)&&(this._lastFadeLog=s,this.logger.log(`Placement UI: fadeProgress=${this._fadeProgress.toFixed(2)}, fadeTarget=${this._fadeTarget}, visible=${this._placementPanelVisible}, line=${!!this._placementLine?.visible}, particles=${!!this._placementLineParticles?.visible}`))),!!this.enabled){if(this.goalMarker){const o=(s-this.goalMarker.userData.startTime)/1e3,a=.7+.3*Math.sin(o*3),{outerRing:l,innerRing:c}=this.goalMarker.userData;l&&(l.material.opacity=a),c&&(c.material.opacity=a*.8)}if(this.portalPreview){this._portalPreviewTime+=e;const{disc:o,particles:a,particleAngles:l,particleSpeeds:c,particleRadii:d}=this.portalPreview.userData;if(o?.material?.uniforms?.uTime&&(o.material.uniforms.uTime.value=this._portalPreviewTime),a&&l){const u=a.geometry.attributes.position.array,h=l.length;for(let f=0;f<h;f++){l[f]+=e*c[f];const A=l[f],p=d[f];u[f*3]=Math.cos(A)*p,u[f*3+1]=.008+Math.sin(A*2+this._portalPreviewTime*3)*.004,u[f*3+2]=Math.sin(A)*p}a.geometry.attributes.position.needsUpdate=!0}}for(let o=this.portals.length-1;o>=0;o--){const a=this.portals[o],l=(s-a.startTime)/1e3;if(a.portalHandle&&a.portalHandle.update(e),a.phase==="opening"){const c=Math.min(1,l/this.portalOpenDuration),d=this._easeOutBack(c);a.portalHandle&&a.portalHandle.setProgress(d),a.portalAudio&&a.portalAudio.updateEntrance("opening",c,a.robotsSpawned),c>=1&&(a.phase="holding",a.holdStartTime=s)}else if(a.phase==="holding"){const c=(s-a.holdStartTime)/1e3,d=Math.min(1,c/this.portalHoldDuration);if(a.portalAudio&&a.portalAudio.updateEntrance("holding",d,a.robotsSpawned),c>=this.portalHoldDuration){a.phase="spawning",a.lastRobotSpawnTime=s,this._spawnRobot(a),Oe.setState({robotsActive:!0});const u=this.world.aiManager?.wristUI;u&&setTimeout(()=>{u.setCallPanelWorldTarget(a.position,a.surfaceNormal,{heightOffset:1.5,floatAmplitude:.02,floatSpeed:.8}),this.logger.log("Call panel moved to hover above portal")},300)}}else if(a.phase==="spawning"){const c=(s-a.lastRobotSpawnTime)/1e3;a.robotsSpawned<a.robotsToSpawn&&c>=this.robotSpawnDelay&&(a.lastRobotSpawnTime=s,this._spawnRobot(a));const d=a.robotsSpawned/a.robotsToSpawn;if(a.portalAudio&&a.portalAudio.updateEntrance("spawning",d,a.robotsSpawned),a.robots.every(h=>h.phase==="complete")&&a.robotsSpawned>=a.robotsToSpawn&&(a.phase="closing",a.closeStartTime=s,!this.initialPortalComplete)){this.initialPortalComplete=!0;const h=a.position;Oe.setState({portalSpawnPosition:{x:h.x,y:h.y,z:h.z},robotBehavior:"gathered"}),this.logger.log(`Robots active - portal position stored at (${h.x.toFixed(2)}, ${h.y.toFixed(2)}, ${h.z.toFixed(2)})`)}}else if(a.phase==="closing"){const c=(s-a.closeStartTime)/1e3,d=Math.min(1,c/this.portalCloseDuration);a.portalHandle&&a.portalHandle.setProgress(1-this._easeInCubic(d)),a.portalAudio&&a.portalAudio.updateEntrance("closing",d,a.robotsSpawned),d>=1&&(a.phase="complete",this._disposePortal(a),this.portals.splice(o,1))}}for(const o of this.robots){if(o.phase==="complete")continue;const a=(s-o.startTime)/1e3,l=Math.min(1,a/this.robotRiseDuration),c=this._easeOutCubic(l);if(o.group.position.lerpVectors(o.startPosition,o.targetPosition,c),this.world.camera){const d=this.world.camera.position.clone();d.y=o.group.position.y,o.group.lookAt(d)}if(o.thrustVFX){const d=Math.min((s-(o.lastUpdateTime||o.startTime))/1e3,.1);o.thrustVFX.setIntensity(0,1.4,!1,0,!1),o.thrustVFX.update(d),o.lastUpdateTime=s}l>=1&&(o.phase="complete",this.logger.log(`Robot ${(o.robotIndex||0)+1} emergence complete`),this._handoffToRobotSystem(o))}}}_handoffToRobotSystem(e){const t=this.world.robotSystem;if(!t){this.logger.warn("RobotSystem not available for handoff");return}const s=this.world.createTransformEntity(e.group);s.addComponent(by),t.registerRobot(s,{thrustVFX:e.thrustVFX}),e.entity=s;const i=e.group.position;this.logger.log(`Robot handed off to RobotSystem at position (${i.x.toFixed(2)}, ${i.y.toFixed(2)}, ${i.z.toFixed(2)}), navMeshInitialized: ${t.navMeshInitialized}`)}async _debugSpawnRobots(e){let t=new w(e.center[0],e.center[1],e.center[2]);if(this.world.camera){const l=this.world.camera.position,c=new w(0,0,-1);c.applyQuaternion(this.world.camera.quaternion),c.y=0,c.normalize();const d=new w(l.x+c.x*1.5,e.center[1],l.z+c.z*1.5);this.logger.log(`Debug spawn: placing robots near player at (${d.x.toFixed(2)}, ${d.y.toFixed(2)}, ${d.z.toFixed(2)})`),t=d}if(new URLSearchParams(window.location.search).get("DEBUG_OCCLUSION_VIS")==="true"){const l=this.world.navSurfacesSystem;l&&l.enableDebugOcclusionVisualization()}for(let l=0;l<this.robotsPerPortal;l++){const c=wy(l),d=this.cachedModels.get(c.id);if(!d){this.logger.warn(`Model not loaded for ${c.name} in debug spawn`);continue}const u=d.clone(!0);u.scale.set(.3,.3,.3),u.userData.characterId=c.id,u.userData.characterName=c.name;const h=(l-1)*.6,f=Math.sin(h)*.3,A=Math.cos(h)*.3;if(u.position.set(t.x+f,t.y,t.z+A),this.world.camera){const y=this.world.camera.position.clone();y.y=u.position.y,u.lookAt(y)}this.world.scene.add(u);const p=this.world.robotSystem;p&&(p.applyEnvMapToRobot(u),p.applyFaceToRobot(u));const g=this.world.createTransformEntity(u);g.addComponent(by),p&&p.registerRobot(g);const m={group:u,entity:g,phase:"complete",robotIndex:l};this.robots.push(m),this.logger.log(`Debug spawned robot ${l+1}/${this.robotsPerPortal} (${c.name})`)}const i=Oe.getDebugSpawnState(),r=i?.robotBehavior||"gathered";this.initialPortalComplete=!0,Oe.setState({robotsActive:!0,portalSpawnPosition:{x:t.x,y:t.y,z:t.z},robotBehavior:r}),this.logger.log(`Debug spawn: robotBehavior set to "${r}"`),this.world.hitTestManager&&this.world.hitTestManager.setEnabled(!1);const o=this.world.robotSystem;if(o?.characterManager){for(const[l]of o.robotEntities)o.characterManager.showNameTag(l);this.logger.log("Debug spawn: nametags shown")}const a=this.world.aiManager?.wristUI;if(i?.startPanicMinigame&&o)this.logger.log("Debug spawn: starting panic minigame"),o.startPanicMinigame(a);else if(i?.entropodMinigame)this.logger.log("Debug spawn: entropod minigame active, skipping world call panel");else if(i?.modemArrived||i?.interpretMode==="modem_stay")this.logger.log("Debug spawn: modem stay state active, UIStateManager handles call panel"),setTimeout(()=>{if(!o)return;const l=o.characterManager?.getByName("Modem");if(!l){this.logger.warn("Debug spawn: Could not find Modem");return}const{entityIndex:c}=l,u=this.world?.player?.head?.getWorldPosition?.(new w);o.navigationManager?.stopRobotMovement(c),o.stateMachine?.forceState(c,5);const h=o.robotStates?.get(c);h&&u&&(h.lookAtTarget=u.clone(),h.lookAtStartTime=performance.now(),h.lookAtDuration=6e4),o.setRobotFaceEmotion?.(c,"curious");const f=o.audioManager?.getVoice(c);f&&f.inquisitive?.(),o.interactionManager?.setExcluded(c,!0),o._modemEntityIndex=c,this.logger.log("Debug spawn: Modem stopped, looking at player with curious expression")},1e3);else if(a){const l=new w(0,1,0);a.setCallPanelWorldTarget(t,l,{heightOffset:1.5,floatAmplitude:.02,floatSpeed:.8}),this.logger.log("Debug spawn: call panel moved to hover above robots")}}_easeOutBack(e){return 1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2)}_easeOutCubic(e){return 1-Math.pow(1-e,3)}_easeInCubic(e){return e*e*e}_disposePortal(e){e.portalHandle&&(e.portalHandle.dispose(),e.portalHandle=null),e.portalAudio&&(e.portalAudio.stop(),e.portalAudio.dispose(),e.portalAudio=null);for(const t of e.robots)t.group&&t.group.traverse(s=>{s.isMesh&&s.material&&(Array.isArray(s.material)?s.material:[s.material]).forEach(r=>{r.stencilWrite=!1,r.stencilRef=0,r.stencilFunc=519})})}}class X6 extends Ss({detectedMeshes:{required:[Gs]},surfaceLabelPanels:{required:[nn,Sn],where:[Vy(nn,"config","./ui/mesh-label.json")]}}){init(){this.showSurfaceLabels=!1,this.tableMeshes=new Map,this.surfaces=new Map,this.surfacePanels=new Map,this.pendingPanels=new Map,this.vec3=new w,this.offset=new w(0,.3,0),this.firstSurface=null,this.lastSurface=null,this.environmentBounds=null,this.logger=new wt("NavSurfacesSystem",!0),this.occludedMeshes=new Map,this._debugOcclusionGroup=null,this.world.navSurfacesSystem=this,this.queries.detectedMeshes.subscribe("qualify",e=>{this.handleMeshDetected(e)}),this.queries.detectedMeshes.subscribe("disqualify",e=>{this.handleMeshRemoved(e)}),this.queries.surfaceLabelPanels.subscribe("qualify",e=>{const t=this.pendingPanels.get(e.index);if(t){const s=Sn.data.document?.[e.index];if(s){const i=s.getElementById("mesh-label-text");i&&(i.setProperties({text:t.label}),this.surfacePanels.set(t.surfaceId,{panelEntity:e,textElement:i,label:t.label}),this.pendingPanels.delete(e.index))}}})}handleMeshDetected(e){const t=Gs.data.semanticLabel?.[e.index]||"",s=t.toLowerCase(),i=Gs.data.isBounded3D?.[e.index]??!0;if(this.updateEnvironmentBounds(e),this.logger.log("Mesh detected - label:",t||"(none)","isBounded:",i),!i){if(s==="door"||s==="window"){this.logger.log(`Skipping occlusion for ${t} - should be see-through`),this.tryDetectFloor(e);return}this.logger.log("Global mesh (room structure) detected - configuring for occlusion"),this.configureForOcclusion(e),this.tryDetectFloor(e);return}if(s==="door"||s==="window"){this.logger.log(`Bounded ${t} detected - skipping (no occlusion)`);return}s==="table"?(this.tableMeshes.set(e.index,e),this.logger.log("Table detected:",t,"Total tables:",this.tableMeshes.size),this.createSurfaceForTable(e)):s==="floor"||s==="ground"?(this.logger.log("Floor/ground detected:",t),this.createSurfaceForFloor(e)):(s===""||s==="other")&&this.tryDetectFloor(e)}tryDetectFloor(e){const t=e.object3D;if(!t)return;const s=new Jt;let i=!1;if(t.updateMatrixWorld(!0),t.traverse(h=>{if(h.isMesh&&h.geometry&&(h.updateMatrixWorld(!0),h.geometry.computeBoundingBox(),h.geometry.boundingBox)){const f=h.geometry.boundingBox.clone();f.applyMatrix4(h.matrixWorld),i?s.union(f):(s.copy(f),i=!0)}}),!i||s.isEmpty())return;const r=s.min,o=s.max,a=o.x-r.x,l=o.z-r.z,c=o.y-r.y,d=a>.5&&l>.5,u=r.y<.3&&r.y>-1;this.logger.log(`Checking mesh: ${a.toFixed(1)}x${l.toFixed(1)}x${c.toFixed(2)}m, minY=${r.y.toFixed(2)}, isWide=${d}, bottomNearGround=${u}`),d&&u&&(this.logger.log("Detected floor-like surface from unlabeled mesh"),this.createSurfaceForFloor(e))}updateEnvironmentBounds(e){const t=e.object3D;if(!t)return;const s=Gs.data.min?.[e.index],i=Gs.data.max?.[e.index];if(!s||!i){const r=new Jt;let o=!1;if(t.updateMatrixWorld(!0),t.traverse(a=>{if(a.isMesh&&a.geometry&&(a.updateMatrixWorld(!0),a.geometry.computeBoundingBox(),a.geometry.boundingBox)){const l=a.geometry.boundingBox.clone();l.applyMatrix4(a.matrixWorld),o?r.union(l):(r.copy(l),o=!0)}}),!o)return;this.environmentBounds?this.environmentBounds.union(r):this.environmentBounds=r.clone()}else{const r=new Jt(new w(s.x||s.X||0,s.y||s.Y||0,s.z||s.Z||0),new w(i.x||i.X||0,i.y||i.Y||0,i.z||i.Z||0));this.environmentBounds?this.environmentBounds.union(r):this.environmentBounds=r.clone()}}configureForOcclusion(e){const t=e.object3D;if(!t)return;const s=new Nt({colorWrite:!1,stencilWrite:!1,stencilRef:1,stencilFunc:517,stencilFail:7680,stencilZFail:7680,stencilZPass:7680});s.transparent=!1,s.depthWrite=!0,s.depthTest=!0;const i=Gs.data.semanticLabel?.[e.index]||"(none)";t.traverse(r=>{r.isMesh&&r.geometry&&this.occludedMeshes.set(e.index,{geometry:r.geometry.clone(),worldMatrix:r.matrixWorld.clone(),label:i})}),t.traverse(r=>{r.isMesh&&(r.material&&(Array.isArray(r.material)?r.material.forEach(o=>o.dispose?.()):r.material.dispose?.()),r.material=s,r.renderOrder=-800)}),this.logger.log("Configured mesh for occlusion:",i),this._updateDebugOcclusionVis()}enableDebugOcclusionVisualization(){this._debugOcclusionGroup=new Tt,this._debugOcclusionGroup.name="debug-occlusion-vis",this.world.scene.add(this._debugOcclusionGroup),this._debugLastHandQuat=null,this._updateDebugOcclusionVis(),this.logger.log("Debug occlusion visualization enabled")}_getLabelColor(e){const t=(e||"").toLowerCase();return t.includes("floor")||t.includes("ground")?65280:t.includes("wall")?35071:t.includes("ceiling")?16746496:t.includes("table")?16776960:t.includes("door")?16711680:t.includes("window")?65535:t.includes("couch")||t.includes("sofa")?8913151:t.includes("shelf")?8947848:16711935}_updateDebugOcclusionVis(){if(!this._debugOcclusionGroup)return;for(;this._debugOcclusionGroup.children.length>0;){const t=this._debugOcclusionGroup.children[0];this._debugOcclusionGroup.remove(t),t.geometry?.dispose(),t.material?.dispose()}const e=.045;for(const[t,s]of this.occludedMeshes){const i=this._getLabelColor(s.label),r=new Nt({color:i,wireframe:!0,transparent:!0,opacity:.8}),o=new it(s.geometry,r);o.scale.setScalar(e),o.name=s.label||"unknown",this._debugOcclusionGroup.add(o)}this.logger.log(`Debug occlusion: ${this.occludedMeshes.size} meshes visualized (colors: floor=green, wall=blue, ceiling=orange, table=yellow, door=red, window=cyan)`)}updateDebugOcclusionPosition(e,t){!this._debugOcclusionGroup||!e||(this._debugOcclusionGroup.position.set(e.x,e.y+.2,e.z),t&&this._debugOcclusionGroup.quaternion.copy(t))}handleMeshRemoved(e){if(this.tableMeshes.has(e.index)&&(this.tableMeshes.delete(e.index),this.removeSurface(`surface_${e.index}`)),this.removeSurface(`floor_${e.index}`),this._simplifiedMeshes?.has(e.index)){const t=this._simplifiedMeshes.get(e.index);t.geometry?.dispose(),t.material?.dispose(),this._simplifiedMeshes.delete(e.index)}}removeSurface(e){const t=this.surfaces.get(e);if(!t)return;t.entity&&t.entity.destroy(),t.mesh&&(t.mesh.geometry?.dispose(),t.mesh.material?.dispose()),this.surfaces.delete(e);const s=`surface_${e}`;if(this._simplifiedMeshes?.has(s)){const r=this._simplifiedMeshes.get(s);r.geometry?.dispose(),r.material?.dispose(),this._simplifiedMeshes.delete(s)}const i=this.surfacePanels.get(e);i?.panelEntity&&i.panelEntity.destroy(),this.surfacePanels.delete(e),this.logger.log("Removed surface:",e)}createSurfaceForTable(e){const t=e.object3D;if(!t)return this.logger.warn("createSurfaceForTable: meshObject is null for entity",e.index),null;const s=new Jt;let i=!1;if(t.updateMatrixWorld(!0),t.traverse(y=>{if(y.isMesh&&y.geometry&&(y.updateMatrixWorld(!0),y.geometry.computeBoundingBox(),y.geometry.boundingBox)){const _=y.geometry.boundingBox.clone();_.applyMatrix4(y.matrixWorld),i?s.union(_):(s.copy(_),i=!0)}}),!i||s.isEmpty())return this.logger.warn("createSurfaceForTable: No geometry found for entity",e.index),null;const r=s.min,o=s.max,a=s.getCenter(new w),l=o.x-r.x,c=o.z-r.z,d=o.y-r.y,u=o.y;if(l<=0||c<=0)return this.logger.warn("createSurfaceForTable: Invalid dimensions for entity",e.index,"width:",l,"depth:",c),null;const h=new Us(l,c),f=new Nt({color:8947848,transparent:!0,opacity:.1,side:2}),A=new it(h,f);t.getWorldPosition(this.vec3),this.logger.log("Mesh object world position:",this.vec3,"Bounding box center:",a,"tableTopY:",u),A.position.set(a.x,u,a.z),A.rotation.x=-Math.PI/2,A.visible=!1,this.logger.log("Surface created at position:",A.position,"Dimensions:",l.toFixed(2),"",c.toFixed(2),"m");const p=this.world.createTransformEntity(A),g=`surface_${e.index}`,m={mesh:A,entity:p,center:[a.x,u,a.z],dimensions:{width:l,depth:c,height:d},tableEntity:e,id:g};return this.surfaces.set(g,m),this.logger.log("Created surface:",g,"at",m.center,`(${l.toFixed(2)}${c.toFixed(2)}m)`),this.firstSurface||(this.firstSurface=m),this.lastSurface=m,this.showSurfaceLabels&&this.createLabelForSurface(m),m}createSurfaceForFloor(e){const t=e.object3D;if(!t)return null;t.updateMatrixWorld(!0);let s=null,i=new Jt,r=!1;if(t.traverse(g=>{if(g.isMesh&&g.geometry&&(g.updateMatrixWorld(!0),g.geometry.computeBoundingBox(),g.geometry.boundingBox)){const m=g.geometry.boundingBox.clone();m.applyMatrix4(g.matrixWorld),r?i.union(m):(i.copy(m),r=!0,s=g)}}),!r||i.isEmpty())return null;const o=i.min,a=i.max,l=i.getCenter(new w),c=a.x-o.x,d=a.z-o.z,u=o.y;if(c<=0||d<=0)return null;let h;if(s&&s.geometry){const g=s.geometry.clone(),m=new Nt({color:4500036,transparent:!0,opacity:.1,side:2});h=new it(g,m),h.applyMatrix4(s.matrixWorld),h.visible=!1,this.logger.log(`Using actual mesh geometry for floor (${c.toFixed(1)}x${d.toFixed(1)}m bounds)`)}else{const g=new Us(c,d),m=new Nt({color:4500036,transparent:!0,opacity:.1,side:2});h=new it(g,m),h.position.set(l.x,u,l.z),h.rotation.x=-Math.PI/2,h.visible=!1,this.logger.log(`Using simplified plane for floor: ${c.toFixed(1)}x${d.toFixed(1)}m`)}const f=this.world.createTransformEntity(h),A=`floor_${e.index}`,p={mesh:h,entity:f,center:[l.x,u,l.z],dimensions:{width:c,depth:d,height:0},isFloor:!0,floorEntity:e,id:A};return this.surfaces.set(A,p),this.logger.log("Created floor surface:",A,"at Y=",u.toFixed(2)),this.world.robotSystem&&this.world.robotSystem.rebuildNavMesh(),p}createLabelForSurface(e){const t=this.world.createTransformEntity();t.addComponent(nn,{config:"./ui/mesh-label.json"});const s=`Table Surface
${e.dimensions.width.toFixed(1)}${e.dimensions.depth.toFixed(1)}m`;this.pendingPanels.set(t.index,{surfaceId:e.id,label:s}),t.object3D.position.set(e.center[0],e.center[1]+.2,e.center[2])}getAllSurfaces(){return Array.from(this.surfaces.values())}getFirstSurface(){const e=this.getAllSurfaces();return e.length>0?e[0]:null}getRandomSurface(){const e=this.getAllSurfaces();return e.length===0?null:e[Math.floor(Math.random()*e.length)]}getSpawnPosition(e){return e?{x:e.center[0],y:e.center[1]+.1,z:e.center[2]}:null}getFirstSurface(){return this.firstSurface}getLastSurface(){return this.lastSurface}getFloorSurface(){for(const[e,t]of this.surfaces)if(e.startsWith("floor_"))return t;return null}getRaycastMeshes(e=!0){if(e)return this._getSimplifiedRaycastMeshes();const t=[];for(const s of this.queries.detectedMeshes.entities){const i=s.object3D;i&&i.traverse(r=>{r.isMesh&&r.geometry&&t.push(r)})}return t}_getSimplifiedRaycastMeshes(){this._simplifiedMeshes||(this._simplifiedMeshes=new Map);const e=[];for(const t of this.queries.detectedMeshes.entities){const s=t.object3D;if(!s)continue;let i=this._simplifiedMeshes.get(t.index);if(!i){const r=new Jt;if(s.updateMatrixWorld(!0),s.traverse(o=>{if(o.isMesh&&o.geometry&&(o.geometry.computeBoundingBox(),o.geometry.boundingBox)){const a=o.geometry.boundingBox.clone();a.applyMatrix4(o.matrixWorld),r.union(a)}}),!r.isEmpty()){const o=r.getSize(new w),a=r.getCenter(new w),l=new ei(o.x,o.y,o.z),c=new Nt({visible:!1});i=new it(l,c),i.position.copy(a),i.updateMatrixWorld(!0),this._simplifiedMeshes.set(t.index,i)}}i&&e.push(i)}for(const t of this.surfaces.values()){if(!t.mesh)continue;const s=`surface_${t.id}`;let i=this._simplifiedMeshes.get(s);if(!i){const{width:r,depth:o}=t.dimensions,[a,l,c]=t.center,d=new Us(r,o);d.rotateX(-Math.PI/2);const u=new Nt({visible:!1});i=new it(d,u),i.position.set(a,l,c),i.updateMatrixWorld(!0),this._simplifiedMeshes.set(s,i)}e.push(i)}return e}update(){if(this.showSurfaceLabels)for(const[e,t]of this.surfacePanels.entries()){const s=this.surfaces.get(e);if(!s)continue;const i=t.panelEntity.object3D;i&&(i.position.set(s.center[0],s.center[1]+.2,s.center[2]),this.player.head.getWorldPosition(this.vec3),i.lookAt(this.vec3))}}}const Y6=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",ta=256;class J6{constructor(e){this.world=e,this.logger=new wt("RobotEnvMap",!1),this.envMap=null,this.loaded=!1}async loadEnvMap(e=null){if(this.loaded&&this.envMap)return this.envMap;try{return Y6?(this.logger.log("Emulator mode: loading fallback environment image"),this.envMap=await this._loadFallbackImage()):e?(this.logger.log("Device mode: capturing environment from camera"),this.envMap=await this._captureFromCamera(e),this.envMap||(this.logger.log("Camera capture failed, using fallback"),this.envMap=await this._loadFallbackImage())):(this.logger.log("No camera entity, using fallback image"),this.envMap=await this._loadFallbackImage()),this.loaded=!0,this.envMap}catch(t){return this.logger.warn("Failed to load environment map:",t),null}}async _loadFallbackImage(){return new Promise((e,t)=>{const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{const i=this._createResizedTexture(s);this.logger.log(`Fallback environment image loaded and resized to ${ta}x${ta}`),e(i)},s.onerror=i=>{this.logger.warn("Failed to load fallback image:",i),t(i)},s.src="./images/0012_original.jpg"})}_createResizedTexture(e){const t=document.createElement("canvas");t.width=ta,t.height=ta,t.getContext("2d").drawImage(e,0,0,ta,ta);const i=new vn(t);return i.mapping=Fl,i.colorSpace=cs,i.needsUpdate=!0,i}async _captureFromCamera(e){try{const t=jl.captureFrame(e);if(!t)return null;const s=this._createResizedTexture(t);return this.logger.log(`Environment captured from camera and resized to ${ta}x${ta}`),s}catch(t){return this.logger.warn("Camera capture error:",t),null}}applyToMesh(e,t={}){if(!this.envMap){this.logger.warn("No envMap loaded, cannot apply");return}const{intensity:s=1}=t;e.traverse(i=>{i.isMesh&&i.material&&(Array.isArray(i.material)?i.material:[i.material]).forEach(o=>{(o.isMeshStandardMaterial||o.isMeshPhysicalMaterial)&&(o.envMap=this.envMap,o.envMapIntensity=s,o.needsUpdate=!0,this.logger.log(`Applied envMap to "${o.name||"unnamed"}" (using model M=${o.metalness} R=${o.roughness})`))})})}dispose(){this.envMap&&(this.envMap.dispose(),this.envMap=null),this.loaded=!1}}const Rt={CONTENT:"content",EXCITED:"excited",SAD:"sad",ANGRY:"angry",CURIOUS:"curious",ACKNOWLEDGE:"acknowledge",AWE:"awe",FEAR:"fear",THINKING:"thinking"},pl={POSITIVE:[Rt.CONTENT,Rt.EXCITED,Rt.CURIOUS,Rt.ACKNOWLEDGE,Rt.AWE],CALM:[Rt.CONTENT,Rt.CURIOUS,Rt.ACKNOWLEDGE]},Yu={squareL:["............","............","............","....####....","....####....","....####....","....####....","............","............","............","............","............"],squareR:["............","............","............","....####....","....####....","....####....","....####....","............","............","............","............","............"],happyL:["............","............","....####....","...######...","...######...","....####....","............","............","............","............","............","............"],happyR:["............","............","....####....","...######...","...######...","....####....","............","............","............","............","............","............"],sadL:["............","......##....",".....##.....","....####....","....####....","....####....","....####....","............","............","............","............","............"],sadR:["............","....##......",".....##.....","....####....","....####....","....####....","....####....","............","............","............","............","............"],angryL:["............",".....##.....","....##......","...##.......","...####.....","...####.....","...####.....","...####.....","............","............","............","............"],angryR:["............","....##......",".....##.....","......##....",".....####...",".....####...",".....####...",".....####...","............","............","............","............"],curiousL:["....####....","...##..##...","....####....","....####....","....####....","....####....","............","............","............","............","............","............"],curiousR:["............","............","....####....","....####....","....####....","....####....","............","............","............","............","............","............"],winkL:["............","............","............","..########..","..########..","............","............","............","............","............","............","............"],winkR:["............","............","............","..########..","..########..","............","............","............","............","............","............","............"],roundL:["............","...######...","..##....##..","..#..##..#..","..#..##..#..","..##....##..","...######...","............","............","............","............","............"],roundR:["............","...######...","..##....##..","..#..##..#..","..#..##..#..","..##....##..","...######...","............","............","............","............","............"],worriedL:["....####....","...##..##...","...######...","...##..##...","...##..##...","...######...","............","............","............","............","............","............"],worriedR:["....####....","...##..##...","...######...","...##..##...","...##..##...","...######...","............","............","............","............","............","............"],lookLeftL:["............","............","............",".####.......",".####.......",".####.......",".####.......","............","............","............","............","............"],lookLeftR:["............","............","............",".####.......",".####.......",".####.......",".####.......","............","............","............","............","............"],lookRightL:["............","............","............",".......####.",".......####.",".......####.",".......####.","............","............","............","............","............"],lookRightR:["............","............","............",".......####.",".......####.",".......####.",".......####.","............","............","............","............","............"],lookUpL:["............","....####....","....####....","....####....","....####....","............","............","............","............","............","............","............"],lookUpR:["............","....####....","....####....","....####....","....####....","............","............","............","............","............","............","............"],lookDownL:["............","............","............","............","............","....####....","....####....","....####....","....####....","............","............","............"],lookDownR:["............","............","............","............","............","....####....","....####....","....####....","....####....","............","............","............"],bugOutL:["............","...######...","..########..","..########..","..########..","..########..","...######...","............","............","............","............","............"],bugOutR:["............","...######...","..########..","..########..","..########..","..########..","...######...","............","............","............","............","............"],wideL:["............","...######...","..##....##..",".##......##.",".##..##..##.",".##..##..##.","..##....##..","...######...","............","............","............","............"],wideR:["............","...######...","..##....##..",".##......##.",".##..##..##.",".##..##..##.","..##....##..","...######...","............","............","............","............"],xEyeL:["............","............","..##....##..","...##..##...","....####....","...##..##...","..##....##..","............","............","............","............","............"],xEyeR:["............","............","..##....##..","...##..##...","....####....","...##..##...","..##....##..","............","............","............","............","............"],squarePupilL:["............","............","..########..","..##....##..","..##.##.##..","..##.##.##..","..##....##..","..########..","............","............","............","............"],squarePupilR:["............","............","..########..","..##....##..","..##.##.##..","..##.##.##..","..##....##..","..########..","............","............","............","............"],dotL:["............","............","............","............",".....##.....",".....##.....","............","............","............","............","............","............"],dotR:["............","............","............","............",".....##.....",".....##.....","............","............","............","............","............","............"],squintL:["............","............","............","............","...######...","...######...","............","............","............","............","............","............"],squintR:["............","............","............","............","...######...","...######...","............","............","............","............","............","............"]},ZA={smile:["........................","........................",".....##..........##.....","......##........##......",".......##......##.......","........########........",".........######.........","........................","........................","........................","........................","........................"],openWide:["....################....","....################....","....################....","....################....",".....##############.....","......############......",".......##########.......","........########........",".........######.........","........................","........................","........................"],frown:["........................","........................",".........######.........","........##....##........",".......##......##.......","......##........##......",".....##..........##.....","........................","........................","........................","........................","........................"],neutral:["........................","........................",".....##############.....",".....##############.....","........................","........................","........................","........................","........................","........................","........................","........................"],smirk:["........................","........................","...................##...","................####....","...###############......","...############.........","........................","........................","........................","........................","........................","........................"],oShape:["........................","........########........",".......##......##.......",".......#........#.......",".......#........#.......",".......##......##.......","........########........","........................","........................","........................","........................","........................"],worried:["........................","........................",".....##..........##.....","....##..########..##....","....#..............#....","....##............##....",".....##############.....","........................","........................","........................","........................","........................"],thinking:["........................","..........####..........","..........####..........","........................","........................","........................","........................","........................","........................","........................","........................","........................"],talkOpen1:["........................","........................",".......##########.......","......##........##......","......##........##......",".......##########.......","........................","........................","........................","........................","........................","........................"],talkOpen2:["........................","........########........",".......##......##.......","......##........##......","......##........##......",".......##......##.......","........########........","........................","........................","........................","........................","........................"],talkOpen3:["........................","........................","........########........","........########........","........########........","........########........","........................","........................","........................","........................","........................","........................"],talkClosed:["........................","........................","........................",".....##############.....",".....##############.....","........................","........................","........................","........................","........................","........................","........................"]},Ub=["talkOpen1","talkOpen2","talkOpen3","talkClosed","talkOpen2"],sa={[Rt.CONTENT]:{leftEye:"squareL",rightEye:"squareR",mouth:"smile"},[Rt.EXCITED]:{leftEye:"bugOutL",rightEye:"bugOutR",mouth:"openWide"},[Rt.SAD]:{leftEye:"sadL",rightEye:"sadR",mouth:"frown"},[Rt.ANGRY]:{leftEye:"angryL",rightEye:"angryR",mouth:"frown"},[Rt.CURIOUS]:{leftEye:"curiousL",rightEye:"squareR",mouth:"smirk"},[Rt.ACKNOWLEDGE]:{leftEye:"winkL",rightEye:"squareR",mouth:"neutral"},[Rt.AWE]:{leftEye:"wideL",rightEye:"wideR",mouth:"oShape"},[Rt.FEAR]:{leftEye:"wideL",rightEye:"wideR",mouth:"worried"},[Rt.THINKING]:{leftEye:"lookRightL",rightEye:"lookRightR",mouth:"thinking"}},Ad=12,By=24,Ny=12,Sy=24,fr=256,ci=Math.floor(fr/Sy),K6=new w(1,0,0),j6=new w(0,0,1),El={eyes:new Map,mouths:new Map,initialized:!1};function Z6(){if(!El.initialized){for(const[n,e]of Object.entries(Yu)){const t=document.createElement("canvas");t.width=Ad*ci,t.height=Ad*ci;const s=t.getContext("2d");s.fillStyle="#ffffff";for(let i=0;i<Ad;i++){const r=e[i];for(let o=0;o<Ad;o++)r[o]==="#"&&s.fillRect(o*ci,i*ci,ci,ci)}El.eyes.set(n,t)}for(const[n,e]of Object.entries(ZA)){const t=document.createElement("canvas");t.width=By*ci,t.height=Ny*ci;const s=t.getContext("2d");s.fillStyle="#ffffff";for(let i=0;i<Ny;i++){const r=e[i];for(let o=0;o<By;o++)r[o]==="#"&&s.fillRect(o*ci,i*ci,ci,ci)}El.mouths.set(n,t)}El.initialized=!0}}class mA{constructor(e){this.robotGroup=e,this.faceMesh=null,this.faceAssembly=null,this.faceMaterial=null,this.currentEmotion=Rt.CONTENT,this.faceColor="#ffffff",this.canvas=document.createElement("canvas"),this.canvas.width=fr,this.canvas.height=fr,this.ctx=this.canvas.getContext("2d"),this.canvasTexture=null,this.verticalScale=1,this._detectRobotType(),Z6(),this.logger=new wt("RobotFaceManager",!1),this.currentQuat=new Ge,this.targetQuat=new Ge,this.baseQuat=new Ge,this.rotationSpeed=3,this.arcEaseIn=.3,this.arcEaseOut=.4,this._rotationProgress=1,this._lastTargetQuat=new Ge,this._isLookingAtTarget=!1,this.minPitch=$t.degToRad(-20),this.maxPitch=$t.degToRad(25),this.maxYaw=$t.degToRad(45),this._targetPos=new w,this._facePos=new w,this._lookDir=new w,this._tempQuat=new Ge,this._tempLookVec=new w,this.isScanning=!1,this.scanStartTime=0,this.scanRotations=2,this.scanDuration=0,this.scanYaw=0,this.turnLeadMultiplier=.7,this.maxTurnLead=$t.degToRad(35),this.currentTurnLead=0,this.turnLeadSmoothing=10,this._prevRobotYaw=0,this._robotTurnRate=0,this.velocityPitchMultiplier=.08,this.maxVelocityPitch=$t.degToRad(12),this.currentVelocityPitch=0,this._prevSpeed=0,this._smoothedAccel=0,this.velocityPosMultiplier=.012,this.maxVelocityPosOffset=.025,this.currentVelocityPosOffset=0,this._baseHeadPosition=null,this.overshootAmount=1.12,this.overshootSpring=150,this.overshootDamping=.82,this._overshootVelocity=new Ge,this._wasAtTarget=!0,this._findFaceMesh()}_detectRobotType(){if(!this.robotGroup)return;let e="";this.robotGroup.traverse(t=>{const s=t.name?.toLowerCase()||"";s.includes("baud")?e="baud":s.includes("blit")?e="blit":s.includes("modem")&&(e="modem")}),e==="baud"?this.verticalScale=1.15:(e==="blit"||e==="modem")&&(this.verticalScale=.85)}_findFaceMesh(){this.robotGroup&&(this.logger.log("RobotFaceManager: Scanning model hierarchy..."),this.robotGroup.traverse(e=>{e.children&&e.children.length>0&&this.logger.log(`  Node "${e.name}" has ${e.children.length} children:`,e.children.map(t=>t.name))}),this.robotGroup.traverse(e=>{if(!e.isMesh||this.faceMaterial)return;const t=Array.isArray(e.material)?e.material:[e.material];for(const s of t){this.logger.log(`RobotFaceManager: Found material "${s.name}" on mesh "${e.name}"`);const i=s.name?.toLowerCase()||"";if(i==="screen"||i==="screen1_mat"){let r=!1,o=!1,a=null;const l=e.name?.toLowerCase()||"";(l.includes("body")||l.includes("middle")||l.includes("tie"))&&(o=!0);let c=e.parent;for(;c&&c!==this.robotGroup;){const d=c.name?.toLowerCase()||"";if(d.includes("face")||d.includes("head")){r=!0,a=c;break}if(d.includes("body")||d.includes("middle")){o=!0;break}c=c.parent}if(o&&!r){this.logger.log(`RobotFaceManager: Skipping body mesh "${e.name}" with Screen material`);continue}this.faceMesh=e,this.faceAssembly=a,this.logger.log(`RobotFaceManager: Found Screen material on face mesh "${e.name}"`),a?this.logger.log(`RobotFaceManager: Found face assembly parent "${a.name}"`):e.parent&&e.parent!==this.robotGroup&&(this.faceAssembly=e.parent,this.logger.log(`RobotFaceManager: Using parent "${e.parent.name}" as face assembly`)),this.faceMaterial=s.clone(),this.faceMesh.material=this.faceMaterial,this.canvasTexture=new vn(this.canvas),this.canvasTexture.colorSpace=cs,this.canvasTexture.flipY=!0,this.canvasTexture.minFilter=Ot,this.canvasTexture.magFilter=Ot,this.faceMaterial.map=this.canvasTexture,this.faceMaterial.emissiveMap=this.canvasTexture,this.faceMaterial.emissive.setHex(16777215),this.faceMaterial.needsUpdate=!0,this._renderFace(this.currentEmotion);return}}}),this.faceMaterial||this.logger.warn("RobotFaceManager: Could not find Screen material"))}_renderFace(e){const t=sa[e];if(!t){this.logger.warn(`RobotFaceManager: No parts data for "${e}"`);return}if(!Yu[t.leftEye]||!Yu[t.rightEye]||!ZA[t.mouth]){this.logger.warn(`RobotFaceManager: Missing part for "${e}"`);return}this._renderParts(t.leftEye,t.rightEye,t.mouth)}_renderParts(e,t,s){this.ctx.clearRect(0,0,fr,fr);const i=.6,r=ci*i,o=ci*i*this.verticalScale,a=Sy*r,l=Sy*o,c=(fr-a)/2,d=(fr-l)/2+15,u=Ad*r,h=Ad*o,f=By*r,A=Ny*o;this.ctx.imageSmoothingEnabled=!1;const p=El.eyes.get(e);p&&this.ctx.drawImage(p,0,0,p.width,p.height,c,d,u,h);const g=El.eyes.get(t);g&&this.ctx.drawImage(g,0,0,g.width,g.height,c+u,d,u,h);const m=El.mouths.get(s);m&&this.ctx.drawImage(m,0,0,m.width,m.height,c,d+h,f,A),this.faceColor!=="#ffffff"&&(this.ctx.globalCompositeOperation="source-atop",this.ctx.fillStyle=this.faceColor,this.ctx.fillRect(0,0,fr,fr),this.ctx.globalCompositeOperation="source-over"),this.ctx.globalCompositeOperation="destination-over",this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,fr,fr),this.ctx.globalCompositeOperation="source-over",this.canvasTexture&&(this.canvasTexture.needsUpdate=!0)}setFaceColor(e){if(this.faceColor===e)return;this.faceColor=e;const t=sa[this.currentEmotion];t&&this._renderParts(t.leftEye,t.rightEye,t.mouth)}getFaceColor(){return this.faceColor}setEyes(e,t=e){if(!Yu[e]||!Yu[t]){this.logger.warn(`RobotFaceManager: Unknown eye "${e}" or "${t}"`);return}const i=sa[this.currentEmotion]?.mouth||"neutral";this._renderParts(e,t,i)}setMouth(e){if(!ZA[e]){this.logger.warn(`RobotFaceManager: Unknown mouth "${e}"`);return}const t=sa[this.currentEmotion],s=t?.leftEye||"squareL",i=t?.rightEye||"squareR";this._renderParts(s,i,e)}updateEyesForMotion(e,t,s){if(!this.canvasTexture)return;this._eyeMotionState||(this._eyeMotionState={currentLookX:0,targetLookX:0,overrideActive:!1,overrideTimer:0});const i=this._eyeMotionState,r=.5,o=1;Math.abs(e)>r?(i.targetLookX=Math.sign(e)*Math.min(o,Math.abs(e)/2),i.overrideActive=!0,i.overrideTimer=.3):i.overrideTimer>0&&(i.overrideTimer-=s,i.overrideTimer<=0&&(i.targetLookX=0,i.overrideActive=!1));const a=1-Math.exp(-6*s);i.currentLookX+=(i.targetLookX-i.currentLookX)*a,this._applyEyeLook(i.currentLookX,0)}updateEyesForJump(e,t){if(this.canvasTexture)switch(e){case"anticipation":this._applyEyeLook(0,.5);break;case"ascent":this.setEyes("wideL","wideR");break;case"apex":this.setEyes("bugOutL","bugOutR");break;case"descent":this._applyEyeLook(0,-.5);break;case"landing":this.setEyes("squintL","squintR");break;default:this._renderFace(this.currentEmotion)}}_applyEyeLook(e,t){let s,i;if(Math.abs(t)>Math.abs(e)&&Math.abs(t)>.4?t>.4?(s="lookUpL",i="lookUpR"):t<-.4&&(s="lookDownL",i="lookDownR"):Math.abs(e)>.5&&(e>.5?(s="lookRightL",i="lookRightR"):e<-.5&&(s="lookLeftL",i="lookLeftR")),!s||!i){const c=sa[this.currentEmotion];s=c?.leftEye||"squareL",i=c?.rightEye||"squareR"}const l=sa[this.currentEmotion]?.mouth||"neutral";this._renderParts(s,i,l)}resetEyes(){this._renderFace(this.currentEmotion),this._eyeMotionState&&(this._eyeMotionState.currentLookX=0,this._eyeMotionState.targetLookX=0,this._eyeMotionState.overrideActive=!1)}flashPupils(e=200){this.canvasTexture&&(this.setEyes("squarePupilL","squarePupilR"),setTimeout(()=>{this._renderFace(this.currentEmotion)},e))}flashDotPupils(e=150){this.canvasTexture&&(this.setEyes("dotL","dotR"),setTimeout(()=>{this._renderFace(this.currentEmotion)},e))}quickEyeChange(e,t=200){if(this.canvasTexture){switch(e){case"widen":this.setEyes("wideL","wideR");break;case"squint":this.setEyes("squintL","squintR");break;case"xEyes":this.setEyes("xEyeL","xEyeR");break;case"pupils":this.setEyes("squarePupilL","squarePupilR");break;case"dots":this.setEyes("dotL","dotR");break;case"bugOut":this.setEyes("bugOutL","bugOutR");break}t>0&&setTimeout(()=>{this._renderFace(this.currentEmotion)},t)}}randomEyeVariation(){if(!this.canvasTexture)return;const e=Math.random();e<.4?this.flashPupils(150+Math.random()*100):e<.6?this.quickEyeChange("widen",100+Math.random()*100):e<.75?this.quickEyeChange("squint",80+Math.random()*80):this.flashDotPupils(100+Math.random()*100)}updateTalkingMouth(e){if(!this.canvasTexture)return;this._talkState||(this._talkState={mouthIndex:0,timer:0,isTalking:!1});const t=this._talkState;t.timer+=e;const s=.08+Math.random()*.04;if(t.timer>=s){t.timer=0,t.mouthIndex=(t.mouthIndex+1)%Ub.length;const i=sa[this.currentEmotion],r=i?.leftEye||"squareL",o=i?.rightEye||"squareR",a=Ub[t.mouthIndex];ZA[a]&&this._renderParts(r,o,a)}t.isTalking=!0}stopTalking(){this._talkState&&(this._talkState.isTalking=!1,this._talkState.timer=0),this._renderFace(this.currentEmotion)}isTalking(){return this._talkState?.isTalking||!1}setEmotion(e){if(!this.canvasTexture){this.logger.warn(`RobotFaceManager: Cannot set emotion "${e}" - no canvas texture`);return}if(!sa[e]){this.logger.warn(`RobotFaceManager: Unknown emotion "${e}"`);return}this.logger.log(`RobotFaceManager: Setting emotion "${e}"`),this._renderFace(e),this.currentEmotion=e}getEmotion(){return this.currentEmotion}setRandomLookTarget(){const e=this.faceAssembly||this.faceMesh;if(!e)return;this._isLookingAtTarget=!1;const t=(Math.random()-.5)*2*this.maxYaw,s=this.minPitch+Math.random()*(this.maxPitch-this.minPitch);this._lastTargetQuat.copy(this.targetQuat),this.targetQuat.setFromEuler(e.rotation.clone().set(s,0,t)),this._rotationProgress=0}lookAtPosition(e,t=null){const s=this.faceAssembly||this.faceMesh;if(!s)return;this._isLookingAtTarget=!0,this.robotGroup.getWorldPosition(this._facePos),this._facePos.y+=.25;const i=t!==null?t:this.robotGroup.rotation.y,r=e.x-this._facePos.x,o=e.z-this._facePos.z;let l=Math.atan2(r,o)-i;for(;l>Math.PI;)l-=Math.PI*2;for(;l<-Math.PI;)l+=Math.PI*2;const c=e.y-this._facePos.y,d=Math.sqrt(r*r+o*o),u=Math.atan2(-c,d),h=$t.clamp(l,-this.maxYaw,this.maxYaw),f=$t.clamp(u,this.minPitch,this.maxPitch);this.targetQuat.setFromEuler(s.rotation.clone().set(f,0,-h))}lookAtWithBodyOverflow(e,t,s){const i=this.faceAssembly||this.faceMesh;if(!i)return 0;this._isLookingAtTarget=!0;const r=e.x-t.x,o=e.z-t.z;let l=Math.atan2(r,o)-s;for(;l>Math.PI;)l-=Math.PI*2;for(;l<-Math.PI;)l+=Math.PI*2;let c=0,d=l;l>this.maxYaw?(c=l-this.maxYaw,d=this.maxYaw):l<-this.maxYaw&&(c=l+this.maxYaw,d=-this.maxYaw);const u=e.y-t.y,h=Math.sqrt(r*r+o*o),f=Math.atan2(-u,h),A=$t.clamp(f,this.minPitch,this.maxPitch);return this.targetQuat.setFromEuler(i.rotation.clone().set(A,0,-d)),c}startScanRotation(e){this.isScanning=!0,this.scanStartTime=performance.now(),this.scanDuration=e,this.scanYaw=0}stopScanRotation(){this.isScanning=!1,this.targetQuat.identity(),this._rotationProgress=0}updateTurnRate(e,t,s=0){if(t<=0)return;let i=e-this._prevRobotYaw;i>Math.PI&&(i-=Math.PI*2),i<-Math.PI&&(i+=Math.PI*2);const r=i/t,o=1-Math.exp(-this.turnLeadSmoothing*t);this._robotTurnRate=$t.lerp(this._robotTurnRate,r,o);const a=$t.clamp(this._robotTurnRate*this.turnLeadMultiplier,-this.maxTurnLead,this.maxTurnLead);this.currentTurnLead=$t.lerp(this.currentTurnLead,a,o),this._prevRobotYaw=e;const l=(s-this._prevSpeed)/t;this._smoothedAccel=$t.lerp(this._smoothedAccel,l,o);const c=$t.clamp(-this._smoothedAccel*this.velocityPitchMultiplier,-this.maxVelocityPitch,this.maxVelocityPitch);this.currentVelocityPitch=$t.lerp(this.currentVelocityPitch,c,o);const d=$t.clamp(-this._smoothedAccel*this.velocityPosMultiplier,-this.maxVelocityPosOffset,this.maxVelocityPosOffset);this.currentVelocityPosOffset=$t.lerp(this.currentVelocityPosOffset,d,o),this._prevSpeed=s}updateRotation(e){const t=this.faceAssembly||this.faceMesh;if(t)if(this.isScanning){const s=performance.now()-this.scanStartTime,i=Math.min(s/this.scanDuration,1),o=(i<.5?2*i*i:1-Math.pow(-2*i+2,2)/2)*Math.PI*2*this.scanRotations,l=(Math.sin(i*Math.PI*2*3)+1)*.5,c=this.minPitch+l*(this.maxPitch-this.minPitch);t.rotation.set(c,0,o)}else{const s=this.currentQuat.angleTo(this.targetQuat),i=s<.05;this._rotationProgress<1&&(this._rotationProgress+=e*this.rotationSpeed*.5,this._rotationProgress=Math.min(this._rotationProgress,1));const r=this._smoothStepArc(this._rotationProgress,this.arcEaseIn,this.arcEaseOut);if(i&&!this._wasAtTarget&&s>.001){const l=this.overshootAmount;this._tempQuat.copy(this.currentQuat).slerp(this.targetQuat,l),this.currentQuat.copy(this._tempQuat)}const a=(1-Math.exp(-this.rotationSpeed*e))*(.5+r*.5);if(s<.3){const l=1-Math.exp(-this.overshootSpring*e*.01);this.currentQuat.slerp(this.targetQuat,l)}else this.currentQuat.slerp(this.targetQuat,a);this._wasAtTarget=i,t.quaternion.copy(this.currentQuat),this._isLookingAtTarget||(Math.abs(this.currentTurnLead)>.001&&(this._tempQuat.setFromAxisAngle(j6,this.currentTurnLead),t.quaternion.multiply(this._tempQuat)),Math.abs(this.currentVelocityPitch)>.001&&(this._tempQuat.setFromAxisAngle(K6,this.currentVelocityPitch),t.quaternion.multiply(this._tempQuat)),Math.abs(this.currentVelocityPosOffset)>1e-4&&(this._baseHeadPosition===null&&(this._baseHeadPosition=t.position.clone()),t.position.z=this._baseHeadPosition.z+this.currentVelocityPosOffset))}}_smoothStepArc(e,t,s){if(e<=0)return 0;if(e>=1)return 1;if(e<.5){const r=e*2;return .5*Math.pow(r,1+t*2)}const i=(e-.5)*2;return .5+.5*(1-Math.pow(1-i,1+s*2))}isAtTarget(){return this.currentQuat.angleTo(this.targetQuat)<.05}updateEmotionFlash(e,t,s,i){const r=Date.now();if(e.isFlashing){if(r>=e.flashEndTime){if(e.isFlashing=!1,!s){const o=[Rt.CONTENT,Rt.CONTENT,Rt.CURIOUS],a=o[Math.floor(Math.random()*o.length)];i(a)}e.nextFlashTime=r+t.intervalMin+Math.random()*(t.intervalMax-t.intervalMin)}}else if(!s&&r>=e.nextFlashTime){const o=t.emotions[Math.floor(Math.random()*t.emotions.length)];i(o),e.isFlashing=!0,e.flashEndTime=r+t.flashDurationMin+Math.random()*(t.flashDurationMax-t.flashDurationMin)}return e}updateLookTarget(e,t,s,i,r,o){if(r)return this._tempLookVec.set(r.x,r.y,r.z),this.lookAtPosition(this._tempLookVec,o),e;if(!s&&!i){const a=Date.now();if(a>=e.nextLookTime&&this.isAtTarget()){this.setRandomLookTarget();const l=t.lookDurationMin+Math.random()*(t.lookDurationMax-t.lookDurationMin);e.nextLookTime=a+l}}return e}static createFlashState(e){const t=Date.now();return Math.random()<.5?{isFlashing:!0,flashEndTime:t+100+Math.random()*e.flashDurationMax,nextFlashTime:0}:{isFlashing:!1,flashEndTime:0,nextFlashTime:t+Math.random()*e.intervalMax*2}}static createLookState(e){return{nextLookTime:Date.now()+e.lookIntervalMin+Math.random()*(e.lookIntervalMax-e.lookIntervalMin)}}dispose(){this.robotGroup=null,this.faceMesh=null,this.faceAssembly=null,this.faceMaterial=null,this.faceTextures=[]}}const Ht={IDLE:"idle",NAVIGATING:"navigating",JUMPING:"jumping",EXCITED:"excited",ANGRY:"angry",CURIOUS:"curious",SAD:"sad",CONTENT:"content",CHATTING:"chatting",PANICKING:"panicking"};class $6{constructor(e){this.robotGroup=e,this.logger=new wt("RobotArmManager",!1),this.shoulderL=null,this.shoulderR=null,this.baseQuatL=new Ge,this.baseQuatR=new Ge,this.currentQuatL=new Ge,this.currentQuatR=new Ge,this.targetQuatL=new Ge,this.targetQuatR=new Ge,this.prevQuatL=new Ge,this.prevQuatR=new Ge,this.angularSpeedL=0,this.angularSpeedR=0,this.squashStretchAmount=.15,this.squashStretchDecay=8,this.currentStretchL=0,this.currentStretchR=0,this.stretchVelocityL=0,this.stretchVelocityR=0,this.currentState=Ht.IDLE,this.stateTimer=0,this.transitionSpeed=5,this.velocityX=0,this.velocityZ=0,this.lastSpeed=0,this.jumpPhase=0,this.pointingState={targetType:"partner",holdTimer:0,holdDuration:0,currentTargetAngle:0,nextTargetAngle:0,transitioning:!1},this._tempEuler=new gs,this._tempQuat=new Ge,this._tempVec=new w,this.stateConfigs={[Ht.IDLE]:{swayAmplitude:.06,swayFrequency:.7,baseAngleL:{x:.15,y:0,z:.2},baseAngleR:{x:.15,y:0,z:-.2}},[Ht.NAVIGATING]:{maxSweep:.25,spreadAngle:.15,wobbleAmplitude:.03,wobbleFrequency:4},[Ht.JUMPING]:{anticipationAngle:{x:.3,y:0,z:.2},peakSpreadY:1.4,peakPitchX:.1,circleRadius:.15,circleSpeed:8,landingAngle:{x:.2,y:0,z:.15}},[Ht.EXCITED]:{angleL:{x:-1.4,y:0,z:.6},angleR:{x:-1.4,y:0,z:-.6},wobbleAmplitude:.15,wobbleFrequency:8},[Ht.ANGRY]:{angleL:{x:.3,y:-.2,z:.4},angleR:{x:.3,y:.2,z:-.4},shakeAmplitude:.1,shakeFrequency:15},[Ht.CURIOUS]:{angleL:{x:-.8,y:.3,z:.3},angleR:{x:.2,y:0,z:-.1},tiltAmplitude:.05,tiltFrequency:1},[Ht.SAD]:{angleL:{x:.4,y:0,z:.05},angleR:{x:.4,y:0,z:-.05},droopAmplitude:.03,droopFrequency:.3},[Ht.CONTENT]:{angleL:{x:.1,y:0,z:.15},angleR:{x:.1,y:0,z:-.15}},[Ht.CHATTING]:{pointArmPitch:-.7,pointArmSpread:.4,restArmAngle:{x:.2,z:.2},holdDurationMin:.8,holdDurationMax:1.5,transitionSpeed:4,partnerPointChance:.6},[Ht.PANICKING]:{baseAngle:{x:-1.2,y:0,z:.3},waveAmplitude:.8,waveFrequency:6,phaseOffset:Math.PI}},this._findShoulders()}_findShoulders(){this.robotGroup&&(this.robotGroup.traverse(e=>{const t=e.name?.toLowerCase()||"";!this.shoulderL&&t.includes("shoulder")&&(t.includes("_l")||t.includes("left")||t.includes(".l"))?(this.shoulderL=e,this.baseQuatL.copy(e.quaternion),this.currentQuatL.copy(e.quaternion),this.targetQuatL.copy(e.quaternion)):!this.shoulderR&&t.includes("shoulder")&&(t.includes("_r")||t.includes("right")||t.includes(".r"))&&(this.shoulderR=e,this.baseQuatR.copy(e.quaternion),this.currentQuatR.copy(e.quaternion),this.targetQuatR.copy(e.quaternion))}),this.shoulderL&&this.shoulderR?this.logger.log(`Found shoulders - L: ${this.shoulderL.name}, R: ${this.shoulderR.name}`):this.logger.warn(`Could not find both shoulders - L: ${this.shoulderL?.name||"NOT FOUND"}, R: ${this.shoulderR?.name||"NOT FOUND"}`))}setState(e){e!==this.currentState&&(this.currentState=e,this.stateTimer=0,e===Ht.JUMPING&&(this.jumpPhase=0))}setJumpPhase(e){this.jumpPhase=e}setPointingAngle(e){this.pointingState.nextTargetAngle=e,this.pointingState.transitioning=!0}update(e,t=0,s=0,i=0,r=0){if(!this.shoulderL||!this.shoulderR)return;this.stateTimer+=e,this.lastSpeed=t,this.velocityX=i,this.velocityZ=r,this.prevQuatL.copy(this.currentQuatL),this.prevQuatR.copy(this.currentQuatR),this._updateTargetRotations(e,t,s);const o=Math.min(1,this.transitionSpeed*e);this.currentQuatL.slerp(this.targetQuatL,o),this.currentQuatR.slerp(this.targetQuatR,o),this.angularSpeedL=this.currentQuatL.angleTo(this.prevQuatL)/Math.max(e,.001),this.angularSpeedR=this.currentQuatR.angleTo(this.prevQuatR)/Math.max(e,.001),this._updateSquashStretch(e),this.shoulderL.quaternion.copy(this.currentQuatL),this.shoulderR.quaternion.copy(this.currentQuatR),this._applyArmScale()}_updateTargetRotations(e,t,s){const i=this.stateConfigs[this.currentState],r=this.stateTimer;switch(this.currentState){case Ht.IDLE:this._updateIdleArms(i,r);break;case Ht.NAVIGATING:this._updateNavigatingArms(i,t,s);break;case Ht.JUMPING:this._updateJumpingArms(i,r);break;case Ht.EXCITED:this._updateExcitedArms(i,r);break;case Ht.ANGRY:this._updateAngryArms(i,r);break;case Ht.CURIOUS:this._updateCuriousArms(i,r);break;case Ht.SAD:this._updateSadArms(i,r);break;case Ht.CONTENT:this._updateContentArms(i);break;case Ht.CHATTING:this._updateChattingArms(i,r);break;case Ht.PANICKING:this._updatePanickingArms(i,r);break}}_updateIdleArms(e,t){const s=Math.sin(t*e.swayFrequency*Math.PI*2)*e.swayAmplitude;this._tempEuler.set(e.baseAngleL.x+s*.5,e.baseAngleL.y,e.baseAngleL.z+s),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatL.multiplyQuaternions(this.baseQuatL,this._tempQuat),this._tempEuler.set(e.baseAngleR.x-s*.5,e.baseAngleR.y,e.baseAngleR.z-s),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatR.multiplyQuaternions(this.baseQuatR,this._tempQuat)}_updateNavigatingArms(e,t,s){const i=$t.clamp(t*1.5,0,1),r=this.stateTimer,o=e.maxSweep*i,a=e.spreadAngle*i,l=Math.sin(r*e.wobbleFrequency*Math.PI*2)*e.wobbleAmplitude*i,c=$t.clamp(s*.1,-.1,.1)*i;this._tempEuler.set(o+l,c*.1,a+c),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatL.multiplyQuaternions(this.baseQuatL,this._tempQuat),this._tempEuler.set(o-l*.7,-c*.1,-a+c),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatR.multiplyQuaternions(this.baseQuatR,this._tempQuat)}_updateJumpingArms(e,t){let s=0,i=0;switch(this.jumpPhase){case 0:s=.1,i=0;break;case 1:s=$t.lerp(.1,.7,Math.min(t*4,1)),i=Math.min(t*3,.6);break;case 2:s=1,i=1;break;case 3:s=.9,i=.8;break;case 4:s=$t.lerp(.5,.1,Math.min(t*3,1)),i=$t.lerp(.5,0,Math.min(t*3,1));break;default:s=0,i=0}const r=t*e.circleSpeed*Math.PI*2,o=Math.sin(r)*e.circleRadius*i,a=Math.cos(r)*e.circleRadius*i,l=e.anticipationAngle.x*(1-s)+e.peakPitchX*s,c=e.peakSpreadY*s,d=e.anticipationAngle.z*(1-s);this._tempEuler.set(l+o,c,d+a),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatL.multiplyQuaternions(this.baseQuatL,this._tempQuat);const u=Math.sin(r+Math.PI*.3)*e.circleRadius*i,h=Math.cos(r+Math.PI*.3)*e.circleRadius*i;this._tempEuler.set(l+u,-c,-d+h),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatR.multiplyQuaternions(this.baseQuatR,this._tempQuat)}_updateExcitedArms(e,t){const s=Math.sin(t*e.wobbleFrequency*Math.PI*2)*e.wobbleAmplitude;this._tempEuler.set(e.angleL.x+s,e.angleL.y,e.angleL.z+s*.5),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatL.multiplyQuaternions(this.baseQuatL,this._tempQuat),this._tempEuler.set(e.angleR.x-s,e.angleR.y,e.angleR.z-s*.5),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatR.multiplyQuaternions(this.baseQuatR,this._tempQuat)}_updateAngryArms(e,t){const s=Math.sin(t*e.shakeFrequency*Math.PI*2)*e.shakeAmplitude,i=Math.exp(-t*.5),r=s*i;this._tempEuler.set(e.angleL.x+r,e.angleL.y+r*.5,e.angleL.z),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatL.multiplyQuaternions(this.baseQuatL,this._tempQuat),this._tempEuler.set(e.angleR.x-r,e.angleR.y-r*.5,e.angleR.z),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatR.multiplyQuaternions(this.baseQuatR,this._tempQuat)}_updateCuriousArms(e,t){const s=Math.sin(t*e.tiltFrequency*Math.PI*2)*e.tiltAmplitude;this._tempEuler.set(e.angleL.x+s,e.angleL.y,e.angleL.z),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatL.multiplyQuaternions(this.baseQuatL,this._tempQuat),this._tempEuler.set(e.angleR.x,e.angleR.y,e.angleR.z),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatR.multiplyQuaternions(this.baseQuatR,this._tempQuat)}_updateSadArms(e,t){const s=Math.sin(t*e.droopFrequency*Math.PI*2)*e.droopAmplitude;this._tempEuler.set(e.angleL.x+s,e.angleL.y,e.angleL.z),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatL.multiplyQuaternions(this.baseQuatL,this._tempQuat),this._tempEuler.set(e.angleR.x+s,e.angleR.y,e.angleR.z),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatR.multiplyQuaternions(this.baseQuatR,this._tempQuat)}_updateContentArms(e){this._tempEuler.set(e.angleL.x,e.angleL.y,e.angleL.z),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatL.multiplyQuaternions(this.baseQuatL,this._tempQuat),this._tempEuler.set(e.angleR.x,e.angleR.y,e.angleR.z),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatR.multiplyQuaternions(this.baseQuatR,this._tempQuat)}_updateChattingArms(e,t){const s=this.pointingState;if(s.holdTimer+=1/60,s.holdTimer>=s.holdDuration&&(s.holdTimer=0,s.holdDuration=e.holdDurationMin+Math.random()*(e.holdDurationMax-e.holdDurationMin),Math.random()<e.partnerPointChance?(s.targetType="partner",s.nextTargetAngle=0):(s.targetType="environment",s.nextTargetAngle=(Math.random()-.5)*Math.PI*1.2),s.transitioning=!0),s.transitioning){const o=s.nextTargetAngle-s.currentTargetAngle,a=e.transitionSpeed/60;Math.abs(o)<a?(s.currentTargetAngle=s.nextTargetAngle,s.transitioning=!1):s.currentTargetAngle+=Math.sign(o)*a}const i=s.currentTargetAngle;if(i>-.3){const o=$t.clamp(i,-.8,1.2);this._tempEuler.set(e.pointArmPitch,o*.6,-e.pointArmSpread-Math.abs(o)*.2),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatR.multiplyQuaternions(this.baseQuatR,this._tempQuat);const a=Math.sin(t*1.5)*.05;this._tempEuler.set(e.restArmAngle.x+a,0,e.restArmAngle.z+a*.5),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatL.multiplyQuaternions(this.baseQuatL,this._tempQuat)}else{const o=$t.clamp(i,-1.2,.8);this._tempEuler.set(e.pointArmPitch,o*.6,e.pointArmSpread+Math.abs(o)*.2),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatL.multiplyQuaternions(this.baseQuatL,this._tempQuat);const a=Math.sin(t*1.5)*.05;this._tempEuler.set(e.restArmAngle.x+a,0,-e.restArmAngle.z-a*.5),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatR.multiplyQuaternions(this.baseQuatR,this._tempQuat)}}_updatePanickingArms(e,t){const s=Math.sin(t*e.waveFrequency*Math.PI*2)*e.waveAmplitude;this._tempEuler.set(e.baseAngle.x+s,e.baseAngle.y+s*.3,e.baseAngle.z+s*.5),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatL.multiplyQuaternions(this.baseQuatL,this._tempQuat);const i=Math.sin(t*e.waveFrequency*Math.PI*2+e.phaseOffset)*e.waveAmplitude;this._tempEuler.set(e.baseAngle.x+i,-e.baseAngle.y-i*.3,-e.baseAngle.z-i*.5),this._tempQuat.setFromEuler(this._tempEuler),this.targetQuatR.multiplyQuaternions(this.baseQuatR,this._tempQuat)}_updateSquashStretch(e){const t=$t.clamp(this.angularSpeedL*.15,-1,1),s=$t.clamp(this.angularSpeedR*.15,-1,1),i=15,r=.6,o=t-this.currentStretchL;this.stretchVelocityL+=o*i*e,this.stretchVelocityL*=Math.pow(r,e*60),this.currentStretchL+=this.stretchVelocityL*e,this.currentStretchL=$t.clamp(this.currentStretchL,-1,1);const a=s-this.currentStretchR;this.stretchVelocityR+=a*i*e,this.stretchVelocityR*=Math.pow(r,e*60),this.currentStretchR+=this.stretchVelocityR*e,this.currentStretchR=$t.clamp(this.currentStretchR,-1,1);const l=Math.exp(-this.squashStretchDecay*e);this.angularSpeedL<.5&&(this.currentStretchL*=l,this.stretchVelocityL*=l),this.angularSpeedR<.5&&(this.currentStretchR*=l,this.stretchVelocityR*=l)}_applyArmScale(){if(!this.shoulderL||!this.shoulderR)return;const e=this.currentStretchL*this.squashStretchAmount,t=this.currentStretchR*this.squashStretchAmount,s=1+e,i=1/Math.sqrt(Math.max(.5,s)),r=1+t,o=1/Math.sqrt(Math.max(.5,r));this.shoulderL.scale.set(i,s,i),this.shoulderR.scale.set(o,r,o)}static emotionToArmState(e){return{content:Ht.CONTENT,excited:Ht.EXCITED,sad:Ht.SAD,angry:Ht.ANGRY,curious:Ht.CURIOUS,acknowledge:Ht.CONTENT,awe:Ht.EXCITED,fear:Ht.PANICKING,thinking:Ht.CURIOUS,joy:Ht.EXCITED}[e?.toLowerCase()]||Ht.CONTENT}determineStateFromContext(e,t,s){const i=e?.currentAnimation;if(i==="chatting")return Ht.CHATTING;if(i==="angry")return Ht.ANGRY;if(i==="happy"){const r=e.animationTimer/.7;return r<.15?this.setJumpPhase(0):r<.4?this.setJumpPhase(1):r<.6?this.setJumpPhase(2):r<.85?this.setJumpPhase(3):this.setJumpPhase(4),Ht.JUMPING}if(i==="happyLoop"){const r=e.animationPhase;return r===0?this.setJumpPhase(0):r===1?this.setJumpPhase(1):r===2||r===3?this.setJumpPhase(2):this.setJumpPhase(4),Ht.JUMPING}if(i==="happyBarrel"){const r=e.animationPhase;return r===0?this.setJumpPhase(0):r===1?this.setJumpPhase(1):r===2?this.setJumpPhase(2):r===3?this.setJumpPhase(2):r===4?this.setJumpPhase(3):this.setJumpPhase(4),Ht.JUMPING}if(i==="happyBounce"){const r=e.animationPhase;return r===0?this.setJumpPhase(0):r===1?this.setJumpPhase(1):this.setJumpPhase(4),Ht.JUMPING}if(t.isJumping){const r=t.jumpProgress||0,o=t.jumpAnticipationEnd||.2;if(r<o)this.setJumpPhase(0);else{const a=(r-o)/(1-o);a<.25?this.setJumpPhase(1):a<.55?this.setJumpPhase(2):a<.85?this.setJumpPhase(3):this.setJumpPhase(4)}return Ht.JUMPING}return t.landingTimer>0&&t.landingTimer<.3?(this.setJumpPhase(4),Ht.JUMPING):s>.05?Ht.NAVIGATING:Ht.IDLE}calculatePointingAngle(e,t){if(!e||!t)return null;const s=t.position,i=e.position,r=s.x-i.x,o=s.z-i.z,a=Math.atan2(r,o),l=e.rotation.y;let c=a-l;for(;c>Math.PI;)c-=Math.PI*2;for(;c<-Math.PI;)c+=Math.PI*2;return c}}const kn={NECKTIE:"necktie",BOWTIE:"bowtie",CUMBERBUND:"cumberbund"},Ob={modem:kn.NECKTIE,blit:kn.BOWTIE,baud:kn.CUMBERBUND},vS={STILL:["..............",".....####.....","....######....",".....####.....","......##......","......##......","......##......",".....####.....",".....####.....",".....####.....",".....####.....","....######....","....######....","....######....",".....####.....","......##......","......##......",".............."],LEFT:["..............","....####......","...######.....","....####......","...##.........","..##..........",".##...........","####..........","####..........",".####.........",".####.........","..######......","...######.....","....#####.....",".....####.....","......##......","......##......",".............."],RIGHT:["..............","......####....",".....######...","......####....",".........##...","..........##..","...........##.","..........####","..........####",".........####.",".........####.","......######..",".....######...",".....#####....",".....####.....","......##......","......##......",".............."],CENTER:["..............",".....####.....","....######....",".....####.....","......##......","......##......","......##......",".....####.....",".....####.....",".....####.....",".....####.....","....######....","....######....","....######....",".....####.....","......##......","..............",".............."]},My={STILL:["..................","..##........##....",".####......####...","######....######..","######.##.######..","######.##.######..","######....######..",".####......####...","..##........##....",".................."],LEFT:["..................",".##..........##...","####........####..","#####......######.","#####..##..######.","#####..##..######.","#####......######.","####........####..",".##..........##...",".................."],RIGHT:["..................","...##..........##.","..####........####",".######......#####",".######..##..#####",".######..##..#####",".######......#####","..####........####","...##..........##.",".................."],CENTER:["..................","..##........##....",".####......####...","######....######..","#######..#######..","#######..#######..","######....######..",".####......####...","..##........##....",".................."]},ES={STILL:["............................","....####################....","...###................###...","..########################..","..########################..","...###................###...","....####################....","............................"],LEFT:["............................","..####################......",".###................###.....","########################....","########################....",".###................###.....","..####################......","............................"],RIGHT:["............................","......####################..",".....###................###.","....########################","....########################",".....###................###.","......####################..","............................"],CENTER:["............................","....####################....","...###................###...","..########################..","..########################..","...###................###...","....####################....","............................"]};function CS(n){switch(n){case kn.NECKTIE:return vS;case kn.BOWTIE:return My;case kn.CUMBERBUND:return ES;default:return My}}function bS(n){const e=CS(n),t=e.STILL.length;return{width:e.STILL[0].length,height:t}}const jn=128,$A={[kn.NECKTIE]:{},[kn.BOWTIE]:{},[kn.CUMBERBUND]:{},initialized:!1};function eH(){if($A.initialized)return;const n={[kn.NECKTIE]:vS,[kn.BOWTIE]:My,[kn.CUMBERBUND]:ES};for(const[e,t]of Object.entries(n)){const s=bS(e),{width:i,height:r}=s,o=Math.floor(jn/i),a=Math.floor(jn/r),l=Math.min(o,a),c=i*l,d=r*l,u=Math.floor((jn-c)/2),h=Math.floor((jn-d)/2);for(const f of["STILL","LEFT","RIGHT","CENTER"]){const A=t[f];if(!A)continue;const p=document.createElement("canvas");p.width=jn,p.height=jn;const g=p.getContext("2d");g.fillStyle="#ffffff";for(let m=0;m<r;m++){const y=A[m];if(y){for(let _=0;_<i;_++)if(y[_]==="#"){const I=jn-h-(m+1)*l;g.fillRect(u+_*l,I,l,l)}}}$A[e][f]=p}}$A.initialized=!0}class tH{constructor(e){this.robotGroup=e,this.logger=new wt("RobotTieManager",!1),this.tieMesh=null,this.tieMaterial=null,this.canvas=null,this.ctx=null,this.canvasTexture=null,this.tieType=kn.BOWTIE,this.tieData=null,this.tieDimensions=null,this.currentFrameName=null,this.tieColor="#ffffff",this.frameTimer=0,this.frameToggle=!1,this.frameInterval=.4,this.turnDirection=0,this.isStopping=!1,this.stoppingTimer=0,this.isMoving=!1,eH(),this._detectCharacterType(),this._findTieMesh()}_detectCharacterType(){if(!this.robotGroup)return;const e=this.robotGroup.userData?.characterId?.toLowerCase()||"";if(Ob[e])this.tieType=Ob[e];else{const t=this.robotGroup.name?.toLowerCase()||"";t.includes("modem")?this.tieType=kn.NECKTIE:t.includes("baud")?this.tieType=kn.CUMBERBUND:this.tieType=kn.BOWTIE}this.tieData=CS(this.tieType),this.tieDimensions=bS(this.tieType)}_findTieMesh(){this.robotGroup&&(this.logger.log(`Searching for ChestScreen in robot: ${this.robotGroup.name||this.robotGroup.userData?.characterId||"unknown"}`),this.robotGroup.traverse(e=>{if(!e.isMesh||!e.material||this.tieMaterial)return;const t=Array.isArray(e.material)?e.material:[e.material];for(const s of t){const i=s.name?.toLowerCase()||"";if(this.logger.log(`Found material: "${s.name}" on mesh: "${e.name}"`),i==="chestscreen"||i==="screen2"||i==="screen2_mat"){this.logger.log(` Found tie material: ${s.name}`),this.tieMesh=e,this.tieMaterial=s,this._initCanvas();return}}}),this.tieMaterial||this.logger.warn(" No ChestScreen material found"))}_initCanvas(){this.tieMaterial&&(this.canvas=document.createElement("canvas"),this.canvas.width=jn,this.canvas.height=jn,this.ctx=this.canvas.getContext("2d"),this.canvasTexture=new vn(this.canvas),this.canvasTexture.colorSpace=cs,this.canvasTexture.wrapS=fi,this.canvasTexture.wrapT=fi,this.canvasTexture.minFilter=Ot,this.canvasTexture.magFilter=Ot,this.tieMaterial.map=this.canvasTexture,this.tieMaterial.emissiveMap=this.canvasTexture,this.tieMaterial.emissive?this.tieMaterial.emissive.r===0&&this.tieMaterial.emissive.g===0&&this.tieMaterial.emissive.b===0&&this.tieMaterial.emissive.setRGB(1,1,1):this.tieMaterial.emissive=new st(1,1,1),this.tieMaterial.emissiveIntensity=1,this.tieMaterial.needsUpdate=!0,this.logger.log(`Canvas texture applied to ${this.tieMaterial.name}`),this._renderFrame("STILL"))}_renderFrame(e,t=!1){if(!this.ctx||!this.tieType||this.currentFrameName===e&&!t)return;const s=$A[this.tieType]?.[e];s&&(this.ctx.clearRect(0,0,jn,jn),this.ctx.drawImage(s,0,0),this.tieColor!=="#ffffff"&&(this.ctx.globalCompositeOperation="source-atop",this.ctx.fillStyle=this.tieColor,this.ctx.fillRect(0,0,jn,jn),this.ctx.globalCompositeOperation="source-over"),this.ctx.globalCompositeOperation="destination-over",this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,jn,jn),this.ctx.globalCompositeOperation="source-over",this.canvasTexture.needsUpdate=!0,this.currentFrameName=e)}setTieColor(e){this.tieColor!==e&&(this.tieColor=e,this.currentFrameName&&this._renderFrame(this.currentFrameName,!0))}getTieColor(){return this.tieColor}_setFrame(e){this._renderFrame(e)}update(e,t,s,i){if(!this.canvasTexture)return;const r=Math.abs(e)>.5,o=t>.15,a=this.isMoving&&!o;if(this.isMoving=o,a&&(this.isStopping=!0,this.stoppingTimer=0),this.isStopping&&(this.stoppingTimer+=i,this.stoppingTimer>.6)){this.isStopping=!1,this._setFrame("STILL"),this.frameTimer=0;return}let l,c,d;if(r)l=e>0?"RIGHT":"LEFT",c="CENTER",d=Math.max(.3,.5-Math.abs(e)*.03);else if(this.isStopping)l="STILL",c="CENTER",d=.2;else if(o)l="STILL",c="CENTER",d=.5;else{this._setFrame("STILL"),this.frameTimer=0;return}this.frameTimer+=i,this.frameTimer>=d&&(this.frameTimer=0,this.frameToggle=!this.frameToggle,this._setFrame(this.frameToggle?c:l))}setFrame(e){this.tieData&&this.tieData[e]&&this._renderFrame(e)}getTieType(){return this.tieType}dispose(){this.canvasTexture&&this.canvasTexture.dispose(),this.tieMesh=null,this.tieMaterial=null,this.canvas=null,this.ctx=null,this.canvasTexture=null}}class sH{constructor(e={}){this.config={ringCount:5,minBaseRadius:.02,maxBaseRadius:.04,minMaxRadius:.03,maxMaxRadius:.05,ringThickness:.006,minOpacity:.4,maxOpacity:.6,minEmitSpeed:.08,maxEmitSpeed:.12,minEmitDistance:.03,maxEmitDistance:.05,primaryColor:65535,secondaryColor:35071,pulseSpeed:4,...e},this.group=new Tt,this.rings=[],this.time=0,this.intensity=0,this.targetIntensity=0,this.isActive=!0,this.jumpBoost=0,this.targetJumpBoost=0,this.animationSpeedScale=1,this._createRings()}_createRings(){const e=this.config;for(let t=0;t<e.ringCount;t++){let s;e.characterColor&&t%2===0?s=e.characterColor:s=t%2===0?e.primaryColor:e.secondaryColor;const i=new ql(e.minBaseRadius-e.ringThickness/2,e.minBaseRadius+e.ringThickness/2,32),r=new Nt({color:s,transparent:!0,opacity:0,side:js,blending:Ts,depthWrite:!1,depthTest:!0}),o=new it(i,r);o.rotation.x=-Math.PI/2,o.position.y=0,o.renderOrder=-100+t,o.userData.phase=t/e.ringCount,o.userData.baseColor=s,this.group.add(o),this.rings.push(o)}}setIntensity(e,t=1.4,s=!1,i=0,r=!1){const o=Math.min(e/t,1),a=.4,l=Math.pow(o,1.5)*.25;this.targetIntensity=a+l,s?r?this.targetJumpBoost=.8+i*.2:this.targetJumpBoost=.4+(1-i)*.3:this.targetJumpBoost=0;const c=.12;this.intensity+=(this.targetIntensity-this.intensity)*c,this.jumpBoost+=(this.targetJumpBoost-this.jumpBoost)*c}update(e){if(!this.isActive)return;this.time+=e*this.animationSpeedScale;const t=this.config,s=this.maxScale??1,i=Math.min(1,this.intensity+this.jumpBoost)*s,r=t.minBaseRadius+(t.maxBaseRadius-t.minBaseRadius)*i,o=t.minMaxRadius+(t.maxMaxRadius-t.minMaxRadius)*i,a=t.minEmitSpeed+(t.maxEmitSpeed-t.minEmitSpeed)*i,l=t.minEmitDistance+(t.maxEmitDistance-t.minEmitDistance)*i,c=t.minOpacity+(t.maxOpacity-t.minOpacity)*i,d=l/a;for(let u=0;u<this.rings.length;u++){const h=this.rings[u],f=h.userData.phase,A=(this.time/d+f)%1;h.position.y=-A*l;let p=r+A*(o-r),g=1;A>.75&&(g=1-(A-.75)/.25*.8);const m=p/t.minBaseRadius*g;h.scale.set(m,m,1);let y;if(A<.15)y=A/.15*c;else if(A>.75){const v=(A-.75)/.25;y=c*(1-v)}else y=c;const _=.1+i*.15,I=1-_+_*Math.sin(this.time*t.pulseSpeed*Math.PI*2+u*.5);y*=I,this.jumpBoost>.1&&(y*=1+this.jumpBoost*.3),h.material.opacity=Math.max(0,Math.min(1,y))}}attachTo(e,t=.5,s=0,i=1){const r=1/t;this.group.scale.set(r,r,r),this.group.position.set(0,s,0),this.maxScale=i,e.add(this.group)}getObject3D(){return this.group}updateFromContext(e,t,s,i,r,o){let a=s?.isJumping||!1,l=0,c=!1;const d=i?.currentAnimation;if(d==="happy"||d==="happyLoop"||d==="happyBarrel"||d==="happyBounce")if(a=!0,d==="happyLoop"){const u=i.animationPhase;l=i.animationTimer/2.2,c=u===1||u===2&&l<.6}else if(d==="happyBarrel"){const u=i.animationPhase;l=i.animationTimer/2.5,c=u===1||u===2||u===3}else if(d==="happyBounce"){const u=i.animationPhase;l=i.animationTimer/1.4,c=u===1}else l=i.animationTimer/.7,c=l<.4;else if(a&&r?.offMeshAnimation){const u=r.offMeshAnimation,h=Math.sqrt(Math.pow(u.endPosition[0]-u.startPosition[0],2)+Math.pow(u.endPosition[2]-u.startPosition[2],2))+Math.abs(u.endPosition[1]-u.startPosition[1]),f=Math.min(1.4,.75+h*.3);l=Math.min(1,u.t/f),c=l<.4}this.setIntensity(e,t,a,l,c),this.update(o)}dispose(){this.isActive=!1;for(const e of this.rings)e.geometry.dispose(),e.material.dispose(),this.group.remove(e);this.rings=[],this.group.parent&&this.group.parent.remove(this.group)}}const Md=1e-6;function ch(n){return n>=0?Math.round(n):n%.5===0?Math.floor(n):Math.round(n)}const ha=(n,e,t)=>Math.max(e,Math.min(t,n));function Og(){return[0,0]}function nH(n){return[n[0],n[1]]}function iH(n,e){return[n,e]}function wS(n,e){return n[0]=e[0],n[1]=e[1],n}function BS(n,e,t){return n[0]=e,n[1]=t,n}function NS(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function rH(n,e,t){return n[0]=e[0]+t,n[1]=e[1]+t,n}function pd(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function oH(n,e,t){return n[0]=e[0]-t,n[1]=e[1]-t,n}function SS(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function MS(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function aH(n,e){return n[0]=Math.ceil(e[0]),n[1]=Math.ceil(e[1]),n}function lH(n,e){return n[0]=Math.floor(e[0]),n[1]=Math.floor(e[1]),n}function cH(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function dH(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}function uH(n,e){return n[0]=ch(e[0]),n[1]=ch(e[1]),n}function hH(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function fH(n,e,t,s){return n[0]=e[0]+t[0]*s,n[1]=e[1]+t[1]*s,n}function yI(n,e){const t=e[0]-n[0],s=e[1]-n[1];return Math.sqrt(t*t+s*s)}function TS(n,e){const t=e[0]-n[0],s=e[1]-n[1];return t*t+s*s}function PS(n){const e=n[0],t=n[1];return Math.sqrt(e*e+t*t)}function RS(n){const e=n[0],t=n[1];return e*e+t*t}function AH(n,e){return n[0]=-e[0],n[1]=-e[1],n}function pH(n,e){return n[0]=1/e[0],n[1]=1/e[1],n}function gH(n,e){const t=e[0],s=e[1];let i=t*t+s*s;return i>0&&(i=1/Math.sqrt(i)),n[0]=e[0]*i,n[1]=e[1]*i,n}function ep(n,e){return n[0]*e[0]+n[1]*e[1]}function mH(n,e,t){const s=e[0]*t[1]-e[1]*t[0];return n[0]=n[1]=0,n[2]=s,n}function xH(n,e,t,s){const i=e[0],r=e[1];return n[0]=i+s*(t[0]-i),n[1]=r+s*(t[1]-r),n}function yH(n,e,t){const s=e[0],i=e[1];return n[0]=t[0]*s+t[2]*i,n[1]=t[1]*s+t[3]*i,n}function _H(n,e,t){const s=e[0],i=e[1];return n[0]=t[0]*s+t[2]*i+t[4],n[1]=t[1]*s+t[3]*i+t[5],n}function IH(n,e,t){const s=e[0],i=e[1];return n[0]=t[0]*s+t[3]*i+t[6],n[1]=t[1]*s+t[4]*i+t[7],n}function vH(n,e,t){const s=e[0],i=e[1];return n[0]=t[0]*s+t[4]*i+t[12],n[1]=t[1]*s+t[5]*i+t[13],n}function EH(n,e,t,s){const i=e[0]-t[0],r=e[1]-t[1],o=Math.sin(s),a=Math.cos(s);return n[0]=i*a-r*o+t[0],n[1]=i*o+r*a+t[1],n}function CH(n,e){const t=n[0],s=n[1],i=e[0],r=e[1],o=Math.sqrt((t*t+s*s)*(i*i+r*r)),a=o&&(t*i+s*r)/o;return Math.acos(Math.min(Math.max(a,-1),1))}function bH(n){return n[0]=0,n[1]=0,n}function wH(n){return`vec2(${n[0]}, ${n[1]})`}function BH(n,e){return n[0]===e[0]&&n[1]===e[1]}function NH(n,e){const t=n[0],s=n[1],i=e[0],r=e[1];return Math.abs(t-i)<=Md*Math.max(1,Math.abs(t),Math.abs(i))&&Math.abs(s-r)<=Md*Math.max(1,Math.abs(s),Math.abs(r))}function SH(n){return Number.isFinite(n[0])&&Number.isFinite(n[1])}const MH=PS,TH=pd,PH=SS,RH=MS,QH=yI,DH=TS,LH=RS;var mt=Object.freeze({__proto__:null,add:NS,addScalar:rH,angle:CH,ceil:aH,clone:nH,copy:wS,create:Og,cross:mH,dist:QH,distance:yI,div:RH,divide:MS,dot:ep,equals:NH,exactEquals:BH,finite:SH,floor:lH,fromValues:iH,inverse:pH,len:MH,length:PS,lerp:xH,max:dH,min:cH,mul:PH,multiply:SS,negate:AH,normalize:gH,rotate:EH,round:uH,scale:hH,scaleAndAdd:fH,set:BS,sqrDist:DH,sqrLen:LH,squaredDistance:TS,squaredLength:RS,str:wH,sub:TH,subtract:pd,subtractScalar:oH,transformMat2:yH,transformMat2d:_H,transformMat3:IH,transformMat4:vH,zero:bH});function _I(){return[0,0,0]}function kH(n){const e=[0,0,0];return e[0]=n[0],e[1]=n[1],e[2]=n[2],e}function II(n){const e=n[0],t=n[1],s=n[2];return Math.sqrt(e*e+t*t+s*s)}function Ty(n,e,t){const s=[0,0,0];return s[0]=n,s[1]=e,s[2]=t,s}function FH(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function UH(n,e,t,s){return n[0]=e,n[1]=t,n[2]=s,n}function OH(n,e,t=0){return n[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n}function GH(n,e,t=0){return n[t]=e[0],n[t+1]=e[1],n[t+2]=e[2],n}function QS(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function HH(n,e,t){return n[0]=e[0]+t,n[1]=e[1]+t,n[2]=e[2]+t,n}function DS(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function zH(n,e,t){return n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]-t,n}function LS(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}function kS(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n[2]=e[2]/t[2],n}function VH(n,e){return n[0]=Math.ceil(e[0]),n[1]=Math.ceil(e[1]),n[2]=Math.ceil(e[2]),n}function qH(n,e){return n[0]=Math.floor(e[0]),n[1]=Math.floor(e[1]),n[2]=Math.floor(e[2]),n}function WH(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.min(e[2],t[2]),n}function XH(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n}function YH(n,e){return n[0]=ch(e[0]),n[1]=ch(e[1]),n[2]=ch(e[2]),n}function FS(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function JH(n,e,t,s){return n[0]=e[0]+t[0]*s,n[1]=e[1]+t[1]*s,n[2]=e[2]+t[2]*s,n}function US(n,e){const t=e[0]-n[0],s=e[1]-n[1],i=e[2]-n[2];return Math.sqrt(t*t+s*s+i*i)}function OS(n,e){const t=e[0]-n[0],s=e[1]-n[1],i=e[2]-n[2];return t*t+s*s+i*i}function GS(n){const e=n[0],t=n[1],s=n[2];return e*e+t*t+s*s}function KH(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}function jH(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n}function HS(n,e){const t=e[0],s=e[1],i=e[2];let r=t*t+s*s+i*i;return r>0&&(r=1/Math.sqrt(r)),n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n}function Gg(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function dh(n,e,t){const s=e[0],i=e[1],r=e[2],o=t[0],a=t[1],l=t[2];return n[0]=i*l-r*a,n[1]=r*o-s*l,n[2]=s*a-i*o,n}function ZH(n,e,t,s){const i=e[0],r=e[1],o=e[2];return n[0]=i+s*(t[0]-i),n[1]=r+s*(t[1]-r),n[2]=o+s*(t[2]-o),n}function $H(n,e,t,s){const i=Math.acos(Math.min(Math.max(Gg(e,t),-1),1)),r=Math.sin(i),o=Math.sin((1-s)*i)/r,a=Math.sin(s*i)/r;return n[0]=o*e[0]+a*t[0],n[1]=o*e[1]+a*t[1],n[2]=o*e[2]+a*t[2],n}function ez(n,e,t,s,i,r){const o=r*r,a=o*(2*r-3)+1,l=o*(r-2)+r,c=o*(r-1),d=o*(3-2*r);return n[0]=e[0]*a+t[0]*l+s[0]*c+i[0]*d,n[1]=e[1]*a+t[1]*l+s[1]*c+i[1]*d,n[2]=e[2]*a+t[2]*l+s[2]*c+i[2]*d,n}function tz(n,e,t,s,i,r){const o=1-r,a=o*o,l=r*r,c=a*o,d=3*r*a,u=3*l*o,h=l*r;return n[0]=e[0]*c+t[0]*d+s[0]*u+i[0]*h,n[1]=e[1]*c+t[1]*d+s[1]*u+i[1]*h,n[2]=e[2]*c+t[2]*d+s[2]*u+i[2]*h,n}function sz(n,e,t){const s=e[0],i=e[1],r=e[2];let o=t[3]*s+t[7]*i+t[11]*r+t[15];return o=o||1,n[0]=(t[0]*s+t[4]*i+t[8]*r+t[12])/o,n[1]=(t[1]*s+t[5]*i+t[9]*r+t[13])/o,n[2]=(t[2]*s+t[6]*i+t[10]*r+t[14])/o,n}function nz(n,e,t){const s=e[0],i=e[1],r=e[2];return n[0]=s*t[0]+i*t[3]+r*t[6],n[1]=s*t[1]+i*t[4]+r*t[7],n[2]=s*t[2]+i*t[5]+r*t[8],n}function iz(n,e,t){const s=t[0],i=t[1],r=t[2],o=t[3],a=e[0],l=e[1],c=e[2];let d=i*c-r*l,u=r*a-s*c,h=s*l-i*a,f=i*h-r*u,A=r*d-s*h,p=s*u-i*d;const g=o*2;return d*=g,u*=g,h*=g,f*=2,A*=2,p*=2,n[0]=a+d+f,n[1]=l+u+A,n[2]=c+h+p,n}function rz(n,e,t,s){const i=[],r=[];return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],r[0]=i[0],r[1]=i[1]*Math.cos(s)-i[2]*Math.sin(s),r[2]=i[1]*Math.sin(s)+i[2]*Math.cos(s),n[0]=r[0]+t[0],n[1]=r[1]+t[1],n[2]=r[2]+t[2],n}function oz(n,e,t,s){const i=[],r=[];return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],r[0]=i[2]*Math.sin(s)+i[0]*Math.cos(s),r[1]=i[1],r[2]=i[2]*Math.cos(s)-i[0]*Math.sin(s),n[0]=r[0]+t[0],n[1]=r[1]+t[1],n[2]=r[2]+t[2],n}function az(n,e,t,s){const i=[],r=[];return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],r[0]=i[0]*Math.cos(s)-i[1]*Math.sin(s),r[1]=i[0]*Math.sin(s)+i[1]*Math.cos(s),r[2]=i[2],n[0]=r[0]+t[0],n[1]=r[1]+t[1],n[2]=r[2]+t[2],n}function lz(n,e){const t=n[0],s=n[1],i=n[2],r=e[0],o=e[1],a=e[2],l=Math.sqrt((t*t+s*s+i*i)*(r*r+o*o+a*a)),c=l&&Gg(n,e)/l;return Math.acos(Math.min(Math.max(c,-1),1))}function cz(n){return n[0]=0,n[1]=0,n[2]=0,n}function dz(n){return`vec3(${n[0]}, ${n[1]}, ${n[2]})`}function uz(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]}function hz(n,e){const t=n[0],s=n[1],i=n[2],r=e[0],o=e[1],a=e[2];return Math.abs(t-r)<=Md*Math.max(1,Math.abs(t),Math.abs(r))&&Math.abs(s-o)<=Md*Math.max(1,Math.abs(s),Math.abs(o))&&Math.abs(i-a)<=Md*Math.max(1,Math.abs(i),Math.abs(a))}function fz(n){return Number.isFinite(n[0])&&Number.isFinite(n[1])&&Number.isFinite(n[2])}const zS=DS,Az=LS,pz=kS,gz=US,mz=OS,xz=II,yz=GS;var R=Object.freeze({__proto__:null,add:QS,addScalar:HH,angle:lz,bezier:tz,ceil:VH,clone:kH,copy:FH,create:_I,cross:dh,dist:gz,distance:US,div:pz,divide:kS,dot:Gg,equals:hz,exactEquals:uz,finite:fz,floor:qH,fromBuffer:OH,fromValues:Ty,hermite:ez,inverse:jH,len:xz,length:II,lerp:ZH,max:XH,min:WH,mul:Az,multiply:LS,negate:KH,normalize:HS,rotateX:rz,rotateY:oz,rotateZ:az,round:YH,scale:FS,scaleAndAdd:JH,set:UH,slerp:$H,sqrDist:mz,sqrLen:yz,squaredDistance:OS,squaredLength:GS,str:dz,sub:zS,subtract:DS,subtractScalar:zH,toBuffer:GH,transformMat3:nz,transformMat4:sz,transformQuat:iz,zero:cz});function _z(n,e){const t=e[0],s=e[1],i=e[2],r=e[3];let o=t*t+s*s+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),n[0]=t*o,n[1]=s*o,n[2]=i*o,n[3]=r*o,n}function Iz(n,e,t){t*=.5;const s=Math.sin(t);return n[0]=s*e[0],n[1]=s*e[1],n[2]=s*e[2],n[3]=Math.cos(t),n}const vz=_z;(()=>{const n=_I(),e=Ty(1,0,0),t=Ty(0,1,0);return(s,i,r)=>{const o=Gg(i,r);return o<-.999999?(dh(n,e,i),II(n)<1e-6&&dh(n,t,i),HS(n,n),Iz(s,n,Math.PI),s):o>.999999?(s[0]=0,s[1]=0,s[2]=0,s[3]=1,s):(dh(n,i,r),s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=1+o,vz(s,s))}})();function Ez(){return{center:[0,0],radius:0}}var Cz=Object.freeze({__proto__:null,create:Ez});function bz(){return[[0,0],[0,0],[0,0]]}const J0=Og(),K0=Og(),j0=Og();function wz(n,e){const[t,s,i]=e,r=J0,o=K0,a=j0;BS(r,0,0),pd(o,s,t),pd(a,i,t),pd(o,o,r),pd(a,a,r);const l=o[0]*a[1]-o[1]*a[0];if(Math.abs(l)>Md){const c=ep(J0,J0),d=ep(K0,K0),u=ep(j0,j0);n.center[0]=(c*(o[1]-a[1])+d*(a[1]-r[1])+u*(r[1]-o[1]))/(2*l),n.center[1]=(c*(a[0]-o[0])+d*(r[0]-a[0])+u*(o[0]-r[0]))/(2*l);const h=yI(n.center,r);return NS(n.center,n.center,t),n.radius=h,n}return wS(n.center,t),n.radius=0,n}var Py=Object.freeze({__proto__:null,circumcircle:wz,create:bz});function Bz(){return[[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY]]}function Nz(n){return[[n[0][0],n[0][1],n[0][2]],[n[1][0],n[1][1],n[1][2]]]}function Sz(n,e,t){return n[0][0]=e[0],n[0][1]=e[1],n[0][2]=e[2],n[1][0]=t[0],n[1][1]=t[1],n[1][2]=t[2],n}const Mz=_I();function Tz(n,e,t){const s=FS(Mz,t,.5);return zS(n[0],e,s),QS(n[1],e,s),n}function Pz(n,e,t){return n[0][0]=Math.min(e[0][0],t[0]),n[0][1]=Math.min(e[0][1],t[1]),n[0][2]=Math.min(e[0][2],t[2]),n[1][0]=Math.max(e[1][0],t[0]),n[1][1]=Math.max(e[1][1],t[1]),n[1][2]=Math.max(e[1][2],t[2]),n}function Rz(n,e){const t=n[0],s=n[1];return e[0]>=t[0]&&e[0]<=s[0]&&e[1]>=t[1]&&e[1]<=s[1]&&e[2]>=t[2]&&e[2]<=s[2]}function Qz(n,e){const t=n[0],s=n[1],i=e[0],r=e[1];return i[0]>=t[0]&&r[0]<=s[0]&&i[1]>=t[1]&&r[1]<=s[1]&&i[2]>=t[2]&&r[2]<=s[2]}function Dz(n,e){const[t,s]=n,[i,r]=e;return t[0]<=r[0]&&s[0]>=i[0]&&t[1]<=r[1]&&s[1]>=i[1]&&t[2]<=r[2]&&s[2]>=i[2]}const qn=[0,0,0],Td=[0,0,0],ki=[0,0,0],Fi=[0,0,0],Ui=[0,0,0],Lr=[0,0,0],kr=[0,0,0],po=[0,0,0],xA=[0,0,0],Xc=[0,0,0],ws=new Array(27),Lz=[1,0,0,0,1,0,0,0,1],yA=[0,0,0];function Z0(n,e){for(let t=0;t<e;t++){const s=n[t*3+0],i=n[t*3+1],r=n[t*3+2];if(s===0&&i===0&&r===0)continue;const o=ki[0]*s+ki[1]*i+ki[2]*r,a=Fi[0]*s+Fi[1]*i+Fi[2]*r,l=Ui[0]*s+Ui[1]*i+Ui[2]*r;let c=o,d=o;a<c?c=a:a>d&&(d=a),l<c?c=l:l>d&&(d=l);const u=Td[0]*Math.abs(s)+Td[1]*Math.abs(i)+Td[2]*Math.abs(r);if(d<-u||c>u)return!1}return!0}function kz(n,e){const t=n[0],s=n[1];return t[0]>s[0]||t[1]>s[1]||t[2]>s[2]||(qn[0]=(t[0]+s[0])*.5,qn[1]=(t[1]+s[1])*.5,qn[2]=(t[2]+s[2])*.5,Td[0]=s[0]-qn[0],Td[1]=s[1]-qn[1],Td[2]=s[2]-qn[2],ki[0]=e[0][0]-qn[0],ki[1]=e[0][1]-qn[1],ki[2]=e[0][2]-qn[2],Fi[0]=e[1][0]-qn[0],Fi[1]=e[1][1]-qn[1],Fi[2]=e[1][2]-qn[2],Ui[0]=e[2][0]-qn[0],Ui[1]=e[2][1]-qn[1],Ui[2]=e[2][2]-qn[2],Lr[0]=Fi[0]-ki[0],Lr[1]=Fi[1]-ki[1],Lr[2]=Fi[2]-ki[2],kr[0]=Ui[0]-Fi[0],kr[1]=Ui[1]-Fi[1],kr[2]=Ui[2]-Fi[2],po[0]=ki[0]-Ui[0],po[1]=ki[1]-Ui[1],po[2]=ki[2]-Ui[2],ws[0]=0,ws[1]=-Lr[2],ws[2]=Lr[1],ws[3]=0,ws[4]=-kr[2],ws[5]=kr[1],ws[6]=0,ws[7]=-po[2],ws[8]=po[1],ws[9]=Lr[2],ws[10]=0,ws[11]=-Lr[0],ws[12]=kr[2],ws[13]=0,ws[14]=-kr[0],ws[15]=po[2],ws[16]=0,ws[17]=-po[0],ws[18]=-Lr[1],ws[19]=Lr[0],ws[20]=0,ws[21]=-kr[1],ws[22]=kr[0],ws[23]=0,ws[24]=-po[1],ws[25]=po[0],ws[26]=0,!Z0(ws,9))||!Z0(Lz,3)?!1:(dh(xA,Lr,kr),yA[0]=xA[0],yA[1]=xA[1],yA[2]=xA[2],Z0(yA,1))}function Fz(n,e){const t=n[0],s=n[1],{center:i,radius:r}=e;Xc[0]=i[0]<t[0]?t[0]:i[0]>s[0]?s[0]:i[0],Xc[1]=i[1]<t[1]?t[1]:i[1]>s[1]?s[1]:i[1],Xc[2]=i[2]<t[2]?t[2]:i[2]>s[2]?s[2]:i[2];const o=Xc[0]-i[0],a=Xc[1]-i[1],l=Xc[2]-i[2];return o*o+a*a+l*l<=r*r}function Uz(n,e){const t=n[0],s=n[1],{normal:i,constant:r}=e;let o=0,a=0;return i[0]>0?(o=i[0]*t[0],a=i[0]*s[0]):(o=i[0]*s[0],a=i[0]*t[0]),i[1]>0?(o+=i[1]*t[1],a+=i[1]*s[1]):(o+=i[1]*s[1],a+=i[1]*t[1]),i[2]>0?(o+=i[2]*t[2],a+=i[2]*s[2]):(o+=i[2]*s[2],a+=i[2]*t[2]),o+r<=0&&a+r>=0}function Oz(n,e,t){const s=n[0],i=n[1],r=t[0]-e[0],o=t[1]-e[1],a=t[2]-e[2];if(r===0&&o===0&&a===0)return e[0]>=s[0]&&e[0]<=i[0]&&e[1]>=s[1]&&e[1]<=i[1]&&e[2]>=s[2]&&e[2]<=i[2];let l=0,c=1;if(r===0){if(e[0]<s[0]||e[0]>i[0])return!1}else{const d=1/r;let u=(s[0]-e[0])*d,h=(i[0]-e[0])*d;if(u>h&&([u,h]=[h,u]),l=Math.max(l,u),c=Math.min(c,h),l>c)return!1}if(o===0){if(e[1]<s[1]||e[1]>i[1])return!1}else{const d=1/o;let u=(s[1]-e[1])*d,h=(i[1]-e[1])*d;if(u>h&&([u,h]=[h,u]),l=Math.max(l,u),c=Math.min(c,h),l>c)return!1}if(a===0){if(e[2]<s[2]||e[2]>i[2])return!1}else{const d=1/a;let u=(s[2]-e[2])*d,h=(i[2]-e[2])*d;if(u>h&&([u,h]=[h,u]),l=Math.max(l,u),c=Math.min(c,h),l>c)return!1}return c>=0&&l<=1}var ac=Object.freeze({__proto__:null,clone:Nz,containsBox3:Qz,containsPoint:Rz,create:Bz,expandByPoint:Pz,intersectsBox3:Dz,intersectsPlane3:Uz,intersectsRay:Oz,intersectsSphere:Fz,intersectsTriangle3:kz,set:Sz,setFromCenterAndSize:Tz}),Th;(function(n){n[n.INFO=0]="INFO",n[n.WARNING=1]="WARNING",n[n.ERROR=2]="ERROR"})(Th||(Th={}));const Gz=()=>({logs:[],times:[],_startTimes:{}}),Hz=(n,e)=>{n._startTimes[e]=performance.now()},zz=(n,e)=>{const t=performance.now(),s=n._startTimes[e],i=t-s;delete n._startTimes[e],n.times.push({name:e,duration:i})},Vz=(n,e)=>{n.logs.push({type:Th.INFO,message:e})},qz=(n,e)=>{n.logs.push({type:Th.WARNING,message:e})},Wz=(n,e)=>{n.logs.push({type:Th.ERROR,message:e})},Zt={create:Gz,start:Hz,end:zz,info:Vz,warn:qz,error:Wz},Et=[[-1,0],[0,1],[1,0],[0,-1]],Er=n=>Et[n&3][0],Cr=n=>Et[n&3][1],Gb=(n,e)=>{for(let t=0;t<Et.length;t++)if(Et[t][0]===n&&Et[t][1]===e)return t;return 0},Xz=0,Yz=2,Ry=0,Mn=-1,vI=65536,Yc=65535,od=131072,On=0,EI=1,An=32768,Kt=63,Jz=65535,$0=Kt-1,hi=32768,VS=255,Kz=1e-6,CI=(n,e,t)=>{let s=!1;const i=n[0],r=n[2];for(let o=t,a=0,l=o-1;a<o;l=a++){const c=e[l*3],d=e[l*3+2],u=e[a*3],h=e[a*3+2],f=(h-d)*(i-u)-(u-c)*(r-h);if(d<h){if(r>=d&&r<h){if(f===0)return!0;f>0&&(r===d?r>e[(l===0?o-1:l-1)*3+2]&&(s=!s):s=!s)}}else if(h<d){if(r>h&&r<=d){if(f===0)return!0;f<0&&(r===d?r<e[(l===0?o-1:l-1)*3+2]&&(s=!s):s=!s)}}else if(r===h&&(i>=c&&i<=u||i>=u&&i<=c))return!0}return s},jz=R.create(),Zz=R.create(),$z=R.create(),Jc=mt.create(),Kc=mt.create(),_A=mt.create(),eV=(n,e,t,s)=>{const i=jz,r=Zz,o=$z;R.subtract(i,s,e),R.subtract(r,t,e),R.subtract(o,n,e),Jc[0]=i[0],Jc[1]=i[2],Kc[0]=r[0],Kc[1]=r[2],_A[0]=o[0],_A[1]=o[2];const a=mt.dot(Jc,Jc),l=mt.dot(Jc,Kc),c=mt.dot(Jc,_A),d=mt.dot(Kc,Kc),u=mt.dot(Kc,_A),h=1/(a*d-l*l),f=(d*c-l*u)*h,A=(a*u-l*c)*h,p=1e-4;if(f>=-p&&A>=-p&&f+A<=1+p){const g=e[1]+i[1]*f+r[1]*A;return Math.abs(g-n[1])}return Number.MAX_VALUE},tV=R.create(),sV=R.create(),nV=(n,e,t)=>{const s=tV,i=sV;R.subtract(s,t,e),R.subtract(i,n,e);const r=R.dot(s,s);let o=R.dot(s,i);return r>0&&(o/=r),o<0?o=0:o>1&&(o=1),R.scale(s,s,o),R.add(s,e,s),R.subtract(s,s,n),R.dot(s,s)},qS=()=>({dist:0,t:0}),WS=(n,e,t,s)=>{const i=s[0]-t[0],r=s[2]-t[2],o=e[0]-t[0],a=e[2]-t[2],l=i*i+r*r;let c=i*o+r*a;l>0&&(c/=l),c<0?c=0:c>1&&(c=1);const d=t[0]+c*i-e[0],u=t[2]+c*r-e[2],h=d*d+u*u;return n.dist=h,n.t=c,n},Gh=()=>({distSqr:0,t:0}),Yd=(n,e,t,s)=>{const i=s[0]-t[0],r=s[2]-t[2],o=e[0]-t[0],a=e[2]-t[2],l=i*i+r*r;let c=i*o+r*a;l>0&&(c/=l),c<0?c=0:c>1&&(c=1);const d=t[0]+c*i,u=t[2]+c*r,h=d-e[0],f=u-e[2],A=h*h+f*f;return n.distSqr=A,n.t=c,n},Hb=R.create(),zb=R.create(),Vb=R.create(),iV=(n,e,t,s)=>{let i=Number.MAX_VALUE;for(let r=0;r<s;++r){const o=t[r*4+0]*3,a=t[r*4+1]*3,l=t[r*4+2]*3;R.fromBuffer(Hb,e,o),R.fromBuffer(zb,e,a),R.fromBuffer(Vb,e,l);const c=eV(n,Hb,zb,Vb);c<i&&(i=c)}return i===Number.MAX_VALUE?-1:i},qb=R.create(),Wb=R.create(),Xb=qS(),rV=(n,e,t)=>{let s=Number.MAX_VALUE,i=0;for(let r=0,o=n-1;r<n;o=r++){const a=r*3,l=o*3;e[a+2]>t[2]!=e[l+2]>t[2]&&t[0]<(e[l]-e[a])*(t[2]-e[a+2])/(e[l+2]-e[a+2])+e[a]&&(i=i===0?1:0),R.fromBuffer(qb,e,l),R.fromBuffer(Wb,e,a),WS(Xb,t,qb,Wb),s=Math.min(s,Xb.dist)}return i?-s:s},oV=(n,e,t,s)=>{const r=s[0]-e[0],o=s[1]-e[1],a=s[2]-e[2],l=t[0]-e[0],c=t[1]-e[1],d=t[2]-e[2],u=n[0]-e[0],h=n[2]-e[2];let f=r*d-a*l;if(Math.abs(f)<1e-6)return NaN;let A=d*u-l*h,p=r*h-a*u;return f<0&&(f=-f,A=-A,p=-p),A>=0&&p>=0&&A+p<=f?e[1]+(o*A+c*p)/f:NaN},aV=mt.create(),lV=mt.create(),cV=mt.create(),dV=mt.create(),uV=mt.create(),hV=(n,e,t,s)=>{const i=aV,r=lV,o=cV;mt.subtract(i,e,n),mt.subtract(r,s,n);const a=i[0]*r[1]-i[1]*r[0];mt.subtract(o,t,n);const l=i[0]*o[1]-i[1]*o[0];if(a*l<0){const c=dV,d=uV;mt.subtract(c,s,t),mt.subtract(d,n,t);const u=c[0]*d[1]-c[1]*d[0],h=u+l-a;if(u*h<0)return!0}return!1},gd=(n,e,t)=>{const s=e[0]-n[0],i=e[2]-n[2],r=t[0]-n[0],o=t[2]-n[2];return r*i-s*o},fV=()=>({hit:!1,s:0,t:0}),AV=(n,e,t,s,i)=>{const r=t[0]-e[0],o=t[2]-e[2],a=i[0]-s[0],l=i[2]-s[2],c=e[0]-s[0],d=e[2]-s[2],u=l*r-a*o;if(Math.abs(u)<1e-12)return n.hit=!1,n.s=0,n.t=0,n;const h=(a*d-l*c)/u,f=(r*d-o*c)/u,A=!(h<0||h>1||f<0||f>1);return n.hit=A,n.s=h,n.t=f,n},Yb=R.create(),Jb=R.create(),Kb=R.create(),jb=qS(),pV=(n,e)=>{let t=Number.MAX_VALUE;for(let s=0;s<e;s++){const i=(s+1)%e,r=s*3,o=i*3;let a=0;for(let l=0;l<e;l++){if(l===s||l===i)continue;const c=l*3;R.fromBuffer(Yb,n,c),R.fromBuffer(Jb,n,r),R.fromBuffer(Kb,n,o),WS(jb,Yb,Jb,Kb),a=Math.max(a,jb.dist)}t=Math.min(t,a)}return Math.sqrt(t)},Zb=(n,e)=>n[2]*e[0]-n[0]*e[2],gV=()=>({intersects:!1,tmin:0,tmax:0,segMin:-1,segMax:-1}),mV=R.create(),xV=R.create(),yV=R.create(),_V=R.create(),IV=R.create(),vV=(n,e,t,s,i)=>{n.intersects=!1,n.tmin=0,n.tmax=1,n.segMin=-1,n.segMax=-1;const r=R.subtract(yV,t,e),o=mV,a=xV,l=IV,c=_V;for(let d=0,u=s-1;d<s;u=d,d++){R.fromBuffer(o,i,d*3),R.fromBuffer(a,i,u*3),R.subtract(l,o,a),R.subtract(c,e,a);const h=Zb(l,c),f=Zb(r,l);if(Math.abs(f)<Kz){if(h<0)return n;continue}const A=h/f;if(f<0){if(A>n.tmin&&(n.tmin=A,n.segMin=u,n.tmin>n.tmax))return n}else if(A<n.tmax&&(n.tmax=A,n.segMax=u,n.tmax<n.tmin))return n}return n.intersects=!0,n},EV=R.create(),CV=R.create(),bV=R.create(),wV=(n,e,t,s,i,r)=>{let o=0;for(let g=2;g<e;g++){const m=[t[0],t[1],t[2]],y=[t[(g-1)*3],t[(g-1)*3+1],t[(g-1)*3+2]],_=[t[g*3],t[g*3+1],t[g*3+2]];s[g]=gd(m,y,_),o+=Math.max(.001,s[g])}const a=i*o;let l=0,c=e-1;for(let g=2;g<e;g++)if(l+=Math.max(.001,s[g]),a<=l){c=g;break}let d=Math.sqrt(r),u=1-r;d+u>1&&(d=1-d,u=1-u);const h=1-d-u,f=R.fromBuffer(EV,t,0),A=R.fromBuffer(CV,t,(c-1)*3),p=R.fromBuffer(bV,t,c*3);return n[0]=d*f[0]+u*A[0]+h*p[0],n[1]=d*f[1]+u*A[1]+h*p[1],n[2]=d*f[2]+u*A[2]+h*p[2],n},IA=(n,e,t,s)=>{let i=e[0]*t[0]+e[1]*t[2],r=i;for(let o=1;o<s;o++){const a=e[0]*t[o*3]+e[1]*t[o*3+2];i=Math.min(i,a),r=Math.max(r,a)}n[0]=i,n[1]=r},$b=(n,e,t,s,i)=>!(n+i>s||e-i<t),e1=mt.create(),t1=mt.create(),s1=mt.create(),n1=[0,0],i1=[0,0],BV=(n,e,t,s)=>{for(let r=0,o=e-1;r<e;o=r++){const a=t1,l=s1;a[0]=n[o*3],a[1]=n[o*3+2],l[0]=n[r*3],l[1]=n[r*3+2];const c=e1;c[0]=l[1]-a[1],c[1]=-(l[0]-a[0]);const d=n1,u=i1;if(IA(d,c,n,e),IA(u,c,t,s),!$b(d[0],d[1],u[0],u[1],1e-4))return!1}for(let r=0,o=s-1;r<s;o=r++){const a=t1,l=s1;a[0]=t[o*3],a[1]=t[o*3+2],l[0]=t[r*3],l[1]=t[r*3+2];const c=e1;c[0]=l[1]-a[1],c[1]=-(l[0]-a[0]);const d=n1,u=i1;if(IA(d,c,n,e),IA(u,c,t,s),!$b(d[0],d[1],u[0],u[1],1e-4))return!1}return!0},r1=(n,e,t)=>{const s=e*6,i=63<<s;n.con=n.con&~i|(t&63)<<s},pt=(n,e)=>{const t=e*6;return n.con>>t&63},NV=n=>{const e=n.width*n.height;let t=0;for(let s=0;s<e;++s){let i=n.spans[s];for(;i!=null;)i.area!==On&&t++,i=i.next||null}return t},SV=(n,e,t,s)=>{const i=s.width,r=s.height,o=NV(s),a={width:i,height:r,spanCount:o,walkableHeightVoxels:e,walkableClimbVoxels:t,borderSize:0,maxDistance:0,maxRegions:0,bounds:ac.clone(s.bounds),cellSize:s.cellSize,cellHeight:s.cellHeight,cells:new Array(i*r),spans:new Array(o),areas:new Array(o),distances:new Array(o).fill(0)};a.bounds[1][1]+=e*s.cellHeight;for(let h=0;h<i*r;h++)a.cells[h]={index:0,count:0};for(let h=0;h<o;h++)a.spans[h]={y:0,region:0,con:0,h:0},a.areas[h]=On;let l=0;const c=i*r;for(let h=0;h<c;++h){let f=s.spans[h];if(f==null)continue;const A=a.cells[h];for(A.index=l,A.count=0;f!=null;){if(f.area!==On){const p=f.max,g=f.next?f.next.min:Jz;a.spans[l].y=Math.min(Math.max(p,0),65535),a.spans[l].h=Math.min(Math.max(g-p,0),255),a.areas[l]=f.area,l++,A.count++}f=f.next||null}}let d=0;const u=i;for(let h=0;h<r;++h)for(let f=0;f<i;++f){const A=a.cells[f+h*u];for(let p=A.index;p<A.index+A.count;++p){const g=a.spans[p];for(let m=0;m<4;++m){r1(g,m,Kt);const y=f+Et[m][0],_=h+Et[m][1];if(y<0||_<0||y>=i||_>=r)continue;const I=a.cells[y+_*u];for(let v=I.index;v<I.index+I.count;++v){const E=a.spans[v],b=Math.max(g.y,E.y);if(Math.min(g.y+g.h,E.y+E.h)-b>=e&&Math.abs(E.y-g.y)<=t){const C=v-I.index;if(C<0||C>$0){d=Math.max(d,C);continue}r1(g,m,C);break}}}}}return d>$0&&Zt.warn(n,`buildCompactHeightfield: Heightfield has too many layers ${d} (max: ${$0})`),a},MV=255,TV=n=>{const e=n.width,t=n.height,s=e,i=new Uint8Array(n.spanCount);i.fill(MV);for(let r=0;r<t;++r)for(let o=0;o<e;++o){const a=n.cells[o+r*s];for(let l=a.index;l<a.index+a.count;++l){if(n.areas[l]===On){i[l]=0;continue}const c=n.spans[l];let d=0;for(let u=0;u<4;++u){const h=pt(c,u);if(h===Kt)break;const f=o+Et[u][0],A=r+Et[u][1],p=n.cells[f+A*s].index+h;if(n.areas[p]===On)break;d++}d!==4&&(i[l]=0)}}for(let r=0;r<t;++r)for(let o=0;o<e;++o){const a=n.cells[o+r*s],l=a.index+a.count;for(let c=a.index;c<l;++c){const d=n.spans[c];if(pt(d,0)!==Kt){const u=o+Et[0][0],h=r+Et[0][1],f=n.cells[u+h*e].index+pt(d,0),A=n.spans[f];let p=Math.min(i[f]+2,255);if(p<i[c]&&(i[c]=p),pt(A,3)!==Kt){const g=u+Et[3][0],m=h+Et[3][1],y=n.cells[g+m*e].index+pt(A,3);p=Math.min(i[y]+3,255),p<i[c]&&(i[c]=p)}}if(pt(d,3)!==Kt){const u=o+Et[3][0],h=r+Et[3][1],f=n.cells[u+h*e].index+pt(d,3),A=n.spans[f];let p=Math.min(i[f]+2,255);if(p<i[c]&&(i[c]=p),pt(A,2)!==Kt){const g=u+Et[2][0],m=h+Et[2][1],y=n.cells[g+m*e].index+pt(A,2);p=Math.min(i[y]+3,255),p<i[c]&&(i[c]=p)}}}}for(let r=t-1;r>=0;--r)for(let o=e-1;o>=0;--o){const a=n.cells[o+r*s],l=a.index+a.count;for(let c=a.index;c<l;++c){const d=n.spans[c];if(pt(d,2)!==Kt){const u=o+Et[2][0],h=r+Et[2][1],f=n.cells[u+h*e].index+pt(d,2),A=n.spans[f];let p=Math.min(i[f]+2,255);if(p<i[c]&&(i[c]=p),pt(A,1)!==Kt){const g=u+Et[1][0],m=h+Et[1][1],y=n.cells[g+m*e].index+pt(A,1);p=Math.min(i[y]+3,255),p<i[c]&&(i[c]=p)}}if(pt(d,1)!==Kt){const u=o+Et[1][0],h=r+Et[1][1],f=n.cells[u+h*e].index+pt(d,1),A=n.spans[f];let p=Math.min(i[f]+2,255);if(p<i[c]&&(i[c]=p),pt(A,0)!==Kt){const g=u+Et[0][0],m=h+Et[0][1],y=n.cells[g+m*e].index+pt(A,0);p=Math.min(i[y]+3,255),p<i[c]&&(i[c]=p)}}}}return i},PV=(n,e)=>{const t=TV(e),s=n*2;for(let i=0;i<e.spanCount;++i)t[i]<s&&(e.areas[i]=On)};R.create();new Array(9);const RV=3,ex=1<<RV,o1=8,QV=(n,e)=>{const t=n.width,s=n.height;e.fill(65535);for(let r=0;r<s;++r)for(let o=0;o<t;++o){const a=n.cells[o+r*t];for(let l=a.index;l<a.index+a.count;++l){const c=n.spans[l],d=n.areas[l];let u=0;for(let h=0;h<4;++h)if(pt(c,h)!==Kt){const f=o+Et[h][0],A=r+Et[h][1],p=n.cells[f+A*t].index+pt(c,h);d===n.areas[p]&&u++}u!==4&&(e[l]=0)}}for(let r=0;r<s;++r)for(let o=0;o<t;++o){const a=n.cells[o+r*t];for(let l=a.index;l<a.index+a.count;++l){const c=n.spans[l];if(pt(c,0)!==Kt){const d=o+Et[0][0],u=r+Et[0][1],h=n.cells[d+u*t].index+pt(c,0),f=n.spans[h];if(e[h]+2<e[l]&&(e[l]=e[h]+2),pt(f,3)!==Kt){const A=d+Et[3][0],p=u+Et[3][1],g=n.cells[A+p*t].index+pt(f,3);e[g]+3<e[l]&&(e[l]=e[g]+3)}}if(pt(c,3)!==Kt){const d=o+Et[3][0],u=r+Et[3][1],h=n.cells[d+u*t].index+pt(c,3),f=n.spans[h];if(e[h]+2<e[l]&&(e[l]=e[h]+2),pt(f,2)!==Kt){const A=d+Et[2][0],p=u+Et[2][1],g=n.cells[A+p*t].index+pt(f,2);e[g]+3<e[l]&&(e[l]=e[g]+3)}}}}for(let r=s-1;r>=0;--r)for(let o=t-1;o>=0;--o){const a=n.cells[o+r*t];for(let l=a.index;l<a.index+a.count;++l){const c=n.spans[l];if(pt(c,2)!==Kt){const d=o+Et[2][0],u=r+Et[2][1],h=n.cells[d+u*t].index+pt(c,2),f=n.spans[h];if(e[h]+2<e[l]&&(e[l]=e[h]+2),pt(f,1)!==Kt){const A=d+Et[1][0],p=u+Et[1][1],g=n.cells[A+p*t].index+pt(f,1);e[g]+3<e[l]&&(e[l]=e[g]+3)}}if(pt(c,1)!==Kt){const d=o+Et[1][0],u=r+Et[1][1],h=n.cells[d+u*t].index+pt(c,1),f=n.spans[h];if(e[h]+2<e[l]&&(e[l]=e[h]+2),pt(f,0)!==Kt){const A=d+Et[0][0],p=u+Et[0][1],g=n.cells[A+p*t].index+pt(f,0);e[g]+3<e[l]&&(e[l]=e[g]+3)}}}}let i=0;for(let r=0;r<n.spanCount;++r)i=Math.max(e[r],i);return i},DV=(n,e,t,s)=>{const i=n.width,r=n.height,o=e*2;for(let a=0;a<r;++a)for(let l=0;l<i;++l){const c=n.cells[l+a*i];for(let d=c.index;d<c.index+c.count;++d){const u=n.spans[d],h=t[d];if(h<=o){s[d]=h;continue}let f=h;for(let A=0;A<4;++A)if(pt(u,A)!==Kt){const p=l+Et[A][0],g=a+Et[A][1],m=n.cells[p+g*i].index+pt(u,A);f+=t[m];const y=n.spans[m],_=A+1&3;if(pt(y,_)!==Kt){const I=p+Et[_][0],v=g+Et[_][1],E=n.cells[I+v*i].index+pt(y,_);f+=t[E]}else f+=h}else f+=h*2;s[d]=Math.floor((f+5)/9)}}},LV=n=>{const e=new Array(n.spanCount).fill(0),t=QV(n,n.distances);n.maxDistance=t,DV(n,1,n.distances,e);for(let s=0;s<n.spanCount;s++)n.distances[s]=e[s]},kV=(n,e,t,s,i)=>{const r=e.width,o=e.height,a=new Array(e.spanCount).fill(0),l=new Array(e.spanCount).fill(0);let c=1,d=e.maxDistance+1&-2;const u=[];for(let p=0;p<ex;p++)u[p]=[];const h=[];if(t>0){const p=Math.min(r,t),g=Math.min(o,t);vA(0,p,0,o,c|An,e,a),c++,vA(r-p,r,0,o,c|An,e,a),c++,vA(0,r,0,g,c|An,e,a),c++,vA(0,r,o-g,o,c|An,e,a),c++}e.borderSize=t;let f=-1;for(;d>0;){d=d>=2?d-2:0,f=f+1&ex-1,f===0?FV(d,e,a,ex,u,1):UV(u[f-1],u[f],a),a1(o1,d,e,a,l,u[f],!1);for(let p=0;p<u[f].length;p++){const g=u[f][p],m=g.x,y=g.y,_=g.index;if(_>=0&&a[_]===0&&OV(m,y,_,d,c,e,a,l,h)){if(c===65535)return Zt.error(n,"Region ID overflow"),!1;c++}}}a1(o1*8,0,e,a,l,h,!0);const A=[];e.maxRegions=c,GV(s,i,e,a,A);for(let p=0;p<e.spanCount;p++)e.spans[p].region=a[p];return!0},vA=(n,e,t,s,i,r,o)=>{const a=r.width;for(let l=t;l<s;l++)for(let c=n;c<e;c++){const d=r.cells[c+l*a];for(let u=d.index;u<d.index+d.count;u++)r.areas[u]!==On&&(o[u]=i)}},FV=(n,e,t,s,i,r)=>{const o=e.width,a=e.height,l=n>>r;for(let c=0;c<s;c++)i[c].length=0;for(let c=0;c<a;c++)for(let d=0;d<o;d++){const u=e.cells[d+c*o];for(let h=u.index;h<u.index+u.count;h++){if(e.areas[h]===On||t[h]!==0)continue;const f=e.distances[h]>>r;let A=l-f;A>=s||(A<0&&(A=0),i[A].push({x:d,y:c,index:h}))}}},UV=(n,e,t)=>{for(let s=0;s<n.length;s++){const i=n[s];i.index<0||t[i.index]!==0||e.push(i)}},OV=(n,e,t,s,i,r,o,a,l)=>{const c=r.width,d=r.areas[t];l.length=0,l.push({x:n,y:e,index:t}),o[t]=i,a[t]=0;const u=s>=2?s-2:0;let h=0;for(;l.length>0;){const f=l.pop(),A=f.x,p=f.y,g=f.index,m=r.spans[g];let y=0;for(let _=0;_<4;_++)if(pt(m,_)!==Kt){const I=A+Et[_][0],v=p+Et[_][1],E=r.cells[I+v*c].index+pt(m,_);if(r.areas[E]!==d)continue;const b=o[E];if(b&An)continue;if(b!==0&&b!==i){y=b;break}const N=r.spans[E],C=_+1&3;if(pt(N,C)!==Kt){const B=I+Et[C][0],S=v+Et[C][1],T=r.cells[B+S*c].index+pt(N,C);if(r.areas[T]!==d)continue;const D=o[T];if(D!==0&&D!==i){y=D;break}}}if(y!==0){o[g]=0;continue}h++;for(let _=0;_<4;_++)if(pt(m,_)!==Kt){const I=A+Et[_][0],v=p+Et[_][1],E=r.cells[I+v*c].index+pt(m,_);if(r.areas[E]!==d)continue;r.distances[E]>=u&&o[E]===0&&(o[E]=i,a[E]=0,l.push({x:I,y:v,index:E}))}}return h>0},a1=(n,e,t,s,i,r,o)=>{const a=t.width,l=t.height;if(o){r.length=0;for(let u=0;u<l;u++)for(let h=0;h<a;h++){const f=t.cells[h+u*a];for(let A=f.index;A<f.index+f.count;A++)t.distances[A]>=e&&s[A]===0&&t.areas[A]!==On&&r.push({x:h,y:u,index:A})}}else for(let u=0;u<r.length;u++){const h=r[u].index;s[h]!==0&&(r[u].index=-1)}const c=[];let d=0;for(;r.length>0;){let u=0;c.length=0;for(let h=0;h<r.length;h++){const f=r[h].x,A=r[h].y,p=r[h].index;if(p<0){u++;continue}let g=s[p],m=65535;const y=t.areas[p],_=t.spans[p];for(let I=0;I<4;I++){if(pt(_,I)===Kt)continue;const v=f+Et[I][0],E=A+Et[I][1],b=t.cells[v+E*a].index+pt(_,I);t.areas[b]===y&&s[b]>0&&(s[b]&An)===0&&i[b]+2<m&&(g=s[b],m=i[b]+2)}g?(r[h].index=-1,c.push({index:p,region:g,distance2:m})):u++}for(let h=0;h<c.length;h++){const f=c[h];s[f.index]=f.region,i[f.index]=f.distance2}if(u===r.length||e>0&&(d++,d>=n))break}},GV=(n,e,t,s,i)=>{const r=t.width,o=t.height,a=t.maxRegions+1,l=[];for(let f=0;f<a;f++)l.push({spanCount:0,id:f,areaType:0,remap:!1,visited:!1,overlap:!1,connectsToBorder:!1,ymin:65535,ymax:0,connections:[],floors:[]});for(let f=0;f<o;f++)for(let A=0;A<r;A++){const p=t.cells[A+f*r];for(let g=p.index;g<p.index+p.count;g++){const m=s[g];if(m===0||m>=a)continue;const y=l[m];y.spanCount++;for(let I=p.index;I<p.index+p.count;I++){if(g===I)continue;const v=s[I];v===0||v>=a||(v===m&&(y.overlap=!0),XS(y,v))}if(y.connections.length>0)continue;y.areaType=t.areas[g];let _=-1;for(let I=0;I<4;I++)if(JS(t,s,A,f,g,I)){_=I;break}_!==-1&&qV(A,f,g,_,t,s,y.connections)}}const c=[],d=[];for(let f=0;f<a;f++){const A=l[f];if(A.id===0||A.id&An||A.spanCount===0||A.visited)continue;let p=!1,g=0;for(c.length=0,d.length=0,A.visited=!0,c.push(f);c.length>0;){const m=c.pop(),y=l[m];g+=y.spanCount,d.push(m);for(let _=0;_<y.connections.length;_++){if(y.connections[_]&An){p=!0;continue}const I=l[y.connections[_]];I.visited||I.id===0||I.id&An||(c.push(I.id),I.visited=!0)}}if(g<n&&!p)for(let m=0;m<d.length;m++)l[d[m]].spanCount=0,l[d[m]].id=0}let u=0;do{u=0;for(let f=0;f<a;f++){const A=l[f];if(A.id===0||A.id&An||A.overlap||A.spanCount===0||A.spanCount>e&&HV(A))continue;let p=268435455,g=A.id;for(let m=0;m<A.connections.length;m++){if(A.connections[m]&An)continue;const y=l[A.connections[m]];y.id===0||y.id&An||y.overlap||y.spanCount<p&&l1(A,y)&&l1(y,A)&&(p=y.spanCount,g=y.id)}if(g!==A.id){const m=A.id,y=l[g];if(zV(y,A)){for(let _=0;_<a;_++)l[_].id===0||l[_].id&An||(l[_].id===m&&(l[_].id=g),VV(l[_],m,g));u++}}}}while(u>0);for(let f=0;f<a;f++)l[f].remap=!1,l[f].id!==0&&(l[f].id&An||(l[f].remap=!0));let h=0;for(let f=0;f<a;f++){if(!l[f].remap)continue;const A=l[f].id,p=++h;for(let g=f;g<a;g++)l[g].id===A&&(l[g].id=p,l[g].remap=!1)}t.maxRegions=h;for(let f=0;f<t.spanCount;f++)(s[f]&An)===0&&(s[f]=l[s[f]].id);for(let f=0;f<a;f++)l[f].overlap&&i.push(l[f].id);return!0},XS=(n,e)=>{for(let t=0;t<n.floors.length;t++)if(n.floors[t]===e)return;n.floors.push(e)},HV=n=>{for(let e=0;e<n.connections.length;e++)if(n.connections[e]===0)return!0;return!1},l1=(n,e)=>{if(n.areaType!==e.areaType)return!1;let t=0;for(let s=0;s<n.connections.length;s++)n.connections[s]===e.id&&t++;if(t>1)return!1;for(let s=0;s<n.floors.length;s++)if(n.floors[s]===e.id)return!1;return!0},zV=(n,e)=>{const t=n.id,s=e.id,i=Array.from(n.connections),r=e.connections;let o=-1;for(let l=0;l<i.length;l++)if(i[l]===s){o=l;break}if(o===-1)return!1;let a=-1;for(let l=0;l<r.length;l++)if(r[l]===t){a=l;break}if(a===-1)return!1;n.connections=[];for(let l=0;l<i.length-1;l++)n.connections.push(i[(o+1+l)%i.length]);for(let l=0;l<r.length-1;l++)n.connections.push(r[(a+1+l)%r.length]);YS(n);for(let l=0;l<e.floors.length;l++)XS(n,e.floors[l]);return n.spanCount+=e.spanCount,e.spanCount=0,e.connections=[],!0},YS=n=>{for(let e=0;e<n.connections.length&&n.connections.length>1;){const t=(e+1)%n.connections.length;if(n.connections[e]===n.connections[t]){for(let s=e;s<n.connections.length-1;s++)n.connections[s]=n.connections[s+1];n.connections.pop()}else e++}},VV=(n,e,t)=>{let s=!1;for(let i=0;i<n.connections.length;i++)n.connections[i]===e&&(n.connections[i]=t,s=!0);for(let i=0;i<n.floors.length;i++)n.floors[i]===e&&(n.floors[i]=t);s&&YS(n)},JS=(n,e,t,s,i,r)=>{const o=n.spans[i];let a=0;if(pt(o,r)!==Kt){const l=t+Et[r][0],c=s+Et[r][1],d=n.cells[l+c*n.width].index+pt(o,r);a=e[d]}return a!==e[i]},qV=(n,e,t,s,i,r,o)=>{const a=s,l=t,c=i.spans[t];let d=0;if(pt(c,s)!==Kt){const g=n+Et[s][0],m=e+Et[s][1],y=i.cells[g+m*i.width].index+pt(c,s);d=r[y]}o.push(d);let u=0,h=n,f=e,A=t,p=s;for(;++u<4e4;){const g=i.spans[A];if(JS(i,r,h,f,A,p)){let m=0;if(pt(g,p)!==Kt){const y=h+Et[p][0],_=f+Et[p][1],I=i.cells[y+_*i.width].index+pt(g,p);m=r[I]}m!==d&&(d=m,o.push(d)),p=p+1&3}else{let m=-1;const y=h+Et[p][0],_=f+Et[p][1];if(pt(g,p)!==Kt&&(m=i.cells[y+_*i.width].index+pt(g,p)),m===-1)return;h=y,f=_,A=m,p=p+3&3}if(l===A&&a===p)break}if(o.length>1)for(let g=0;g<o.length;){const m=(g+1)%o.length;if(o[g]===o[m]){for(let y=g;y<o.length-1;y++)o[y]=o[y+1];o.pop()}else g++}},WV=4e4;var Cl;(function(n){n[n.CONTOUR_TESS_WALL_EDGES=1]="CONTOUR_TESS_WALL_EDGES",n[n.CONTOUR_TESS_AREA_EDGES=2]="CONTOUR_TESS_AREA_EDGES"})(Cl||(Cl={}));const XV=(n,e,t,s,i,r)=>{const o=i.spans[t];let a=o.y;const l=s+1&3,c=new Array(4).fill(0);if(c[0]=i.spans[t].region|i.areas[t]<<16,pt(o,s)!==Kt){const d=n+Er(s),u=e+Cr(s),h=i.cells[d+u*i.width].index+pt(o,s),f=i.spans[h];if(a=Math.max(a,f.y),c[1]=i.spans[h].region|i.areas[h]<<16,pt(f,l)!==Kt){const A=d+Er(l),p=u+Cr(l),g=i.cells[A+p*i.width].index+pt(f,l),m=i.spans[g];a=Math.max(a,m.y),c[2]=i.spans[g].region|i.areas[g]<<16}}if(pt(o,l)!==Kt){const d=n+Er(l),u=e+Cr(l),h=i.cells[d+u*i.width].index+pt(o,l),f=i.spans[h];if(a=Math.max(a,f.y),c[3]=i.spans[h].region|i.areas[h]<<16,pt(f,s)!==Kt){const A=d+Er(s),p=u+Cr(s),g=i.cells[A+p*i.width].index+pt(f,s),m=i.spans[g];a=Math.max(a,m.y),c[2]=i.spans[g].region|i.areas[g]<<16}}for(let d=0;d<4;++d){const u=d,h=d+1&3,f=d+2&3,A=d+3&3,p=(c[u]&c[h]&An)!==0&&c[u]===c[h],g=((c[f]|c[A])&An)===0,m=c[f]>>16===c[A]>>16,y=c[u]!==0&&c[h]!==0&&c[f]!==0&&c[A]!==0;if(p&&g&&m&&y){r.value=!0;break}}return a},YV=(n,e,t,s,i,r)=>{let o=0;for(;(i[t]&1<<o)===0;)o++;const a=o,l=t,c=s.areas[t];let d=0,u=n,h=e,f=t;for(;++d<WV;){if(i[f]&1<<o){const A={value:!1};let p=!1,g=u;const m=XV(u,h,f,o,s,A);let y=h;switch(o){case 0:y++;break;case 1:g++,y++;break;case 2:g++;break}let _=0;const I=s.spans[f];if(pt(I,o)!==Kt){const v=u+Er(o),E=h+Cr(o),b=s.cells[v+E*s.width].index+pt(I,o);_=s.spans[b].region,c!==s.areas[b]&&(p=!0)}A.value&&(_|=vI),p&&(_|=od),r.push(g),r.push(m),r.push(y),r.push(_),i[f]&=~(1<<o),o=o+1&3}else{let A=-1;const p=u+Er(o),g=h+Cr(o),m=s.spans[f];if(pt(m,o)!==Kt&&(A=s.cells[p+g*s.width].index+pt(m,o)),A===-1)return;u=p,h=g,f=A,o=o+3&3}if(l===f&&a===o)break}},JV=(n,e,t,s,i,r)=>{const o=i-t,a=r-s,l=n-t,c=e-s,d=o*o+a*a;let u=o*l+a*c;d>0&&(u/=d),u<0?u=0:u>1&&(u=1);const h=t+u*o-n,f=s+u*a-e;return h*h+f*f},KV=(n,e,t,s,i)=>{let r=!1;for(let a=0;a<n.length;a+=4)if((n[a+3]&Yc)!==0){r=!0;break}if(r)for(let a=0,l=Math.floor(n.length/4);a<l;++a){const c=(a+1)%l,d=(n[a*4+3]&Yc)!==(n[c*4+3]&Yc),u=(n[a*4+3]&od)!==(n[c*4+3]&od);(d||u)&&(e.push(n[a*4+0]),e.push(n[a*4+1]),e.push(n[a*4+2]),e.push(a))}if(e.length===0){let a=n[0],l=n[1],c=n[2],d=0,u=n[0],h=n[1],f=n[2],A=0;for(let p=0;p<n.length;p+=4){const g=n[p+0],m=n[p+1],y=n[p+2];(g<a||g===a&&y<c)&&(a=g,l=m,c=y,d=Math.floor(p/4)),(g>u||g===u&&y>f)&&(u=g,h=m,f=y,A=Math.floor(p/4))}e.push(a),e.push(l),e.push(c),e.push(d),e.push(u),e.push(h),e.push(f),e.push(A)}const o=Math.floor(n.length/4);for(let a=0;a<Math.floor(e.length/4);){const l=(a+1)%Math.floor(e.length/4),c=e[a*4+0],d=e[a*4+2],u=e[a*4+3],h=e[l*4+0],f=e[l*4+2],A=e[l*4+3];let p=0,g=-1,m,y,_,I=c,v=d,E=h,b=f;if(h>c||h===c&&f>d?(y=1,m=(u+y)%o,_=A):(y=o-1,m=(A+y)%o,_=u,I=h,E=c,v=f,b=d),(n[m*4+3]&Yc)===0||n[m*4+3]&od)for(;m!==_;){const N=JV(n[m*4+0],n[m*4+2],I,v,E,b);N>p&&(p=N,g=m),m=(m+y)%o}if(g!==-1&&p>t*t){const N=e.length;e.length=N+4;const C=Math.floor(e.length/4);for(let B=C-1;B>a;--B)e[B*4+0]=e[(B-1)*4+0],e[B*4+1]=e[(B-1)*4+1],e[B*4+2]=e[(B-1)*4+2],e[B*4+3]=e[(B-1)*4+3];e[(a+1)*4+0]=n[g*4+0],e[(a+1)*4+1]=n[g*4+1],e[(a+1)*4+2]=n[g*4+2],e[(a+1)*4+3]=g}else++a}if(s>0&&(i&(Cl.CONTOUR_TESS_WALL_EDGES|Cl.CONTOUR_TESS_AREA_EDGES))!==0)for(let a=0;a<Math.floor(e.length/4);){const l=(a+1)%Math.floor(e.length/4),c=e[a*4+0],d=e[a*4+2],u=e[a*4+3],h=e[l*4+0],f=e[l*4+2],A=e[l*4+3];let p=-1;const g=(u+1)%o;let m=!1;if(i&Cl.CONTOUR_TESS_WALL_EDGES&&(n[g*4+3]&Yc)===0&&(m=!0),i&Cl.CONTOUR_TESS_AREA_EDGES&&n[g*4+3]&od&&(m=!0),m){const y=h-c,_=f-d;if(y*y+_*_>s*s){const I=A<u?A+o-u:A-u;I>1&&(h>c||h===c&&f>d?p=(u+Math.floor(I/2))%o:p=(u+Math.floor((I+1)/2))%o)}}if(p!==-1){const y=e.length;e.length=y+4;const _=Math.floor(e.length/4);for(let I=_-1;I>a;--I)e[I*4+0]=e[(I-1)*4+0],e[I*4+1]=e[(I-1)*4+1],e[I*4+2]=e[(I-1)*4+2],e[I*4+3]=e[(I-1)*4+3];e[(a+1)*4+0]=n[p*4+0],e[(a+1)*4+1]=n[p*4+1],e[(a+1)*4+2]=n[p*4+2],e[(a+1)*4+3]=p}else++a}for(let a=0;a<Math.floor(e.length/4);++a){const l=(e[a*4+3]+1)%o,c=e[a*4+3];e[a*4+3]=n[l*4+3]&(Yc|od)|n[c*4+3]&vI}},jV=(n,e)=>{let t=0;for(let s=0,i=e-1;s<e;i=s++){const r=s*4,o=i*4;t+=n[r]*n[o+2]-n[o]*n[r+2]}return Math.floor((t+1)/2)},ZV=(n,e)=>n-1>=0?n-1:e-1,bI=(n,e)=>n+1<e?n+1:0,wI=(n,e,t)=>(e[0]-n[0])*(t[1]-n[1])-(t[0]-n[0])*(e[1]-n[1]),md=(n,e,t)=>wI(n,e,t)<0,tx=(n,e,t)=>wI(n,e,t)<=0,Ju=(n,e,t)=>wI(n,e,t)===0,$V=(n,e,t,s)=>Ju(n,e,t)||Ju(n,e,s)||Ju(t,s,n)||Ju(t,s,e)?!1:d1(md(n,e,t),md(n,e,s))&&d1(md(t,s,n),md(t,s,e)),EA=(n,e,t)=>Ju(n,e,t)?n[0]!==e[0]?n[0]<=t[0]&&t[0]<=e[0]||n[0]>=t[0]&&t[0]>=e[0]:n[1]<=t[1]&&t[1]<=e[1]||n[1]>=t[1]&&t[1]>=e[1]:!1,e9=(n,e,t,s)=>$V(n,e,t,s)?!0:!!(EA(n,e,t)||EA(n,e,s)||EA(t,s,n)||EA(t,s,e)),t9=mt.create(),s9=mt.create(),c1=(n,e,t,s,i)=>{for(let r=0;r<s;r++){const o=bI(r,s);if(t===r||t===o)continue;const a=mt.set(t9,i[r*4],i[r*4+2]),l=mt.set(s9,i[o*4],i[o*4+2]);if(!(mt.equals(n,a)||mt.equals(e,a)||mt.equals(n,l)||mt.equals(e,l))&&e9(n,e,a,l))return!0}return!1},n9=mt.create(),i9=mt.create(),r9=mt.create(),o9=(n,e,t,s)=>{const i=n*4,r=bI(n,e)*4,o=ZV(n,e)*4,a=mt.set(n9,t[i],t[i+2]),l=mt.set(i9,t[r],t[r+2]),c=mt.set(r9,t[o],t[o+2]);return tx(c,a,l)?md(a,s,c)&&md(s,a,l):!(tx(a,s,l)&&tx(s,a,c))},d1=(n,e)=>!n!=!e,a9=(n,e,t,s)=>{const i=e*4,r=s*4;return n[i]===t[r]&&n[i+2]===t[r+2]},l9=n=>{let e=Math.floor(n.length/4);for(let t=e-1;t>=0;--t){const s=bI(t,e);if(a9(n,t,n,s)){for(let i=t;i<Math.floor(n.length/4)-1;++i)n[i*4+0]=n[(i+1)*4+0],n[i*4+1]=n[(i+1)*4+1],n[i*4+2]=n[(i+1)*4+2],n[i*4+3]=n[(i+1)*4+3];n.splice(-4,4),e--}}},c9=(n,e,t,s)=>{const i=n.nVertices+e.nVertices+2,r=new Array(i*4);let o=0;for(let a=0;a<=n.nVertices;++a){const l=(t+a)%n.nVertices*4;r[o*4+0]=n.vertices[l+0],r[o*4+1]=n.vertices[l+1],r[o*4+2]=n.vertices[l+2],r[o*4+3]=n.vertices[l+3],o++}for(let a=0;a<=e.nVertices;++a){const l=(s+a)%e.nVertices*4;r[o*4+0]=e.vertices[l+0],r[o*4+1]=e.vertices[l+1],r[o*4+2]=e.vertices[l+2],r[o*4+3]=e.vertices[l+3],o++}return n.vertices=r,n.nVertices=o,e.vertices=[],e.nVertices=0,!0},d9=n=>{let e=n.vertices[0],t=n.vertices[2],s=0;for(let i=1;i<n.nVertices;i++){const r=n.vertices[i*4+0],o=n.vertices[i*4+2];(r<e||r===e&&o<t)&&(e=r,t=o,s=i)}return{minx:e,minz:t,leftmost:s}},u9=(n,e)=>{if(n.minx===e.minx){if(n.minz<e.minz)return-1;if(n.minz>e.minz)return 1}else{if(n.minx<e.minx)return-1;if(n.minx>e.minx)return 1}return 0},h9=mt.create(),f9=mt.create(),A9=(n,e)=>{for(let r=0;r<e.holes.length;r++){const o=d9(e.holes[r].contour);e.holes[r].minx=o.minx,e.holes[r].minz=o.minz,e.holes[r].leftmost=o.leftmost}e.holes.sort(u9);let t=e.outline.nVertices;for(let r=0;r<e.holes.length;r++)t+=e.holes[r].contour.nVertices;const s=new Array(t);for(let r=0;r<t;r++)s[r]={vert:0,dist:0};const i=e.outline;for(let r=0;r<e.holes.length;r++){const o=e.holes[r].contour;let a=-1,l=e.holes[r].leftmost;for(let c=0;c<o.nVertices;c++){let d=0;const u=mt.set(h9,o.vertices[l*4+0],o.vertices[l*4+2]);for(let h=0;h<i.nVertices;h++)if(o9(h,i.nVertices,i.vertices,u)){const f=i.vertices[h*4+0]-u[0],A=i.vertices[h*4+2]-u[1];s[d].vert=h,s[d].dist=f*f+A*A,d++}if(d>1){for(let h=0;h<d-1;h++)for(let f=h+1;f<d;f++)if(s[h].dist>s[f].dist){const A=s[h];s[h]=s[f],s[f]=A}}a=-1;for(let h=0;h<d;h++){const f=s[h].vert*4,A=mt.set(f9,i.vertices[f],i.vertices[f+2]);let p=c1(A,u,s[r].vert,i.nVertices,i.vertices);for(let g=r;g<e.holes.length&&!p;g++)p=p||c1(A,u,-1,e.holes[g].contour.nVertices,e.holes[g].contour.vertices);if(!p){a=s[h].vert;break}}if(a!==-1)break;l=(l+1)%o.nVertices}if(a===-1){Zt.warn(n,"mergeHoles: Failed to find merge points for outline and hole.");continue}c9(e.outline,o,a,l)}},p9=(n,e,t,s,i)=>{const r=e.width,o=e.height,a=e.borderSize,l={contours:[],bounds:ac.clone(e.bounds),cellSize:e.cellSize,cellHeight:e.cellHeight,width:e.width-e.borderSize*2,height:e.height-e.borderSize*2,borderSize:e.borderSize,maxError:t};if(a>0){const h=a*e.cellSize;l.bounds[0][0]+=h,l.bounds[0][2]+=h,l.bounds[1][0]-=h,l.bounds[1][2]-=h}const c=new Array(e.spanCount).fill(0);for(let h=0;h<o;++h)for(let f=0;f<r;++f){const A=e.cells[f+h*r];for(let p=A.index;p<A.index+A.count;++p){let g=0;const m=e.spans[p];if(!e.spans[p].region||e.spans[p].region&An){c[p]=0;continue}for(let y=0;y<4;++y){let _=0;if(pt(m,y)!==Kt){const I=f+Er(y),v=h+Cr(y),E=e.cells[I+v*r].index+pt(m,y);_=e.spans[E].region}_===e.spans[p].region&&(g|=1<<y)}c[p]=g^15}}const d=[],u=[];for(let h=0;h<o;++h)for(let f=0;f<r;++f){const A=e.cells[f+h*r];for(let p=A.index;p<A.index+A.count;++p){if(c[p]===0||c[p]===15){c[p]=0;continue}const g=e.spans[p].region;if(!g||g&An)continue;const m=e.areas[p];if(d.length=0,u.length=0,YV(f,h,p,e,c,d),KV(d,u,t,s,i),l9(u),Math.floor(u.length/4)>=3){const y={nVertices:Math.floor(u.length/4),vertices:u.slice(),nRawVertices:Math.floor(d.length/4),rawVertices:d.slice(),reg:g,area:m};if(a>0){for(let _=0;_<y.nVertices;++_)y.vertices[_*4+0]-=a,y.vertices[_*4+2]-=a;for(let _=0;_<y.nRawVertices;++_)y.rawVertices[_*4+0]-=a,y.rawVertices[_*4+2]-=a}l.contours.push(y)}}}if(l.contours.length>0){const h=new Array(l.contours.length);let f=0;for(let A=0;A<l.contours.length;++A){const p=l.contours[A];h[A]=jV(p.vertices,p.nVertices)<0?-1:1,h[A]<0&&f++}if(f>0){const A=e.maxRegions+1,p=new Array(A);for(let m=0;m<A;m++)p[m]={outline:null,holes:[]};const g=new Array(l.contours.length);for(let m=0;m<l.contours.length;m++)g[m]={contour:l.contours[m],minx:0,minz:0,leftmost:0};for(let m=0;m<l.contours.length;++m){const y=l.contours[m],_=p[y.reg];h[m]>0?(_.outline&&Zt.error(n,`buildContours: Multiple outlines for region ${y.reg}.`),_.outline=y):_.holes.push(g[m])}for(let m=0;m<A;m++){const y=p[m];y.holes.length!==0&&(y.outline?A9(n,y):Zt.error(n,`buildContours: Bad outline for region ${m}, contour simplification is likely too aggressive.`))}}}return l},u1=8191,Ku=65535,g9=(n,e,t)=>{const s=e[0],i=e[1];return n[0]=Math.floor((i[0]-s[0])/t+.5),n[1]=Math.floor((i[2]-s[2])/t+.5),n},m9=(n,e,t,s,i)=>{const r=n*e,o=new Array(r).fill(null);return{width:n,height:e,spans:o,bounds:t,cellHeight:i,cellSize:s}},x9=(n,e,t,s,i,r,o)=>{const a={min:s,max:i,area:r,next:null},l=e+t*n.width;let c=null,d=n.spans[l];for(;d!==null&&!(d.min>a.max);)if(d.max<a.min)c=d,d=d.next;else{d.min<a.min&&(a.min=d.min),d.max>a.max&&(a.max=d.max),Math.abs(a.max-d.max)<=o&&(a.area=Math.max(a.area,d.area));const u=d.next;c?c.next=u:n.spans[l]=u,d=u}return c!==null?(a.next=c.next,c.next=a):(a.next=n.spans[l],n.spans[l]=a),!0},h1=(n,e,t,s,i,r,o)=>{const a=E9;for(let d=0;d<t;++d)a[d]=r-e[d*3+o];let l=0,c=0;for(let d=0,u=t-1;d<t;u=d,++d)if(a[d]>=0==a[u]>=0){if(a[d]>=0&&(s[l*3+0]=e[d*3+0],s[l*3+1]=e[d*3+1],s[l*3+2]=e[d*3+2],l++,a[d]!==0))continue;i[c*3+0]=e[d*3+0],i[c*3+1]=e[d*3+1],i[c*3+2]=e[d*3+2],c++}else{const f=a[u]/(a[u]-a[d]);s[l*3+0]=e[u*3+0]+(e[d*3+0]-e[u*3+0])*f,s[l*3+1]=e[u*3+1]+(e[d*3+1]-e[u*3+1])*f,s[l*3+2]=e[u*3+2]+(e[d*3+2]-e[u*3+2])*f,i[c*3+0]=s[l*3+0],i[c*3+1]=s[l*3+1],i[c*3+2]=s[l*3+2],l++,c++,a[d]>0?(s[l*3+0]=e[d*3+0],s[l*3+1]=e[d*3+1],s[l*3+2]=e[d*3+2],l++):a[d]<0&&(i[c*3+0]=e[d*3+0],i[c*3+1]=e[d*3+1],i[c*3+2]=e[d*3+2],c++)}n.nv1=l,n.nv2=c},f1=ac.create(),y9=new Array(21),_9=new Array(21),I9=new Array(21),v9=new Array(21),E9=new Array(12),jc={nv1:0,nv2:0},C9=R.create(),b9=R.create(),w9=R.create(),B9=(n,e,t,s,i,r)=>{const o=f1,a=o[0],l=o[1];if(R.copy(f1[0],n),R.min(a,a,e),R.min(a,a,t),R.copy(l,n),R.max(l,l,e),R.max(l,l,t),!ac.intersectsBox3(o,i.bounds))return!0;const c=i.bounds[0],d=i.bounds[1],u=i.width,h=i.height,f=d[1]-c[1],A=i.cellSize,p=i.cellHeight,g=1/A,m=1/p;let y=Math.floor((a[2]-c[2])*g),_=Math.floor((l[2]-c[2])*g);y=ha(y,-1,h-1),_=ha(_,0,h-1);let I=y9,v=_9,E=I9,b=v9;I[0]=n[0],I[1]=n[1],I[2]=n[2],I[3]=e[0],I[4]=e[1],I[5]=e[2],I[6]=t[0],I[7]=t[1],I[8]=t[2];let N=3;for(let C=y;C<=_;++C){const B=c[2]+C*A;h1(jc,I,N,v,E,B+A,Yz);const S=jc.nv1,T=jc.nv2,D=I;if(I=E,E=D,N=T,S<3||C<0)continue;let L=v[0],z=v[0];for(let Ae=1;Ae<S;++Ae)L>v[Ae*3]&&(L=v[Ae*3]),z<v[Ae*3]&&(z=v[Ae*3]);let V=Math.floor((L-c[0])*g),se=Math.floor((z-c[0])*g);if(se<0||V>=u)continue;V=ha(V,-1,u-1),se=ha(se,0,u-1);let q=S;for(let Ae=V;Ae<=se;++Ae){const pe=c[0]+Ae*A;h1(jc,v,q,E,b,pe+A,Xz);const Ye=jc.nv1,Me=jc.nv2,We=v;if(v=b,b=We,q=Me,Ye<3||Ae<0)continue;let ce=E[1],j=E[1];for(let $=1;$<Ye;++$)ce=Math.min(ce,E[$*3+1]),j=Math.max(j,E[$*3+1]);if(ce-=c[1],j-=c[1],j<0||ce>f)continue;ce<0&&(ce=0),j>f&&(j=f);const O=ha(Math.floor(ce*m),0,u1),U=ha(Math.ceil(j*m),O+1,u1);x9(i,Ae,C,O,U,s,r)}}return!0},N9=(n,e,t,s,i,r=1)=>{const o=s.length/3;for(let a=0;a<o;++a){const l=s[a*3+0],c=s[a*3+1],d=s[a*3+2],u=R.fromBuffer(C9,t,l*3),h=R.fromBuffer(b9,t,c*3),f=R.fromBuffer(w9,t,d*3),A=i[a];if(!B9(u,h,f,A,e,r))return Zt.error(n,"Failed to rasterize triangle"),!1}return!0},S9=(n,e)=>{const t=n.width,s=n.height;for(let i=0;i<s;++i)for(let r=0;r<t;++r){let o=null,a=!1,l=On;const c=r+i*t;let d=n.spans[c];for(;d!==null;){const u=d.area!==On;!u&&a&&o&&d.max-o.max<=e&&(d.area=l),a=u,l=d.area,o=d,d=d.next}}},M9=(n,e,t)=>{const s=n.width,i=n.height;for(let r=0;r<i;++r)for(let o=0;o<s;++o){const a=o+r*s;let l=n.spans[a];for(;l!==null;){if(l.area===On){l=l.next;continue}const c=l.max,d=l.next?l.next.min:Ku;let u=Ku,h=l.max,f=l.max;for(let A=0;A<4;++A){const p=o+Er(A),g=r+Cr(A);if(p<0||g<0||p>=s||g>=i){u=-t-1;break}const m=p+g*s;let y=n.spans[m],_=y?y.min:Ku;if(Math.min(d,_)-c>=e){u=-t-1;break}for(;y!==null;){const I=y.max;if(_=y.next?y.next.min:Ku,Math.min(d,_)-Math.max(c,I)<e){y=y.next;continue}const v=I-c;if(u=Math.min(u,v),Math.abs(v)<=t)h=Math.min(h,I),f=Math.max(f,I);else if(v<-t)break;y=y.next}}(u<-t||f-h>t)&&(l.area=On),l=l.next}}},T9=(n,e)=>{const t=n.width,s=n.height;for(let i=0;i<s;++i)for(let r=0;r<t;++r){const o=r+i*t;let a=n.spans[o];for(;a!==null;){const l=a.max;(a.next?a.next.min:Ku)-l<e&&(a.area=On),a=a.next}}},A1=R.create(),p1=R.create(),P9=(n,e,t,s)=>{R.subtract(A1,e,n),R.subtract(p1,t,n),R.cross(s,A1,p1),R.normalize(s,s)},g1=R.create(),R9=R.create(),Q9=R.create(),D9=R.create(),L9=(n,e,t,s=45)=>{const i=Math.cos(s/180*Math.PI),r=e.length/3;for(let o=0;o<r;++o){const a=o*3,l=e[a],c=e[a+1],d=e[a+2],u=R.fromBuffer(R9,n,l*3),h=R.fromBuffer(Q9,n,c*3),f=R.fromBuffer(D9,n,d*3);P9(u,h,f,g1),g1[1]>i&&(t[o]=EI)}},k9=(n,e,t)=>{n[0][0]=Number.POSITIVE_INFINITY,n[0][1]=Number.POSITIVE_INFINITY,n[0][2]=Number.POSITIVE_INFINITY,n[1][0]=Number.NEGATIVE_INFINITY,n[1][1]=Number.NEGATIVE_INFINITY,n[1][2]=Number.NEGATIVE_INFINITY;const s=t.length/3;for(let i=0;i<s;++i){const r=i*3;for(let o=0;o<3;++o){const a=t[r+o],l=e[a*3],c=e[a*3+1],d=e[a*3+2];n[0][0]=Math.min(n[0][0],l),n[0][1]=Math.min(n[0][1],c),n[0][2]=Math.min(n[0][2],d),n[1][0]=Math.max(n[1][0],l),n[1][1]=Math.max(n[1][1],c),n[1][2]=Math.max(n[1][2],d)}}return n},F9=(n,e,t,s,i,r,o)=>{for(const a of n)a.neis=new Array(a.vertices.length).fill(Mn);U9(n,e.length/3),t>0&&O9(n,e,s,i,r,o),G9(n)},U9=(n,e)=>{const t=n.length,s=n.reduce((l,c)=>l+c.vertices.length,0),i=new Array(e).fill(Mn),r=new Array(s).fill(Mn);let o=0;const a=[];for(let l=0;l<e;l++)i[l]=Mn;for(let l=0;l<t;l++){const c=n[l];for(let d=0;d<c.vertices.length;d++){const u=c.vertices[d],h=c.vertices[(d+1)%c.vertices.length];if(u<h){const f={vert:[u,h],poly:[l,l],polyEdge:[d,0]};a[o]=f,r[o]=i[u],i[u]=o,o++}}}for(let l=0;l<t;l++){const c=n[l];for(let d=0;d<c.vertices.length;d++){const u=c.vertices[d],h=c.vertices[(d+1)%c.vertices.length];if(u>h)for(let f=i[h];f!==Mn;f=r[f]){const A=a[f];if(A.vert[1]===u&&A.poly[0]===A.poly[1]){A.poly[1]=l,A.polyEdge[1]=d;break}}}}for(let l=0;l<o;l++){const c=a[l];c.poly[0]!==c.poly[1]&&(n[c.poly[0]].neis[c.polyEdge[0]]=c.poly[1],n[c.poly[1]].neis[c.polyEdge[1]]=c.poly[0])}},O9=(n,e,t,s,i,r)=>{const o=[0,0,0],a=[0,0,0];for(let l=0;l<n.length;l++){const c=n[l];for(let d=0;d<c.vertices.length;d++){if(c.neis[d]!==Mn)continue;const u=(d+1)%c.vertices.length;o[0]=e[c.vertices[d]*3],o[1]=e[c.vertices[d]*3+1],o[2]=e[c.vertices[d]*3+2],a[0]=e[c.vertices[u]*3],a[1]=e[c.vertices[u]*3+1],a[2]=e[c.vertices[u]*3+2],o[0]===t&&a[0]===t?c.neis[d]=hi|0:o[2]===r&&a[2]===r?c.neis[d]=hi|1:o[0]===i&&a[0]===i?c.neis[d]=hi|2:o[2]===s&&a[2]===s&&(c.neis[d]=hi|3)}}},G9=n=>{for(const e of n)for(let t=0;t<e.neis.length;t++){const s=e.neis[t];if(s&hi){const i=s&15;i===15?e.neis[t]=0:i===0?e.neis[t]=hi|4:i===1?e.neis[t]=hi|2:i===2?e.neis[t]=hi|0:i===3?e.neis[t]=hi|6:e.neis[t]=0}else e.neis[t]=s+1}},H9=n=>{const e=n.vertices.slice(),t=n.maxVerticesPerPoly,s=n.nPolys,i=[];for(let r=0;r<s;r++){const o={vertices:[],neis:[],flags:n.flags[r],area:n.areas[r]},a=r*t;for(let l=0;l<t;l++){const c=n.polys[a+l];if(c===Mn)break;o.vertices.push(c)}i.push(o)}F9(i,e,n.borderSize,0,0,n.localWidth,n.localHeight);for(let r=0;r<e.length;r+=3)e[r]=n.bounds[0][0]+e[r]*n.cellSize,e[r+1]=n.bounds[0][1]+e[r+1]*n.cellHeight,e[r+2]=n.bounds[0][2]+e[r+2]*n.cellSize;return{vertices:e,polys:i}},z9=(n,e)=>{const t=[],s=[];let i=0;for(let r=0;r<n.length;r++){const a=n[r].vertices.length,l=e.meshes[r*4],c=e.meshes[r*4+1],d=e.meshes[r*4+2],u=e.meshes[r*4+3],h=c-a,f={verticesBase:i,verticesCount:h,trianglesBase:d,trianglesCount:u};if(t[r]=f,h>0){for(let A=a;A<c;A++){const p=(l+A)*3;s.push(e.vertices[p],e.vertices[p+1],e.vertices[p+2])}i+=h}}return{detailMeshes:t,detailVertices:s,detailTriangles:e.triangles}},V9=2,q9=(n,e,t,s,i,r)=>{const o=`${n},${t}`,a=r[o];if(a)for(let d=0;d<a.length;d++){const u=a[d],[h,f]=u;if(Math.abs(h-e)<=V9)return f}const l=Math.floor(s.length/3);s.push(n,e,t);const c=[e,l];return a?a.push(c):r[o]=[c],i.push(0),l},sg=(n,e)=>n-1>=0?n-1:e-1,di=(n,e)=>n+1<e?n+1:0,BI=(n,e,t)=>(e[0]-n[0])*(t[2]-n[2])-(t[0]-n[0])*(e[2]-n[2]),m1=(n,e)=>!n!=!e,xd=(n,e,t)=>BI(n,e,t)<0,ga=(n,e,t)=>BI(n,e,t)<=0,ju=(n,e,t)=>BI(n,e,t)===0,KS=(n,e,t,s)=>ju(n,e,t)||ju(n,e,s)||ju(t,s,n)||ju(t,s,e)?!1:m1(xd(n,e,t),xd(n,e,s))&&m1(xd(t,s,n),xd(t,s,e)),CA=(n,e,t)=>ju(n,e,t)?n[0]!==e[0]?n[0]<=t[0]&&t[0]<=e[0]||n[0]>=t[0]&&t[0]>=e[0]:n[2]<=t[2]&&t[2]<=e[2]||n[2]>=t[2]&&t[2]>=e[2]:!1,W9=(n,e,t,s)=>KS(n,e,t,s)?!0:CA(n,e,t)||CA(n,e,s)||CA(t,s,n)||CA(t,s,e),Ca=(n,e)=>n[0]===e[0]&&n[2]===e[2],jS=R.create(),ZS=R.create(),$S=R.create(),eM=R.create(),X9=(n,e,t,s,i)=>{const r=R.fromBuffer(jS,s,(i[n]&268435455)*4),o=R.fromBuffer(ZS,s,(i[e]&268435455)*4);for(let a=0;a<t;a++){const l=di(a,t);if(!(a===n||l===n||a===e||l===e)){const c=R.fromBuffer($S,s,(i[a]&268435455)*4),d=R.fromBuffer(eM,s,(i[l]&268435455)*4);if(Ca(r,c)||Ca(o,c)||Ca(r,d)||Ca(o,d))continue;if(W9(r,o,c,d))return!1}}return!0},tM=R.create(),sM=R.create(),nM=R.create(),iM=R.create(),Y9=(n,e,t,s,i)=>{const r=R.fromBuffer(tM,s,(i[n]&268435455)*4),o=R.fromBuffer(sM,s,(i[e]&268435455)*4),a=R.fromBuffer(nM,s,(i[di(n,t)]&268435455)*4),l=R.fromBuffer(iM,s,(i[sg(n,t)]&268435455)*4);return ga(l,r,a)?xd(r,o,l)&&xd(o,r,a):!(ga(r,o,a)&&ga(o,r,l))},sx=(n,e,t,s,i)=>Y9(n,e,t,s,i)&&X9(n,e,t,s,i),J9=(n,e,t,s,i)=>{const r=R.fromBuffer(jS,s,(i[n]&268435455)*4),o=R.fromBuffer(ZS,s,(i[e]&268435455)*4);for(let a=0;a<t;a++){const l=di(a,t);if(!(a===n||l===n||a===e||l===e)){const c=R.fromBuffer($S,s,(i[a]&268435455)*4),d=R.fromBuffer(eM,s,(i[l]&268435455)*4);if(Ca(r,c)||Ca(o,c)||Ca(r,d)||Ca(o,d))continue;if(KS(r,o,c,d))return!1}}return!0},K9=(n,e,t,s,i)=>{const r=R.fromBuffer(tM,s,(i[n]&268435455)*4),o=R.fromBuffer(sM,s,(i[e]&268435455)*4),a=R.fromBuffer(nM,s,(i[di(n,t)]&268435455)*4),l=R.fromBuffer(iM,s,(i[sg(n,t)]&268435455)*4);return ga(l,r,a)?ga(r,o,l)&&ga(o,r,a):!(ga(r,o,a)&&ga(o,r,l))},j9=(n,e,t,s,i)=>K9(n,e,t,s,i)&&J9(n,e,t,s,i),x1=R.create(),y1=R.create(),rM=(n,e,t,s)=>{let i=0,r=0;for(let a=0;a<n;a++){const l=di(a,n),c=di(l,n);sx(a,c,n,e,t)&&(t[l]|=2147483648)}let o=n;for(;o>3;){let a=-1,l=-1;for(let f=0;f<o;f++){const A=di(f,o);if(t[A]&2147483648){const p=R.fromBuffer(x1,e,(t[f]&268435455)*4),g=R.fromBuffer(y1,e,(t[di(A,o)]&268435455)*4),m=g[0]-p[0],y=g[2]-p[2],_=m*m+y*y;(a<0||_<a)&&(a=_,l=f)}}if(l===-1){for(let f=0;f<o;f++){const A=di(f,o),p=di(A,o);if(j9(f,p,o,e,t)){const g=R.fromBuffer(x1,e,(t[f]&268435455)*4),m=R.fromBuffer(y1,e,(t[di(p,o)]&268435455)*4),y=m[0]-g[0],_=m[2]-g[2],I=y*y+_*_;(a<0||I<a)&&(a=I,l=f)}}if(l===-1)return-i}const c=l;let d=di(c,o);const u=di(d,o);s[r++]=t[c]&268435455,s[r++]=t[d]&268435455,s[r++]=t[u]&268435455,i++,o--;for(let f=d;f<o;f++)t[f]=t[f+1];d>=o&&(d=0);const h=sg(d,o);sx(sg(h,o),d,o,e,t)?t[h]|=2147483648:t[h]&=268435455,sx(h,di(d,o),o,e,t)?t[d]|=2147483648:t[d]&=268435455}return s[r++]=t[0]&268435455,s[r++]=t[1]&268435455,s[r++]=t[2]&268435455,i++,i},No=(n,e,t)=>{for(let s=0;s<t;s++)if(n[e+s]===Mn)return s;return t},_1=(n,e,t)=>(e[0]-n[0])*(t[2]-n[2])-(t[0]-n[0])*(e[2]-n[2])<0,oM=(n,e,t,s,i)=>{const r=No(n,e,i),o=No(n,t,i);if(r+o-2>i)return{value:-1,ea:-1,eb:-1};let a=-1,l=-1;for(let _=0;_<r;_++){let I=n[e+_],v=n[e+(_+1)%r];I>v&&([I,v]=[v,I]);for(let E=0;E<o;E++){let b=n[t+E],N=n[t+(E+1)%o];if(b>N&&([b,N]=[N,b]),I===b&&v===N){a=_,l=E;break}}}if(a===-1||l===-1)return{value:-1,ea:-1,eb:-1};const c=n[e+(a+r-1)%r],d=n[e+a],u=n[t+(l+2)%o];if(!_1([s[c*3],0,s[c*3+2]],[s[d*3],0,s[d*3+2]],[s[u*3],0,s[u*3+2]]))return{value:-1,ea:-1,eb:-1};const h=n[t+(l+o-1)%o],f=n[t+l],A=n[e+(a+2)%r];if(!_1([s[h*3],0,s[h*3+2]],[s[f*3],0,s[f*3+2]],[s[A*3],0,s[A*3+2]]))return{value:-1,ea:-1,eb:-1};const p=n[e+a],g=n[e+(a+1)%r],m=s[p*3]-s[g*3],y=s[p*3+2]-s[g*3+2];return{value:m*m+y*y,ea:a,eb:l}},aM=(n,e,t,s,i,r,o)=>{const a=No(n,e,o),l=No(n,t,o);for(let d=0;d<o;d++)n[r+d]=Mn;let c=0;for(let d=0;d<a-1;d++)n[r+c++]=n[e+(s+1+d)%a];for(let d=0;d<l-1;d++)n[r+c++]=n[t+(i+1+d)%l];for(let d=0;d<o;d++)n[e+d]=n[r+d]},Z9=(n,e,t)=>{let s=0;for(let u=0;u<e.contours.length;u++){const h=e.contours[u];h.nVertices<3||(s=Math.max(s,h.nVertices))}const i={vertices:[],polys:[],regions:[],flags:[],areas:[],nVertices:0,nPolys:0,maxVerticesPerPoly:t,bounds:ac.clone(e.bounds),localWidth:e.width,localHeight:e.height,cellSize:e.cellSize,cellHeight:e.cellHeight,borderSize:e.borderSize,maxEdgeError:e.maxError},r=[],o={},a=new Array(s),l=new Array(s*3),c=new Array((s+1)*t).fill(Mn),d=s*t;for(let u=0;u<e.contours.length;u++){const h=e.contours[u];if(h.nVertices<3)continue;for(let p=0;p<h.nVertices;p++)a[p]=p;let f=rM(h.nVertices,h.vertices,a,l);f<=0&&(Zt.warn(n,`Bad triangulation for contour ${u}`),f=Math.abs(f));for(let p=0;p<h.nVertices;p++){const g=h.vertices[p*4],m=h.vertices[p*4+1],y=h.vertices[p*4+2],_=h.vertices[p*4+3],I=q9(g,m,y,i.vertices,r,o);a[p]=I,_&vI&&(r[I]=1)}let A=0;c.fill(Mn,0,s*t);for(let p=0;p<f;p++){const g=[l[p*3],l[p*3+1],l[p*3+2]];g[0]!==g[1]&&g[0]!==g[2]&&g[1]!==g[2]&&(c[A*t]=a[g[0]],c[A*t+1]=a[g[1]],c[A*t+2]=a[g[2]],A++)}if(A!==0){if(t>3)for(;;){let p=0,g=0,m=0,y=0,_=0;for(let I=0;I<A-1;I++)for(let v=I+1;v<A;v++){const E=I*t,b=v*t,N=oM(c,E,b,i.vertices,t);N.value>p&&(p=N.value,g=I,m=v,y=N.ea,_=N.eb)}if(p>0){const I=g*t,v=m*t;aM(c,I,v,y,_,d,t);for(let E=0;E<t;E++)c[v+E]=c[(A-1)*t+E];A--}else break}for(let p=0;p<A;p++){const g=i.nPolys*t,m=p*t;for(let y=0;y<t;y++)i.polys[g+y]=c[m+y];i.regions[i.nPolys]=h.reg,i.areas[i.nPolys]=h.area,i.nPolys++}}}i.nVertices=Math.floor(i.vertices.length/3);for(let u=0;u<i.nVertices;u++)if(r[u]){if(!$9(i,u))continue;if(eq(n,i,u)){for(let h=u;h<i.nVertices;h++)r[h]=r[h+1];u--}else Zt.error(n,`Failed to remove edge vertex ${u}`)}return i.polys.length=i.nPolys*t,i.regions.length=i.nPolys,i.vertices.length=i.nVertices*3,i.flags=new Array(i.nPolys).fill(0),i},$9=(n,e)=>{const t=n.maxVerticesPerPoly;let s=0,i=0;for(let c=0;c<n.nPolys;c++){const d=c*t,u=No(n.polys,d,t);let h=0,f=0;for(let A=0;A<u;A++)n.polys[d+A]===e&&(s++,h++),f++;h&&(i+=f-(h+1))}if(i<=2)return!1;const r=s*2,o=new Array(r*3);let a=0;for(let c=0;c<n.nPolys;c++){const d=c*t,u=No(n.polys,d,t);for(let h=0,f=u-1;h<u;f=h++)if(n.polys[d+h]===e||n.polys[d+f]===e){let A=n.polys[d+h],p=n.polys[d+f];if(p===e){const m=A;A=p,p=m}let g=!1;for(let m=0;m<a;m++){const y=m*3;if(o[y+1]===p){o[y+2]++,g=!0;break}}if(!g){const m=a*3;o[m]=A,o[m+1]=p,o[m+2]=1,a++}}}let l=0;for(let c=0;c<a;c++)o[c*3+2]<2&&l++;return l<=2},nx=(n,e,t)=>{t.value++;for(let s=t.value-1;s>0;s--)e[s]=e[s-1];e[0]=n},Zc=(n,e,t)=>{e[t.value]=n,t.value++},eq=(n,e,t)=>{const s=e.maxVerticesPerPoly;let i=0;for(let E=0;E<e.nPolys;E++){const b=E*s,N=No(e.polys,b,s);for(let C=0;C<N;C++)e.polys[b+C]===t&&i++}const r=new Array(i*s*4);let o=0;const a=new Array(i*s);let l=0;const c=new Array(i*s),d=new Array(i*s);for(let E=0;E<e.nPolys;E++){const b=E*s,N=No(e.polys,b,s);let C=!1;for(let B=0;B<N;B++)if(e.polys[b+B]===t){C=!0;break}if(C){for(let S=0,T=N-1;S<N;T=S++)if(e.polys[b+S]!==t&&e.polys[b+T]!==t){const D=o*4;r[D]=e.polys[b+T],r[D+1]=e.polys[b+S],r[D+2]=e.regions[E],r[D+3]=e.areas[E],o++}const B=(e.nPolys-1)*s;if(b!==B)for(let S=0;S<s;S++)e.polys[b+S]=e.polys[B+S];for(let S=0;S<s;S++)e.polys[B+S]=Mn;e.regions[E]=e.regions[e.nPolys-1],e.areas[E]=e.areas[e.nPolys-1],e.nPolys--,E--}}for(let E=t;E<e.nVertices-1;E++)e.vertices[E*3]=e.vertices[(E+1)*3],e.vertices[E*3+1]=e.vertices[(E+1)*3+1],e.vertices[E*3+2]=e.vertices[(E+1)*3+2];e.nVertices--;for(let E=0;E<e.nPolys;E++){const b=E*s,N=No(e.polys,b,s);for(let C=0;C<N;C++)e.polys[b+C]>t&&e.polys[b+C]--}for(let E=0;E<o;E++)r[E*4]>t&&r[E*4]--,r[E*4+1]>t&&r[E*4+1]--;if(o===0)return!0;const u={value:0},h={value:0},f={value:0};for(Zc(r[0],a,u),Zc(r[2],c,h),Zc(r[3],d,f),l=u.value;o>0;){let E=!1;for(let b=0;b<o;b++){const N=r[b*4],C=r[b*4+1],B=r[b*4+2],S=r[b*4+3];let T=!1;a[0]===C?(nx(N,a,u),nx(B,c,h),nx(S,d,f),T=!0):a[l-1]===N&&(Zc(C,a,u),Zc(B,c,h),Zc(S,d,f),T=!0),T&&(r[b*4]=r[(o-1)*4],r[b*4+1]=r[(o-1)*4+1],r[b*4+2]=r[(o-1)*4+2],r[b*4+3]=r[(o-1)*4+3],o--,E=!0,b--),l=u.value}if(!E)break}const A=new Array(l*3),p=new Array(l*4),g=new Array(l);for(let E=0;E<l;E++){const b=a[E];p[E*4]=e.vertices[b*3],p[E*4+1]=e.vertices[b*3+1],p[E*4+2]=e.vertices[b*3+2],p[E*4+3]=0,g[E]=E}let m=rM(l,p,g,A);m<0&&(m=-m,Zt.warn(n,"removeVertex: triangulate() returned bad results"));const y=new Array((m+1)*s),_=new Array(m),I=new Array(m);y.fill(Mn);let v=0;for(let E=0;E<m;E++){const b=[A[E*3],A[E*3+1],A[E*3+2]];b[0]!==b[1]&&b[0]!==b[2]&&b[1]!==b[2]&&(y[v*s]=a[b[0]],y[v*s+1]=a[b[1]],y[v*s+2]=a[b[2]],c[b[0]]!==c[b[1]]||c[b[1]]!==c[b[2]]?_[v]=Ry:_[v]=c[b[0]],I[v]=d[b[0]],v++)}if(v===0)return!0;if(s>3)for(;;){let E=0,b=0,N=0,C=0,B=0;for(let S=0;S<v-1;S++){const T=S*s;for(let D=S+1;D<v;D++){const L=D*s,z=oM(y,T,L,e.vertices,s);z.value>E&&(E=z.value,b=S,N=D,C=z.ea,B=z.eb)}}if(E>0){const S=b*s,T=N*s;aM(y,S,T,C,B,m*s,s),_[b]!==_[N]&&(_[b]=Ry);const D=(v-1)*s;if(T!==D)for(let L=0;L<s;L++)y[T+L]=y[D+L];_[N]=_[v-1],I[N]=I[v-1],v--}else break}for(let E=0;E<v;E++){const b=e.nPolys*s,N=E*s;for(let C=0;C<s;C++)e.polys[b+C]=Mn;for(let C=0;C<s;C++)e.polys[b+C]=y[N+C];e.regions[e.nPolys]=_[E],e.areas[e.nPolys]=I[E],e.nPolys++}return!0},bl=1,Dl=65535,bA=127,ix=255,wA=32,I1=256,Zn=-1,lM=-2,Ys=(n,e,t=0)=>(n[0]=e[t],n[1]=e[t+2],n),tq=n=>(n*2376512323&65535)/65535*2-1,sq=n=>(n*3625334849&65535)/65535*2-1,v1=(n,e)=>n-1>=0?n-1:e-1,rx=(n,e)=>n+1<e?n+1:0,E1=(n,e,t,s,i,r,o,a)=>{let l=Math.floor(n*i+.01),c=Math.floor(t*i+.01);l=ha(l-a.xmin,0,a.width-1),c=ha(c-a.ymin,0,a.height-1);let d=a.data[l+c*a.width];if(d===Dl){let u=1,h=0,f=1,A=0;const p=o*2+1,g=p*p-1;let m=8,y=16,_=Number.MAX_VALUE;for(let I=0;I<g;I++){const v=l+u,E=c+h;if(v>=0&&E>=0&&v<a.width&&E<a.height){const b=a.data[v+E*a.width];if(b!==Dl){const N=Math.abs(b*r-e);N<_&&(d=b,_=N)}}if(I+1===m){if(d!==Dl)break;m+=y,y+=8}if(u===h||u<0&&u===-h||u>0&&u===1-h){const b=f;f=-A,A=b}u+=f,h+=A}}return d},Qy=(n,e,t,s)=>{for(let i=0;i<e;i++){const r=i*4;if(n[r]===t&&n[r+1]===s||n[r]===s&&n[r+1]===t)return i}return Zn},Dy=(n,e,t,s,i,r,o,a)=>{if(t.value>=s)return Zt.error(n,`addEdge: Too many edges (${t.value}/${s}).`),Zn;if(Qy(e,t.value,i,r)===Zn){const c=t.value*4;return e[c]=i,e[c+1]=r,e[c+2]=o,e[c+3]=a,t.value++}return Zn},nq=R.create(),ox=mt.create(),Lu=mt.create(),ku=mt.create(),C1=mt.create(),b1=mt.create(),na=Py.create(),ia=Cz.create(),w1=(n,e,t,s,i,r,o,a)=>{const c=a*4;let d,u;if(s[c+2]===Zn)d=s[c],u=s[c+1];else if(s[c+3]===Zn)d=s[c+1],u=s[c];else return;let h=t;const f=R.set(nq,0,0,0);let A=-1;for(let p=0;p<t;++p){if(p===d||p===u)continue;if(Ys(ox,e,d*3),Ys(Lu,e,u*3),Ys(ku,e,p*3),mt.subtract(Lu,Lu,ox),mt.subtract(ku,ku,ox),Lu[0]*ku[1]-Lu[1]*ku[0]>1e-5){if(A<0){h=p,Ys(na[0],e,d*3),Ys(na[1],e,u*3),Ys(na[2],e,p*3),Py.circumcircle(ia,na),f[0]=ia.center[0],f[1]=0,f[2]=ia.center[1],A=ia.radius;continue}Ys(C1,f,0),Ys(b1,e,p*3);const m=mt.distance(C1,b1),y=.001;if(m>A*(1+y)||m>=A*(1-y)&&(T1(e,s,i.value,d,p)||T1(e,s,i.value,u,p)))continue;h=p,Ys(na[0],e,d*3),Ys(na[1],e,u*3),Ys(na[2],e,p*3),Py.circumcircle(ia,na),f[0]=ia.center[0],f[1]=0,f[2]=ia.center[1],A=ia.radius}}if(h<t){BA(s,a,d,u,o.value);let p=Qy(s,i.value,h,d);p===Zn?Dy(n,s,i,r,h,d,o.value,Zn):BA(s,p,h,d,o.value),p=Qy(s,i.value,u,h),p===Zn?Dy(n,s,i,r,u,h,o.value,Zn):BA(s,p,u,h,o.value),o.value++}else BA(s,a,d,u,lM)},BA=(n,e,t,s,i)=>{const r=e*4;n[r]===t&&n[r+1]===s&&n[r+2]===Zn?n[r+2]=i:n[r+1]===t&&n[r]===s&&n[r+3]===Zn&&(n[r+3]=i)},B1=mt.create(),N1=mt.create(),S1=mt.create(),M1=mt.create(),T1=(n,e,t,s,i)=>{for(let r=0;r<t;++r){const o=e[r*4],a=e[r*4+1];if(!(o===s||o===i||a===s||a===i)&&(Ys(B1,n,o*3),Ys(N1,n,a*3),Ys(S1,n,s*3),Ys(M1,n,i*3),hV(B1,N1,S1,M1)))return!0}return!1},iq=(n,e,t,s,i,r,o)=>{const a={value:0},l={value:0},c=e*10;o.length=c*4;for(let u=0,h=s-1;u<s;h=u++)Dy(n,o,l,c,i[h],i[u],lM,Zn);let d=0;for(;d<l.value;)o[d*4+2]===Zn&&w1(n,t,e,o,l,c,a,d),o[d*4+3]===Zn&&w1(n,t,e,o,l,c,a,d),d++;r.length=a.value*4;for(let u=0;u<a.value*4;++u)r[u]=-1;for(let u=0;u<l.value;++u){const h=u*4;if(o[h+3]>=0){const f=o[h+3]*4;r[f]===-1?(r[f]=o[h],r[f+1]=o[h+1]):r[f]===o[h+1]?r[f+2]=o[h]:r[f+1]===o[h]&&(r[f+2]=o[h+1])}if(o[h+2]>=0){const f=o[h+2]*4;r[f]===-1?(r[f]=o[h+1],r[f+1]=o[h]):r[f]===o[h]?r[f+2]=o[h+1]:r[f+1]===o[h+1]&&(r[f+2]=o[h])}}for(let u=0;u<r.length/4;++u){const h=u*4;(r[h]===-1||r[h+1]===-1||r[h+2]===-1)&&(Zt.warn(n,`delaunayHull: Removing dangling face ${u} [${r[h]},${r[h+1]},${r[h+2]}].`),r[h]=r[r.length-4],r[h+1]=r[r.length-3],r[h+2]=r[r.length-2],r[h+3]=r[r.length-1],r.length-=4,--u)}},P1=(n,e,t,s,i)=>{let r=0,o=1,a=e-1,l=Number.MAX_VALUE;for(let c=0;c<e;c++){if(t[c]>=s)continue;const d=v1(c,e),u=rx(c,e),h=t[d]*3,f=t[c]*3,A=t[u]*3;Ys($c,n,h),Ys(ed,n,f),Ys(td,n,A);const p=mt.distance($c,ed)+mt.distance(ed,td)+mt.distance(td,$c);p<l&&(r=c,o=u,a=d,l=p)}for(i.push(t[r]),i.push(t[o]),i.push(t[a]),i.push(0);rx(o,e)!==a;){const c=rx(o,e),d=v1(a,e),u=t[o]*3,h=t[c]*3,f=t[a]*3,A=t[d]*3;Ys($c,n,u),Ys(ed,n,h),Ys(td,n,f),Ys(lx,n,A);const p=mt.distance($c,ed)+mt.distance(ed,td),g=mt.distance(td,lx)+mt.distance($c,lx);p<g?(i.push(t[o]),i.push(t[c]),i.push(t[a]),i.push(0),o=c):(i.push(t[o]),i.push(t[d]),i.push(t[a]),i.push(0),a=d)}},ax=(n,e,t,s)=>{if(n>=t||e>=t)return!1;for(let i=t-1,r=0;r<t;i=r++)if(n===s[i]&&e===s[r])return!0;return!1},R1=(n,e,t)=>{for(let s=0;s<n.length;s+=4){const i=n[s],r=n[s+1],o=n[s+2];let a=0;a|=(ax(i,r,e,t)?bl:0)<<0,a|=(ax(r,o,e,t)?bl:0)<<2,a|=(ax(o,i,e,t)?bl:0)<<4,n[s+3]=a}},rq=[[0,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0]],oq=(n,e,t,s,i,r,o,a,l)=>{const c=rq;let d=0,u=0,h=-1,f=Dl;for(let v=0;v<i&&f>0;++v)for(let E=0;E<9&&f>0;++E){const b=r[t[s+v]*3]+c[E][0],N=r[t[s+v]*3+1],C=r[t[s+v]*3+2]+c[E][1];if(b<a.xmin||b>=a.xmin+a.width||C<a.ymin||C>=a.ymin+a.height)continue;const B=e.cells[b+o+(C+o)*e.width];for(let S=B.index,T=B.index+B.count;S<T&&f>0;++S){const D=e.spans[S],L=Math.abs(N-D.y);L<f&&(d=b,u=C,h=S,f=L)}}let A=0,p=0;for(let v=0;v<i;++v)A+=r[t[s+v]*3],p+=r[t[s+v]*3+2];A=Math.floor(A/i),p=Math.floor(p/i),l.length=0,l.push(d,u,h);const g=[0,1,2,3];a.data.fill(0);let m=-1,y=-1,_=-1;for(;;){if(l.length<3){Zt.warn(n,"Walk towards polygon center failed to reach center");break}if(_=l.pop(),y=l.pop(),m=l.pop(),m===A&&y===p)break;let v;m===A?v=Gb(0,p>y?1:-1):v=Gb(A>m?1:-1,0);let E=g[v];g[v]=g[3],g[3]=E;const b=e.spans[_];for(let N=0;N<4;N++){const C=g[N];if(pt(b,C)===Kt)continue;const B=m+Er(C),S=y+Cr(C),T=B-a.xmin,D=S-a.ymin;T<0||T>=a.width||D<0||D>=a.height||a.data[T+D*a.width]===0&&(a.data[T+D*a.width]=1,l.push(B,S,e.cells[B+o+(S+o)*e.width].index+pt(b,C)))}E=g[v],g[v]=g[3],g[3]=E}l.length=0,l.push(m+o,y+o,_),a.data.fill(Dl);const I=e.spans[_];a.data[m-a.xmin+(y-a.ymin)*a.width]=I.y},aq=(n,e,t,s,i,r,o,a,l,c)=>{l.length=0,a.data.fill(Dl);let d=!0;if(c!==Ry)for(let h=0;h<a.height;h++){const f=a.ymin+h+o;for(let A=0;A<a.width;A++){const p=a.xmin+A+o,g=e.cells[p+f*e.width];for(let m=g.index,y=g.index+g.count;m<y;++m){const _=e.spans[m];if(_.region===c){a.data[A+h*a.width]=_.y,d=!1;let I=!1;for(let v=0;v<4;++v)if(pt(_,v)!==Kt){const E=p+Er(v),b=f+Cr(v),N=e.cells[E+b*e.width].index+pt(_,v);if(e.spans[N].region!==c){I=!0;break}}I&&l.push(p,f,m);break}}}}d&&oq(n,e,t,s,i,r,o,a,l);let u=0;for(;u*3<l.length;){const h=l[u*3],f=l[u*3+1],A=l[u*3+2];u++,u>=I1&&(u=0,l.splice(0,I1*3));const p=e.spans[A];for(let g=0;g<4;++g){if(pt(p,g)===Kt)continue;const m=h+Er(g),y=f+Cr(g),_=m-a.xmin-o,I=y-a.ymin-o;if(_<0||_>=a.width||I<0||I>=a.height||a.data[_+I*a.width]!==Dl)continue;const v=e.cells[m+y*e.width].index+pt(p,g),E=e.spans[v];a.data[_+I*a.width]=E.y,l.push(m,y,v)}}},lq=R.create(),cq=R.create(),dq=R.create(),uq=R.create(),hq=R.create(),Q1=R.create(),D1=R.create(),fq=R.create(),Aq=R.create(),pq=(n,e,t,s,i,r,o,a,l,c,d,u)=>{const h=new Array((wA+1)*3),f=new Array(bA);let A=0,p=t;for(let I=0;I<t;++I)l[I*3]=e[I*3],l[I*3+1]=e[I*3+1],l[I*3+2]=e[I*3+2];d.length=0,c.length=0;const g=o.cellSize,m=1/g,y=pV(l,p);if(s>0)for(let I=0,v=t-1;I<t;v=I++){let E=v*3,b=I*3,N=!1;if(Math.abs(e[E]-e[b])<1e-6){if(e[E+2]>e[b+2]){const q=b;b=E,E=q,N=!0}}else if(e[E]>e[b]){const q=b;b=E,E=q,N=!0}const C=R.fromBuffer(lq,e,E),B=R.fromBuffer(cq,e,b),S=B[0]-C[0],T=B[1]-C[1],D=B[2]-C[2],L=Math.sqrt(S*S+D*D);let z=1+Math.floor(L/s);z>=wA&&(z=wA-1),p+z>=bA&&(z=bA-1-p);for(let q=0;q<=z;++q){const Ae=q/z,pe=q*3;h[pe]=C[0]+S*Ae,h[pe+1]=C[1]+T*Ae,h[pe+2]=C[2]+D*Ae,h[pe+1]=E1(h[pe],h[pe+1],h[pe+2],g,m,o.cellHeight,r,a)*o.cellHeight}const V=new Array(wA).fill(0);V[0]=0,V[1]=z;let se=2;for(let q=0;q<se-1;){const Ae=V[q],pe=V[q+1],Ye=Ae*3,Me=pe*3;let We=0,ce=-1;for(let j=Ae+1;j<pe;++j){const O=R.fromBuffer(dq,h,j*3),U=R.fromBuffer(uq,h,Ye),$=R.fromBuffer(hq,h,Me),me=nV(O,U,$);me>We&&(We=me,ce=j)}if(ce!==-1&&We>i*i){for(let j=se;j>q;--j)V[j]=V[j-1];V[q+1]=ce,se++}else++q}if(f[A++]=v,N)for(let q=se-2;q>0;--q)l[p*3]=h[V[q]*3],l[p*3+1]=h[V[q]*3+1],l[p*3+2]=h[V[q]*3+2],f[A++]=p,p++;else for(let q=1;q<se-1;++q)l[p*3]=h[V[q]*3],l[p*3+1]=h[V[q]*3+1],l[p*3+2]=h[V[q]*3+2],f[A++]=p,p++}if(y<s*2)return P1(l,A,f,t,c),R1(c,A,f),!0;if(P1(l,A,f,t,c),c.length===0)return Zt.warn(n,`buildPolyDetail: Could not triangulate polygon (${p} verts).`),!0;if(s>0){const I=R.set(fq,e[0],e[1],e[2]),v=R.set(Aq,e[0],e[1],e[2]);for(let S=1;S<t;++S)I[0]=Math.min(I[0],e[S*3]),I[1]=Math.min(I[1],e[S*3+1]),I[2]=Math.min(I[2],e[S*3+2]),v[0]=Math.max(v[0],e[S*3]),v[1]=Math.max(v[1],e[S*3+1]),v[2]=Math.max(v[2],e[S*3+2]);const E=Math.floor(I[0]/s),b=Math.ceil(v[0]/s),N=Math.floor(I[2]/s),C=Math.ceil(v[2]/s);u.length=0;for(let S=N;S<C;++S)for(let T=E;T<b;++T){const D=[T*s,(v[1]+I[1])*.5,S*s];R.set(D1,D[0],D[1],D[2]),!(rV(t,e,D1)>-s/2)&&(u.push(T),u.push(E1(D[0],D[1],D[2],g,m,o.cellHeight,r,a)),u.push(S),u.push(0))}const B=u.length/4;for(let S=0;S<B&&!(p>=bA);++S){const T=[0,0,0];let D=0,L=-1;for(let z=0;z<B;++z){const V=z*4;if(u[V+3])continue;const se=[u[V]*s+tq(z)*g*.1,u[V+1]*o.cellHeight,u[V+2]*s+sq(z)*g*.1];R.set(Q1,se[0],se[1],se[2]);const q=iV(Q1,l,c,c.length/4);q<0||q>D&&(D=q,L=z,T[0]=se[0],T[1]=se[1],T[2]=se[2])}if(D<=i||L===-1)break;u[L*4+3]=1,l.push(T[0],T[1],T[2]),p++,d.length=0,c.length=0,iq(n,p,l,A,f,c,d)}}const _=c.length/4;return _>ix&&(c.length=ix*4,Zt.warn(n,`buildPolyMeshDetail: Shrinking triangle count from ${_} to max ${ix}.`)),R1(c,A,f),!0},$c=mt.create(),ed=mt.create(),td=mt.create(),lx=mt.create(),gq=(n,e,t,s,i)=>{if(e.nVertices===0||e.nPolys===0)return{meshes:[],vertices:[],triangles:[],nMeshes:0,nVertices:0,nTriangles:0};const r=e.maxVerticesPerPoly,o=e.cellSize,a=e.cellHeight,l=[e.bounds[0][0],e.bounds[0][1],e.bounds[0][2]],c=e.borderSize,d=Math.max(1,Math.ceil(e.maxEdgeError)),u={data:[],xmin:0,ymin:0,width:0,height:0};let h=0,f=0;const A=new Array(e.nPolys*4),p=new Array(r*3);for(let m=0;m<e.nPolys;++m){const y=m*r;let _=t.width,I=0,v=t.height,E=0;for(let b=0;b<r&&e.polys[y+b]!==Mn;++b){const N=e.polys[y+b]*3;_=Math.min(_,e.vertices[N]),I=Math.max(I,e.vertices[N]),v=Math.min(v,e.vertices[N+2]),E=Math.max(E,e.vertices[N+2])}A[m*4]=Math.max(0,_-1),A[m*4+1]=Math.min(t.width,I+1),A[m*4+2]=Math.max(0,v-1),A[m*4+3]=Math.min(t.height,E+1),!(A[m*4]>=A[m*4+1]||A[m*4+2]>=A[m*4+3])&&(h=Math.max(h,A[m*4+1]-A[m*4]),f=Math.max(f,A[m*4+3]-A[m*4+2]))}u.data=new Array(h*f);const g={meshes:new Array(e.nPolys*4),vertices:[],triangles:[],nMeshes:e.nPolys,nVertices:0,nTriangles:0};for(let m=0;m<e.nPolys;++m){const y=m*r,_=[],I=[],v=[],E=[],b=[];let N=0;for(let B=0;B<r&&e.polys[y+B]!==Mn;++B){const S=e.polys[y+B]*3;p[B*3]=e.vertices[S]*o,p[B*3+1]=e.vertices[S+1]*a,p[B*3+2]=e.vertices[S+2]*o,N++}if(u.xmin=A[m*4],u.ymin=A[m*4+2],u.width=A[m*4+1]-A[m*4],u.height=A[m*4+3]-A[m*4+2],aq(n,t,e.polys,y,N,e.vertices,c,u,v,e.regions[m]),!pq(n,p,N,s,i,d,t,u,b,I,_,E)){Zt.error(n,`buildPolyMeshDetail: Failed to build detail mesh for poly ${m}.`);continue}for(let B=0;B<b.length;B+=3)b[B]+=l[0],b[B+1]+=l[1]+t.cellHeight,b[B+2]+=l[2];for(let B=0;B<N;++B)p[B*3]+=l[0],p[B*3+1]+=l[1],p[B*3+2]+=l[2];const C=I.length/4;g.meshes[m*4]=g.nVertices,g.meshes[m*4+1]=b.length/3,g.meshes[m*4+2]=g.nTriangles,g.meshes[m*4+3]=C;for(let B=0;B<b.length;B+=3)g.vertices.push(b[B],b[B+1],b[B+2]),g.nVertices++;for(let B=0;B<I.length;B+=4)g.triangles.push(I[B],I[B+1],I[B+2],I[B+3]),g.nTriangles++}return g},NA=()=>({free:[],counter:0}),Hg=n=>n.free.length>0?n.free.pop():n.counter++,NI=(n,e)=>{n.free.push(e)},mq=(n,e)=>n.bounds[0][0]<e.bounds[0][0]?-1:n.bounds[0][0]>e.bounds[0][0]?1:0,xq=(n,e)=>n.bounds[0][1]<e.bounds[0][1]?-1:n.bounds[0][1]>e.bounds[0][1]?1:0,yq=(n,e)=>n.bounds[0][2]<e.bounds[0][2]?-1:n.bounds[0][2]>e.bounds[0][2]?1:0,_q=(n,e,t)=>{const s=[[n[e].bounds[0][0],n[e].bounds[0][1],n[e].bounds[0][2]],[n[e].bounds[1][0],n[e].bounds[1][1],n[e].bounds[1][2]]];for(let i=e+1;i<t;++i){const r=n[i];r.bounds[0][0]<s[0][0]&&(s[0][0]=r.bounds[0][0]),r.bounds[0][1]<s[0][1]&&(s[0][1]=r.bounds[0][1]),r.bounds[0][2]<s[0][2]&&(s[0][2]=r.bounds[0][2]),r.bounds[1][0]>s[1][0]&&(s[1][0]=r.bounds[1][0]),r.bounds[1][1]>s[1][1]&&(s[1][1]=r.bounds[1][1]),r.bounds[1][2]>s[1][2]&&(s[1][2]=r.bounds[1][2])}return s},Iq=(n,e,t)=>{let s=0,i=n;return e>i&&(s=1,i=e),t>i&&(s=2),s},Ly=(n,e,t,s,i)=>{const r=t-e,o=s.value,a={bounds:[[0,0,0],[0,0,0]],i:0};if(i[s.value++]=a,r===1)a.bounds[0][0]=n[e].bounds[0][0],a.bounds[0][1]=n[e].bounds[0][1],a.bounds[0][2]=n[e].bounds[0][2],a.bounds[1][0]=n[e].bounds[1][0],a.bounds[1][1]=n[e].bounds[1][1],a.bounds[1][2]=n[e].bounds[1][2],a.i=n[e].i;else{const l=_q(n,e,t);a.bounds[0][0]=l[0][0],a.bounds[0][1]=l[0][1],a.bounds[0][2]=l[0][2],a.bounds[1][0]=l[1][0],a.bounds[1][1]=l[1][1],a.bounds[1][2]=l[1][2];const c=Iq(a.bounds[1][0]-a.bounds[0][0],a.bounds[1][1]-a.bounds[0][1],a.bounds[1][2]-a.bounds[0][2]);if(c===0){const h=n.slice(e,t);h.sort(mq);for(let f=0;f<h.length;f++)n[e+f]=h[f]}else if(c===1){const h=n.slice(e,t);h.sort(xq);for(let f=0;f<h.length;f++)n[e+f]=h[f]}else{const h=n.slice(e,t);h.sort(yq);for(let f=0;f<h.length;f++)n[e+f]=h[f]}const d=e+Math.floor(r/2);Ly(n,e,d,s,i),Ly(n,d,t,s,i);const u=s.value-o;a.i=-u}},vq=n=>{const e=1/n.cellSize;if(n.polys.length===0)return{nodes:[],quantFactor:e};const t=new Array(Object.keys(n.polys).length);for(let l=0;l<n.polys.length;l++){const c={bounds:[[0,0,0],[0,0,0]],i:l},d=n.polys[l],u=d.vertices.length;if(u>0){const h=d.vertices[0]*3;c.bounds[0][0]=c.bounds[1][0]=n.vertices[h],c.bounds[0][1]=c.bounds[1][1]=n.vertices[h+1],c.bounds[0][2]=c.bounds[1][2]=n.vertices[h+2];for(let f=1;f<u;f++){const A=d.vertices[f];if(A===Mn)break;const p=A*3,g=n.vertices[p],m=n.vertices[p+1],y=n.vertices[p+2];g<c.bounds[0][0]&&(c.bounds[0][0]=g),m<c.bounds[0][1]&&(c.bounds[0][1]=m),y<c.bounds[0][2]&&(c.bounds[0][2]=y),g>c.bounds[1][0]&&(c.bounds[1][0]=g),m>c.bounds[1][1]&&(c.bounds[1][1]=m),y>c.bounds[1][2]&&(c.bounds[1][2]=y)}if(n.detailMeshes.length>0&&n.detailVertices.length>0){const f=n.detailMeshes[l],A=f.verticesBase,p=f.verticesCount;for(let g=0;g<p;g++){const m=(A+g)*3,y=n.detailVertices[m],_=n.detailVertices[m+1],I=n.detailVertices[m+2];y<c.bounds[0][0]&&(c.bounds[0][0]=y),_<c.bounds[0][1]&&(c.bounds[0][1]=_),I<c.bounds[0][2]&&(c.bounds[0][2]=I),y>c.bounds[1][0]&&(c.bounds[1][0]=y),_>c.bounds[1][1]&&(c.bounds[1][1]=_),I>c.bounds[1][2]&&(c.bounds[1][2]=I)}}c.bounds[0][0]=(c.bounds[0][0]-n.bounds[0][0])*e,c.bounds[0][1]=(c.bounds[0][1]-n.bounds[0][1])*e,c.bounds[0][2]=(c.bounds[0][2]-n.bounds[0][2])*e,c.bounds[1][0]=(c.bounds[1][0]-n.bounds[0][0])*e,c.bounds[1][1]=(c.bounds[1][1]-n.bounds[0][1])*e,c.bounds[1][2]=(c.bounds[1][2]-n.bounds[0][2])*e}t[l]=c}const s={value:0},i=Object.keys(n.polys).length,r=new Array(i*2);return Ly(t,0,i,s,r),{nodes:r.slice(0,s.value),quantFactor:e}};var $l;(function(n){n[n.START_TO_END=0]="START_TO_END",n[n.BIDIRECTIONAL=1]="BIDIRECTIONAL"})($l||($l={}));var as;(function(n){n[n.POLY=0]="POLY",n[n.OFFMESH=1]="OFFMESH"})(as||(as={}));const ec=-1,cM=1,Eq=31,Cq=20,dM=1,uM=2147483647,bq=cM,hM=cM+Eq,SI=(1<<Cq)-1,fM=SI,AM=(n,e,t)=>{const s=n&dM,i=e&uM,r=t&SI;return s+i*2+r*2**hM},Zr=n=>n&dM,MI=n=>n>>>bq&uM,L1=n=>Math.floor(n/2**hM)&SI,wq=()=>({origin:[0,0,0],tileWidth:0,tileHeight:0,links:[],nodes:[],tiles:{},tilePositionToTileId:{},tileColumnToTileIds:{},offMeshConnections:{},offMeshConnectionAttachments:{},tilePositionToSequenceCounter:{},offMeshConnectionSequenceCounter:0,nodeIndexPool:NA(),tileIndexPool:NA(),offMeshConnectionIndexPool:NA(),linkIndexPool:NA()}),ks=(n,e)=>{const t=MI(e);return n.nodes[t]},Lo=(n,e,t)=>{const s=e.polyNodes[t];return n.nodes[s]},Gn=(n,e)=>{if(e===ec)return!1;const t=Zr(e);if(t===as.POLY){const s=ks(n,e);if(!s)return!1;const i=n.tiles[s.tileId];if(!i)return!1;const r=L1(e);return!(i.sequence!==r||s.polyIndex<0||s.polyIndex>=i.polys.length||!i.polys[s.polyIndex])}if(t===as.OFFMESH){const s=ks(n,e);if(!s)return!1;const i=n.offMeshConnections[s.offMeshConnectionId];if(!i)return!1;const r=L1(e);return!(i.sequence!==r||!bM(n,i.id))}return!1},zg=(n,e,t)=>{const s=TI(e,t),i=n.tileColumnToTileIds[s];if(!i)return[];const r=[];for(const o of i)r.push(n.tiles[o]);return r},pM=(n,e,t,s)=>{let i=e,r=t;switch(s){case 0:i++;break;case 1:i++,r++;break;case 2:r++;break;case 3:i--,r++;break;case 4:i--;break;case 5:i--,r--;break;case 6:r--;break;case 7:i++,r--;break}return zg(n,i,r)},gM=(n,e,t)=>`${n},${e},${t}`,TI=(n,e)=>`${n},${e}`,k1=(n,e,t)=>(n[0]=Math.floor((t[0]-e.origin[0])/e.tileWidth),n[1]=Math.floor((t[2]-e.origin[2])/e.tileHeight),n),er=(n,e)=>{const t={success:!1,tile:null,poly:null,polyIndex:-1};if(Zr(n)!==as.POLY)return t;const{tileId:i,polyIndex:r}=ks(e,n),o=e.tiles[i];return!o||r>=o.polys.length||(t.poly=o.polys[r],t.tile=o,t.polyIndex=r,t.success=!0),t},Bq=R.create(),Nq=R.create(),Sq=R.create(),Mq=[Bq,Nq,Sq],Tq=[],mM=()=>({success:!1,height:0}),xM=(n,e,t,s,i)=>{n.success=!1,n.height=0;const r=e.detailMeshes[s],o=t.vertices.length,a=Tq;for(let c=0;c<o;++c){const d=t.vertices[c]*3;a[c*3]=e.vertices[d],a[c*3+1]=e.vertices[d+1],a[c*3+2]=e.vertices[d+2]}if(!CI(i,a,o))return n;if(r)for(let c=0;c<r.trianglesCount;++c){const d=(r.trianglesBase+c)*4,u=e.detailTriangles,h=Mq;for(let A=0;A<3;++A){const p=u[d+A];if(p<t.vertices.length){const g=t.vertices[p]*3;h[A][0]=e.vertices[g+0],h[A][1]=e.vertices[g+1],h[A][2]=e.vertices[g+2]}else{const g=(r.verticesBase+(p-t.vertices.length))*3;h[A][0]=e.detailVertices[g+0],h[A][1]=e.detailVertices[g+1],h[A][2]=e.detailVertices[g+2]}}const f=oV(i,h[0],h[1],h[2]);if(!Number.isNaN(f))return n.success=!0,n.height=f,n}const l=R.create();return yM(l,e,t,s,i,!1),n.success=!0,n.height=l[1],n},Pq=(n,e)=>n>>e*2&3,Rq=[R.create(),R.create(),R.create()],Qq=R.create(),Dq=R.create(),Lq=Gh(),yM=(n,e,t,s,i,r)=>{const o=e.detailMeshes[s];let a=Number.MAX_VALUE,l=0;const c=R.set(Qq,0,0,0),d=R.set(Dq,0,0,0);for(let u=0;u<o.trianglesCount;u++){const h=(o.trianglesBase+u)*4,f=e.detailTriangles;if(r){const p=f[h+3],g=bl<<0|bl<<2|bl<<4;if((p&g)===0)continue}const A=Rq;for(let p=0;p<3;++p){const g=f[h+p];if(g<t.vertices.length)R.fromBuffer(A[p],e.vertices,t.vertices[g]*3);else{const m=(o.verticesBase+(g-t.vertices.length))*3;R.fromBuffer(A[p],e.detailVertices,m)}}for(let p=0,g=2;p<3;g=p++){const m=f[h+3];if((Pq(m,g)&bl)===0&&(r||f[h+g]<f[h+p]))continue;const _=Yd(Lq,i,A[g],A[p]);_.distSqr<a&&(a=_.distSqr,l=_.t,R.copy(c,A[g]),R.copy(d,A[p]))}}return c&&d&&R.lerp(n,c,d,l),a},ng=()=>({success:!1,isOverPoly:!1,position:[0,0,0]}),kq=mM(),ig=(n,e,t,s)=>{n.success=!1,n.isOverPoly=!1,R.copy(n.position,s);const i=er(t,e);if(!i.success)return n;n.success=!0;const{tile:r,poly:o,polyIndex:a}=i,l=xM(kq,r,o,a,s);return l.success?(R.copy(n.position,s),n.position[1]=l.height,n.isOverPoly=!0,n):(yM(n.position,r,o,a,s,!0),n)},Fq=R.create(),Uq=R.create(),Oq=[],cx=Gh(),dx=(n,e,t,s)=>{const i=er(t,e);if(!i.success||!R.finite(s)||!n)return!1;const{tile:r,poly:o}=i,a=Fq,l=Uq,c=o.vertices.length,d=Oq;for(let T=0;T<c;++T){const D=o.vertices[T]*3;d[T*3]=r.vertices[D],d[T*3+1]=r.vertices[D+1],d[T*3+2]=r.vertices[D+2]}if(CI(s,d,c))return R.copy(n,s),!0;let u=Number.MAX_VALUE,h=0;for(let T=0;T<c;++T){const D=(T+1)%c,L=T*3,z=D*3;a[0]=d[L+0],a[1]=d[L+1],a[2]=d[L+2],l[0]=d[z+0],l[1]=d[z+1],l[2]=d[z+2],Yd(cx,s,a,l),cx.distSqr<u&&(u=cx.distSqr,h=T)}const f=(h+1)%c,A=h*3,p=f*3,g=d[A+0],m=d[A+1],y=d[A+2],_=d[p+0],I=d[p+1],v=d[p+2],E=_-g,b=v-y,N=s[0]-g,C=s[2]-y,B=E*E+b*b;let S=B>0?(E*N+b*C)/B:0;return S<0?S=0:S>1&&(S=1),n[0]=g+(_-g)*S,n[1]=m+(I-m)*S,n[2]=y+(v-y)*S,!0},Ms=()=>({success:!1,nodeRef:0,position:[0,0,0]}),Gq=ng(),ux=R.create(),Hq=ac.create(),Ns=(n,e,t,s,i)=>{n.success=!1,n.nodeRef=0,R.copy(n.position,t);const r=Hq;R.sub(r[0],t,s),R.add(r[1],t,s);const o=Wq(e,r,i);let a=Number.MAX_VALUE;for(const l of o){const c=ig(Gq,e,l,t);if(!c.success)continue;const{tileId:d}=ks(e,l),u=e.tiles[d];if(!u)continue;R.sub(ux,t,c.position);let h;if(c.isOverPoly){const f=Math.abs(ux[1])-u.walkableClimb;h=f>0?f*f:0}else h=R.squaredLength(ux);h<a&&(a=h,n.nodeRef=l,R.copy(n.position,c.position),n.success=!0)}return n},sd=R.create(),nd=R.create(),zq=(n,e,t,s,i)=>{const r=s[0],o=s[1];let a=0;const l=t.bvTree.nodes.length,c=t.bounds[0],d=t.bounds[1],u=t.bvTree.quantFactor,h=Math.max(Math.min(r[0],d[0]),c[0])-c[0],f=Math.max(Math.min(r[1],d[1]),c[1])-c[1],A=Math.max(Math.min(r[2],d[2]),c[2])-c[2],p=Math.max(Math.min(o[0],d[0]),c[0])-c[0],g=Math.max(Math.min(o[1],d[1]),c[1])-c[1],m=Math.max(Math.min(o[2],d[2]),c[2])-c[2];for(nd[0]=Math.floor(u*h)&65534,nd[1]=Math.floor(u*f)&65534,nd[2]=Math.floor(u*A)&65534,sd[0]=Math.floor(u*p+1)|1,sd[1]=Math.floor(u*g+1)|1,sd[2]=Math.floor(u*m+1)|1;a<l;){const y=t.bvTree.nodes[a],_=y.bounds,I=nd[0]<=_[1][0]&&sd[0]>=_[0][0]&&nd[1]<=_[1][1]&&sd[1]>=_[0][1]&&nd[2]<=_[1][2]&&sd[2]>=_[0][2],v=y.i>=0;if(v&&I){const E=y.i,b=Lo(e,t,E);i.passFilter(b.ref,e)&&n.push(b.ref)}if(I||v)a++;else{const E=-y.i;a+=E}}},Vq=mt.create(),qq=mt.create(),Wq=(n,e,t)=>{const s=[],i=k1(Vq,n,e[0]),r=k1(qq,n,e[1]);if(!mt.finite(i)||!mt.finite(r))return s;for(let o=i[0];o<=r[0];o++)for(let a=i[1];a<=r[1];a++){const l=zg(n,o,a);for(const c of l)zq(s,n,c,e,t)}return s},_M=n=>{const e=Hg(n.nodeIndexPool);let t=n.nodes[e];return t||(t=n.nodes[e]={allocated:!0,index:e,ref:0,area:0,flags:0,links:[],type:0,tileId:-1,polyIndex:-1,offMeshConnectionId:-1}),t.allocated=!0,t},IM=(n,e)=>{const t=n.nodes[e];t.allocated=!1,t.links.length=0,t.ref=0,t.type=0,t.area=-1,t.flags=-1,t.tileId=-1,t.polyIndex=-1,t.offMeshConnectionId=-1,NI(n.nodeIndexPool,e)},PI=n=>{const e=Hg(n.linkIndexPool);let t=n.links[e];return t||(t=n.links[e]={allocated:!0,index:e,fromNodeIndex:0,fromNodeRef:0,toNodeIndex:0,toNodeRef:0,edge:0,side:0,bmin:0,bmax:0}),t.allocated=!0,e},uh=(n,e)=>{const t=n.links[e];t.allocated=!1,t.fromNodeIndex=-1,t.fromNodeRef=0,t.toNodeIndex=-1,t.toNodeRef=0,t.edge=0,t.side=0,t.bmin=0,t.bmax=0,NI(n.linkIndexPool,e)},Xq=(n,e)=>{for(let t=0;t<e.polys.length;t++){const s=e.polys[t],i=Lo(n,e,t);for(let r=0;r<s.vertices.length;r++){const o=s.neis[r];if(o===0||o&hi)continue;const a=o-1;if(a>=0&&a<e.polys.length){const l=PI(n),c=n.links[l],d=Lo(n,e,a);c.fromNodeIndex=i.index,c.fromNodeRef=i.ref,c.toNodeIndex=d.index,c.toNodeRef=d.ref,c.edge=r,c.side=255,c.bmin=0,c.bmax=0,i.links.push(l)}}}},vM=n=>n+4&7,F1=(n,e)=>e===0||e===4?n[0]:e===2||e===6?n[2]:0,U1=(n,e,t,s,i)=>{i===0||i===4?n[2]<e[2]?(t[0]=n[2],t[1]=n[1],s[0]=e[2],s[1]=e[1]):(t[0]=e[2],t[1]=e[1],s[0]=n[2],s[1]=n[1]):(i===2||i===6)&&(n[0]<e[0]?(t[0]=n[0],t[1]=n[1],s[0]=e[0],s[1]=e[1]):(t[0]=e[0],t[1]=e[1],s[0]=n[0],s[1]=n[1]))},Yq=(n,e,t,s,i,r)=>{const o=Math.max(n[0]+i,t[0]+i),a=Math.min(e[0]-i,s[0]-i);if(o>a)return!1;const l=(e[1]-n[1])/(e[0]-n[0]),c=n[1]-l*n[0],d=(s[1]-t[1])/(s[0]-t[0]),u=t[1]-d*t[0],h=l*o+c,f=l*a+c,A=d*o+u,p=d*a+u,g=A-h,m=p-f;if(g*m<0)return!0;const y=r*2*(r*2);return g*g<=y||m*m<=y},hx=R.create(),fx=R.create(),Ax=R.create(),px=R.create(),Jq=(n,e,t,s,i)=>{if(!s)return[];U1(e,t,hx,fx,i);const r=F1(e,i),o=[];for(let a=0;a<s.polys.length;a++){const l=s.polys[a],c=l.vertices.length;for(let d=0;d<c;d++){const u=l.neis[d];if((u&hi)===0||(u&VS)!==i)continue;const f=l.vertices[d],A=l.vertices[(d+1)%c],p=[s.vertices[f*3],s.vertices[f*3+1],s.vertices[f*3+2]],g=[s.vertices[A*3],s.vertices[A*3+1],s.vertices[A*3+2]],m=F1(p,i);if(Math.abs(r-m)>.01||(U1(p,g,Ax,px,i),!Yq(hx,fx,Ax,px,.01,s.walkableClimb)))continue;const y=Lo(n,s,a).ref;o.push({nodeRef:y,umin:Math.max(hx[0],Ax[0]),umax:Math.min(fx[0],px[0])});break}}return o},Kq=R.create(),jq=R.create(),SA=(n,e,t,s)=>{for(let i=0;i<e.polys.length;i++){const r=e.polys[i],o=Lo(n,e,i),a=r.vertices.length;for(let l=0;l<a;l++){if((r.neis[l]&hi)===0)continue;const c=r.neis[l]&VS;if(s!==-1&&c!==s)continue;const d=R.fromBuffer(Kq,e.vertices,r.vertices[l]*3),u=R.fromBuffer(jq,e.vertices,r.vertices[(l+1)%a]*3),h=Jq(n,d,u,t,vM(c));for(const f of h){let A,p;if(c===0||c===4?(A=(f.umin-d[2])/(u[2]-d[2]),p=(f.umax-d[2])/(u[2]-d[2])):(A=(f.umin-d[0])/(u[0]-d[0]),p=(f.umax-d[0])/(u[0]-d[0])),A>p){const y=A;A=p,p=y}A=Math.max(0,Math.min(1,A)),p=Math.max(0,Math.min(1,p));const g=PI(n),m=n.links[g];m.fromNodeIndex=o.index,m.fromNodeRef=o.ref,m.toNodeIndex=MI(f.nodeRef),m.toNodeRef=f.nodeRef,m.edge=l,m.side=c,m.bmin=Math.round(A*255),m.bmax=Math.round(p*255),o.links.push(g)}}}},MA=(n,e,t)=>{const s=t.id;for(let i=0;i<e.polys.length;i++){const r=Lo(n,e,i),o=[];for(let a=0;a<r.links.length;a++){const l=r.links[a],c=n.links[l];ks(n,c.toNodeRef).tileId===s?uh(n,l):o.push(l)}r.links=o}},TA=(n,e,t,s)=>{const i=PI(n),r=n.links[i];r.fromNodeIndex=e.index,r.fromNodeRef=e.ref,r.toNodeIndex=t.index,r.toNodeRef=t.ref,r.edge=s,r.side=0,r.bmin=0,r.bmax=0,e.links.push(i)},Zq=Ms(),$q=Ms(),eW=R.create(),EM=(n,e)=>{const t=R.set(eW,e.radius,e.radius,e.radius),s=Ns(Zq,n,e.start,t,vs),i=Ns($q,n,e.end,t,vs);if(!s.success||!i.success)return!1;const r=s.nodeRef,o=ks(n,r),a=i.nodeRef,l=ks(n,a),c={offMeshNode:-1,startPolyNode:r,endPolyNode:a};n.offMeshConnectionAttachments[e.id]=c;const d=_M(n),u=AM(as.OFFMESH,d.index,e.sequence);return d.type=as.OFFMESH,d.ref=u,d.area=e.area,d.flags=e.flags,d.offMeshConnectionId=e.id,c.offMeshNode=u,TA(n,o,d,0),TA(n,d,l,1),e.direction===$l.BIDIRECTIONAL&&(TA(n,l,d,1),TA(n,d,o,0)),!0},tW=(n,e)=>{const t=n.offMeshConnectionAttachments[e.id];if(!t)return!1;const s=t.offMeshNode,i=t.startPolyNode,r=t.endPolyNode,o=ks(n,i);if(o)for(let c=o.links.length-1;c>=0;c--){const d=o.links[c];n.links[d].toNodeRef===s&&(uh(n,d),o.links.splice(c,1))}const a=ks(n,r);if(a)for(let c=a.links.length-1;c>=0;c--){const d=a.links[c];n.links[d].toNodeRef===s&&(uh(n,d),a.links.splice(c,1))}const l=ks(n,s);if(l)for(let c=l.links.length-1;c>=0;c--){const d=l.links[c];uh(n,d)}return IM(n,MI(s)),delete n.offMeshConnectionAttachments[e.id],!0},sW=(n,e)=>(tW(n,e),EM(n,e)),CM=n=>{for(const e in n.offMeshConnections){const t=n.offMeshConnections[e];bM(n,t.id)||sW(n,t)}},nW=n=>{const e=vq(n);return{...n,id:-1,sequence:-1,bvTree:e,polyNodes:[]}},iW=(n,e)=>{const t=gM(e.tileX,e.tileY,e.tileLayer);n.tilePositionToTileId[t]!==void 0&&rW(n,e.tileX,e.tileY,e.tileLayer);let s=n.tilePositionToSequenceCounter[t];s===void 0?s=0:s=(s+1)%fM,n.tilePositionToSequenceCounter[t]=s;const i=Hg(n.tileIndexPool);e.id=i,e.sequence=s,n.tiles[e.id]=e,n.tilePositionToTileId[t]=e.id;const r=TI(e.tileX,e.tileY);n.tileColumnToTileIds[r]||(n.tileColumnToTileIds[r]=[]),n.tileColumnToTileIds[r].push(e.id);for(let a=0;a<e.polys.length;a++){const l=_M(n);l.ref=AM(as.POLY,l.index,e.sequence),l.type=as.POLY,l.area=e.polys[a].area,l.flags=e.polys[a].flags,l.tileId=e.id,l.polyIndex=a,l.links.length=0,e.polyNodes.push(l.index)}Xq(n,e);const o=zg(n,e.tileX,e.tileY);for(const a of o)a.id!==e.id&&(SA(n,a,e,-1),SA(n,e,a,-1));for(let a=0;a<8;a++){const l=pM(n,e.tileX,e.tileY,a);for(const c of l)SA(n,e,c,a),SA(n,c,e,vM(a))}CM(n)},rW=(n,e,t,s)=>{const i=gM(e,t,s),r=n.tilePositionToTileId[i],o=n.tiles[r];if(!o)return!1;const a=zg(n,e,t);for(const d of a)d.id!==r&&(MA(n,d,o),MA(n,o,d));for(let d=0;d<8;d++){const u=pM(n,e,t,d);for(const h of u)MA(n,h,o),MA(n,o,h)}for(let d=0;d<o.polys.length;d++){const u=Lo(n,o,d);for(const h of u.links)uh(n,h)}for(let d=0;d<o.polyNodes.length;d++)IM(n,o.polyNodes[d]);o.polyNodes.length=0,delete n.tiles[r],delete n.tilePositionToTileId[i];const l=TI(e,t),c=n.tileColumnToTileIds[l];if(c){const d=c.indexOf(r);d!==-1&&c.splice(d,1),c.length===0&&delete n.tileColumnToTileIds[l]}return NI(n.tileIndexPool,r),CM(n),!0},O1=(n,e)=>{const t=Hg(n.offMeshConnectionIndexPool),s=n.offMeshConnectionSequenceCounter;n.offMeshConnectionSequenceCounter=(n.offMeshConnectionSequenceCounter+1)%fM;const i={...e,id:t,sequence:s};return n.offMeshConnections[t]=i,EM(n,i),t},bM=(n,e)=>{const t=n.offMeshConnectionAttachments[e];if(!t)return!1;const{startPolyNode:s,endPolyNode:i}=t;return Gn(n,s)&&Gn(n,i)},oW=()=>({includeFlags:4294967295,excludeFlags:0,getCost(n,e,t,s,i,r){return R.distance(n,e)},passFilter(n,e){const{flags:t}=ks(e,n);return(t&this.includeFlags)!==0&&(t&this.excludeFlags)===0}}),vs=oW(),Xr=1,tr=2,rg=4,ko=(n,e,t)=>{const s=n[e];if(s){for(let i=0;i<s.length;i++)if(s[i].state===t)return s[i]}},Ha=(n,e)=>{n[e.nodeRef]||(n[e.nodeRef]=[]),n[e.nodeRef].push(e)},wM=(n,e,t)=>{let s=Math.floor((e-1)/2);for(;e>0&&n[s].total>t.total;)n[e]=n[s],e=s,s=Math.floor((e-1)/2);n[e]=t},aW=(n,e,t)=>{const s=n.length;let i=2*e+1;for(;i<s&&(i+1<s&&n[i+1].total<n[i].total&&i++,!(t.total<=n[i].total));)n[e]=n[i],e=i,i=e*2+1;n[e]=t},og=(n,e)=>{n.push(e),wM(n,n.length-1,e)},BM=n=>{if(n.length===0)return;const e=n[0],t=n.pop();return n.length>0&&t!==void 0&&(n[0]=t,aW(n,0,t)),e},NM=(n,e)=>{for(let t=0;t<n.length;t++)if(n[t].nodeRef===e.nodeRef&&n[t].state===e.state){n[t]=e,wM(n,t,e);return}},gx=R.create(),mx=R.create(),Vg=(n,e,t,s,i)=>{let r;const o=ks(n,e);for(const c of o.links){const d=n.links[c];if(d.toNodeRef===t){r=d;break}}if(!r)return!1;const a=Zr(e),l=Zr(t);if(a===as.POLY&&l===as.POLY){const{tileId:c,polyIndex:d}=ks(n,e),u=n.tiles[c],h=u.polys[d],f=h.vertices[r.edge],A=h.vertices[(r.edge+1)%h.vertices.length],p=f*3,g=A*3;if(r.side!==255&&(r.bmin!==0||r.bmax!==255)){const m=.00392156862745098,y=r.bmin*m,_=r.bmax*m;R.fromBuffer(gx,u.vertices,p),R.fromBuffer(mx,u.vertices,g),R.lerp(s,gx,mx,y),R.lerp(i,gx,mx,_)}else R.fromBuffer(s,u.vertices,p),R.fromBuffer(i,u.vertices,g);return!0}if(a===as.POLY&&l===as.OFFMESH){const c=ks(n,t),d=n.offMeshConnections[c.offMeshConnectionId];if(!d)return!1;const u=r&&r.edge===0?d.start:d.end;return R.copy(s,u),R.copy(i,u),!0}if(a===as.OFFMESH&&l===as.POLY){const c=n.offMeshConnections[o.offMeshConnectionId];if(!c)return!1;const d=r&&r.edge===0?c.start:c.end;return R.copy(s,d),R.copy(i,d),!0}return!1},PA=R.create(),RA=R.create(),SM=(n,e,t,s)=>Vg(n,e,t,PA,RA)?(s[0]=(PA[0]+RA[0])*.5,s[1]=(PA[1]+RA[1])*.5,s[2]=(PA[2]+RA[2])*.5,!0):!1;var xr;(function(n){n[n.NONE=0]="NONE",n[n.SUCCESS=1]="SUCCESS",n[n.COMPLETE_PATH=2]="COMPLETE_PATH",n[n.PARTIAL_PATH=4]="PARTIAL_PATH",n[n.INVALID_INPUT=8]="INVALID_INPUT"})(xr||(xr={}));const ag=.999,lW=(n,e,t,s,i,r)=>{const o={},a=[];if(!Gn(n,e)||!Gn(n,t)||!R.finite(s)||!R.finite(i))return{flags:xr.NONE|xr.INVALID_INPUT,success:!1,path:[],nodes:o,openList:a};if(e===t)return{flags:xr.SUCCESS|xr.COMPLETE_PATH,success:!0,path:[e],nodes:o,openList:a};const l=r.getCost,c={cost:0,total:R.distance(s,i)*ag,parentNodeRef:null,parentState:null,nodeRef:e,state:0,flags:Xr,position:[s[0],s[1],s[2]]};Ha(o,c),og(a,c);let d=c,u=c.total;for(;a.length>0;){const A=BM(a);A.flags&=~Xr,A.flags|=tr;const p=A.nodeRef;if(p===t){d=A;break}const g=ks(n,p),m=A.parentNodeRef??void 0;for(const y of g.links){const _=n.links[y],I=_.toNodeRef;if(I===m||r.passFilter(I,n)===!1)continue;let v=0;_.side!==255&&(v=_.side>>1);let E=ko(o,I,v);E||(E={cost:0,total:0,parentNodeRef:null,parentState:null,nodeRef:I,state:v,flags:0,position:[0,0,0]},Ha(o,E),SM(n,p,I,E.position));let b=0,N=0;const C=l(A.position,E.position,n,m,p,I);if(b=A.cost+C,I===t){const S=l(E.position,i,n,p,I,void 0);b=b+S,N=0}else N=R.distance(E.position,i)*ag;const B=b+N;E.flags&Xr&&B>=E.total||E.flags&tr&&B>=E.total||(E.parentNodeRef=A.nodeRef,E.parentState=A.state,E.nodeRef=I,E.flags=E.flags&~tr,E.cost=b,E.total=B,E.flags&Xr?NM(a,E):(E.flags|=Xr,og(a,E)),N<u&&(d=E,u=N))}}const h=[];let f=d;for(;f;)h.push(f.nodeRef),f.parentNodeRef!==null&&f.parentState!==null?f=ko(o,f.parentNodeRef,f.parentState)??null:f=null;return h.reverse(),d.nodeRef!==t?{flags:xr.PARTIAL_PATH,success:!0,path:h,nodes:o,openList:a}:{flags:xr.SUCCESS|xr.COMPLETE_PATH,success:!0,path:h,nodes:o,openList:a}};var ls;(function(n){n[n.NOT_INITIALIZED=0]="NOT_INITIALIZED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.SUCCESS=2]="SUCCESS",n[n.PARTIAL_RESULT=4]="PARTIAL_RESULT",n[n.FAILURE=8]="FAILURE",n[n.INVALID_PARAM=16]="INVALID_PARAM"})(ls||(ls={}));var ky;(function(n){n[n.ANY_ANGLE=1]="ANY_ANGLE"})(ky||(ky={}));const MM=()=>({status:ls.NOT_INITIALIZED,startNodeRef:0,endNodeRef:0,startPosition:[0,0,0],endPosition:[0,0,0],filter:vs,nodes:{},openList:[],lastBestNode:null,lastBestNodeCost:1/0,raycastLimitSqr:null}),Fy=(n,e,t,s,i,r,o,a=0)=>{if(e.startNodeRef=t,e.endNodeRef=s,R.copy(e.startPosition,i),R.copy(e.endPosition,r),e.filter=o,e.status=ls.FAILURE,e.nodes={},e.openList=[],e.lastBestNode=null,e.lastBestNodeCost=1/0,!Gn(n,t)||!Gn(n,s)||!R.finite(i)||!R.finite(r))return e.status=ls.FAILURE|ls.INVALID_PARAM,e.status;a&ky.ANY_ANGLE?e.raycastLimitSqr=25:e.raycastLimitSqr=null;const l={cost:0,total:R.distance(i,r)*ag,parentNodeRef:null,parentState:null,nodeRef:t,state:0,flags:Xr,position:[i[0],i[1],i[2]]};return Ha(e.nodes,l),e.lastBestNode=l,e.lastBestNodeCost=l.total,t===s?(e.status=ls.SUCCESS,e.status):(og(e.openList,l),e.status=ls.IN_PROGRESS,e.status)},Uy=(n,e,t)=>{let s=0;if(!(e.status&ls.IN_PROGRESS))return s;if(!Gn(n,e.startNodeRef)||!Gn(n,e.endNodeRef))return e.status=ls.FAILURE,s;const i=e.filter.getCost;for(;s<t&&e.openList.length>0;){s++;const r=BM(e.openList);if(r.flags&=~Xr,r.flags|=tr,r.nodeRef===e.endNodeRef)return e.lastBestNode=r,e.status=ls.SUCCESS,s;const o=r.nodeRef,a=ks(n,o),l=r.parentNodeRef??void 0;for(const c of a.links){const d=n.links[c],u=d.toNodeRef;if(u===l||!e.filter.passFilter(u,n))continue;let h=0;d.side!==255&&(h=d.side>>1);let f=ko(e.nodes,u,h);f||(f={cost:0,total:0,parentNodeRef:null,parentState:null,nodeRef:u,state:h,flags:0,position:[0,0,0]},Ha(e.nodes,f),SM(n,o,u,f.position));let A=0,p=0,g=!1;if(e.raycastLimitSqr&&r.parentNodeRef!==null&&r.parentState!==null){const y=ko(e.nodes,r.parentNodeRef,r.parentState);if(y&&R.distance(y.position,f.position)<Math.sqrt(e.raycastLimitSqr)){const I=mW(n,y.nodeRef,y.position,f.position,e.filter,y.parentNodeRef??0);I.t>=1&&(g=!0,A=y.cost+I.pathCost)}}if(!g){const y=i(r.position,f.position,n,l,o,u);A=r.cost+y}if(u===e.endNodeRef){const y=i(f.position,e.endPosition,n,o,u,void 0);A=A+y,p=0}else p=R.distance(f.position,e.endPosition)*ag;const m=A+p;f.flags&Xr&&m>=f.total||f.flags&tr&&m>=f.total||(g?(f.parentNodeRef=r.parentNodeRef,f.parentState=r.parentState):(f.parentNodeRef=r.nodeRef,f.parentState=r.state),f.cost=A,f.total=m,f.flags&=~tr,g?f.flags|=rg:f.flags&=~rg,f.flags&Xr?NM(e.openList,f):(f.flags|=Xr,og(e.openList,f)),p<e.lastBestNodeCost&&(e.lastBestNodeCost=p,e.lastBestNode=f))}}return e.openList.length===0&&(e.status=ls.SUCCESS|ls.PARTIAL_RESULT),s},G1=(n,e)=>{const t={status:ls.FAILURE,path:[],pathCount:0};if(!e.lastBestNode)return e.status=ls.FAILURE,{...t,status:e.status};if(e.startNodeRef===e.endNodeRef)return t.path.push(e.startNodeRef),t.pathCount=1,t.status=ls.SUCCESS,e.status=ls.NOT_INITIALIZED,t;e.lastBestNode.nodeRef!==e.endNodeRef&&(e.status|=ls.PARTIAL_RESULT);const s=[];let i=e.lastBestNode;for(;i;){const o=(i.flags&rg)!==0;s.push({node:i,wasDetached:o}),i.parentNodeRef!==null&&i.parentState!==null?i=ko(e.nodes,i.parentNodeRef,i.parentState)??null:i=null}s.reverse();const r=[];if(e.raycastLimitSqr!==null)for(let o=0;o<s.length;o++){const a=s[o],l=o+1<s.length?s[o+1]:null;if(l&&a.wasDetached){const c=RI(n,a.node.nodeRef,a.node.position,l.node.position,e.filter);for(const d of c.path)r.push(d);r.length>0&&r[r.length-1]===l.node.nodeRef&&r.pop()}else r.push(a.node.nodeRef)}else for(let o=0;o<s.length;o++)r.push(s[o].node.nodeRef);return t.path=r,t.pathCount=t.path.length,t.status=ls.SUCCESS|e.status&ls.PARTIAL_RESULT,e.status=ls.NOT_INITIALIZED,t},TM=(n,e,t)=>{const s={status:ls.FAILURE,path:[],pathCount:0};let i=null;for(let l=t.length-1;l>=0;l--){const c=t[l],d=e.nodes[c];if(d)for(let u=0;u<d.length;u++){const h=d[u];if(h.nodeRef===c){i=h;break}}if(i)break}if(i||(i=e.lastBestNode,e.status|=ls.PARTIAL_RESULT),!i)return e.status=ls.FAILURE,{...s,status:e.status};if(e.startNodeRef===e.endNodeRef)return s.path.push(e.startNodeRef),s.pathCount=1,s.status=ls.SUCCESS,e.status=ls.NOT_INITIALIZED,s;e.status|=ls.PARTIAL_RESULT;const r=[];let o=i;for(;o;){const l=(o.flags&rg)!==0;r.push({node:o,wasDetached:l}),o.parentNodeRef!==null&&o.parentState!==null?o=ko(e.nodes,o.parentNodeRef,o.parentState)??null:o=null}r.reverse();const a=[];if(e.raycastLimitSqr!==null)for(let l=0;l<r.length;l++){const c=r[l],d=l+1<r.length?r[l+1]:null;if(d&&c.wasDetached){const u=RI(n,c.node.nodeRef,c.node.position,d.node.position,e.filter);for(const h of u.path)a.push(h);a.length>0&&a[a.length-1]===d.node.nodeRef&&a.pop()}else a.push(c.node.nodeRef)}else for(let l=0;l<r.length;l++)a.push(r[l].node.nodeRef);return s.path=a,s.pathCount=s.path.length,s.status=ls.SUCCESS|ls.PARTIAL_RESULT,e.status=ls.NOT_INITIALIZED,s},cW=[],dW=mM(),uW=R.create(),hW=R.create(),fW=R.create(),AW=R.create(),H1=Gh(),pW=(n,e,t,s,i)=>{const r={success:!1,position:R.clone(t),nodeRef:e,visited:[]};if(!Gn(n,e)||!R.finite(t)||!R.finite(s))return r;r.success=!0;const o={},a={cost:0,total:0,parentNodeRef:null,parentState:null,nodeRef:e,state:0,flags:tr,position:[t[0],t[1],t[2]]};Ha(o,a);const l=R.clone(t);let c=1/0,d=a;const u=R.create();R.lerp(u,t,s,.5);const h=(R.distance(t,s)/2+.001)**2,f=[a];for(;f.length>0;){const A=f.shift(),p=A.nodeRef,g=er(p,n);if(!g.success)continue;const{tile:m,poly:y}=g,_=y.vertices.length,I=cW;for(let v=0;v<_;++v){const E=y.vertices[v]*3;I[v*3]=m.vertices[E],I[v*3+1]=m.vertices[E+1],I[v*3+2]=m.vertices[E+2]}if(CI(s,I,_)){d=A,R.copy(l,s);break}for(let v=0,E=_-1;v<_;E=v++){const b=[],N=ks(n,p);for(const C of N.links){const B=n.links[C];if(!B)continue;const S=B.toNodeRef;if(B.edge===E){if(!i.passFilter(S,n))continue;b.push(S)}}if(b.length===0){const C=R.fromBuffer(uW,I,E*3),B=R.fromBuffer(hW,I,v*3),{distSqr:S,t:T}=Yd(H1,s,C,B);S<c&&(R.lerp(l,C,B,T),c=S,d=A)}else for(const C of b){let B=ko(o,C,0);if(B||(B={cost:0,total:0,parentNodeRef:null,parentState:null,nodeRef:C,state:0,flags:0,position:[s[0],s[1],s[2]]},Ha(o,B)),B.flags&tr)continue;const S=R.fromBuffer(fW,I,E*3),T=R.fromBuffer(AW,I,v*3);Yd(H1,u,S,T).distSqr>h||(B.parentNodeRef=A.nodeRef,B.parentState=A.state,B.flags|=tr,f.push(B))}}}if(d){let A=d;for(;A;)r.visited.push(A.nodeRef),A.parentNodeRef!==null?A=ko(o,A.parentNodeRef,0)??null:A=null;r.visited.reverse(),R.copy(r.position,l),r.nodeRef=d.nodeRef;const p=er(r.nodeRef,n);if(p.success){const g=xM(dW,p.tile,p.poly,p.polyIndex,r.position);g.success&&(r.position[1]=g.height)}}return r},gW=[],z1=R.create(),id=R.create(),V1=R.create(),q1=R.create(),QA=R.create(),ra=R.create(),xx=R.create(),yx=R.create(),_x=R.create(),PM=(n,e,t,s,i,r,o)=>{const a={t:0,hitNormal:R.create(),hitEdgeIndex:-1,path:[],pathCost:0};if(!Gn(n,e)||!R.finite(t)||!R.finite(s)||!i)return a;let l=e,c=o;const d=gV();for(r&&(R.sub(z1,s,t),R.copy(id,t));l;){const u=er(l,n);if(!u.success)break;const{tile:h,poly:f}=u,A=f.vertices.length,p=gW;for(let y=0;y<A;y++){const _=f.vertices[y]*3;p[y*3]=h.vertices[_],p[y*3+1]=h.vertices[_+1],p[y*3+2]=h.vertices[_+2]}if(vV(d,t,s,A,p),!d.intersects)return a;if(a.hitEdgeIndex=d.segMax,d.tmax>a.t&&(a.t=d.tmax),a.path.push(l),d.segMax===-1)return a.t=Number.MAX_VALUE,a;let g;const m=ks(n,l);for(const y of m.links){const _=n.links[y];if(_.edge!==d.segMax||Zr(_.toNodeRef)===as.OFFMESH||!er(_.toNodeRef,n).success||!i.passFilter(_.toNodeRef,n))continue;if(_.side===255){g=_.toNodeRef;break}if(_.bmin===0&&_.bmax===255){g=_.toNodeRef;break}const v=f.vertices[_.edge],E=f.vertices[(_.edge+1)%f.vertices.length],b=[h.vertices[v*3],h.vertices[v*3+1],h.vertices[v*3+2]],N=[h.vertices[E*3],h.vertices[E*3+1],h.vertices[E*3+2]];if(_.side===0||_.side===4){const C=.00392156862745098;let B=b[2]+(N[2]-b[2])*(_.bmin*C),S=b[2]+(N[2]-b[2])*(_.bmax*C);B>S&&([B,S]=[S,B]);const T=t[2]+(s[2]-t[2])*d.tmax;if(T>=B&&T<=S){g=_.toNodeRef;break}}else if(_.side===2||_.side===6){const C=.00392156862745098;let B=b[0]+(N[0]-b[0])*(_.bmin*C),S=b[0]+(N[0]-b[0])*(_.bmax*C);B>S&&([B,S]=[S,B]);const T=t[0]+(s[0]-t[0])*d.tmax;if(T>=B&&T<=S){g=_.toNodeRef;break}}}if(g===void 0){if(d.segMax>=0){const y=d.segMax,_=d.segMax+1<f.vertices.length?d.segMax+1:0;R.fromBuffer(yx,p,y*3),R.fromBuffer(_x,p,_*3);const I=_x[0]-yx[0],v=_x[2]-yx[2];a.hitNormal[0]=v,a.hitNormal[1]=0,a.hitNormal[2]=-I,R.normalize(a.hitNormal,a.hitNormal)}return a}if(r){R.copy(V1,id),R.scaleAndAdd(id,t,z1,a.t);const y=f.vertices[d.segMax],I=f.vertices[(d.segMax+1)%f.vertices.length]*3,v=y*3;R.fromBuffer(q1,h.vertices,I),R.fromBuffer(QA,h.vertices,v),R.sub(ra,q1,QA),R.sub(xx,id,QA);const E=ra[0]*ra[0]>ra[2]*ra[2]?xx[0]/ra[0]:xx[2]/ra[2];id[1]=QA[1]+ra[1]*E,a.pathCost+=i.getCost(V1,id,n,c,l,g)}c=l,l=g}return a},RI=(n,e,t,s,i)=>PM(n,e,t,s,i,!1,0),mW=(n,e,t,s,i,r)=>PM(n,e,t,s,i,!0,r),xW=[],W1=(n,e,t)=>{const s={success:!1,nodeRef:0,position:[0,0,0]};let i=null,r=0;const o=Object.values(n.tiles);for(const m of o){if(!m||!m.polys)continue;const y=1;r+=y,t()*r<=y&&(i=m)}if(!i)return s;let a=null,l=null,c=0;for(let m=0;m<i.polys.length;m++){const y=i.polys[m],_=Lo(n,i,m);if(!e.passFilter(_.ref,n))continue;let I=0;const v=R.create(),E=R.create(),b=R.create();for(let C=2;C<y.vertices.length;C++)R.fromBuffer(v,i.vertices,y.vertices[0]*3),R.fromBuffer(E,i.vertices,y.vertices[C-1]*3),R.fromBuffer(b,i.vertices,y.vertices[C]*3),I+=gd(v,E,b);c+=I,t()*c<=I&&(a=y,l=_.ref)}if(!a||!l)return s;const d=a.vertices.length,u=xW;for(let m=0;m<d;m++){const y=a.vertices[m]*3;u[m*3]=i.vertices[y],u[m*3+1]=i.vertices[y+1],u[m*3+2]=i.vertices[y+2]}const h=t(),f=t(),A=new Array(d),p=[0,0,0];wV(p,d,u,A,h,f);const g=ng();return ig(g,n,l,p),g.success?R.copy(s.position,g.position):R.copy(s.position,p),s.nodeRef=l,s.success=!0,s};var mr;(function(n){n[n.ALL_CROSSINGS=1]="ALL_CROSSINGS",n[n.AREA_CROSSINGS=2]="AREA_CROSSINGS"})(mr||(mr={}));var Yr;(function(n){n[n.START=0]="START",n[n.END=1]="END",n[n.OFFMESH=2]="OFFMESH"})(Yr||(Yr={}));var Wt;(function(n){n[n.NONE=0]="NONE",n[n.SUCCESS=1]="SUCCESS",n[n.PARTIAL_PATH=4]="PARTIAL_PATH",n[n.MAX_POINTS_REACHED=8]="MAX_POINTS_REACHED",n[n.INVALID_INPUT=16]="INVALID_INPUT"})(Wt||(Wt={}));var Bs;(function(n){n[n.SUCCESS=1]="SUCCESS",n[n.MAX_POINTS_REACHED=2]="MAX_POINTS_REACHED",n[n.IN_PROGRESS=4]="IN_PROGRESS"})(Bs||(Bs={}));const ca=(n,e,t,s,i,r=null)=>s.length>0&&R.equals(s[s.length-1].position,n)&&s[s.length-1].type===as.POLY&&i===as.POLY?(s[s.length-1].nodeRef=e,s[s.length-1].type=i,Bs.IN_PROGRESS):(s.push({position:[n[0],n[1],n[2]],type:i,nodeRef:e,flags:t}),r!==null&&s.length>=r?Bs.SUCCESS|Bs.MAX_POINTS_REACHED:t&Yr.END?Bs.SUCCESS:Bs.IN_PROGRESS),yW=fV(),_W=R.create(),IW=R.create(),vW=R.create(),Fu=(n,e,t,s,i,r,o,a=null)=>{const l=r[r.length-1].position;for(let c=e;c<t;c++){const d=i[c],u=i[c+1];if(o&mr.AREA_CROSSINGS){const y=ks(n,d),_=ks(n,u);if(y.area===_.area)continue}const h=IW,f=vW;if(!Vg(n,d,u,h,f))break;const A=AV(yW,l,s,h,f);if(!A.hit)continue;const p=R.lerp(_W,h,f,A.t),g=Zr(u),m=ca(p,u,0,r,g,a);if(m!==Bs.IN_PROGRESS)return m}return Bs.IN_PROGRESS},DA=R.create(),EW=R.create(),CW=Gh(),Wn=(n,e)=>({flags:n,success:(n&Wt.SUCCESS)!==0,path:e}),RM=(n,e,t,s,i=null,r=0)=>{const o=[];if(!R.finite(e)||!R.finite(t)||s.length===0)return Wn(Wt.NONE|Wt.INVALID_INPUT,o);const a=R.create();if(!dx(a,n,s[0],e))return Wn(Wt.NONE|Wt.INVALID_INPUT,o);const l=R.create();if(!dx(l,n,s[s.length-1],t))return Wn(Wt.NONE|Wt.INVALID_INPUT,o);const c=ca(a,s[0],Yr.START,o,Zr(s[0]),i);if(c!==Bs.IN_PROGRESS){const y=(c&Bs.MAX_POINTS_REACHED)!==0;let _=Wt.SUCCESS|Wt.PARTIAL_PATH;return y&&(_|=Wt.MAX_POINTS_REACHED),Wn(_,o)}const d=R.create(),u=R.create(),h=R.create(),f=s.length;if(f>1){R.copy(d,a),R.copy(u,d),R.copy(h,d);let y=0,_=0,I=0,v=s[0],E=s[0],b=as.POLY,N=as.POLY;for(let C=0;C<f;++C){let B=as.POLY;const S=DA,T=EW;if(C+1<f){const D=s[C+1];if(B=Zr(D),!Vg(n,s[C],D,S,T)){const L=R.create();if(!dx(L,n,s[C],t))return Wn(Wt.NONE|Wt.INVALID_INPUT,o);r&(mr.AREA_CROSSINGS|mr.ALL_CROSSINGS)&&Fu(n,y,C,L,s,o,r,i);const z=Zr(s[C]);return ca(L,s[C],0,o,z,i),Wn(Wt.SUCCESS|Wt.PARTIAL_PATH,o)}if(C===0&&B===as.POLY&&Yd(CW,d,S,T).distSqr<1e-6)continue;if(B===as.OFFMESH){const L=ks(n,D),z=n.offMeshConnections[L.offMeshConnectionId],V=n.offMeshConnectionAttachments[L.offMeshConnectionId],se=s[C],q=ks(n,se);let Ae=0;for(const U of q.links){const $=n.links[U];if($.toNodeRef===D){Ae=$.edge;break}}const pe=Ae===0,Ye=pe?z.start:z.end,Me=pe?z.end:z.start,We=pe?V.endPolyNode:V.startPolyNode,ce=Fu(n,y,C,Ye,s,o,r,i);if(ce!==Bs.IN_PROGRESS){const U=(ce&Bs.MAX_POINTS_REACHED)!==0;let $=Wt.SUCCESS|Wt.PARTIAL_PATH;return U&&($|=Wt.MAX_POINTS_REACHED),Wn($,o)}const j=ca(Ye,D,Yr.OFFMESH,o,as.OFFMESH,i);if(j!==Bs.IN_PROGRESS){const U=(j&Bs.MAX_POINTS_REACHED)!==0;let $=Wt.SUCCESS;return U&&($|=Wt.MAX_POINTS_REACHED),Wn($,o)}const O=ca(Me,We,0,o,as.POLY,i);if(O!==Bs.IN_PROGRESS){const U=(O&Bs.MAX_POINTS_REACHED)!==0;let $=Wt.SUCCESS;return U&&($|=Wt.MAX_POINTS_REACHED),Wn($,o)}R.copy(d,Me),R.copy(u,Me),R.copy(h,Me),y=C+1,_=C+1,I=C+1,v=We,E=We,b=as.POLY,N=as.POLY;continue}}else R.copy(S,l),R.copy(T,l),B=as.POLY;if(gd(d,h,T)<=0)if(R.equals(d,h)||gd(d,u,T)>0)R.copy(h,T),E=C+1<f?s[C+1]:null,N=B,I=C;else{if(r&(mr.AREA_CROSSINGS|mr.ALL_CROSSINGS)){const z=Fu(n,y,_,u,s,o,r,i);if(z!==Bs.IN_PROGRESS){const V=(z&Bs.MAX_POINTS_REACHED)!==0;let se=Wt.SUCCESS|Wt.PARTIAL_PATH;return V&&(se|=Wt.MAX_POINTS_REACHED),Wn(se,o)}}R.copy(d,u),y=_;let D=0;v||(D=Yr.END);const L=ca(d,v,D,o,v?b:as.POLY,i);if(L!==Bs.IN_PROGRESS){const z=(L&Bs.MAX_POINTS_REACHED)!==0;let V=0;return V|=Wt.SUCCESS,z&&(V|=Wt.MAX_POINTS_REACHED),Wn(V,o)}R.copy(u,d),R.copy(h,d),_=y,I=y,C=y;continue}if(gd(d,u,DA)>=0)if(R.equals(d,u)||gd(d,h,DA)<0)R.copy(u,DA),v=C+1<f?s[C+1]:null,b=B,_=C;else{if(r&(mr.AREA_CROSSINGS|mr.ALL_CROSSINGS)){const z=Fu(n,y,I,h,s,o,r,i);if(z!==Bs.IN_PROGRESS){const V=(z&Bs.MAX_POINTS_REACHED)!==0;let se=Wt.SUCCESS|Wt.PARTIAL_PATH;return V&&(se|=Wt.MAX_POINTS_REACHED),Wn(se,o)}}R.copy(d,h),y=I;let D=0;E||(D=Yr.END);const L=ca(d,E,D,o,E?N:as.POLY,i);if(L!==Bs.IN_PROGRESS){const z=(L&Bs.MAX_POINTS_REACHED)!==0;let V=0;return V|=Wt.SUCCESS,z&&(V|=Wt.MAX_POINTS_REACHED),Wn(V,o)}R.copy(u,d),R.copy(h,d),_=y,I=y,C=y;continue}}if(r&(mr.AREA_CROSSINGS|mr.ALL_CROSSINGS)){const C=Fu(n,y,f-1,l,s,o,r,i);if(C!==Bs.IN_PROGRESS){const B=(C&Bs.MAX_POINTS_REACHED)!==0;let S=Wt.SUCCESS|Wt.PARTIAL_PATH;return B&&(S|=Wt.MAX_POINTS_REACHED),Wn(S,o)}}}const A=s.length>0?s[s.length-1]:null,g=(ca(l,A,Yr.END,o,as.POLY,i)&Bs.MAX_POINTS_REACHED)!==0;let m=Wt.SUCCESS;return g&&(m|=Wt.MAX_POINTS_REACHED),Wn(m,o)};var Hr;(function(n){n[n.NONE=0]="NONE",n[n.SUCCESS=1]="SUCCESS",n[n.COMPLETE_PATH=2]="COMPLETE_PATH",n[n.PARTIAL_PATH=4]="PARTIAL_PATH",n[n.MAX_POINTS_REACHED=8]="MAX_POINTS_REACHED",n[n.INVALID_INPUT=16]="INVALID_INPUT",n[n.FIND_NODE_PATH_FAILED=32]="FIND_NODE_PATH_FAILED",n[n.FIND_STRAIGHT_PATH_FAILED=64]="FIND_STRAIGHT_PATH_FAILED"})(Hr||(Hr={}));const bW=Ms(),wW=Ms(),Oy=(n,e,t,s,i)=>{const r={success:!1,flags:Hr.NONE|Hr.INVALID_INPUT,nodePathFlags:xr.NONE,straightPathFlags:Wt.NONE,path:[],startNodeRef:null,startPosition:[0,0,0],endNodeRef:null,endPosition:[0,0,0],nodePath:null},o=Ns(bW,n,e,s,i);if(!o.success)return r;R.copy(r.startPosition,o.position),r.startNodeRef=o.nodeRef;const a=Ns(wW,n,t,s,i);if(!a.success)return r;R.copy(r.endPosition,a.position),r.endNodeRef=a.nodeRef;const l=lW(n,r.startNodeRef,r.endNodeRef,r.startPosition,r.endPosition,i);if(r.nodePath=l,r.nodePathFlags=l.flags,!l.success)return r.flags=Hr.FIND_NODE_PATH_FAILED,r;const c=RM(n,r.startPosition,r.endPosition,l.path);if(!c.success)return r.flags=Hr.FIND_STRAIGHT_PATH_FAILED,r;r.success=!0,r.path=c.path,r.straightPathFlags=c.flags;let d=Hr.SUCCESS;return l.flags&xr.COMPLETE_PATH&&(c.flags&Wt.PARTIAL_PATH)===0?d|=Hr.COMPLETE_PATH:d|=Hr.PARTIAL_PATH,c.flags&Wt.MAX_POINTS_REACHED&&(d|=Hr.MAX_POINTS_REACHED),r.flags=d,r};R.create();R.create();var X1;(function(n){n[n.NONE=0]="NONE",n[n.SUCCESS=1]="SUCCESS",n[n.COMPLETE_PATH=2]="COMPLETE_PATH",n[n.PARTIAL_PATH=4]="PARTIAL_PATH",n[n.INVALID_INPUT=8]="INVALID_INPUT",n[n.FIND_NODE_PATH_FAILED=16]="FIND_NODE_PATH_FAILED",n[n.FIND_STRAIGHT_PATH_FAILED=32]="FIND_STRAIGHT_PATH_FAILED"})(X1||(X1={}));var Y1;(function(n){n[n.START=0]="START",n[n.END=1]="END",n[n.OFFMESH=2]="OFFMESH"})(Y1||(Y1={}));const Ix=(n,e,t,s)=>{let i=0;for(;i<n.length&&t>n[i].tmin;)i++;n.splice(i,0,{nodeRef:s,tmin:e,tmax:t})},BW=[],NW=[],J1=Gh(),SW=(n,e,t,s,i)=>{const r={},o=[],a={success:!1,nodeRefs:[],searchNodes:r};if(!Gn(n,e)||!R.finite(t)||s<0||!Number.isFinite(s)||!i)return a;const l={cost:0,total:0,parentNodeRef:null,parentState:null,nodeRef:e,state:0,flags:tr,position:[t[0],t[1],t[2]]};Ha(r,l),o.push(l);const c=s*s;a.nodeRefs.push(e);const d=BW,u=NW;for(;o.length>0;){const f=o.shift().nodeRef;if(!er(f,n).success)continue;const p=ks(n,f);for(const g of p.links){const m=n.links[g];if(!m||!m.toNodeRef)continue;const y=m.toNodeRef,_=ko(r,y,0);if(_&&_.flags&tr)continue;const I=er(y,n);if(!I.success)continue;const{tile:v,poly:E}=I;if(Zr(y)===as.OFFMESH||!i.passFilter(y,n))continue;const b=R.create(),N=R.create();if(!Vg(n,f,y,b,N)||(Yd(J1,t,b,N),J1.distSqr>c))continue;const C={cost:0,total:0,parentNodeRef:f,parentState:0,nodeRef:y,state:0,flags:tr,position:[t[0],t[1],t[2]]};Ha(r,C);const B=E.vertices.length;for(let T=0;T<B;++T){const D=E.vertices[T]*3;d[T*3]=v.vertices[D],d[T*3+1]=v.vertices[D+1],d[T*3+2]=v.vertices[D+2]}let S=!1;for(let T=0;T<a.nodeRefs.length;++T){const D=a.nodeRefs[T];let L=!1;const z=ks(n,f);for(const pe of z.links)if(n.links[pe]?.toNodeRef===D){L=!0;break}if(L)continue;const V=er(D,n);if(!V.success)continue;const{tile:se,poly:q}=V,Ae=q.vertices.length;for(let pe=0;pe<Ae;++pe){const Ye=q.vertices[pe]*3;u[pe*3]=se.vertices[Ye],u[pe*3+1]=se.vertices[Ye+1],u[pe*3+2]=se.vertices[Ye+2]}if(BV(d,B,u,Ae)){S=!0;break}}S||(a.nodeRefs.push(y),o.push(C))}}return a.success=!0,a},MW=(n,e,t,s)=>{const i={success:!1,segmentVerts:[],segmentRefs:[]},r=er(e,n);if(!r.success||!t)return i;const{tile:o,poly:a}=r,l=i.segmentVerts,c=i.segmentRefs;for(let d=0,u=a.vertices.length-1;d<a.vertices.length;u=d++){const h=[];if(a.neis[u]&hi){const p=ks(n,e);for(const g of p.links){const m=n.links[g];!m||m.edge!==u||m.toNodeRef&&er(m.toNodeRef,n).success&&t.passFilter(m.toNodeRef,n)&&Ix(h,m.bmin,m.bmax,m.toNodeRef)}}else{let p=null;if(a.neis[u]){const y=a.neis[u]-1;p=Lo(n,o,y).ref,er(p,n).success&&(t.passFilter(p,n)||(p=null))}if(p!==null)continue;const g=R.fromBuffer(R.create(),o.vertices,a.vertices[u]*3),m=R.fromBuffer(R.create(),o.vertices,a.vertices[d]*3);l.push(g[0],g[1],g[2],m[0],m[1],m[2]),c.push(p);continue}Ix(h,-1,0,null),Ix(h,255,256,null);const f=R.fromBuffer(R.create(),o.vertices,a.vertices[u]*3),A=R.fromBuffer(R.create(),o.vertices,a.vertices[d]*3);for(let p=1;p<h.length;++p){const g=h[p-1].tmax,m=h[p].tmin;if(g!==m){const y=g/255,_=m/255,I=R.create(),v=R.create();R.lerp(I,f,A,y),R.lerp(v,f,A,_),l.push(I[0],I[1],I[2],v[0],v[1],v[2]),c.push(null)}}}return i.success=!0,i};var Ki;(function(n){n[n.Triangles=0]="Triangles",n[n.Lines=1]="Lines",n[n.Points=2]="Points",n[n.Boxes=3]="Boxes"})(Ki||(Ki={}));const TW=(n,e,t,s)=>{e/=360;const i=t*Math.min(s,1-s),r=o=>{const a=(o+e*12)%12;return s-i*Math.max(Math.min(a-3,9-a,1),-1)};return n[0]=r(0),n[1]=r(8),n[2]=r(4),n},PW=(n,e,t=1)=>{if(e===EI)return n[0]=0,n[1]=192/255,n[2]=1,n;if(e===On)return n[0]=0,n[1]=0,n[2]=0,n;const i=e*137.5%360;return TW(n,i,.7,.6),n[0]*=t,n[1]*=t,n[2]*=t,n},LA=R.create(),RW=n=>{const e=[],t=[],s=[],i=[];let r=0;const o=[],a=[],l=[],c=[],d=[],u=[];for(const h in n.tiles){const f=n.tiles[h];if(!f)continue;for(const m in f.polys){const y=f.polys[m],_=f.detailMeshes[m];if(!_)continue;PW(LA,y.area,.4);const I=[LA[0],LA[1],LA[2]];for(let v=0;v<_.trianglesCount;v++){const E=(_.trianglesBase+v)*4,b=f.detailTriangles[E],N=f.detailTriangles[E+1],C=f.detailTriangles[E+2];for(let B=0;B<3;B++){const S=B===0?b:B===1?N:C;let T,D,L;if(S<y.vertices.length){const V=y.vertices[S]*3;T=f.vertices[V],D=f.vertices[V+1],L=f.vertices[V+2]}else{const z=(_.verticesBase+S-y.vertices.length)*3;T=f.detailVertices[z],D=f.detailVertices[z+1],L=f.detailVertices[z+2]}t.push(T,D,L),s.push(...I)}i.push(r,r+1,r+2),r+=3}}const A=[.2,.2,.2],p=[.6,.6,1];for(const m in f.polys){const y=f.polys[m];for(let _=0;_<y.vertices.length;_++){const I=(_+1)%y.vertices.length,E=(y.neis[_]&hi)!==0,b=y.vertices[_],N=y.vertices[I],C=b*3,B=N*3,S=f.vertices[C],T=f.vertices[C+1]+.01,D=f.vertices[C+2],L=f.vertices[B],z=f.vertices[B+1]+.01,V=f.vertices[B+2];E?(l.push(S,T,D),c.push(p[0],p[1],p[2]),l.push(L,z,V),c.push(p[0],p[1],p[2])):(o.push(S,T,D),a.push(A[0],A[1],A[2]),o.push(L,z,V),a.push(A[0],A[1],A[2]))}}const g=[1,1,1];for(let m=0;m<f.vertices.length;m+=3){const y=f.vertices[m],_=f.vertices[m+1],I=f.vertices[m+2];d.push(y,_,I),u.push(g[0],g[1],g[2])}}return t.length>0&&e.push({type:Ki.Triangles,positions:t,colors:s,indices:i,transparent:!0,opacity:.8,doubleSided:!0}),o.length>0&&e.push({type:Ki.Lines,positions:o,colors:a,transparent:!0,opacity:.3,lineWidth:1.5}),l.length>0&&e.push({type:Ki.Lines,positions:l,colors:c,transparent:!0,opacity:.9,lineWidth:2.5}),d.length>0&&e.push({type:Ki.Points,positions:d,colors:u,size:.025}),e};R.create();R.create();R.create();R.create();R.create();R.create();R.create();const QW=n=>{const e=[],i=[],r=[],o=[],a=[],l=[1,.7686274509803922,0],c=[0/255,48/255,64/255],d=[220/255,32/255,16/255],u=(h,f,A)=>h+(f-h)*A;for(const h in n.offMeshConnections){const f=n.offMeshConnections[h];if(!f)continue;const A=f.start,p=f.end,g=f.radius;for(let y=0;y<16;y++){const _=y/16,I=(y+1)/16,v=u(A[0],p[0],_),E=u(A[1],p[1],_)+Math.sin(_*Math.PI)*.25,b=u(A[2],p[2],_),N=u(A[0],p[0],I),C=u(A[1],p[1],I)+Math.sin(I*Math.PI)*.25,B=u(A[2],p[2],I);i.push(v,E,b,N,C,B);for(let S=0;S<2;S++)r.push(l[0],l[1],l[2])}if(f.direction===$l.START_TO_END){const _=u(A[0],p[0],.5),I=u(A[1],p[1],.5)+.25,v=u(A[2],p[2],.5),E=p[0]-A[0],b=p[2]-A[2],N=Math.hypot(E,b)||1,C=E/N,B=b/N,S=.3;i.push(_,I,v,_-C*S+B*S*.5,I-.05,v-B*S-C*S*.5,_,I,v,_-C*S-B*S*.5,I-.05,v-B*S+C*S*.5);for(let T=0;T<4;T++)r.push(l[0],l[1],l[2])}const m=(y,_)=>{for(let I=0;I<20;I++){const v=I/20*Math.PI*2,E=(I+1)/20*Math.PI*2,b=y[0]+Math.cos(v)*g,N=y[2]+Math.sin(v)*g,C=y[0]+Math.cos(E)*g,B=y[2]+Math.sin(E)*g;o.push(b,y[1]+.1,N,C,y[1]+.1,B);for(let S=0;S<2;S++)a.push(_[0],_[1],_[2])}o.push(y[0],y[1],y[2],y[0],y[1]+.2,y[2]);for(let I=0;I<2;I++)a.push(c[0],c[1],c[2])};m(A,l),m(p,f.direction===$l.BIDIRECTIONAL?l:d)}return i.length>0&&e.push({type:Ki.Lines,positions:i,colors:r,transparent:!0,opacity:.9,lineWidth:2}),o.length>0&&e.push({type:Ki.Lines,positions:o,colors:a,transparent:!0,opacity:.8,lineWidth:1.5}),e},K1=8,DW=16,LW=()=>({center:[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],segments:[],polys:[]}),Ph=n=>{R.set(n.center,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),n.segments.length=0,n.polys.length=0},kW=(n,e,t)=>{const s=t[0]-e[0],i=t[2]-e[2],r=n[0]-e[0],o=n[2]-e[2],a=s*s+i*i;let l=s*r+i*o;a>0&&(l/=a),l<0?l=0:l>1&&(l=1);const c=e[0]+l*s,d=e[2]+l*i,u=n[0]-c,h=n[2]-d;return u*u+h*h},FW=(n,e,t)=>{let s=0;for(let r=0;r<n.segments.length;r++){if(e<=n.segments[r].d){s=r;break}s=r+1}if(n.segments.length>=K1){if(s>=K1)return;n.segments.pop()}const i={d:e,s:[t[0],t[1],t[2],t[3],t[4],t[5]]};n.segments.splice(s,0,i)},UW=(n,e,t,s,i,r)=>{if(!Gn(i,e)){Ph(n);return}R.copy(n.center,t);const o=SW(i,e,t,s,r);if(!o.success){n.segments.length=0,n.polys.length=0;return}n.polys=o.nodeRefs.slice(0,DW),n.segments.length=0;const a=s*s;for(const l of n.polys){const c=MW(i,l,r);if(!c.success)continue;const d=c.segmentVerts.length/6;for(let u=0;u<d;++u){const h=u*6,f=c.segmentVerts.slice(h,h+6),A=[f[0],f[1],f[2]],p=[f[3],f[4],f[5]],g=kW(t,A,p);g>a||FW(n,g,f)}}},OW=(n,e,t)=>{if(n.polys.length===0)return!1;for(const s of n.polys)if(!Gn(e,s)||!t.passFilter(s,e))return!1;return!0},GW=Math.PI,QM=32,DM=4,HW=(n,e)=>{const t=[],s=[];for(let i=0;i<n;i++)t.push({p:[0,0,0],vel:[0,0,0],dvel:[0,0,0],rad:0,dp:[0,0,0],np:[0,0,0]});for(let i=0;i<e;i++)s.push({p:[0,0,0],q:[0,0,0],touch:!1});return{circles:t,segments:s,maxCircles:n,maxSegments:e,circleCount:0,segmentCount:0,params:{velBias:.4,weightDesVel:2,weightCurVel:.75,weightSide:.75,weightToi:2.5,horizTime:2.5,gridSize:33,adaptiveDivs:7,adaptiveRings:2,adaptiveDepth:5},invHorizTime:0,vmax:0,invVmax:0,pattern:new Float32Array((QM*DM+1)*2)}},zW=()=>({samples:[]}),VW=n=>{n.circleCount=0,n.segmentCount=0},qW=n=>{n.samples.length=0},WW=(n,e,t,s,i)=>{if(n.circleCount>=n.maxCircles)return;const r=n.circles[n.circleCount];R.copy(r.p,e),R.copy(r.vel,s),R.copy(r.dvel,i),r.rad=t,R.set(r.dp,0,0,0),R.set(r.np,0,0,0),n.circleCount++},XW=(n,e,t)=>{if(n.segmentCount>=n.maxSegments)return;const s=n.segments[n.segmentCount];R.copy(s.p,e),R.copy(s.q,t),s.touch=!1,n.segmentCount++},YW=(n,e,t)=>{const s=e[0]-n[0],i=e[2]-n[2],r=t[0]-n[0],o=t[2]-n[2];return r*i-s*o},vx=(n,e)=>n[0]*e[0]+n[2]*e[2],Ex=(n,e)=>n[0]*e[2]-n[2]*e[0],j1=(n,e)=>{const t=e[0]-n[0],s=e[2]-n[2];return Math.sqrt(t*t+s*s)},JW=(n,e,t)=>{const s=t[0]-e[0],i=t[2]-e[2],r=n[0]-e[0],o=n[2]-e[2],a=s*s+i*i;let l=s*r+i*o;a>0&&(l/=a),l<0?l=0:l>1&&(l=1);const c=e[0]+l*s,d=e[2]+l*i,u=n[0]-c,h=n[2]-d;return u*u+h*h},KW=R.create(),jW=(n,e,t,s,i,r)=>{const a=KW,l=s[0]-n[0],c=s[2]-n[2];a[0]=l,a[1]=0,a[2]=c;const d=e+i,h=l*l+c*c-d*d,f=t[0]*t[0]+t[2]*t[2];if(f<1e-4){r.hit=!1,r.tmin=0,r.tmax=0;return}const A=t[0]*l+t[2]*c,p=A*A-f*h;if(p<0){r.hit=!1,r.tmin=0,r.tmax=0;return}const g=1/f,m=Math.sqrt(p);r.hit=!0,r.tmin=(A-m)*g,r.tmax=(A+m)*g},ZW=R.create(),$W=R.create(),eX=(n,e,t,s,i)=>{const r=ZW;r[0]=s[0]-t[0],r[1]=s[1]-t[1],r[2]=s[2]-t[2];const o=$W;o[0]=n[0]-t[0],o[1]=n[1]-t[1],o[2]=n[2]-t[2];const a=Ex(e,r);if(Math.abs(a)<1e-6){i.hit=!1,i.t=0;return}const l=1/a,c=Ex(r,o)*l;if(c<0||c>1){i.hit=!1,i.t=0;return}const d=Ex(e,o)*l;if(d<0||d>1){i.hit=!1,i.t=0;return}i.hit=!0,i.t=c},tX=R.create(),sX=R.create(),nX=(n,e,t)=>{for(let s=0;s<n.circleCount;s++){const i=n.circles[s],r=e,o=i.p,a=R.set(tX,0,0,0);R.sub(i.dp,o,r),R.normalize(i.dp,i.dp);const l=R.sub(sX,i.dvel,t);YW(a,i.dp,l)<.01?(i.np[0]=-i.dp[2],i.np[1]=0,i.np[2]=i.dp[0]):(i.np[0]=i.dp[2],i.np[1]=0,i.np[2]=-i.dp[0])}for(let s=0;s<n.segmentCount;s++){const i=n.segments[s],r=.01,o=JW(e,i.p,i.q);i.touch=o<r*r}},iX=(n,e)=>{n.velBias=e.velBias,n.weightDesVel=e.weightDesVel,n.weightCurVel=e.weightCurVel,n.weightSide=e.weightSide,n.weightToi=e.weightToi,n.horizTime=e.horizTime,n.gridSize=e.gridSize,n.adaptiveDivs=e.adaptiveDivs,n.adaptiveRings=e.adaptiveRings,n.adaptiveDepth=e.adaptiveDepth},rX=R.create(),oX=R.create(),aX=R.create(),kA={hit:!1,tmin:0,tmax:0},Cx={hit:!1,t:0},lX=(n,e,t,s,i,r,o,a,l)=>{const c=n.params,d=c.weightDesVel*(j1(e,o)*n.invVmax),u=c.weightCurVel*(j1(e,r)*n.invVmax),h=a-d-u,f=(c.weightToi/h-.1)*c.horizTime;if(f-c.horizTime>-Number.EPSILON)return a;let A=c.horizTime,p=0,g=0;for(let I=0;I<n.circleCount;I++){const v=n.circles[I],E=rX;if(E[0]=e[0]*2-r[0]-v.vel[0],E[1]=e[1]*2-r[1]-v.vel[1],E[2]=e[2]*2-r[2]-v.vel[2],p+=Math.max(0,Math.min(1,Math.min(vx(v.dp,E)*.5+.5,vx(v.np,E)*2))),g++,jW(s,i,E,v.p,v.rad,kA),!kA.hit)continue;let b=kA.tmin;const N=kA.tmax;if(b<0&&N>0&&(b=-b*.5),b>=0&&b<A&&(A=b,A<f))return a}for(let I=0;I<n.segmentCount;I++){const v=n.segments[I];let E=0;if(v.touch){const b=R.set(oX,v.q[0]-v.p[0],v.q[1]-v.p[1],v.q[2]-v.p[2]),N=R.set(aX,-b[2],b[1],b[0]);if(vx(N,e)<0)continue;E=0}else{if(eX(s,e,v.p,v.q,Cx),!Cx.hit)continue;E=Cx.t}if(E*=2,E<A&&(A=E,A<f))return a}g>0&&(p/=g);const m=c.weightSide*p,y=c.weightToi*(1/(.1+A*n.invHorizTime)),_=d+u+m+y;return l&&l.samples.push({vel:R.clone(e),ssize:t,pen:_,vpen:d,vcpen:u,spen:m,tpen:y}),_};R.create();const cX=n=>{const e=Math.sqrt(n[0]*n[0]+n[2]*n[2]);if(e===0)return;const t=1/e;n[0]*=t,n[2]*=t},dX=(n,e,t)=>{const s=Math.cos(t),i=Math.sin(t);n[0]=e[0]*s-e[2]*i,n[2]=e[0]*i+e[2]*s,n[1]=e[1]},uX=R.create(),hX=R.create(),fX=R.create(),AX=R.create(),pX=R.create(),gX=(n,e,t,s,i,r,o,a,l)=>{nX(n,e,r),iX(n.params,o),n.invHorizTime=1/n.params.horizTime,n.vmax=s,n.invVmax=s>0?1/s:Number.MAX_VALUE,l&&qW(l);const c=n.pattern;let d=0;const u=Math.max(1,Math.min(n.params.adaptiveDivs,QM)),h=Math.max(1,Math.min(n.params.adaptiveRings,DM)),f=n.params.adaptiveDepth,A=1/u*GW*2,p=Math.cos(A),g=Math.sin(A),m=uX;R.copy(m,r),cX(m);const y=hX;dX(y,m,A*.5),c[d*2]=0,c[d*2+1]=0,d++;for(let N=0;N<h;++N){const C=(h-N)/h,B=N%2===0?m:y;c[d*2]=B[0]*C,c[d*2+1]=B[2]*C;let S=d*2,T=S;d++;for(let D=1;D<u-1;D+=2)c[d*2]=c[S]*p+c[S+1]*g,c[d*2+1]=-c[S]*g+c[S+1]*p,c[d*2+2]=c[T]*p-c[T+1]*g,c[d*2+3]=c[T]*g+c[T+1]*p,S=d*2,T=S+2,d+=2;(u&1)===0&&(c[d*2]=c[T]*p-c[T+1]*g,c[d*2+1]=c[T]*g+c[T+1]*p,d++)}let _=s*(1-n.params.velBias);const I=fX;I[0]=r[0]*n.params.velBias,I[1]=0,I[2]=r[2]*n.params.velBias;let v=0;const E=s+.001,b=E*E;for(let N=0;N<f;++N){let C=Number.MAX_VALUE;const B=AX;R.set(B,0,0,0);const S=_*.1;for(let T=0;T<d;++T){const D=pX;if(D[0]=I[0]+c[T*2]*_,D[1]=0,D[2]=I[2]+c[T*2+1]*_,D[0]*D[0]+D[2]*D[2]>b)continue;const L=lX(n,D,S,e,t,i,r,C,l);v++,L<C&&(C=L,R.copy(B,D))}R.copy(I,B),_*=.5}return R.copy(a,I),v},mX=()=>({position:[0,0,0],target:[0,0,0],path:[]}),lg=(n,e,t)=>{R.copy(n.position,t),R.copy(n.target,t),n.path=[e]},Z1=(n,e,t)=>{R.copy(n.target,e),n.path=t},xX=(n,e)=>{if(e.length===0)return n;let t=-1,s=-1;for(let l=n.length-1;l>=0;l--){for(let c=e.length-1;c>=0;c--)if(n[l]===e[c]){t=l,s=c;break}if(t!==-1)break}if(t===-1||s===-1)return n;const i=e.length-s,r=Math.min(t+1,n.length),o=Math.max(0,n.length-r),a=[];for(let l=0;l<i;l++)a[l]=e[e.length-1-l];if(o>0)for(let l=0;l<o;l++)a[i+l]=n[r+l];return a},LM=(n,e)=>{if(e.length===0)return n;let t=-1,s=-1;for(let l=n.length-1;l>=0;l--){for(let c=e.length-1;c>=0;c--)if(n[l]===e[c]){t=l,s=c;break}if(t!==-1)break}if(t===-1||s===-1)return n;const i=s;if(i<=0)return n;const r=t,o=Math.max(0,n.length-r),a=[];for(let l=0;l<i;l++)a[l]=e[l];if(o>0)for(let l=0;l<o;l++)a[i+l]=n[r+l];return a},yX=(n,e,t,s)=>{if(n.path.length===0)return!1;const i=pW(t,n.path[0],n.position,e,s);return i.success?(n.path=xX(n.path,i.visited),R.copy(n.position,i.position),!0):!1},_X=.01,IX=(n,e,t)=>{if(n.path.length===0)return!1;const s=RM(e,n.position,n.target,n.path,t);if(!s.success||s.path.length===0)return!1;let i=s.path;for(;i.length>0;){const o=i[0],a=R.distance(n.position,o.position);if(o.type===as.OFFMESH||a>_X)break;i=i.slice(1)}let r=-1;for(let o=0;o<i.length;o++)if(i[o].type===as.OFFMESH){r=o;break}return r!==-1&&(i=i.slice(0,r+1)),i},vX=(n,e,t,s)=>{const i=Math.min(n.path.length,e);for(let r=0;r<i;r++){const o=n.path[r];if(!Gn(t,o)||!s.passFilter(o,t))return!1}return!0},EX=(n,e,t)=>{if(R.copy(n.position,t),n.path.length<3&&n.path.length>0){const s=n.path[n.path.length-1];n.path[2]=s,n.path[0]=e,n.path[1]=ec,n.path.length=3}else n.path[0]=e,n.path[1]=ec;return!0},CX=(n,e,t)=>{if(n.path.length===0)return!1;let s=null,i=n.path[0],r=0;for(;r<n.path.length&&i!==e;)s=i,r++,r<n.path.length&&(i=n.path[r]);if(r===n.path.length||(n.path=n.path.slice(r+1),!s))return!1;const{offMeshConnectionId:o}=ks(t,e),a=t.offMeshConnections[o],l=t.offMeshConnectionAttachments[o];if(!a||!l)return!1;const c=l.startPolyNode===s,d=c?a.end:a.start,u=c?l.endPolyNode:l.startPolyNode;return R.copy(n.position,d),{startPosition:c?a.start:a.end,endPosition:d,endNodeRef:u,prevNodeRef:s,offMeshNodeRef:e}},bX=(n,e,t)=>{if(n.path.length<3)return!1;const s=32,i=MM();Fy(e,i,n.path[0],n.path[n.path.length-1],n.position,n.target,t),Uy(e,i,s);const r=TM(e,i,n.path);return(i.status&ls.SUCCESS)!==0&&r.path.length>0?(n.path=LM(n.path,r.path),!0):!1},wX=R.create(),BX=R.create(),NX=(n,e,t,s,i)=>{if(n.path.length===0)return;const r=R.copy(wX,e),o=r[0]-n.position[0],a=r[2]-n.position[2];let l=Math.sqrt(o*o+a*a);if(l<.01)return;l=Math.min(l+.01,t);const c=R.subtract(BX,r,n.position);R.scaleAndAdd(r,n.position,c,t/l);const d=RI(s,n.path[0],n.position,r,i);d.path.length>1&&d.t>.99&&(n.path=LM(n.path,d.path))};var Hs;(function(n){n[n.INVALID=0]="INVALID",n[n.WALKING=1]="WALKING",n[n.OFFMESH=2]="OFFMESH"})(Hs||(Hs={}));var Yt;(function(n){n[n.NONE=0]="NONE",n[n.FAILED=1]="FAILED",n[n.VALID=2]="VALID",n[n.REQUESTING=3]="REQUESTING",n[n.WAITING_FOR_QUEUE=4]="WAITING_FOR_QUEUE",n[n.WAITING_FOR_PATH=5]="WAITING_FOR_PATH",n[n.VELOCITY=6]="VELOCITY"})(Yt||(Yt={}));var za;(function(n){n[n.ANTICIPATE_TURNS=1]="ANTICIPATE_TURNS",n[n.OBSTACLE_AVOIDANCE=2]="OBSTACLE_AVOIDANCE",n[n.SEPARATION=4]="SEPARATION",n[n.OPTIMIZE_VIS=8]="OPTIMIZE_VIS",n[n.OPTIMIZE_TOPO=16]="OPTIMIZE_TOPO"})(za||(za={}));const kM={velBias:.4,weightDesVel:2,weightCurVel:.75,weightSide:.75,weightToi:2.5,horizTime:2.5,gridSize:33,adaptiveDivs:7,adaptiveRings:2,adaptiveDepth:5},SX=n=>({agents:{},agentIdCounter:0,maxAgentRadius:n,agentPlacementHalfExtents:[n,n,n],maxIterationsPerUpdate:600,maxIterationsPerAgent:200,quickSearchIterations:20}),MX=(n,e,t,s)=>{const i=String(n.agentIdCounter++),r={radius:s.radius,height:s.height,maxAcceleration:s.maxAcceleration,maxSpeed:s.maxSpeed,collisionQueryRange:s.collisionQueryRange,pathOptimizationRange:s.pathOptimizationRange??s.radius*30,separationWeight:s.separationWeight,updateFlags:s.updateFlags,queryFilter:s.queryFilter,obstacleAvoidance:s.obstacleAvoidance??kM,autoTraverseOffMeshConnections:s.autoTraverseOffMeshConnections??!0,state:Hs.WALKING,corridor:mX(),slicedQuery:MM(),boundary:LW(),obstacleAvoidanceQuery:HW(32,32),obstacleAvoidanceDebugData:s.debugObstacleAvoidance?zW():void 0,neis:[],corners:[],position:t,desiredSpeed:0,desiredVelocity:[0,0,0],newVelocity:[0,0,0],velocity:[0,0,0],displacement:[0,0,0],targetState:Yt.NONE,targetRef:null,targetPosition:[0,0,0],targetReplan:!1,targetPathfindingTime:0,targetPathIsPartial:!1,topologyOptTime:0,offMeshAnimation:null};n.agents[i]=r;const o=Ms();Ns(o,e,t,n.agentPlacementHalfExtents,r.queryFilter);let a=t,l=ec;return o.success&&(a=o.position,l=o.nodeRef),R.copy(r.position,a),lg(r.corridor,l,a),l!==ec?r.state=Hs.WALKING:r.state=Hs.INVALID,i},TX=(n,e)=>n.agents[e]?(delete n.agents[e],!0):!1,PX=(n,e,t,s)=>{const i=n.agents[e];return i?(i.targetRef=t,R.copy(i.targetPosition,s),i.targetReplan=i.corridor.path.length>0,i.targetState=Yt.REQUESTING,i.targetPathIsPartial=!1,i.targetPathfindingTime=0,!0):!1},RX=(n,e,t,s)=>{const i=n.agents[e];return i?(i.targetRef=t,R.copy(i.targetPosition,s),i.targetReplan=!0,i.targetState=Yt.REQUESTING,!0):!1},QX=(n,e,t)=>{const s=n.agents[e];return s?(R.copy(s.targetPosition,t),s.targetState=Yt.VELOCITY,!0):!1},DX=(n,e)=>{const t=n.agents[e];return t?(t.targetRef=null,R.set(t.targetPosition,0,0,0),R.set(t.desiredVelocity,0,0,0),t.targetReplan=!1,t.targetState=Yt.NONE,t.targetPathIsPartial=!1,!0):!1},$1=10,LX=1,ew=Ms(),kX=(n,e,t)=>{for(const s in n.agents){const i=n.agents[s];if(i.state!==Hs.WALKING)continue;i.targetPathfindingTime+=t;let r=!1;const o=i.corridor.path[0];if(!Gn(e,o)){console.warn(`Agent ${s} has invalid current node ref, repositioning`,{agentNodeRef:o,corridorPath:i.corridor.path,corridorPosition:i.corridor.position,agentPosition:i.position,velocity:i.velocity,state:i.state,targetState:i.targetState});const l=Ns(ew,e,i.position,n.agentPlacementHalfExtents,i.queryFilter);if(!l.success){console.error(`Agent ${s} could not find valid position on navmesh, marking as INVALID`),i.state=Hs.INVALID,lg(i.corridor,ec,i.position),Ph(i.boundary);continue}EX(i.corridor,l.nodeRef,l.position),Ph(i.boundary),R.copy(i.position,l.position),r=!0}if(i.targetState===Yt.NONE||i.targetState===Yt.VELOCITY)continue;if(i.targetState!==Yt.NONE&&i.targetState!==Yt.FAILED&&(i.targetRef===null||!Gn(e,i.targetRef)||!i.queryFilter.passFilter(i.targetRef,e))){const l=Ns(ew,e,i.targetPosition,n.agentPlacementHalfExtents,i.queryFilter);l.success?(i.targetRef=l.nodeRef,R.copy(i.targetPosition,l.position),r=!0):(i.targetState=Yt.NONE,i.targetRef=null,lg(i.corridor,ec,i.position))}vX(i.corridor,$1,e,i.queryFilter)||(r=!0),i.targetState===Yt.VALID&&i.targetPathfindingTime>LX&&i.corridor.path.length<$1&&i.corridor.path[i.corridor.path.length-1]!==i.targetRef&&(r=!0),r&&i.targetState!==Yt.NONE&&RX(n,s,i.targetRef,i.targetPosition)}},FX=(n,e,t)=>{for(const r in n.agents){const o=n.agents[r];o.targetState===Yt.WAITING_FOR_PATH&&(o.targetPathfindingTime+=t)}const s=[];for(const r in n.agents){const o=n.agents[r];if(!(o.state===Hs.INVALID||o.targetState===Yt.NONE||o.targetState===Yt.VELOCITY||o.targetRef===null)&&o.targetState===Yt.REQUESTING){Fy(e,o.slicedQuery,o.corridor.path[0],o.targetRef,o.position,o.targetPosition,o.queryFilter),Uy(e,o.slicedQuery,n.quickSearchIterations);const l=(o.targetReplan?TM(e,o.slicedQuery,o.corridor.path):G1(e,o.slicedQuery)).path,c=l.length;let d=R.clone(o.targetPosition);if(c>0){if(l[c-1]!==o.targetRef){const u=ng(),h=ig(u,e,l[c-1],o.targetPosition);h.success?d=h.position:(d=R.clone(o.position),l[0]=o.corridor.path[0],l.length=1)}}else d=R.clone(o.position),l[0]=o.corridor.path[0],l.length=1;Z1(o.corridor,d,l),Ph(o.boundary),o.targetPathIsPartial=!1,c>0&&l[c-1]===o.targetRef?(o.targetState=Yt.VALID,o.targetPathfindingTime=0):o.targetState=Yt.WAITING_FOR_QUEUE}}for(const r in n.agents){const o=n.agents[r];if(o.targetState===Yt.WAITING_FOR_QUEUE){const a=o.corridor.path,l=a[a.length-1];Fy(e,o.slicedQuery,l,o.targetRef,o.corridor.target,o.targetPosition,o.queryFilter),o.targetState=Yt.WAITING_FOR_PATH,s.push(r)}else o.targetState===Yt.WAITING_FOR_PATH&&s.push(r)}s.sort((r,o)=>n.agents[o].targetPathfindingTime-n.agents[r].targetPathfindingTime);let i=n.maxIterationsPerUpdate;for(const r of s){const o=n.agents[r];if((o.slicedQuery.status&ls.IN_PROGRESS)!==0&&i>0){const a=Math.min(n.maxIterationsPerAgent,i),l=Uy(e,o.slicedQuery,a);i-=l}if((o.slicedQuery.status&ls.FAILURE)!==0)o.targetState=Yt.FAILED,o.targetPathfindingTime=0,o.targetPathIsPartial=!1;else if((o.slicedQuery.status&ls.SUCCESS)!==0){o.targetPathIsPartial=(o.slicedQuery.status&ls.PARTIAL_RESULT)!==0;const l=G1(e,o.slicedQuery).path,c=o.corridor.path,d=c.length;let u=!0,h=R.clone(o.targetPosition);if(d>0&&l.length>0&&c[d-1]!==l[0]&&(u=!1),u){let f=[];if(d>1){f=c.slice(0,d-1),f.push(...l);for(let A=0;A<f.length;A++)A-1>=0&&A+1<f.length&&f[A-1]===f[A+1]&&(f.splice(A-1,2),A-=2)}else f=[...l];if(f.length>0&&f[f.length-1]!==o.targetRef){const A=f[f.length-1],p=ng(),g=ig(p,e,A,o.targetPosition);g.success?h=g.position:u=!1}u?(Z1(o.corridor,h,f),Ph(o.boundary),o.targetState=Yt.VALID,o.targetPathfindingTime=0):o.targetRef!==null?o.targetState=Yt.REQUESTING:(o.targetState=Yt.FAILED,o.targetPathfindingTime=0)}else o.targetRef!==null?o.targetState=Yt.REQUESTING:(o.targetState=Yt.FAILED,o.targetPathfindingTime=0)}}},UX=n=>{let e=1/0,t=1/0,s=-1/0,i=-1/0,r=0;const o=[];for(const h in n.agents){const f=n.agents[h];if(f.neis.length=0,f.state!==Hs.WALKING)continue;o.push(h);const A=f.position[0],p=f.position[2];e=Math.min(e,A),s=Math.max(s,A),t=Math.min(t,p),i=Math.max(i,p),r=Math.max(r,f.collisionQueryRange)}if(o.length===0)return;const a=r;if(a<.01)return;const l=Math.ceil((s-e)/a)+1,c=Math.ceil((i-t)/a)+1,d=l*c,u=new Array(d);for(const h of o){const f=n.agents[h],A=f.position[0],p=f.position[2],g=Math.floor((A-e)/a),y=Math.floor((p-t)/a)*l+g;let _=u[y];_||(_=[],u[y]=_),_.push(h)}for(const h of o){const f=n.agents[h],A=f.collisionQueryRange*f.collisionQueryRange,p=f.position[0],g=f.position[2],m=Math.floor((p-e)/a),y=Math.floor((g-t)/a);for(let _=-1;_<=1;_++)for(let I=-1;I<=1;I++){const v=y+_,E=m+I;if(E<0||E>=l||v<0||v>=c)continue;const b=v*l+E,N=u[b];if(N)for(const C of N){if(C===h)continue;const B=n.agents[C],S=f.position[0]-B.position[0],T=f.position[1]-B.position[1],D=f.position[2]-B.position[2],L=S*S+T*T+D*D;L<A&&f.neis.push({agentId:C,dist:L})}}}},OX=(n,e)=>{for(const t in n.agents){const s=n.agents[t];if(s.state!==Hs.WALKING||s.corridor.path.length===0)continue;const i=s.collisionQueryRange*.25;(R.distance(s.position,s.boundary.center)>i||!OW(s.boundary,e,s.queryFilter))&&UW(s.boundary,s.corridor.path[0],s.position,s.collisionQueryRange,e,s.queryFilter)}},GX=(n,e)=>{for(const t in n.agents){const s=n.agents[t];if(s.state!==Hs.WALKING||s.targetState===Yt.NONE||s.targetState===Yt.VELOCITY){R.set(s.desiredVelocity,0,0,0);continue}if(s.state!==Hs.WALKING||s.targetState!==Yt.VALID){R.set(s.desiredVelocity,0,0,0);continue}const i=IX(s.corridor,e,3);if(!i){R.set(s.desiredVelocity,0,0,0);continue}if(s.corners=i,(s.updateFlags&za.OPTIMIZE_VIS)!==0&&s.corners.length>0){const r=Math.min(1,s.corners.length-1),o=s.corners[r].position;NX(s.corridor,o,s.pathOptimizationRange,e,s.queryFilter)}}},HX=(n,e)=>{const t=e[0]-n[0],s=e[2]-n[2];return t*t+s*s},zX=(n,e)=>{if(n.corners.length===0)return!1;const t=n.corners[n.corners.length-1];return t.type!==as.OFFMESH?!1:HX(n.position,t.position)<e*e},VX=(n,e)=>{for(const t in n.agents){const s=n.agents[t];if(s.state!==Hs.WALKING||s.targetState===Yt.NONE||s.targetState===Yt.VELOCITY)continue;const i=s.radius*2.25;if(zX(s,i)){const r=s.corners[s.corners.length-1].nodeRef;if(!r)continue;const o=CX(s.corridor,r,e);if(o===!1)continue;s.state=Hs.OFFMESH,s.offMeshAnimation={t:0,duration:s.autoTraverseOffMeshConnections?.5:-1,startPosition:R.clone(s.position),endPosition:R.clone(o.endPosition),nodeRef:o.offMeshNodeRef}}}},qX=(n,e)=>{const t=n.agents[e];return!t||t.state!==Hs.OFFMESH||!t.offMeshAnimation?!1:(R.copy(t.position,t.offMeshAnimation.endPosition),R.set(t.velocity,0,0,0),R.set(t.desiredVelocity,0,0,0),t.offMeshAnimation=null,t.state=Hs.WALKING,!0)},WX=R.create(),XX=(n,e)=>{if(e.length===0){R.set(n.desiredVelocity,0,0,0);return}const t=R.subtract(WX,e[0].position,n.position);t[1]=0,R.normalize(t,t);const s=n.maxSpeed;R.scale(n.desiredVelocity,t,s)},YX=R.create(),JX=R.create(),KX=R.create(),jX=(n,e)=>{if(e.length===0){R.set(n.desiredVelocity,0,0,0);return}const t=0,s=Math.min(1,e.length-1),i=e[t].position,r=e[s].position,o=R.subtract(YX,i,n.position),a=R.subtract(JX,r,n.position);o[1]=0,a[1]=0;const l=R.length(o),c=R.length(a);c>.001&&R.scale(a,a,1/c);const d=KX;d[0]=o[0]-a[0]*l*.5,d[1]=0,d[2]=o[2]-a[2]*l*.5,R.normalize(d,d);const u=n.maxSpeed;R.scale(n.desiredVelocity,d,u)},tw=mt.create(),sw=mt.create(),ZX=(n,e)=>{if(n.corners.length===0)return e;const t=n.corners[n.corners.length-1];if(!((t.flags&Yr.END)!==0))return e;mt.set(tw,t.position[0],t.position[2]),mt.set(sw,n.position[0],n.position[2]);const i=mt.distance(tw,sw);return Math.min(e,i)},$X=R.create(),eY=R.create(),tY=n=>{for(const e in n.agents){const t=n.agents[e];if(t.targetState===Yt.VELOCITY){R.copy(t.desiredVelocity,t.targetPosition);continue}(t.updateFlags&za.ANTICIPATE_TURNS)!==0?jX(t,t.corners):XX(t,t.corners);const i=t.radius*2,r=ZX(t,i)/i;if(t.desiredSpeed=t.maxSpeed,R.scale(t.desiredVelocity,t.desiredVelocity,r),(t.updateFlags&za.SEPARATION)!==0){const o=t.collisionQueryRange,a=1/o,l=t.separationWeight;let c=0;const d=$X;R.set(d,0,0,0);for(let u=0;u<t.neis.length;u++){const h=t.neis[u].agentId,f=n.agents[h];if(!f)continue;const A=R.subtract(eY,t.position,f.position);A[1]=0;const p=R.squaredLength(A);if(p<1e-5||p>o*o)continue;const g=Math.sqrt(p),m=l*(1-g*a*(g*a));R.scaleAndAdd(d,d,A,m/g),c+=1}if(c>1e-4){R.scaleAndAdd(t.desiredVelocity,t.desiredVelocity,d,1/c);const u=R.squaredLength(t.desiredVelocity),h=t.desiredSpeed*t.desiredSpeed;u>h&&u>0&&R.scale(t.desiredVelocity,t.desiredVelocity,Math.sqrt(h/u))}}}},sY=n=>{for(const e in n.agents){const t=n.agents[e];if(t.state===Hs.WALKING)if(t.updateFlags&za.OBSTACLE_AVOIDANCE){VW(t.obstacleAvoidanceQuery);for(const s of t.neis){const i=n.agents[s.agentId];WW(t.obstacleAvoidanceQuery,i.position,i.radius,i.velocity,i.desiredVelocity)}for(const s of t.boundary.segments){const i=s.s,r=[i[0],i[1],i[2]],o=[i[3],i[4],i[5]];(t.position[0]-r[0])*(o[2]-r[2])-(t.position[2]-r[2])*(o[0]-r[0])<0||XW(t.obstacleAvoidanceQuery,r,o)}gX(t.obstacleAvoidanceQuery,t.position,t.radius,t.maxSpeed,t.velocity,t.desiredVelocity,t.obstacleAvoidance,t.newVelocity,t.obstacleAvoidanceDebugData)}else R.copy(t.newVelocity,t.desiredVelocity)}},nY=R.create(),iY=(n,e)=>{for(const t in n.agents){const s=n.agents[t];if(s.state!==Hs.WALKING)continue;const i=s.maxAcceleration*e,r=R.subtract(nY,s.newVelocity,s.velocity),o=R.length(r);o>i&&R.scale(r,r,i/o),R.add(s.velocity,s.velocity,r),R.length(s.velocity)>1e-4?R.scaleAndAdd(s.position,s.position,s.velocity,e):R.set(s.velocity,0,0,0)}},rY=R.create(),oY=n=>{const t=Object.keys(n.agents),s=t.map(i=>n.agents[i]);for(let i=0;i<4;i++){for(let r=0;r<s.length;r++){const o=s[r];if(o.state!==Hs.WALKING)continue;R.set(o.displacement,0,0,0);let a=0;for(let l=0;l<o.neis.length;l++){const c=o.neis[l].agentId,d=n.agents[c];if(!d)continue;const u=R.subtract(rY,o.position,d.position);u[1]=0;const h=R.squaredLength(u),f=o.radius+d.radius;if(h>f*f)continue;const A=Math.sqrt(h);let p=f-A;if(A<1e-4){const g=r,m=t.indexOf(c);g>m?R.set(u,-o.desiredVelocity[2],0,o.desiredVelocity[0]):R.set(u,o.desiredVelocity[2],0,-o.desiredVelocity[0]),p=.01}else p=1/A*(p*.5)*.7;R.scaleAndAdd(o.displacement,o.displacement,u,p),a+=1}if(a>1e-4){const l=1/a;R.scale(o.displacement,o.displacement,l)}}for(let r=0;r<s.length;r++){const o=s[r];o.state===Hs.WALKING&&R.add(o.position,o.position,o.displacement)}}},aY=(n,e)=>{for(const t in n.agents){const s=n.agents[t];s.state===Hs.WALKING&&(yX(s.corridor,s.position,e,s.queryFilter),R.copy(s.position,s.corridor.position),(s.targetState===Yt.NONE||s.targetState===Yt.VELOCITY)&&lg(s.corridor,s.corridor.path[0],s.position))}},lY=(n,e)=>{for(const t in n.agents){const s=n.agents[t];if(!s.offMeshAnimation||!s.autoTraverseOffMeshConnections)continue;const i=s.offMeshAnimation;if(i.t+=e,i.t>=i.duration){s.offMeshAnimation=null,s.state=Hs.WALKING;continue}const r=i.t/i.duration;R.lerp(s.position,i.startPosition,i.endPosition,r),R.set(s.velocity,0,0,0),R.set(s.desiredVelocity,0,0,0)}},cY=(n,e,t)=>{const r=[];for(const o in n.agents){const a=n.agents[o];if(a.state===Hs.WALKING&&!(a.targetState===Yt.NONE||a.targetState===Yt.VELOCITY)&&(a.updateFlags&za.OPTIMIZE_TOPO)!==0&&(a.topologyOptTime+=t,a.topologyOptTime>=.5))if(r.length===0)r.push({agentId:o,time:a.topologyOptTime});else if(a.topologyOptTime<=r[r.length-1].time)r.length<1&&r.push({agentId:o,time:a.topologyOptTime});else{let l=0;for(let c=0;c<r.length;c++)if(a.topologyOptTime>=r[c].time){l=c;break}r.splice(l,0,{agentId:o,time:a.topologyOptTime}),r.length>1&&(r.length=1)}}for(const o of r){const a=n.agents[o.agentId];bX(a.corridor,e,a.queryFilter),a.topologyOptTime=0}},dY=(n,e,t)=>{kX(n,e,t),cY(n,e,t),FX(n,e,t),UX(n),OX(n,e),GX(n,e),VX(n,e),tY(n),sY(n),iY(n,t),oY(n),aY(n,e),lY(n,t)},uY=(n,e,t)=>{const s=n.agents[e];if(!s||s.targetState!==Yt.VALID||s.corners.length===0)return!1;const i=s.corners[s.corners.length-1];if(!((i.flags&Yr.END)!==0))return!1;const o=t??s.radius;return R.distance(s.position,i.position)<=o};var ys=Object.freeze({__proto__:null,get AgentState(){return Hs},get AgentTargetState(){return Yt},get CrowdUpdateFlags(){return za},DEFAULT_OBSTACLE_AVOIDANCE_PARAMS:kM,addAgent:MX,completeOffMeshConnection:qX,create:SX,isAgentAtTarget:uY,removeAgent:TX,requestMoveTarget:PX,requestMoveVelocity:QX,resetMoveTarget:DX,update:dY});function hY(n,e){const t=Zt.create();Zt.start(t,"navmesh generation");const{positions:s,indices:i}=n,{cellSize:r,cellHeight:o,walkableRadiusVoxels:a,walkableRadiusWorld:l,walkableClimbVoxels:c,walkableClimbWorld:d,walkableHeightVoxels:u,walkableHeightWorld:h,walkableSlopeAngleDegrees:f,borderSize:A,minRegionArea:p,mergeRegionArea:g,maxSimplificationError:m,maxEdgeLength:y,maxVerticesPerPoly:_,detailSampleDistance:I,detailSampleMaxError:v}=e;Zt.start(t,"mark walkable triangles");const E=new Uint8Array(i.length/3).fill(0);L9(s,i,E,f),Zt.end(t,"mark walkable triangles"),Zt.start(t,"rasterize triangles");const b=k9(ac.create(),s,i),[N,C]=g9(mt.create(),b,r),B=m9(N,C,b,r,o);N9(t,B,s,i,E,c),Zt.end(t,"rasterize triangles"),Zt.start(t,"filter walkable surfaces"),S9(B,c),M9(B,u,c),T9(B,u),Zt.end(t,"filter walkable surfaces"),Zt.start(t,"build compact heightfield");const S=SV(t,u,c,B);Zt.end(t,"build compact heightfield"),Zt.start(t,"erode walkable area"),PV(a,S),Zt.end(t,"erode walkable area"),Zt.start(t,"build compact heightfield distance field"),LV(S),Zt.end(t,"build compact heightfield distance field"),Zt.start(t,"build compact heightfield regions"),kV(t,S,A,p,g),Zt.end(t,"build compact heightfield regions"),Zt.start(t,"trace and simplify region contours");const T=p9(t,S,m,y,Cl.CONTOUR_TESS_WALL_EDGES);Zt.end(t,"trace and simplify region contours"),Zt.start(t,"build polygons mesh from contours");const D=Z9(t,T,_);for(let Ye=0;Ye<D.nPolys;Ye++)D.areas[Ye]===EI&&(D.areas[Ye]=0),D.areas[Ye]===0&&(D.flags[Ye]=1);Zt.end(t,"build polygons mesh from contours"),Zt.start(t,"build detail mesh from contours");const L=gq(t,D,S,I,v);Zt.end(t,"build detail mesh from contours"),Zt.end(t,"navmesh generation");const z={buildContext:t,input:{positions:s,indices:i},triAreaIds:E,heightfield:B,compactHeightfield:S,contourSet:T,polyMesh:D,polyMeshDetail:L},V=wq();V.tileWidth=D.bounds[1][0]-D.bounds[0][0],V.tileHeight=D.bounds[1][2]-D.bounds[0][2],R.copy(V.origin,D.bounds[0]);const se=H9(D),q=z9(se.polys,L),Ae={bounds:D.bounds,vertices:se.vertices,polys:se.polys,detailMeshes:q.detailMeshes,detailVertices:q.detailVertices,detailTriangles:q.detailTriangles,tileX:0,tileY:0,tileLayer:0,cellSize:r,cellHeight:o,walkableHeight:h,walkableRadius:l,walkableClimb:d},pe=nW(Ae);return iW(V,pe),{navMesh:V,intermediates:z}}class nw{constructor(){this.group=new Tt,this.isActive=!1,this.time=0,this.numLasers=8,this.laserMaxLength=2,this.sweepSpeed=1.5,this.verticalOscillation=.3,this.laserRadius=.003,this.emitterOffset=new w(0,0,0),this.hitPositions=new Array(this.numLasers).fill(null),this.laserEndpoints=new Array(this.numLasers).fill(null).map(()=>new w),this.lasers=[],this.hitDots=[];const e=new Zi(1,1,1,6,1);e.rotateX(Math.PI/2),e.translate(0,0,.5);const t=new Un(.02,8,8);for(let i=0;i<this.numLasers;i++){const r=new Nt({color:65382,transparent:!0,opacity:.85,blending:Ts,depthWrite:!1}),o=new it(e.clone(),r);o.frustumCulled=!1,this.lasers.push(o),this.group.add(o);const a=new Nt({color:65450,transparent:!0,opacity:.95,blending:Ts,depthWrite:!1}),l=new it(t.clone(),a);l.visible=!1,l.frustumCulled=!1,this.hitDots.push(l),this.group.add(l)}const s=new Un(.012,12,12);this.emitter=new it(s,new Nt({color:65484,transparent:!0,opacity:1,blending:Ts,depthWrite:!1})),this.emitter.frustumCulled=!1,this.group.add(this.emitter),this.group.visible=!1,this._worldPosition=new w,this._endPoint=new w,this._direction=new w,this._worldDirection=new w,this._up=new w(0,1,0),this._quaternion=new Ge,this._worldQuaternion=new Ge}start(){this.isActive=!0,this.time=0,this.group.visible=!0;for(const e of this.lasers)e.visible=!0}stop(){this.isActive=!1,this.group.visible=!1;for(const e of this.hitDots)e.visible=!1}update(e){if(!this.isActive)return;this.time+=e;const t=1+Math.sin(this.time*10)*.2;this.emitter.scale.setScalar(t),this.emitter.position.copy(this.emitterOffset),this.emitter.getWorldPosition(this._worldPosition);for(let s=0;s<this.numLasers;s++){const r=s/this.numLasers*Math.PI*2+this.time*this.sweepSpeed,o=Math.sin(this.time*2+s*.5)*this.verticalOscillation,a=Math.cos(r)*Math.cos(o),l=Math.sin(o),c=Math.sin(r)*Math.cos(o);let d=this.laserMaxLength,u=!1;this.hitPositions[s]&&(this._endPoint.set(this.hitPositions[s].x,this.hitPositions[s].y,this.hitPositions[s].z),d=this._endPoint.distanceTo(this._worldPosition),u=!0);const h=this.lasers[s];h.position.copy(this.emitterOffset),this._direction.set(a,l,c).normalize(),this._quaternion.setFromUnitVectors(new w(0,0,1),this._direction),h.quaternion.copy(this._quaternion);const f=this.laserRadius*(1+Math.sin(this.time*15+s*2)*.3);h.scale.set(f,f,d),h.material.opacity=.6+Math.sin(this.time*8+s)*.25;const A=this.hitDots[s];u?(this.group.worldToLocal(this._endPoint.copy(this.hitPositions[s])),A.position.copy(this._endPoint),A.visible=!0,A.material.opacity=.8+Math.sin(this.time*12+s)*.2,A.scale.setScalar(1+Math.sin(this.time*10+s)*.3)):A.visible=!1,u?this.laserEndpoints[s].copy(this.hitPositions[s]):(this._direction.set(a,l,c).multiplyScalar(d),this.group.localToWorld(this._direction.add(this.emitterOffset)),this.laserEndpoints[s].copy(this._direction))}}setHitPosition(e,t){e>=0&&e<this.numLasers&&(this.hitPositions[e]=t)}clearHitPositions(){for(let e=0;e<this.numLasers;e++)this.hitPositions[e]=null}getLaserRay(e){const s=e/this.numLasers*Math.PI*2+this.time*this.sweepSpeed,i=Math.sin(this.time*2+e*.5)*this.verticalOscillation,r=new w(Math.cos(s)*Math.cos(i),Math.sin(i),Math.sin(s)*Math.cos(i));this.group.getWorldQuaternion(this._worldQuaternion);const o=r.applyQuaternion(this._worldQuaternion),a=this.emitterOffset.clone();return this.group.localToWorld(a),{origin:a,direction:o}}setPosition(e,t,s){this.group.position.set(e,t,s)}setColor(e,t=null,s=null){for(const i of this.lasers)i.material.color.setHex(e);for(const i of this.hitDots)i.material.color.setHex(t||e);this.emitter&&this.emitter.material.color.setHex(s||e)}resetColor(){this.setColor(65382,65450,65484)}setPanicMode(){this.setColor(16724787,16737894,16729156)}dispose(){for(const e of this.lasers)e.geometry.dispose(),e.material.dispose();for(const e of this.hitDots)e.geometry.dispose(),e.material.dispose();this.emitter.geometry.dispose(),this.emitter.material.dispose()}}class fY{constructor(){this.isScanning=!1,this.panner=Fg(),this.panner.connect(De.destination),this.masterGain=null,this.beepOsc=null,this._intervalId=null,this._startTime=0,this._lastBeepTime=0,this._beepIndex=0,this.baseFreq=800,this.beepNotes=[1,1.125,1.25,1.5,1.667,2]}setPosition(e,t,s){this.panner.positionX?(this.panner.positionX.setValueAtTime(e,De.currentTime),this.panner.positionY.setValueAtTime(t,De.currentTime),this.panner.positionZ.setValueAtTime(s,De.currentTime)):this.panner.setPosition(e,t,s)}start(){if(this.isScanning)return;this.isScanning=!0;const e=De.currentTime;this._startTime=e,this._lastBeepTime=e,this._beepIndex=0,this.masterGain=De.createGain(),this.masterGain.gain.setValueAtTime(0,e),this.masterGain.connect(this.panner),this.masterGain.gain.linearRampToValueAtTime(1,e+.05),this._playStartBeeps(e),this._animateBeeps()}_playStartBeeps(e){const s=.08*_n();[this.baseFreq,this.baseFreq*1.25,this.baseFreq*1.5].forEach((r,o)=>{const a=e+o*.08;this._playBeep(r,a,.06,s)})}_playBeep(e,t,s,i){const r=De.createOscillator();r.type="square",r.frequency.setValueAtTime(e,t);const o=De.createGain();o.gain.setValueAtTime(0,t),o.gain.linearRampToValueAtTime(i,t+.01),o.gain.setValueAtTime(i*.7,t+s*.3),o.gain.linearRampToValueAtTime(0,t+s),r.connect(o),o.connect(this.masterGain),r.start(t),r.stop(t+s+.01)}_playDoubleBeep(e,t,s,i){this._playBeep(e,s,.05,i),this._playBeep(t,s+.06,.05,i)}_animateBeeps(){this.isScanning&&(this._intervalId=setInterval(()=>{if(!this.isScanning){clearInterval(this._intervalId),this._intervalId=null;return}const e=De.currentTime,s=.06*_n(),i=.18+Math.random()*.15;if(e-this._lastBeepTime>=i){this._lastBeepTime=e;const r=Math.random(),o=this._beepIndex%this.beepNotes.length,a=this.baseFreq*this.beepNotes[o];if(r<.4)this._playBeep(a,e,.08,s);else if(r<.7){const l=this.baseFreq*this.beepNotes[(o+2)%this.beepNotes.length];this._playDoubleBeep(a,l,e,s)}else if(r<.85){const l=this.baseFreq*this.beepNotes[(o+this.beepNotes.length-1)%this.beepNotes.length];this._playDoubleBeep(a,l,e,s)}else{const l=this.baseFreq*this.beepNotes[(o+1)%this.beepNotes.length],c=this.baseFreq*this.beepNotes[(o+3)%this.beepNotes.length];this._playBeep(a,e,.04,s),this._playBeep(l,e+.05,.04,s),this._playBeep(c,e+.1,.06,s)}this._beepIndex++}},50))}stop(){if(!this.isScanning)return;this.isScanning=!1,this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null);const e=De.currentTime,s=.07*_n();[this.baseFreq*1.5,this.baseFreq*1.25,this.baseFreq].forEach((r,o)=>{this._playBeep(r,e+o*.07,.06,s)}),this.masterGain&&this.masterGain.gain.linearRampToValueAtTime(0,e+.35),setTimeout(()=>{this.masterGain=null},400)}}class AY{constructor(e){this.robotSystem=e,this.logger=new wt("RobotScanManager",!0),this.robotScanState=new Map,this.robotScanners=new Map,this.robotScanVFX=new Map,this.scanConfig={enabled:!0,minDuration:3e3,maxDuration:6e3,goalsBeforeScan:[4,10]},this.forcedScanMode=!1,this._laserRaycaster=new kh,this._laserRaycaster.near=.05,this._laserRaycaster.far=10,this._laserRaycaster.firstHitOnly=!0,this._rayOrigin=new w,this._rayDirection=new w,this._cachedRaycastMeshes=[],this._lastRaycastMeshUpdate=0,this._raycastMeshUpdateInterval=500,this._laserUpdateIndex=0,this._tempVec3=new w}getScanState(e){let t=this.robotScanState.get(e);return t||(t={isScanning:!1,scanEndTime:0,goalsUntilScan:this._randomGoalsUntilScan()},this.robotScanState.set(e,t)),t}isScanning(e){return this.robotScanState.get(e)?.isScanning||!1}startScan(e,t=0,s=null){const i=this.getScanState(e);if(i.isScanning||i.isPanicking)return;const r=this.robotSystem;if(r.interactionManager?.shouldPauseMovement(e))return;i.isScanning=!0,i.scanEndTime=t>0?Date.now()+t:0;const o=r.robotAgentIds.get(e);if(o!==void 0&&s&&r.navMesh&&r.agents){const f=Ns(Ms(),r.navMesh,s,[1,1,1],vs);f.found&&(ys.requestMoveTarget(r.agents,o,f.nodeRef,f.position),this.logger.log(`Robot ${e} stopping at scan position`))}let a=this.robotScanners.get(e);a||(Cy(),a=new fY,this.robotScanners.set(e,a)),s&&a.setPosition(s[0],s[1],s[2]),a.start();let l=this.robotScanVFX.get(e);const c=r.getFaceManager(e);if(!l){l=new nw,this.robotScanVFX.set(e,l);let f=null;c?.robotGroup&&c.robotGroup.traverse(A=>{A.name.includes("AntennaTip")&&(f=A)}),f?(l.group.scale.set(2,2,2),l.group.position.set(0,0,0),l.group.rotation.x=-Math.PI/2,f.add(l.group),l.isParented=!0):(r.world.scene.add(l.group),l.isParented=!1,this.logger.warn("No antenna found, scanner VFX added to scene"))}l.start();const d=r.audioManager.getEngine(e);d&&d.setVolume(0);const u=r.audioManager.getVoice(e);u&&u.curious(),r.setRobotFaceEmotion(e,Rt.CURIOUS);const h=r.getFaceManager(e);h&&t>0&&h.startScanRotation(t),this.logger.log(`Robot ${e} started scanning`)}stopScan(e){const t=this.robotScanState.get(e);if(!t||!t.isScanning)return;const s=this.robotSystem;t.isScanning=!1,t.goalsUntilScan=this._randomGoalsUntilScan();const i=this.robotScanners.get(e);i&&i.stop();const r=this.robotScanVFX.get(e);r&&r.stop();const o=s.audioManager.getVoice(e);o&&o.happy(),s.setRobotFaceEmotion(e,Rt.EXCITED);const a=s.getFaceManager(e);a&&a.stopScanRotation(),this.logger.log(`Robot ${e} stopped scanning`)}setForcedScanMode(e){if(this.forcedScanMode=e,this.logger.log(`Forced scan mode ${e?"enabled":"disabled"}`),!e)for(const[t]of this.robotScanState)this.stopScan(t)}startPanicVFX(e){const t=this.getScanState(e),s=this.robotSystem;t.isScanning&&this.stopScan(e);let i=this.robotScanVFX.get(e);const r=s.getFaceManager(e);if(i)if(i.group.parent)i.group.rotation.y=0;else{let o=null;r?.robotGroup&&r.robotGroup.traverse(a=>{a.name.includes("AntennaTip")&&(o=a)}),o?(i.group.scale.set(2,2,2),i.group.position.set(0,0,0),i.group.rotation.set(-Math.PI/2,0,0),o.add(i.group),i.isParented=!0):(s.world.scene.add(i.group),i.isParented=!1),this.logger.log(`Robot ${e} panic VFX re-parented`)}else{i=new nw,this.robotScanVFX.set(e,i);let o=null;r?.robotGroup&&r.robotGroup.traverse(a=>{a.name.includes("AntennaTip")&&(o=a)}),o?(i.group.scale.set(2,2,2),i.group.position.set(0,0,0),i.group.rotation.x=-Math.PI/2,o.add(i.group),i.isParented=!0):(s.world.scene.add(i.group),i.isParented=!1)}i.isActive=!1,i.time=0,i.setPanicMode(),i.start(),i.group.visible=!0;for(const o of i.lasers)o.visible=!0;for(const o of i.hitDots)o.visible=!1;i.emitter&&(i.emitter.visible=!0),t.isPanicking=!0,t.isScanning=!1,this.logger.log(`Robot ${e} started panic VFX (isActive=${i.isActive}, visible=${i.group.visible}, parent=${i.group.parent?.name})`)}stopPanicVFX(e){const t=this.getScanState(e);if(!t)return;t.isPanicking=!1;const s=this.robotScanVFX.get(e);s&&(s.stop(),s.resetColor()),this.logger.log(`Robot ${e} stopped panic VFX`)}isPanicking(e){return this.robotScanState.get(e)?.isPanicking||!1}_randomGoalsUntilScan(){const[e,t]=this.scanConfig.goalsBeforeScan;return e+Math.floor(Math.random()*(t-e+1))}_randomScanDuration(){return this.scanConfig.minDuration+Math.random()*(this.scanConfig.maxDuration-this.scanConfig.minDuration)}_updateLaserHitTests(e){const t=performance.now();if(t-this._lastRaycastMeshUpdate>this._raycastMeshUpdateInterval){this._lastRaycastMeshUpdate=t;const r=this.robotSystem.world.navSurfacesSystem;r&&(this._cachedRaycastMeshes=r.getRaycastMeshes(!0))}if(this._cachedRaycastMeshes.length===0)return;const s=e.numLasers||8,i=2;for(let r=0;r<i;r++){const o=(this._laserUpdateIndex+r)%s,a=e.getLaserRay(o);if(!a)continue;this._rayOrigin.copy(a.origin),this._rayDirection.copy(a.direction).normalize(),this._laserRaycaster.set(this._rayOrigin,this._rayDirection);const l=this._laserRaycaster.intersectObjects(this._cachedRaycastMeshes,!1);if(l.length>0){const c=l[0];e.setHitPosition(o,{x:c.point.x,y:c.point.y,z:c.point.z})}else e.setHitPosition(o,null)}this._laserUpdateIndex=(this._laserUpdateIndex+i)%s}update(e,t,s,i){const r=this.robotSystem,o=this.getScanState(e);if(r.interactionManager?.shouldPauseMovement(e))return o.isScanning&&this.stopScan(e),o.isScanning;if(this.forcedScanMode&&!o.isScanning&&this.startScan(e,0,s.position),o.isScanning&&o.scanEndTime>0&&Date.now()>=o.scanEndTime&&this.stopScan(e),o.isScanning){const a=this.robotScanners.get(e);a&&a.setPosition(s.position[0],s.position[1],s.position[2]);const l=this.robotScanVFX.get(e);if(l){const c=r.getFaceManager(e);if(l.isParented){if(c&&c.isScanning){const d=performance.now()-c.scanStartTime,h=Math.min(d/c.scanDuration,1)*Math.PI*2*c.scanRotations;l.group.rotation.y=h}}else if(l.setPosition(s.position[0],s.position[1]+.35,s.position[2]),c&&c.isScanning){const d=performance.now()-c.scanStartTime,u=Math.min(d/c.scanDuration,1),f=(u<.5?2*u*u:1-Math.pow(-2*u+2,2)/2)*Math.PI*2*c.scanRotations,A=t.getVectorView(r.Transform,"orientation");r._tempQuat.set(A[0],A[1],A[2],A[3]),r._tempEuler.setFromQuaternion(r._tempQuat,"YXZ");const p=r._tempEuler.y;l.group.quaternion.setFromAxisAngle(this._tempVec3.set(0,1,0),p+f)}l.group.updateMatrixWorld(!0),l.update(i),l.getLaserRay&&this._updateLaserHitTests(l)}return!0}if(o.isPanicking){const a=this.robotScanVFX.get(e);a&&(a.group.updateMatrixWorld(!0),a.update(i),a.group.rotation.y+=i*3,a.getLaserRay&&this._updateLaserHitTests(a))}return!1}onGoalReached(e,t){if(!this.scanConfig.enabled||this.robotSystem.goalPosition)return!1;const s=this.getScanState(e);if(s?.isPanicking||this.robotSystem.interactionManager?.shouldPauseMovement(e))return!1;if(s.goalsUntilScan--,this.logger.log(`Robot ${e} reached goal, goalsUntilScan: ${s.goalsUntilScan}`),s.goalsUntilScan<=0){const i=this._randomScanDuration();return this.startScan(e,i,t),!0}return!1}stopAll(){for(const[,e]of this.robotScanners)e.stop();for(const[,e]of this.robotScanVFX)e.stop(),e.group.removeFromParent(),e.dispose();this.robotScanners.clear(),this.robotScanVFX.clear(),this.robotScanState.clear()}dispose(){this.stopAll()}}class pY{constructor(){this.oscillator=De.createOscillator(),this.oscillator.type="sine",this.oscillator.frequency.setValueAtTime(180,0),this.lfo=De.createOscillator(),this.lfo.type="sine",this.lfo.frequency.setValueAtTime(8,0),this.modGain=De.createGain(),this.modGain.gain.setValueAtTime(4,0),this.masterGain=De.createGain(),this.masterGain.gain.setValueAtTime(0,0),this.panner=Fg(),this.lfo.connect(this.modGain),this.modGain.connect(this.oscillator.frequency),this.oscillator.connect(this.masterGain),this.masterGain.connect(this.panner),this.panner.connect(De.destination),this.oscillator.start(),this.lfo.start(),this.isRunning=!0,this._targetVolume=0,this._isPaused=!1}setPosition(e,t,s){this.isRunning&&(this.panner.positionX?(this.panner.positionX.setValueAtTime(e,De.currentTime),this.panner.positionY.setValueAtTime(t,De.currentTime),this.panner.positionZ.setValueAtTime(s,De.currentTime)):this.panner.setPosition(e,t,s))}setVolume(e){this.isRunning&&(this._targetVolume=Math.max(0,Math.min(1,e))*.12*_n(),!this._isPaused&&!Ea()&&this.masterGain.gain.setTargetAtTime(this._targetVolume,De.currentTime,.1))}pause(){!this.isRunning||this._isPaused||(this._isPaused=!0,this.masterGain.gain.setTargetAtTime(0,De.currentTime,.05))}resume(){!this.isRunning||!this._isPaused||(this._isPaused=!1,this.masterGain.gain.setTargetAtTime(this._targetVolume,De.currentTime,.1))}setPitch(e){if(!this.isRunning)return;const t=Math.max(0,Math.min(1,e)),s=180+t*100,i=8+t*7,r=4+t*4;this.oscillator.frequency.setTargetAtTime(s,De.currentTime,.1),this.lfo.frequency.setTargetAtTime(i,De.currentTime,.1),this.modGain.gain.setTargetAtTime(r,De.currentTime,.1)}setSpeedAndAcceleration(e,t,s=!1){const i=Math.abs(e)/t;if(i<.1&&!s){this.setVolume(0);return}s?(this.setPitch(Math.min(1,i+.3)),this.setVolume(.4)):(this.setPitch(i),this.setVolume(i*.5))}stop(){this.isRunning&&(this.masterGain.gain.setTargetAtTime(0,De.currentTime,.05),setTimeout(()=>{try{this.oscillator.stop(),this.lfo.stop()}catch{}this.isRunning=!1},100))}}class Gy{constructor(e=null){this.isSpeaking=!1,this.panner=Fg(),this.panner.connect(De.destination),this.position={x:0,y:0,z:0},this.character=e,this.characterId=e?.id||"default",this.characterName=e?.name||"Robot";const t=e?.pitchOffset||0;this.pitchMultiplier=Math.pow(2,t/12),this.personality=e?.personality||{}}_freq(e){return e*this.pitchMultiplier}setPosition(e,t,s){this.position={x:e,y:t,z:s},this.panner.positionX?(this.panner.positionX.setValueAtTime(e,De.currentTime),this.panner.positionY.setValueAtTime(t,De.currentTime),this.panner.positionZ.setValueAtTime(s,De.currentTime)):this.panner.setPosition(e,t,s)}playNote(e,t,s=0,i=.05,r="sine",o=0){const a=this._freq(e),l=o*this.pitchMultiplier,c=De.createOscillator();c.type=r;const d=De.createGain();d.gain.setValueAtTime(0,0);const u=i*_n();c.connect(d),d.connect(this.panner);const h=De.currentTime+s,f=h+t;c.frequency.setValueAtTime(a,h),o!==0&&c.frequency.linearRampToValueAtTime(a+l,f),d.gain.setValueAtTime(0,h),d.gain.linearRampToValueAtTime(u,h+.015),d.gain.setValueAtTime(u,f-.02),d.gain.linearRampToValueAtTime(0,f),c.start(h),c.stop(f+.01)}random(e,t){return e+Math.random()*(t-e)}randomInt(e,t){return Math.floor(this.random(e,t+1))}pick(e){return e[Math.floor(Math.random()*e.length)]}content(){if(this.isSpeaking)return;this.isSpeaking=!0;const e=this.randomInt(2,4),t=this.random(400,600),s=this.random(.12,.18);let i=0;for(let r=0;r<e;r++){const o=t+this.random(-30,50),a=this.random(.06,.12),l=this.random(-10,20);this.playNote(o,a,i,s,"sine",l),i+=a+this.random(.03,.08)}setTimeout(()=>{this.isSpeaking=!1},i*1e3+100)}excited(){if(this.isSpeaking)return;this.isSpeaking=!0;const e=this.randomInt(4,7);let t=this.random(500,700);const s=this.random(.15,.22);let i=0;for(let r=0;r<e;r++){const o=this.random(.04,.08),a=this.random(20,60);this.playNote(t,o,i,s,"sine",a),t+=this.random(30,80),i+=o+this.random(.02,.05)}setTimeout(()=>{this.isSpeaking=!1},i*1e3+100)}sad(){if(this.isSpeaking)return;this.isSpeaking=!0;const e=this.randomInt(2,3);let t=this.random(350,450);const s=this.random(.12,.16);let i=0;for(let r=0;r<e;r++){const o=this.random(.15,.25),a=this.random(-60,-30);this.playNote(t,o,i,s,"sine",a),t-=this.random(30,60),i+=o+this.random(.1,.2)}setTimeout(()=>{this.isSpeaking=!1},i*1e3+100)}angry(){if(this.isSpeaking)return;this.isSpeaking=!0;const e=this.randomInt(3,5),t=this.random(250,350),s=this.random(.15,.22);let i=0;for(let r=0;r<e;r++){const o=t+this.random(-20,20),a=this.random(.05,.1);this.playNote(o,a,i,s,"sawtooth",0),Math.random()>.5&&this.playNote(o*1.05,a,i,s*.5,"square",0),i+=a+this.random(.02,.06)}setTimeout(()=>{this.isSpeaking=!1},i*1e3+100)}curious(){if(this.isSpeaking)return;this.isSpeaking=!0;const e=this.random(450,550),t=this.random(.12,.18);this.playNote(e,.1,0,t,"sine",80),this.playNote(e+100,.15,.12,t,"sine",30),setTimeout(()=>{this.isSpeaking=!1},400)}effort(){const e=this.random(100,150),t=this.random(.15,.22),s=this.random(.28,.38),i=this.random(280,380),r=De.createOscillator();r.type="sawtooth";const o=De.createGain(),a=De.createBiquadFilter();a.type="lowpass",a.frequency.value=350,r.connect(a),a.connect(o),o.connect(this.panner);const l=De.currentTime,c=t*_n();r.frequency.setValueAtTime(this._freq(e),l),r.frequency.setValueAtTime(this._freq(e*1.1),l+s*.5),r.frequency.exponentialRampToValueAtTime(this._freq(e*1.8),l+s),o.gain.setValueAtTime(c*.1,l),o.gain.setValueAtTime(c*.25,l+s*.4),o.gain.exponentialRampToValueAtTime(c*.8,l+s*.85),o.gain.linearRampToValueAtTime(0,l+s),a.frequency.setValueAtTime(250,l),a.frequency.exponentialRampToValueAtTime(600,l+s*.8),r.start(l),r.stop(l+s+.01);const d=s*this.random(.75,.9),u=this.random(.08,.14),h=this.random(60,120);if(this.playNote(i,u,d,t*1.2,"triangle",h),Math.random()>.4&&this.playNote(i*1.5,u*.8,d+.01,t*.4,"sine",h*.8),Math.random()>.6){const f=d+u*.5;this.playNote(i*.8,.04,f,t*.3,"square",-20)}}inquisitive(){if(this.isSpeaking)return;this.isSpeaking=!0;const e=.22;let t=0;const s=[0,2,3,5,7,8,10,12],i=this.pick([350,400,450,500]),r=f=>i*Math.pow(2,s[f%s.length]/12),o=["rising_question","hmm","double_take","warble_up","stutter_rise","swoop"],a=this.randomInt(1,3),l=[];for(let f=0;f<a;f++)l.push(this.pick(o));for(const f of l){const A=e*this.random(.85,1);if(f==="rising_question"){const p=this.randomInt(0,3),g=p+this.randomInt(3,5),m=this.randomInt(2,4);for(let y=0;y<m;y++){const _=y/(m-1),I=Math.floor(p+(g-p)*_),v=r(I),E=y===m-1?this.random(.12,.2):this.random(.06,.1),b=y===m-1?this.random(60,120):this.random(10,30);this.playNote(v,E,t,A,"sine",b),t+=E*.7}t+=.05}else if(f==="hmm"){const p=r(this.randomInt(2,5)),g=this.random(.2,.35);this.playNote(p,g,t,A*.9,"sine",this.random(-20,40)),Math.random()>.4&&this.playNote(p*1.15,.08,t+g*.8,A*.7,"sine",50),t+=g+.03}else if(f==="double_take"){const p=r(this.randomInt(3,5)),g=p*this.random(1.1,1.25);this.playNote(p,.06,t,A,"sine",30),t+=.08,this.playNote(p,.04,t,A*.8,"sine",20),t+=.06,this.playNote(g,.12,t,A,"sine",this.random(40,80)),t+=.15}else if(f==="warble_up"){const p=r(0),g=this.randomInt(4,8);for(let m=0;m<g;m++){const y=m/g,_=p*(1+y*.6),I=.03+this.random(0,.02);this.playNote(_,I,t,A*(.7+y*.3),"sine",10),t+=I}t+=.02}else if(f==="stutter_rise"){const p=this.randomInt(1,3),g=this.randomInt(2,4);for(let m=0;m<g;m++){const y=r(p+m),_=.05;this.playNote(y,_,t,A,"sine",15),t+=_+.04}this.playNote(r(p+g+1),.12,t,A,"sine",70),t+=.15}else if(f==="swoop"){const p=r(this.randomInt(0,2)),g=this.random(.15,.25),m=this.random(200,400);this.playNote(p,g,t,A,"sine",m),t+=g+.02}t+=this.random(.02,.05)}const c=r(this.randomInt(0,1));this.playNote(c,.1,t,e*.7,"sine",10),t+=.12;const d=r(this.randomInt(1,2)),u=this.random(.4,.6),h=d;this.playNote(d,u,t,e*.9,"sine",h),t+=u+.05,setTimeout(()=>{this.isSpeaking=!1},t*1e3+150)}acknowledge(){if(this.isSpeaking)return;this.isSpeaking=!0;const e=this.random(500,600),t=.15;this.playNote(e,.08,0,t,"sine",20),this.playNote(e+80,.1,.1,t,"sine",10),setTimeout(()=>{this.isSpeaking=!1},300)}sad(){if(this.isSpeaking)return;this.isSpeaking=!0;const e=.2;let t=0;const s=[0,2,3,5,7,8,10,12],i=this.pick([250,280,300,320]),r=c=>i*Math.pow(2,s[c%s.length]/12),o=["sigh","descend","whimper","lonely","droop","sob"],a=this.randomInt(1,3),l=[];for(let c=0;c<a;c++)l.push(this.pick(o));for(const c of l){const d=e*this.random(.8,1);if(c==="sigh"){const u=r(this.randomInt(4,6)),h=this.random(.4,.6);this.playNote(u,h,t,d,"sine",this.random(-80,-150)),t+=h+.1}else if(c==="descend"){const u=this.randomInt(5,7),h=this.randomInt(3,5);for(let f=0;f<h;f++){const A=r(u-f),p=this.random(.15,.25),g=this.random(-20,-40);this.playNote(A,p,t,d*(1-f*.1),"sine",g),t+=p+this.random(.08,.15)}}else if(c==="whimper"){const u=r(this.randomInt(2,4)),h=this.randomInt(2,4);for(let f=0;f<h;f++){const A=this.random(.08,.12),p=this.random(-15,15);this.playNote(u+p,A,t,d*.7,"sine",this.random(-10,-30)),t+=A+.06}t+=.05}else if(c==="lonely"){const u=r(this.randomInt(3,5)),h=this.random(.3,.5);this.playNote(u,h,t,d*.85,"sine",this.random(-10,-30)),t+=h+.15}else if(c==="droop"){const u=r(this.randomInt(4,6));this.playNote(u,.2,t,d,"sine",this.random(-100,-180)),t+=.25}else if(c==="sob"){const u=r(this.randomInt(2,4)),h=this.randomInt(2,3);for(let f=0;f<h;f++)this.playNote(u,.06,t,d*.6,"sine",-20),t+=.1;this.playNote(u*.9,.2,t,d*.5,"sine",-40),t+=.25}t+=this.random(.1,.2)}setTimeout(()=>{this.isSpeaking=!1},t*1e3+200)}angry(){if(this.isSpeaking)return;this.isSpeaking=!0;const e=.28;let t=0;const s=[0,2,3,5,7,8,10,12],i=this.pick([450,500,550,600]),r=c=>i*Math.pow(2,s[c%s.length]/12),o=["growl","burst","staccato","screech","rumble","snap"],a=this.randomInt(2,4),l=[];for(let c=0;c<a;c++)l.push(this.pick(o));for(const c of l){const d=e*this.random(.9,1);if(c==="growl"){const u=r(this.randomInt(2,4)),h=this.random(.35,.55);this.playNote(u,h,t,d,"sawtooth",this.random(-20,40)),t+=h+.06}else if(c==="burst"){const u=this.randomInt(4,7),h=r(this.randomInt(3,6));for(let f=0;f<u;f++){const A=h+this.random(-50,50),p=.08+this.random(0,.05);this.playNote(A,p,t,d,"square",0),t+=p+.04}t+=.06}else if(c==="staccato"){const u=this.randomInt(3,5);for(let h=0;h<u;h++){const f=r(this.randomInt(4,7));this.playNote(f,.1,t,d,"square",this.random(-20,20)),t+=.18}}else if(c==="screech"){const u=r(this.randomInt(6,8)),h=this.random(.25,.4);this.playNote(u,h,t,d*.85,"sawtooth",this.random(100,200)),t+=h+.06}else if(c==="rumble"){const u=r(this.randomInt(3,5)),h=this.randomInt(4,7);for(let f=0;f<h;f++)this.playNote(u+this.random(-30,30),.1,t,d*.9,"sawtooth",this.random(-10,10)),t+=.1+.02;t+=.08}else if(c==="snap"){const u=r(this.randomInt(5,7));this.playNote(u,.06,t,d,"square",50),t+=.12,this.playNote(u*.7,.08,t,d*.8,"square",-30),t+=.12}t+=this.random(.06,.12)}if(Math.random()>.5){const c=r(this.randomInt(5,7));this.playNote(c,.25,t,e,"sawtooth",this.random(-30,50)),t+=.3}setTimeout(()=>{this.isSpeaking=!1},t*1e3+100)}happy(){if(this.isSpeaking)return;this.isSpeaking=!0;const e=.26;let t=0;const s=[0,2,4,5,7,9,11,12,14,16],i=this.pick([400,450,500,550,600]),r=c=>i*Math.pow(2,s[c%s.length]/12),o=["arpeggio","trill","fanfare","bounce","stutter","sweep"],a=this.randomInt(2,4),l=[];for(let c=0;c<a;c++)l.push(this.pick(o));for(const c of l){const d=e*this.random(.85,1);if(c==="arpeggio"){const h=Math.random()>.3?[0,2,4,7]:[7,4,2,0],f=this.randomInt(1,3);for(let A=0;A<f;A++)for(const p of h){const g=r(p)*(A>0?2:1),m=this.random(.04,.08);this.playNote(g,m,t,d,"sine",this.random(-10,20)),t+=m+this.random(.01,.03)}}else if(c==="trill"){const u=this.randomInt(0,4),h=u+this.randomInt(1,3),f=this.randomInt(4,10);for(let A=0;A<f;A++){const p=r(A%2===0?u:h),g=this.random(.03,.05);this.playNote(p,g,t,d*.9,"sine",0),t+=g}t+=.02}else if(c==="fanfare"){const u=this.randomInt(0,2),h=this.randomInt(3,6);for(let f=0;f<h;f++){const A=r(u+f),p=f===h-1?this.random(.12,.2):this.random(.05,.08),g=f===h-1?this.random(30,80):this.random(-5,15);this.playNote(A,p,t,d,"sine",g),t+=p*.8}t+=.05}else if(c==="bounce"){const u=this.randomInt(5,8),h=this.randomInt(0,2),f=this.randomInt(3,6);for(let A=0;A<f;A++){const p=r(A%2===0?u:h),g=.06-A*.005;this.playNote(p,Math.max(g,.03),t,d,"sine",0),t+=Math.max(g,.03)+.01}}else if(c==="stutter"){const u=this.randomInt(3,7),h=r(u),f=this.randomInt(3,7);let A=.08;for(let p=0;p<f;p++)this.playNote(h,.04,t,d,"sine",0),t+=A,A*=.7;t+=.03}else if(c==="sweep"){const u=Math.random()>.5?0:7,h=u===0?7:0,f=r(u),A=r(h),p=this.random(.15,.25);this.playNote(f,p,t,d,"sine",A-f),t+=p+.02}t+=this.random(.02,.06)}if(Math.random()>.5){const c=r(this.randomInt(7,9));this.playNote(c,.18,t,e,"sine",this.random(50,120)),t+=.2}setTimeout(()=>{this.isSpeaking=!1},t*1e3+150)}randomContent(){const e=["content","content","content","curious"],t=this.pick(e);this[t]()}}class gY extends Gy{constructor(e){super(e)}_playModemTone(e,t,s=0,i=.05){this.playNote(e,t,s,i,"sine",0),this.playNote(e*2,t,s,i*.15,"sine",0)}_playDataBurst(e,t,s){const i=Math.floor(t/.02),r=[1200,2400,1800,2100,1500,2700];for(let o=0;o<i;o++){const a=this.pick(r)+this.random(-50,50);this.playNote(a,.015,e+o*.018,s*.6,"square",0)}}_playCarrierTone(e,t,s,i){const r=De.createOscillator(),o=De.createOscillator(),a=De.createGain(),l=De.createGain();r.type="sine",o.type="sine",o.frequency.value=this.random(15,25),a.gain.value=this.random(20,40),o.connect(a),a.connect(r.frequency),r.connect(l),l.connect(this.panner);const c=De.currentTime+s;r.frequency.setValueAtTime(this._freq(e),c),l.gain.setValueAtTime(0,c),l.gain.linearRampToValueAtTime(i*_n(),c+.02),l.gain.setValueAtTime(i*_n(),c+t-.02),l.gain.linearRampToValueAtTime(0,c+t),r.start(c),o.start(c),r.stop(c+t+.01),o.stop(c+t+.01)}content(){if(this.isSpeaking)return;this.isSpeaking=!0;let e=0;const t=.15;this._playCarrierTone(1200,.15,e,t),e+=.18,this._playCarrierTone(1e3,.1,e,t*.8),e+=.15,setTimeout(()=>{this.isSpeaking=!1},e*1e3+100)}excited(){if(this.isSpeaking)return;this.isSpeaking=!0;let e=0;const t=.2,s=[2100,1200,2400,1800,2700];for(let i=0;i<this.randomInt(4,7);i++){const r=this.pick(s);this._playModemTone(r,.06,e,t),e+=.07}this._playDataBurst(e,this.random(.2,.35),t),e+=.4,setTimeout(()=>{this.isSpeaking=!1},e*1e3+100)}happy(){if(this.isSpeaking)return;this.isSpeaking=!0;let e=0;const t=.22;this._playCarrierTone(2100,.2,e,t),e+=.22,this._playCarrierTone(1200,.15,e,t),e+=.18;const s=[1200,1500,1800,2100,2400];for(const i of s)this.playNote(i,.08,e,t*.9,"sine",30),e+=.07;this._playDataBurst(e,.3,t),e+=.35,this._playCarrierTone(2400,.25,e,t),e+=.3,setTimeout(()=>{this.isSpeaking=!1},e*1e3+150)}sad(){if(this.isSpeaking)return;this.isSpeaking=!0;let e=0;const t=.18;this._playCarrierTone(2100,.3,e,t),e+=.35;const s=[1800,1500,1200,900,600];for(const i of s)this.playNote(i,.12,e,t*.7,"sine",-20),e+=.15;this._playCarrierTone(400,.4,e,t*.5),e+=.5,setTimeout(()=>{this.isSpeaking=!1},e*1e3+200)}angry(){if(this.isSpeaking)return;this.isSpeaking=!0;let e=0;const t=.25;for(let s=0;s<this.randomInt(3,5);s++)this.playNote(480,.15,e,t,"square",0),e+=.2,this.playNote(620,.15,e,t,"square",0),e+=.2;this._playCarrierTone(2800,.3,e,t),e+=.35,this._playDataBurst(e,.4,t),e+=.45,setTimeout(()=>{this.isSpeaking=!1},e*1e3+100)}curious(){if(this.isSpeaking)return;this.isSpeaking=!0;let e=0;const t=.18;this._playCarrierTone(1200,.12,e,t),e+=.15,this._playCarrierTone(1800,.2,e,t),e+=.25,setTimeout(()=>{this.isSpeaking=!1},e*1e3+100)}inquisitive(){if(this.isSpeaking)return;this.isSpeaking=!0;let e=0;const t=.2,s=this.randomInt(1,3);for(let i=0;i<s;i++)this._playCarrierTone(1200+this.random(-100,100),.1,e,t*.8),e+=.12,this.playNote(1500,.08,e,t,"sine",200),e+=.12,this._playDataBurst(e,.1,t*.7),e+=.15;this.playNote(800,.12,e,t*.7,"sine",10),e+=.15,this._playCarrierTone(1200,.5,e,t),this.playNote(1200,.4,e+.1,t*.8,"sine",600),e+=.55,setTimeout(()=>{this.isSpeaking=!1},e*1e3+150)}acknowledge(){if(this.isSpeaking)return;this.isSpeaking=!0;let e=0;const t=.15;this.playNote(2100,.05,e,t,"sine",0),e+=.06,this.playNote(1200,.08,e,t,"sine",0),e+=.1,setTimeout(()=>{this.isSpeaking=!1},e*1e3+100)}randomContent(){const e=["content","curious","acknowledge","inquisitive"],t=[.3,.3,.2,.2];let s=Math.random();for(let i=0;i<t.length;i++)if(s-=t[i],s<=0){this[e[i]]();return}this.content()}}function mY(n){return n?n.voiceType==="modem"?new gY(n):new Gy(n):new Gy}class xY{constructor(e){this.robotSystem=e,this.logger=new wt("RobotAudioManager",!1),this.robotAudioEngines=new Map,this.robotVoices=new Map,this.robotNextChatter=new Map,this.audioEnabled=!0,this.voiceEnabled=!0,this.chatterIntervalMin=5e3,this.chatterIntervalMax=2e4,this._audioForward=null,this._isPaused=!1,this._unsubVisibility=mS(t=>{t?this._resumeAllEngines():this._pauseAllEngines()}),Oe.on("state:changed",(t,s)=>{t.currentState===ut.XR_PAUSED&&s.currentState!==ut.XR_PAUSED?this._pauseAllEngines():s.currentState===ut.XR_PAUSED&&t.currentState!==ut.XR_PAUSED&&this._resumeAllEngines()})}setAudioEnabled(e){if(this.audioEnabled=e,!e)for(const[,t]of this.robotAudioEngines)t.stop();this.logger.log(`Robot audio ${e?"enabled":"disabled"}`)}setVoiceEnabled(e){this.voiceEnabled=e,this.logger.log(`Robot voice ${e?"enabled":"disabled"}`)}getVoice(e){return this.robotVoices.get(e)}getEngine(e){return this.robotAudioEngines.get(e)}createEngineForRobot(e){if(this.robotAudioEngines.has(e))return this.robotAudioEngines.get(e);Cy();const t=new pY;return this.robotAudioEngines.set(e,t),t}createVoiceForRobot(e,t){if(this.robotVoices.has(e))return this.robotVoices.get(e);Cy();const s=mY(t);this.robotVoices.set(e,s);const i=Math.random()*this.chatterIntervalMax;return this.robotNextChatter.set(e,Date.now()+i),s}robotSpeak(e,t){const s=this.robotVoices.get(e);s&&typeof s[t]=="function"&&s[t]()}allRobotsSpeak(e){for(const[t,s]of this.robotVoices)setTimeout(()=>{typeof s[e]=="function"&&s[e]()},Math.random()*500)}testVoice(e,t){const s=this.robotVoices.get(e);if(!s){this.logger.warn(`No voice found for robot ${e}`);return}typeof s[t]=="function"?(s[t](),this.logger.log(`Playing ${t} on robot ${e}`)):this.logger.warn(`Unknown mood "${t}"`)}updateListenerPosition(e,t){if(!e)return;const s=e.getWorldDirection(t);R8(e.position.x,e.position.y,e.position.z,s.x,s.y,s.z)}updateRobot(e,t,s,i){if(this.audioEnabled){const r=this.robotAudioEngines.get(e);r&&(r.setPosition(t[0],t[1],t[2]),r.setSpeed(s))}if(this.voiceEnabled){const r=this.robotVoices.get(e);r&&r.setPosition(t[0],t[1],t[2])}}updateChatter(e){if(!this.voiceEnabled)return!1;const t=this.robotVoices.get(e);if(!t)return!1;const s=Date.now(),i=this.robotNextChatter.get(e);if(s>=i){t.randomContent();const r=this.chatterIntervalMin+Math.random()*(this.chatterIntervalMax-this.chatterIntervalMin);return this.robotNextChatter.set(e,s+r),!0}return!1}_pauseAllEngines(){if(!this._isPaused){this._isPaused=!0,this.logger.log("Pausing all robot audio");for(const[,e]of this.robotAudioEngines)e.pause()}}_resumeAllEngines(){if(this._isPaused){this._isPaused=!1,this.logger.log("Resuming all robot audio");for(const[,e]of this.robotAudioEngines)e.resume()}}stopAll(){for(const[,e]of this.robotAudioEngines)e.stop();this.robotAudioEngines.clear(),this.robotVoices.clear(),this.robotNextChatter.clear()}dispose(){this._unsubVisibility&&this._unsubVisibility(),this.stopAll()}}class yY{constructor(e){this.robotSystem=e,this.logger=new wt("RobotMovementManager",!1),this._sinTable=new Float32Array(256);for(let t=0;t<256;t++)this._sinTable[t]=Math.sin(t/256*Math.PI*2);this.robotTiltState=new Map,this.robotFacingState=new Map,this.robotSquashState=new Map,this.robotAnticipationState=new Map,this.robotFollowThroughState=new Map,this.tiltConfig={maxTilt:.25,accelerationScale:.05,cruiseTilt:.12,lerpSpeed:5},this.turnConfig={maxTurnSpeed:4},this.squashConfig={maxSquash:.2,maxStretch:.12,landingRecovery:.18,bounceOvershoot:.1,bouncePeak:.2,lerpSpeed:20},this.anticipationConfig={startMoveDuration:.12,startMoveSquash:-.15,stopDuration:.15,stopLean:.08,turnWindupDuration:.1,turnWindupAmount:.06},this.followThroughConfig={stopOvershoot:.04,stopSettleDuration:.25,turnOvershoot:1.15,turnSettleSpeed:8},this.idleConfig={fidgetIntervalMin:1.5,fidgetIntervalMax:4,fidgetDuration:.4,maxTiltFidget:.03,maxBankFidget:.04},this.robotIdleState=new Map,this.robotHoverState=new Map,this.hoverConfig={driftRadius:.008,driftFrequency:.3,driftFrequencyVariance:.1,bobAmplitude:.006,bobFrequency:.5,bobFrequencyVariance:.15,tiltAmount:.025,tiltLag:.15,wobbleAmplitude:0,wobbleFrequency:1.2}}getTiltState(e){let t=this.robotTiltState.get(e);return t||(t={prevSpeed:0,currentTilt:0,currentBank:0},this.robotTiltState.set(e,t)),t}getFacingState(e,t=0){let s=this.robotFacingState.get(e);return s||(s={currentFacing:t},this.robotFacingState.set(e,s)),s}getSquashState(e,t=1){let s=this.robotSquashState.get(e);return s||(s={currentSquash:0,isJumping:!1,jumpProgress:0,landingTimer:0,baseScale:t,jumpTargetAngle:null,jumpStartAngle:null,jumpLean:0,currentJumpFacing:null},this.robotSquashState.set(e,s)),s}getAnticipationState(e){let t=this.robotAnticipationState.get(e);return t||(t={phase:"none",timer:0,wasMoving:!1,prevTurnRate:0,anticipationSquash:0,anticipationTilt:0},this.robotAnticipationState.set(e,t)),t}getFollowThroughState(e){let t=this.robotFollowThroughState.get(e);return t||(t={phase:"none",timer:0,overshootTilt:0,overshootVelocity:0},this.robotFollowThroughState.set(e,t)),t}getIdleState(e){let t=this.robotIdleState.get(e);if(!t){const s=this.idleConfig;t={nextFidgetTime:performance.now()/1e3+s.fidgetIntervalMin+Math.random()*(s.fidgetIntervalMax-s.fidgetIntervalMin),isFidgeting:!1,fidgetTimer:0,fidgetTilt:0,fidgetBank:0,currentFidgetTilt:0,currentFidgetBank:0},this.robotIdleState.set(e,t)}return t}getHoverState(e){let t=this.robotHoverState.get(e);if(!t){const s=this.hoverConfig;t={driftPhase:Math.random()*Math.PI*2,bobPhase:Math.random()*Math.PI*2,wobblePhaseX:Math.random()*Math.PI*2,wobblePhaseZ:Math.random()*Math.PI*2,driftFreq:s.driftFrequency+(Math.random()-.5)*2*s.driftFrequencyVariance,bobFreq:s.bobFrequency+(Math.random()-.5)*2*s.bobFrequencyVariance,currentTiltX:0,currentTiltZ:0,driftDirection:Math.random()>.5?1:-1},this.robotHoverState.set(e,t)}return t}getAllStates(e,t=1,s=0){return{squash:this.getSquashState(e,t),tilt:this.getTiltState(e),facing:this.getFacingState(e,s)}}_fastSin(e){const t=Math.floor(e%1*256)&255;return this._sinTable[t]}_fastCos(e){const t=Math.floor((e+.25)%1*256)&255;return this._sinTable[t]}updateHover(e,t,s,i=0,r=!1){const o=this.getHoverState(e),a=this.hoverConfig,d=Math.max(.4,1-Math.min(i/2,.6))*(r?.5:1),u=(t*o.driftFreq+o.driftPhase)*o.driftDirection,h=this._fastCos(u)*a.driftRadius*d,f=this._fastSin(u)*a.driftRadius*d,A=t*o.bobFreq+o.bobPhase,p=this._fastSin(A)*a.bobAmplitude*d,g=h,m=p,y=f,_=-f*(a.tiltAmount/a.driftRadius)*(d>0?1:0),I=h*(a.tiltAmount/a.driftRadius)*(d>0?1:0),v=1-Math.exp(-a.tiltLag*60*s);return o.currentTiltX+=(_-o.currentTiltX)*v,o.currentTiltZ+=(I-o.currentTiltZ)*v,{offsetX:g,offsetY:m,offsetZ:y,tiltX:o.currentTiltX,tiltZ:o.currentTiltZ}}updateSquash(e,t,s,i,r=0){const o=this.getSquashState(e,s),a=this.robotSystem,l=a.robotAgentIds.get(e),c=a.agents?.agents?.[l];if(!c)return{squash:0,scaleY:s,scaleXZ:s,isJumping:!1,jumpFacing:null,jumpLean:0};const d=c.isInAir??!1,u=c.jumpInfo;let h=0,f=0;if(d&&u){if(!o.isJumping){o.landingTimer=0,o.jumpStartAngle=r;const E=u.startPos||c.position,b=u.endPos;if(b&&E){const N=b[0]-E[0],C=b[2]-E[2];Math.sqrt(N*N+C*C)>.1?o.jumpTargetAngle=Math.atan2(N,C):o.jumpTargetAngle=r}else o.jumpTargetAngle=r;o.currentJumpFacing=r}o.isJumping=!0;const _=u.anticipationEnd||.2,I=u.progress??0,v=.8;if(I<_){const E=I/_,b=Math.sin(E*Math.PI);h=-b*.8,f=-.15*b}else if(I<v){const E=(I-_)/(v-_);h=Math.sin(E*Math.PI)*.6;const b=E*2-1;f=.3*(1-b*b)-.1*b}else{const E=(I-v)/(1-v);h=-E*.6,f=-.2*E}if(o.jumpTargetAngle!==null){let E=o.jumpTargetAngle-o.currentJumpFacing;for(;E>Math.PI;)E-=Math.PI*2;for(;E<-Math.PI;)E+=Math.PI*2;const b=I<_?15:8,N=1-Math.exp(-b*i);o.currentJumpFacing+=E*N}}else if(o.isJumping)o.isJumping=!1,o.landingTimer=0,o.currentSquash=-.6,o.jumpTargetAngle=null,o.currentJumpFacing=null,f=-.15;else if(o.landingTimer<this.squashConfig.landingRecovery){o.landingTimer+=i;const _=o.landingTimer/this.squashConfig.landingRecovery;h=-.6*(1-_),f=-.15*(1-_)}const A=1-Math.exp(-this.squashConfig.lerpSpeed*i);o.currentSquash+=(h-o.currentSquash)*A;const p=1-Math.exp(-12*i);o.jumpLean+=(f-o.jumpLean)*p;const g=o.currentSquash;let m=s,y=s;return Math.abs(g)>.01&&(g<0?(m=s*(1+g*this.squashConfig.maxSquash),y=s/Math.sqrt(m/s)):(m=s*(1+g*this.squashConfig.maxStretch),y=s/Math.sqrt(m/s))),{squash:g,scaleY:m,scaleXZ:y,isJumping:o.isJumping,jumpFacing:o.isJumping?o.currentJumpFacing:null,jumpLean:o.jumpLean}}updateAnticipation(e,t,s,i){const r=this.getAnticipationState(e),o=this.anticipationConfig,a=t>.1,l=Math.abs(s)>2;a&&!r.wasMoving&&r.phase==="none"?(r.phase="start",r.timer=0):!a&&r.wasMoving&&r.phase==="none"?(r.phase="stop",r.timer=0):l&&Math.abs(r.prevTurnRate)<1.5&&r.phase==="none"&&(r.phase="turn",r.timer=0,r.turnDirection=Math.sign(s)),r.wasMoving=a,r.prevTurnRate=s;let c=0,d=0;if(r.phase==="start"){r.timer+=i;const h=r.timer/o.startMoveDuration;if(h<1){const f=Math.sin(h*Math.PI);c=o.startMoveSquash*f}else r.phase="none"}else if(r.phase==="stop"){r.timer+=i;const h=r.timer/o.stopDuration;if(h<1){const f=Math.sin(h*Math.PI);d=o.stopLean*f}else{r.phase="none";const f=this.getFollowThroughState(e);f.phase="settling",f.timer=0,f.overshootVelocity=-o.stopLean*2}}else if(r.phase==="turn"){r.timer+=i;const h=r.timer/o.turnWindupDuration;if(h<1){const f=Math.sin(h*Math.PI);d=-r.turnDirection*o.turnWindupAmount*f}else r.phase="none"}const u=1-Math.exp(-20*i);return r.anticipationSquash=$t.lerp(r.anticipationSquash,c,u),r.anticipationTilt=$t.lerp(r.anticipationTilt,d,u),{squash:r.anticipationSquash,tilt:r.anticipationTilt}}updateFollowThrough(e,t){const s=this.getFollowThroughState(e),i=this.followThroughConfig;if(s.phase==="settling"){s.timer+=t;const r=120,o=.82,a=-s.overshootTilt*r;s.overshootVelocity+=a*t,s.overshootVelocity*=o,s.overshootTilt+=s.overshootVelocity*t,s.overshootTilt=$t.clamp(s.overshootTilt,-.15,.15),(s.timer>i.stopSettleDuration||Math.abs(s.overshootTilt)<.001&&Math.abs(s.overshootVelocity)<.01)&&(s.phase="none",s.overshootTilt=0,s.overshootVelocity=0)}return{tilt:s.overshootTilt}}updateIdle(e,t,s){const i=this.getIdleState(e),r=this.idleConfig,o=performance.now()/1e3;if(!t)return i.isFidgeting=!1,i.currentFidgetTilt=0,i.currentFidgetBank=0,{tilt:0,bank:0};if(!i.isFidgeting&&o>=i.nextFidgetTime&&(i.isFidgeting=!0,i.fidgetTimer=0,i.fidgetTilt=(Math.random()-.5)*2*r.maxTiltFidget,i.fidgetBank=(Math.random()-.5)*2*r.maxBankFidget),i.isFidgeting){i.fidgetTimer+=s;const l=i.fidgetTimer/r.fidgetDuration;if(l>=1)i.isFidgeting=!1,i.nextFidgetTime=o+r.fidgetIntervalMin+Math.random()*(r.fidgetIntervalMax-r.fidgetIntervalMin),i.fidgetTilt=0,i.fidgetBank=0;else{const c=Math.sin(l*Math.PI);i.currentFidgetTilt=i.fidgetTilt*c,i.currentFidgetBank=i.fidgetBank*c}}const a=1-Math.exp(-10*s);return i.currentFidgetTilt=$t.lerp(i.currentFidgetTilt,0,i.isFidgeting?0:a),i.currentFidgetBank=$t.lerp(i.currentFidgetBank,0,i.isFidgeting?0:a),{tilt:i.currentFidgetTilt,bank:i.currentFidgetBank}}updateTilt(e,t,s){const i=this.getTiltState(e),o=i.prevSpeed+(t-i.prevSpeed)*.15,a=(o-i.prevSpeed)/Math.max(s,.016);i.prevSpeed=o;const l=this.tiltConfig,c=a*l.accelerationScale,u=Math.min(o/1.4,1)*l.cruiseTilt;let h=c+u;h=Math.max(-l.maxTilt,Math.min(l.maxTilt,h));const f=1-Math.exp(-l.lerpSpeed*s);return i.currentTilt+=(h-i.currentTilt)*f,i.currentTilt=Math.max(-l.maxTilt*1.5,Math.min(l.maxTilt*1.5,i.currentTilt)),{smoothedSpeed:o,acceleration:a}}updateFacing(e,t,s,i=1){const r=this.getFacingState(e,t??0);let o=0;if(t!==null){let a=t-r.currentFacing;for(;a>Math.PI;)a-=Math.PI*2;for(;a<-Math.PI;)a+=Math.PI*2;const l=this.turnConfig.maxTurnSpeed*i*s;Math.abs(a)>l&&(a=Math.sign(a)*l),r.currentFacing+=a,o=a/Math.max(s,.016)}return{turnRate:o,facingAngle:r.currentFacing}}updateBank(e,t,s,i){const r=this.getTiltState(e),o=.15,a=.25,l=Math.min(s/1.4,1);let c=-t*o*l;c=Math.max(-a,Math.min(a,c));const d=1-Math.exp(-8*i);return r.currentBank+=(c-r.currentBank)*d,r.currentBank}combineTiltBank(e,t,s,i,r){const o=e.jumpLean||0;let a,l;if(e.isJumping)a=o,l=0;else if(e.landingTilt!==void 0&&e.landingTransitionTimer<e.landingTransitionDuration){const c=Math.min(1,e.landingTransitionTimer/e.landingTransitionDuration),d=1-Math.pow(1-c,2);a=e.landingTilt+(s-e.landingTilt)*d,l=i*d,c>=1&&(e.landingTilt=void 0)}else a=s,l=i;return{combinedTilt:a,combinedBank:l}}blendFacing(e,t,s){if(e.isJumping&&e.currentJumpFacing!==null)return t.currentFacing=e.currentJumpFacing,e.currentJumpFacing;if(e.landingFacing!==void 0&&e.landingTransitionTimer<e.landingTransitionDuration){e.landingTransitionTimer+=s;const i=Math.min(1,e.landingTransitionTimer/e.landingTransitionDuration),r=1-Math.pow(1-i,2);let o=t.currentFacing-e.landingFacing;for(;o>Math.PI;)o-=Math.PI*2;for(;o<-Math.PI;)o+=Math.PI*2;return i>=1&&(e.landingFacing=void 0),e.landingFacing+o*r}return t.currentFacing}computeScale(e,t){if(Math.abs(e)<.005)return{scaleX:t,scaleY:t,scaleZ:t};let s,i;return e<0?(s=1+e*this.squashConfig.maxSquash,i=1/Math.sqrt(s)):(s=1+e*this.squashConfig.maxStretch,i=1/Math.sqrt(s)),{scaleX:t*i,scaleY:t*s,scaleZ:t*i}}applyAnticipationSquash(e,t){if(Math.abs(e)<=.01)return t;let s,i;return e<0?(s=1+e*this.squashConfig.maxSquash,i=1/Math.sqrt(s)):(s=1+e*this.squashConfig.maxStretch,i=1/Math.sqrt(s)),{scaleX:t.scaleX*i,scaleY:t.scaleY*s,scaleZ:t.scaleZ*i}}clear(){this.robotTiltState.clear(),this.robotFacingState.clear(),this.robotSquashState.clear(),this.robotAnticipationState.clear(),this.robotFollowThroughState.clear(),this.robotIdleState.clear(),this.robotHoverState.clear()}}function _Y(){const e=document.createElement("canvas");e.width=32,e.height=32;const t=e.getContext("2d"),s=t.createRadialGradient(32/2,32/2,0,32/2,32/2,32/2);return s.addColorStop(0,"rgba(255,255,255,1)"),s.addColorStop(.3,"rgba(255,255,255,0.8)"),s.addColorStop(.7,"rgba(255,255,255,0.3)"),s.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=s,t.fillRect(0,0,32,32),new vn(e)}let bx=null;function iw(){return bx||(bx=_Y()),bx}let rw=class{constructor(e,t,s){this.progress=0,this.forward=e,this.speed=t,this.color=s,this.active=!0}update(e){this.forward?(this.progress+=e*this.speed,this.progress>=1&&(this.active=!1)):(this.progress-=e*this.speed,this.progress<=0&&(this.active=!1))}};class IY{constructor(e,t,s,i,r){this.scene=e,this.antennaTipA=t,this.antennaTipB=s,this.drawProgress=0,this.drawState="intro",this.drawDuration=.4,this.particles=[],this.curve=null,this.lineMesh=null,this.pointsMesh=null,this.maxParticles=12,this.strandCount=2+Math.floor(Math.random()*3),this.strands=[],this.strandParticles=[],this.strandCurves=[],this.strandLineMeshes=[],this.strandPointsMeshes=[],this.maxStrandParticles=6,this.strandDrawFromB=[],this._posA=new w,this._posB=new w,this._tempVec=new w,this._perpVec=new w,this.colorA=new st(i),this.colorB=new st(r),this.strandOffsets=[];for(let o=0;o<this.strandCount;o++)this.strandOffsets.push({arcScale:.7+Math.random()*.6,lateralOffset:(Math.random()-.5)*.04,verticalOffset:(Math.random()-.5)*.02}),this.strandParticles.push([]),this.strandDrawFromB.push(o%2===1);this._createGeometry()}startOutro(){this.drawState==="active"&&(this.drawState="outro")}isFullyDrawn(){return this.drawState==="active"}isDone(){return this.drawState==="done"}_createGeometry(){this.antennaTipA.getWorldPosition(this._posA),this.antennaTipB.getWorldPosition(this._posB),this._updateCurve();const e=this.curve.getPoints(32),t=new Qt().setFromPoints(e),s=new Float32Array(e.length*3);for(let l=0;l<e.length;l++){const c=l/(e.length-1);s[l*3]=this.colorA.r*(1-c)+this.colorB.r*c,s[l*3+1]=this.colorA.g*(1-c)+this.colorB.g*c,s[l*3+2]=this.colorA.b*(1-c)+this.colorB.b*c}t.setAttribute("color",new yt(s,3)),this.lineMaterial=new Ds({vertexShader:`
        attribute vec3 color;
        varying vec3 vColor;
        void main() {
          vColor = color;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        varying vec3 vColor;
        uniform float opacity;
        void main() {
          gl_FragColor = vec4(vColor, opacity);
        }
      `,uniforms:{opacity:{value:.4}},transparent:!0,blending:Ts,depthWrite:!1}),this.lineMesh=new br(t,this.lineMaterial),this.lineMesh.renderOrder=-100,this.scene.add(this.lineMesh);const i=new Float32Array(this.maxParticles*3),r=new Float32Array(this.maxParticles*3),o=new Qt;o.setAttribute("position",new yt(i,3)),o.setAttribute("color",new yt(r,3));const a=new pi({size:.025,map:iw(),vertexColors:!0,transparent:!0,opacity:.9,blending:Ts,depthWrite:!1,sizeAttenuation:!0});this.pointsMesh=new bi(o,a),this.pointsMesh.renderOrder=-100,this.pointsMesh.frustumCulled=!1,this.scene.add(this.pointsMesh);for(let l=0;l<this.strandCount;l++){const c=this.strandCurves[l]?this.strandCurves[l].getPoints(24):e,d=new Qt().setFromPoints(c),u=new Float32Array(c.length*3);for(let _=0;_<c.length;_++){const I=_/(c.length-1);u[_*3]=this.colorA.r*(1-I)+this.colorB.r*I,u[_*3+1]=this.colorA.g*(1-I)+this.colorB.g*I,u[_*3+2]=this.colorA.b*(1-I)+this.colorB.b*I}d.setAttribute("color",new yt(u,3));const h=new Ds({vertexShader:`
          attribute vec3 color;
          varying vec3 vColor;
          void main() {
            vColor = color;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
          }
        `,fragmentShader:`
          varying vec3 vColor;
          uniform float opacity;
          void main() {
            gl_FragColor = vec4(vColor, opacity);
          }
        `,uniforms:{opacity:{value:.2}},transparent:!0,blending:Ts,depthWrite:!1}),f=new br(d,h);f.renderOrder=-100,this.scene.add(f),this.strandLineMeshes.push(f);const A=new Float32Array(this.maxStrandParticles*3),p=new Float32Array(this.maxStrandParticles*3),g=new Qt;g.setAttribute("position",new yt(A,3)),g.setAttribute("color",new yt(p,3));const m=new pi({size:.015,map:iw(),vertexColors:!0,transparent:!0,opacity:.8,blending:Ts,depthWrite:!1,sizeAttenuation:!0}),y=new bi(g,m);y.renderOrder=-100,y.frustumCulled=!1,this.scene.add(y),this.strandPointsMeshes.push(y)}}_updateCurve(){this.antennaTipA.updateWorldMatrix(!0,!1),this.antennaTipB.updateWorldMatrix(!0,!1),this.antennaTipA.getWorldPosition(this._posA),this.antennaTipB.getWorldPosition(this._posB);const e=this._posA.clone(),t=this._posB.clone(),s=e.distanceTo(t),i=Math.max(.08,s*.35);this._tempVec.subVectors(t,e).normalize();const r=-this._tempVec.z,o=this._tempVec.x,a=new w().lerpVectors(e,t,.5);a.y+=i;const l=new w().lerpVectors(e,a,.5);l.y+=i*.3;const c=new w().lerpVectors(a,t,.5);c.y+=i*.3,this.curve=new zl([e.clone(),l,a,c,t.clone()]),this.strandCurves=[];for(let d=0;d<this.strandCount;d++){const u=this.strandOffsets[d],h=i*u.arcScale,f=new w().lerpVectors(e,t,.5);f.y+=h,f.x+=r*u.lateralOffset,f.z+=o*u.lateralOffset,f.y+=u.verticalOffset;const A=new w().lerpVectors(e,f,.5);A.y+=h*.3,A.x+=r*u.lateralOffset*.5,A.z+=o*u.lateralOffset*.5;const p=new w().lerpVectors(f,t,.5);p.y+=h*.3,p.x+=r*u.lateralOffset*.5,p.z+=o*u.lateralOffset*.5,this.strandCurves.push(new zl([e.clone(),A,f,p,t.clone()]))}}spawnParticle(){if(this.drawState!=="active"||this.particles.length>=this.maxParticles)return;const e=Math.random()>.5,t=.8+Math.random()*.6,s=e?this.colorA:this.colorB,i=new rw(e,t,s);i.progress=e?0:1,this.particles.push(i)}spawnStrandParticle(e){if(this.drawState!=="active"||this.strandParticles[e].length>=this.maxStrandParticles)return;const t=Math.random()>.5,s=1+Math.random()*.8,i=t?this.colorA:this.colorB,r=new rw(t,s,i);r.progress=t?0:1,this.strandParticles[e].push(r)}_getPartialCurvePoints(e,t,s,i=!1){if(s>=1)return e.getPoints(t);if(s<=0)return[];const r=[],o=Math.max(2,Math.ceil(t*s));if(i){const a=1-s;for(let l=0;l<o;l++){const c=a+s*l/(o-1);r.push(e.getPoint(Math.min(1,c)))}}else for(let a=0;a<o;a++){const l=s*a/(o-1);r.push(e.getPoint(l))}return r}update(e){this.drawState==="intro"?(this.drawProgress+=e/this.drawDuration,this.drawProgress>=1&&(this.drawProgress=1,this.drawState="active")):this.drawState==="outro"&&(this.drawProgress-=e/this.drawDuration,this.drawProgress<=0&&(this.drawProgress=0,this.drawState="done")),this._updateCurve();const t=this.drawProgress<.5?2*this.drawProgress*this.drawProgress:1-Math.pow(-2*this.drawProgress+2,2)/2;if(this.lineMesh){const s=this._getPartialCurvePoints(this.curve,32,t,!1);if(s.length>=2){this.lineMesh.geometry.setFromPoints(s);const i=new Float32Array(s.length*3);for(let r=0;r<s.length;r++){const o=r/(s.length-1);i[r*3]=this.colorA.r*(1-o)+this.colorB.r*o,i[r*3+1]=this.colorA.g*(1-o)+this.colorB.g*o,i[r*3+2]=this.colorA.b*(1-o)+this.colorB.b*o}this.lineMesh.geometry.setAttribute("color",new yt(i,3)),this.lineMesh.visible=!0}else this.lineMesh.visible=!1}for(let s=0;s<this.strandCount;s++)if(this.strandLineMeshes[s]&&this.strandCurves[s]){const i=this.strandDrawFromB[s],r=this._getPartialCurvePoints(this.strandCurves[s],24,t,i);if(r.length>=2){this.strandLineMeshes[s].geometry.setFromPoints(r);const o=new Float32Array(r.length*3);for(let a=0;a<r.length;a++){const l=i?1-a/(r.length-1):a/(r.length-1);o[a*3]=this.colorA.r*(1-l)+this.colorB.r*l,o[a*3+1]=this.colorA.g*(1-l)+this.colorB.g*l,o[a*3+2]=this.colorA.b*(1-l)+this.colorB.b*l}this.strandLineMeshes[s].geometry.setAttribute("color",new yt(o,3)),this.strandLineMeshes[s].visible=!0}else this.strandLineMeshes[s].visible=!1}for(let s=this.particles.length-1;s>=0;s--){const i=this.particles[s];i.update(e),i.active||this.particles.splice(s,1)}for(let s=0;s<this.strandCount;s++){const i=this.strandParticles[s];for(let r=i.length-1;r>=0;r--){const o=i[r];o.update(e),o.active||i.splice(r,1)}}if(this.pointsMesh&&this.curve){const s=this.pointsMesh.geometry.attributes.position.array,i=this.pointsMesh.geometry.attributes.color.array;for(let r=0;r<this.maxParticles;r++)if(r<this.particles.length){const o=this.particles[r],a=this.curve.getPoint(Math.max(0,Math.min(1,o.progress)));s[r*3]=a.x,s[r*3+1]=a.y,s[r*3+2]=a.z,i[r*3]=o.color.r,i[r*3+1]=o.color.g,i[r*3+2]=o.color.b}else s[r*3]=0,s[r*3+1]=-1e3,s[r*3+2]=0;this.pointsMesh.geometry.attributes.position.needsUpdate=!0,this.pointsMesh.geometry.attributes.color.needsUpdate=!0}for(let s=0;s<this.strandCount;s++){const i=this.strandPointsMeshes[s],r=this.strandCurves[s],o=this.strandParticles[s];if(i&&r){const a=i.geometry.attributes.position.array,l=i.geometry.attributes.color.array;for(let c=0;c<this.maxStrandParticles;c++)if(c<o.length){const d=o[c],u=r.getPoint(Math.max(0,Math.min(1,d.progress)));a[c*3]=u.x,a[c*3+1]=u.y,a[c*3+2]=u.z,l[c*3]=d.color.r,l[c*3+1]=d.color.g,l[c*3+2]=d.color.b}else a[c*3]=0,a[c*3+1]=-1e3,a[c*3+2]=0;i.geometry.attributes.position.needsUpdate=!0,i.geometry.attributes.color.needsUpdate=!0}}}dispose(){this.lineMesh&&(this.scene.remove(this.lineMesh),this.lineMesh.geometry.dispose(),this.lineMesh.material.dispose()),this.pointsMesh&&(this.scene.remove(this.pointsMesh),this.pointsMesh.geometry.dispose(),this.pointsMesh.material.dispose());for(const e of this.strandLineMeshes)this.scene.remove(e),e.geometry.dispose(),e.material.dispose();for(const e of this.strandPointsMeshes)this.scene.remove(e),e.geometry.dispose(),e.material.dispose();this.particles=[],this.strandParticles=[]}}class vY{constructor(e){this.scene=e,this.activeLinks=new Map,this.spawnInterval=.12,this.lastSpawnTime=new Map}createLink(e,t,s){let i=null,r=null;if(t.traverse(f=>{f.name.includes("AntennaTip")&&(i=f)}),s.traverse(f=>{f.name.includes("AntennaTip")&&(r=f)}),!i||!r)return console.warn("RobotDataLinkVFX: Could not find AntennaTip meshes"),null;const o=t.userData?.characterId||"",a=s.userData?.characterId||"",l=eg(o),c=eg(a),d=l?.appearance?.primaryColor??65535,u=c?.appearance?.primaryColor??35071,h=new IY(this.scene,i,r,d,u);return this.activeLinks.set(e,h),this.lastSpawnTime.set(e,0),h}update(e){const t=[];for(const[s,i]of this.activeLinks){if(i.update(e),i.isDone()){t.push(s);continue}if(!i.isFullyDrawn())continue;let r=this.lastSpawnTime.get(s)||0;if(r+=e,r>=this.spawnInterval){if(i.spawnParticle(),i.strandCount>0&&Math.random()>.3){const o=Math.floor(Math.random()*i.strandCount);i.spawnStrandParticle(o)}r=0}this.lastSpawnTime.set(s,r)}for(const s of t)this._disposeLink(s)}removeLinkGraceful(e){const t=this.activeLinks.get(e);t&&t.startOutro()}removeLink(e){this._disposeLink(e)}_disposeLink(e){const t=this.activeLinks.get(e);t&&(t.dispose(),this.activeLinks.delete(e),this.lastSpawnTime.delete(e))}removeAllLinks(){for(const[e]of this.activeLinks)this._disposeLink(e)}removeAllLinksGraceful(){for(const[,e]of this.activeLinks)e.startOutro()}dispose(){this.removeAllLinks()}}const Fr={APPROACH:1,CHAT_A:2,CHAT_B:3,CHAT_PAUSE:4,REACTION:5};class EY{constructor(e){this.robotSystem=e,this.logger=new wt("RobotInteraction",!1),this.interactionState=new Map,this.excludedRobots=new Set,this.activeInteractions=new Map,this._nextInteractionId=0,this.config={interactionRadius:2,interactionRadiusSq:4,approachStopRadius:.5,approachStopRadiusSq:.25,interactionCooldown:6,globalCooldown:1,approachTimeout:5,interactionChance:.5,angryChance:.35,chatSoundDuration:.6,chatPauseBetween:.3,chatPauseAfter:.4,angryDuration:1,happyDuration:.7,angryShakeFrequency:25,angryShakeIntensity:.15,angryShakeDecay:2.5,happyJumpHeight:.08,happyJumpDuration:.35,happyAnticipation:.12,happySquashOnLand:.25,happyStretchAtPeak:.2,loopChance:.25,loopHeight:.35,loopDuration:2.2,loopAnticipation:.25,loopRiseTime:.5,loopFlipTime:.8,loopFallTime:.4,loopLandTime:.25,barrelRollChance:.25,barrelHeight:.3,barrelDuration:2.5,barrelAnticipation:.2,barrelRiseTime:.4,barrelRollTime:1.2,barrelSettleTime:.5,barrelLandTime:.2,bounceDuration:1.4,bounceJumpHeight:.05,bounceAnticipation:.15,bounceCount:3},this.lastGlobalInteraction=0,this.chatSounds=["content","curious","content","curious"],this.lookTargetOffsets={face:{y:.28,xz:0},antenna:{y:.35,xz:0},bowtie:{y:.15,xz:0},shoulderL:{y:.18,xz:.06},shoulderR:{y:.18,xz:-.06}},this.lookTargetTypes=["face","face","face","antenna","bowtie","shoulderL","shoulderR"],this.lookSwitchInterval={min:.8,max:2},this.dataLinkVFX=null}getState(e){let t=this.interactionState.get(e);return t||(t={lastInteractionTime:performance.now(),interactionId:null,currentAnimation:null,animationTimer:0,animationPhase:0,targetSquash:0,yOffset:0,xOffset:0,zOffset:0,xRotation:0,zRotation:0,partnerId:null,reactionType:null,isPaused:!1,lookTargetType:"face",nextLookSwitchTime:0},this.interactionState.set(e,t)),t}update(e,t){const s=Array.from(this.robotSystem.robotEntities.entries());this._updateActiveInteractions(e,t);for(const[r]of s){const o=this.getState(r);o?.currentAnimation&&!o.interactionId&&(this._updateReactionAnimation(o,e),o.currentAnimation===null&&this.robotSystem.setRobotFaceEmotion(r,Rt.CONTENT))}if(this.dataLinkVFX&&this.dataLinkVFX.update(e),s.length<2||(this._frameCounter||(this._frameCounter=0),this._frameCounter++,this._frameCounter%4!==0)||this.robotSystem.gatheredMode)return;const i=Oe.getState();if(!i.friendlyGreetingReceived&&!i.minigameActive&&!(t-this.lastGlobalInteraction<this.config.globalCooldown*1e3))for(let r=0;r<s.length;r++)for(let o=r+1;o<s.length;o++){const[a,l]=s[r],[c,d]=s[o],u=this.getState(a),h=this.getState(c);if(this.excludedRobots.has(a)||this.excludedRobots.has(c)||u.interactionId!==null||h.interactionId!==null||t-u.lastInteractionTime<this.config.interactionCooldown*1e3||t-h.lastInteractionTime<this.config.interactionCooldown*1e3)continue;const f=l.object3D?.position,A=d.object3D?.position;if(!f||!A)continue;const p=f.x-A.x,g=f.z-A.z;p*p+g*g<this.config.interactionRadiusSq&&Math.random()<this.config.interactionChance&&this._triggerInteraction(a,c,t)}}_triggerInteraction(e,t,s){const i=this.getState(e),r=this.getState(t),o=this.robotSystem.scanManager;o&&(o.isScanning(e)&&(this.logger.log(`Canceling scan on Robot ${e} for interaction`),o.stopScan(e)),o.isScanning(t)&&(this.logger.log(`Canceling scan on Robot ${t} for interaction`),o.stopScan(t)));const a=this._nextInteractionId++,l={id:a,robotA:e,robotB:t,phase:Fr.APPROACH,phaseTimer:0,startTime:s,isNegative:Math.random()<this.config.angryChance,aIsAngry:!1,bIsAngry:!1};l.isNegative&&(Math.random()<.5?l.aIsAngry=!0:l.bIsAngry=!0),this.activeInteractions.set(a,l),i.interactionId=a,i.partnerId=t,i.currentAnimation="approaching",i.animationTimer=0,i.isPaused=!1,i.reactionType=l.aIsAngry?"angry":"happy",i.lookTargetType=this._pickRandomLookTarget(),i.nextLookSwitchTime=s+this._randomLookSwitchDelay(),r.interactionId=a,r.partnerId=e,r.currentAnimation="approaching",r.animationTimer=0,r.isPaused=!1,r.reactionType=l.bIsAngry?"angry":"happy",r.lookTargetType=this._pickRandomLookTarget(),r.nextLookSwitchTime=s+this._randomLookSwitchDelay(),i.lastInteractionTime=s,r.lastInteractionTime=s,this.lastGlobalInteraction=s,this._setApproachTargets(e,t),this.robotSystem.setRobotFaceEmotion(e,Rt.CURIOUS),this.robotSystem.setRobotFaceEmotion(t,Rt.CURIOUS),this.logger.log(`Interaction ${a} started (APPROACH): Robot ${e}  Robot ${t}`)}_updateActiveInteractions(e,t){for(const[s,i]of this.activeInteractions.entries()){i.phaseTimer+=e;const r=this.getState(i.robotA),o=this.getState(i.robotB);switch(i.phase){case Fr.APPROACH:this._checkApproachComplete(i.robotA,i.robotB)?(this._startChatPhase(i,r,o),this.logger.log(`Interaction ${s}: Approach complete, starting chat`)):i.phaseTimer>=this.config.approachTimeout&&(this._cancelInteraction(i,r,o,s),this.logger.log(`Interaction ${s}: Approach timed out, canceling`));break;case Fr.CHAT_A:i.phaseTimer>=this.config.chatSoundDuration&&(i.phase=Fr.CHAT_B,i.phaseTimer=0,this._playMoodSound(i.robotB));break;case Fr.CHAT_B:i.phaseTimer>=this.config.chatSoundDuration+this.config.chatPauseBetween&&(i.phase=Fr.CHAT_PAUSE,i.phaseTimer=0);break;case Fr.CHAT_PAUSE:i.phaseTimer>=this.config.chatPauseAfter&&(i.phase=Fr.REACTION,i.phaseTimer=0,this._startReactionPhase(i));break;case Fr.REACTION:this._updateReactionAnimation(r,e),this._updateReactionAnimation(o,e),r.currentAnimation===null&&o.currentAnimation===null&&(this.robotSystem.setRobotFaceEmotion(i.robotA,Rt.CONTENT),this.robotSystem.setRobotFaceEmotion(i.robotB,Rt.CONTENT),this.dataLinkVFX&&this.dataLinkVFX.removeLinkGraceful(i.id),r.interactionId=null,r.isPaused=!1,o.interactionId=null,o.isPaused=!1,this.activeInteractions.delete(s),this.logger.log(`Interaction ${s} completed`));break}}}_setApproachTargets(e,t){const s=this.robotSystem.robotEntities.get(e),i=this.robotSystem.robotEntities.get(t);if(!s?.object3D||!i?.object3D)return;const r=s.object3D.position,o=i.object3D.position,a=(r.x+o.x)/2,l=(r.z+o.z)/2,c=o.x-r.x,d=o.z-r.z,u=Math.sqrt(c*c+d*d);if(u<.1)return;const h=c/u,f=d/u,A=this.config.approachStopRadius*.6,p=a-h*A,g=l-f*A,m=a+h*A,y=l+f*A;this.robotSystem.setRobotNavigationTarget(e,p,r.y,g),this.robotSystem.setRobotNavigationTarget(t,m,o.y,y)}_checkApproachComplete(e,t){const s=this.robotSystem.robotEntities.get(e),i=this.robotSystem.robotEntities.get(t);if(!s?.object3D||!i?.object3D)return!1;const r=s.object3D.position,o=i.object3D.position,a=r.x-o.x,l=r.z-o.z;return a*a+l*l<=this.config.approachStopRadiusSq}_startChatPhase(e,t,s){e.phase=Fr.CHAT_A,e.phaseTimer=0,t.currentAnimation="chatting",t.isPaused=!0,s.currentAnimation="chatting",s.isPaused=!0,this.robotSystem.stopRobotMovement(e.robotA),this.robotSystem.stopRobotMovement(e.robotB),this._playMoodSound(e.robotA),this._createDataLink(e)}_createDataLink(e){if(!this.dataLinkVFX&&this.robotSystem.world?.scene&&(this.dataLinkVFX=new vY(this.robotSystem.world.scene)),!this.dataLinkVFX)return;const t=this.robotSystem.robotEntities.get(e.robotA),s=this.robotSystem.robotEntities.get(e.robotB);t?.object3D&&s?.object3D&&(this.dataLinkVFX.createLink(e.id,t.object3D,s.object3D),this.logger.log(`Data link created for interaction ${e.id}`))}_cancelInteraction(e,t,s,i){t.interactionId=null,t.isPaused=!1,t.currentAnimation=null,s.interactionId=null,s.isPaused=!1,s.currentAnimation=null,this.robotSystem.setRobotFaceEmotion(e.robotA,Rt.CONTENT),this.robotSystem.setRobotFaceEmotion(e.robotB,Rt.CONTENT),this.dataLinkVFX&&this.dataLinkVFX.removeLinkGraceful(e.id),this.activeInteractions.delete(i)}_playMoodSound(e){const t=this.robotSystem.audioManager?.getVoice(e);if(t){const s=this.chatSounds[Math.floor(Math.random()*this.chatSounds.length)];typeof t[s]=="function"&&t[s]()}}_startReactionPhase(e){const t=this.getState(e.robotA),s=this.getState(e.robotB);e.aIsAngry?this._startAngryAnimation(e.robotA,t,e.robotB):this._startHappyAnimation(e.robotA,t,e.robotB),e.bIsAngry?this._startAngryAnimation(e.robotB,s,e.robotA):this._startHappyAnimation(e.robotB,s,e.robotA),this.logger.log(`Reaction phase: Robot ${e.robotA} (${e.aIsAngry?"angry":"happy"})  Robot ${e.robotB} (${e.bIsAngry?"angry":"happy"})`)}_startAngryAnimation(e,t,s){t.currentAnimation="angry",t.animationTimer=0,t.animationPhase=0,t.targetSquash=0,this.robotSystem.setRobotFaceEmotion(e,Rt.ANGRY);const i=this.robotSystem.audioManager?.getVoice(e);i?.angry&&i.angry()}_startHappyAnimation(e,t,s,i=null){const r=this.robotSystem.characterManager?.getCharacter(e),o=r?.id;let a;o==="modem"?a=["happy","happyLoop"]:o==="blit"?a=["happy","happyBarrel"]:o==="baud"?a=["happy","happyBounce"]:a=["happy"];let l;if(i)l=i;else{const u=(s!=null?this.getState(s):null)?.currentAnimation;let h=a;u&&a.includes(u)&&(h=a.filter(f=>f!==u)),l=h[Math.floor(Math.random()*h.length)]}t.currentAnimation=l,t.animationTimer=0,t.animationPhase=0,t.targetSquash=0,t.yOffset=0,t.xOffset=0,t.zOffset=0,t.xRotation=0,t.zRotation=0,t.animationScale=r?.animationScale??1,this.robotSystem.setRobotFaceEmotion(e,Rt.EXCITED);const c=this.robotSystem.audioManager?.getVoice(e);c?.happy&&c.happy(),l==="happyLoop"?this.logger.log(`Robot ${e} doing FORWARD LOOP!`):l==="happyBarrel"?this.logger.log(`Robot ${e} doing BARREL ROLL!`):l==="happyBounce"&&this.logger.log(`Robot ${e} doing MULTI-BOUNCE!`)}triggerSoloAnimation(e,t){this.logger.log(`triggerSoloAnimation called: entity=${e}, type=${t}`);const s=this.getState(e);if(!s){this.logger.warn(`No state for entity ${e}`);return}this._startHappyAnimation(e,s,null,t),this.logger.log(`Animation started, state.currentAnimation=${s.currentAnimation}`)}_updateReactionAnimation(e,t){!e.currentAnimation||e.currentAnimation==="chatting"||(e.animationTimer+=t,e.currentAnimation==="angry"?this._updateAngryAnimation(e,t):e.currentAnimation==="happy"?this._updateHappyAnimation(e,t):e.currentAnimation==="happyLoop"?this._updateHappyLoopAnimation(e,t):e.currentAnimation==="happyBarrel"?this._updateHappyBarrelAnimation(e,t):e.currentAnimation==="happyBounce"&&this._updateHappyBounceAnimation(e,t))}_updateAngryAnimation(e,t){const s=this.config,i=e.animationTimer/s.angryDuration;if(i>=1){e.currentAnimation=null,e.targetSquash=0,e.animationTimer=0;return}const r=Math.exp(-s.angryShakeDecay*i),o=e.animationTimer*s.angryShakeFrequency*Math.PI*2,a=Math.sin(o)*s.angryShakeIntensity*r;e.targetSquash=a}_updateHappyAnimation(e,t){const s=this.config,i=s.happyDuration,r=e.animationTimer/i;if(r>=1){e.currentAnimation=null,e.targetSquash=0,e.yOffset=0,e.animationTimer=0,e.animationPhase=0;return}const o=s.happyAnticipation/i,a=(s.happyAnticipation+s.happyJumpDuration)/i;if(r<o){e.animationPhase=0;const l=r/o,c=Math.sin(l*Math.PI*.5);e.targetSquash=-c*.3,e.yOffset=0}else if(r<a){e.animationPhase=1;const l=(r-o)/(a-o),c=l;if(e.yOffset=s.happyJumpHeight*4*c*(1-c),l<.3)e.targetSquash=s.happyStretchAtPeak*(l/.3);else if(l<.7)e.targetSquash=s.happyStretchAtPeak;else{const d=(l-.7)/.3;e.targetSquash=s.happyStretchAtPeak*(1-d*2)}}else{e.animationPhase=2;const l=(r-a)/(1-a);if(e.yOffset=0,l<.3){const c=l/.3;e.targetSquash=-s.happySquashOnLand*Math.sin(c*Math.PI*.5)}else{const c=(l-.3)/.7,d=Math.sin(c*Math.PI)*.1*(1-c);e.targetSquash=d}}}_updateHappyLoopAnimation(e,t){const s=this.config,i=e.animationTimer/s.loopDuration;if(i>=1){e.currentAnimation=null,e.targetSquash=0,e.yOffset=0,e.xRotation=0,e.animationTimer=0,e.animationPhase=0;return}const r=e.animationScale??1,o=s.loopHeight*r,a=s.loopAnticipation/s.loopDuration,l=a+s.loopRiseTime/s.loopDuration,c=l+s.loopFlipTime/s.loopDuration,d=c+s.loopFallTime/s.loopDuration;if(i<a){e.animationPhase=0;const u=i/a,h=Math.sin(u*Math.PI*.5);e.targetSquash=-h*.4,e.yOffset=-h*.02,e.xRotation=0}else if(i<l){e.animationPhase=1;const u=(i-a)/(l-a),h=1-Math.pow(1-u,2);e.yOffset=o*h,e.targetSquash=.3*(1-u*.5),e.xRotation=u*.3}else if(i<c){e.animationPhase=2;const u=(i-l)/(c-l),h=Math.sin(u*Math.PI);e.yOffset=o*(.9+h*.1);const f=u<.5?2*u*u:1-Math.pow(-2*u+2,2)/2;e.xRotation=f*Math.PI*2;const A=Math.abs(Math.cos(u*Math.PI));e.targetSquash=.15+A*.1}else if(i<d){e.animationPhase=3;const u=(i-c)/(d-c),h=u*u;e.yOffset=o*(1-h),u<.5?e.xRotation=Math.PI*2:e.xRotation=0,e.targetSquash=.2*(1-u*.5)}else{e.animationPhase=4;const u=(i-d)/(1-d);if(e.yOffset=0,e.xRotation=0,u<.4){const h=u/.4,f=Math.sin(h*Math.PI*.5);e.targetSquash=-.35*f}else{const h=(u-.4)/.6,f=Math.sin(h*Math.PI*2)*.15*(1-h);e.targetSquash=f}}}_updateHappyBarrelAnimation(e,t){const s=this.config,i=e.animationTimer/s.barrelDuration;if(i>=1){e.currentAnimation=null,e.targetSquash=0,e.yOffset=0,e.xOffset=0,e.zOffset=0,e.xRotation=0,e.zRotation=0,e.animationTimer=0,e.animationPhase=0;return}const r=.06,o=.18,a=.62,l=.75,c=.92,d=e.animationScale??1,u=.18*d,h=.22*d,f=.28*d,A=.38*d;if(i<r){e.animationPhase=0;const p=i/r,g=Math.sin(p*Math.PI*.5);e.targetSquash=-g*.35,e.yOffset=-g*.01,e.xOffset=0,e.zOffset=0,e.xRotation=0,e.zRotation=0}else if(i<o){e.animationPhase=1;const p=(i-r)/(o-r),g=1-Math.pow(1-p,2);e.yOffset=h*g,e.xOffset=0,e.zOffset=0,e.targetSquash=.2*(1-p*.5),e.xRotation=0,e.zRotation=0}else if(i<a){e.animationPhase=2;const g=(i-o)/(a-o)*Math.PI*2;e.xOffset=Math.sin(g)*u;const m=(1-Math.cos(g))*u;e.yOffset=f-m,e.zOffset=0,e.zRotation=-Math.sin(g)*.5,e.xRotation=Math.cos(g)*.25,e.targetSquash=.08+Math.abs(Math.sin(g))*.12}else if(i<l){e.animationPhase=3;const p=(i-a)/(l-a),g=1-Math.pow(1-p,2);e.yOffset=f+(A-f)*g,e.xOffset=0,e.zOffset=0,e.xRotation=0,e.zRotation=0,e.targetSquash=.1*(1-p)}else if(i<c){e.animationPhase=4;const p=(i-l)/(c-l),g=p*p;e.yOffset=A*(1-g),e.xOffset=0,e.zOffset=0,e.xRotation=0,e.zRotation=0,e.targetSquash=.05*(1-p)}else{e.animationPhase=5;const p=(i-c)/(1-c);if(e.yOffset=0,e.xOffset=0,e.zOffset=0,e.xRotation=0,e.zRotation=0,p<.5){const g=p/.5,m=Math.sin(g*Math.PI*.5);e.targetSquash=-.18*m}else{const g=(p-.5)/.5,m=Math.sin(g*Math.PI)*.06*(1-g);e.targetSquash=m}}}_updateHappyBounceAnimation(e,t){const s=this.config,i=e.animationTimer/s.bounceDuration;if(i>=1){e.currentAnimation=null,e.targetSquash=0,e.yOffset=0,e.animationTimer=0,e.animationPhase=0;return}const r=s.bounceAnticipation/s.bounceDuration,o=r+.2,a=o+.25,l=a+.18,c=l+.12;if(i<r){e.animationPhase=0;const d=i/r,u=Math.sin(d*Math.PI*.5);e.targetSquash=-u*.35,e.yOffset=0}else if(i<o){e.animationPhase=1;const d=(i-r)/(o-r),u=d;e.yOffset=s.bounceJumpHeight*4*u*(1-u),d<.4?e.targetSquash=.25*(d/.4):e.targetSquash=.25*(1-(d-.4)/.6)}else if(i<a){e.animationPhase=2;const d=(i-o)/(a-o);if(e.yOffset=0,d<.3){const u=Math.sin(d/.3*Math.PI*.5);e.targetSquash=-.4*u}else if(d<.6){const u=(d-.3)/.3;e.targetSquash=-.4+.6*u}else{const u=(d-.6)/.4;e.targetSquash=.2*(1-u)}}else if(i<l){e.animationPhase=3;const d=(i-a)/(l-a);if(e.yOffset=0,d<.35){const u=Math.sin(d/.35*Math.PI*.5);e.targetSquash=-.25*u}else if(d<.65){const u=(d-.35)/.3;e.targetSquash=-.25+.35*u}else{const u=(d-.65)/.35;e.targetSquash=.1*(1-u)}}else if(i<c){e.animationPhase=4;const d=(i-l)/(c-l);if(e.yOffset=0,d<.4){const u=Math.sin(d/.4*Math.PI*.5);e.targetSquash=-.12*u}else{const u=(d-.4)/.6,h=Math.sin(u*Math.PI)*.05*(1-u);e.targetSquash=h}}else{e.animationPhase=5;const d=(i-c)/(1-c);e.yOffset=0;const u=Math.sin(d*Math.PI*2)*.03*(1-d);e.targetSquash=u}}getInteractionSquash(e){const t=this.interactionState.get(e);return!t||!t.currentAnimation||t.currentAnimation==="chatting"?0:t.targetSquash}getInteractionYOffset(e){const t=this.interactionState.get(e);if(!t)return 0;const s=t.currentAnimation;return s!=="happy"&&s!=="happyLoop"&&s!=="happyBarrel"&&s!=="happyBounce"?0:t.yOffset}getInteractionXOffset(e){const t=this.interactionState.get(e);return!t||t.currentAnimation!=="happyBarrel"?0:t.xOffset||0}getInteractionZOffset(e){const t=this.interactionState.get(e);return!t||t.currentAnimation!=="happyBarrel"?0:t.zOffset||0}getInteractionXRotation(e){const t=this.interactionState.get(e);if(!t)return 0;const s=t.currentAnimation;return s!=="happyLoop"&&s!=="happyBarrel"?0:t.xRotation}getInteractionZRotation(e){const t=this.interactionState.get(e);return!t||t.currentAnimation!=="happyBarrel"?0:t.zRotation}getInteractionValues(e){const t=this.interactionState.get(e);if(!t)return null;const s=t.currentAnimation,i=s==="happy"||s==="happyLoop"||s==="happyBarrel"||s==="happyBounce",r=s==="happyBarrel",o=s==="happyLoop"||r;return{squash:s==="chatting"?0:t.targetSquash||0,yOffset:i&&t.yOffset||0,xOffset:r&&t.xOffset||0,zOffset:r&&t.zOffset||0,xRotation:o&&t.xRotation||0,zRotation:r&&t.zRotation||0,shouldPause:t.isPaused===!0}}isInInteraction(e){return this.interactionState.get(e)?.interactionId!==null}shouldPauseMovement(e){return this.interactionState.get(e)?.isPaused===!0}setExcluded(e,t=!0){t?(this.excludedRobots.add(e),this.logger.log(`Robot ${e} excluded from interactions`)):(this.excludedRobots.delete(e),this.logger.log(`Robot ${e} re-included in interactions`))}isAnimating(e){return this.interactionState.get(e)?.currentAnimation!==null}isLookingAtPartner(e){const t=this.interactionState.get(e);if(!t||t.interactionId===null)return!1;const s=t.currentAnimation;return s==="chatting"||s==="angry"||s==="happy"||s==="happyLoop"||s==="happyBarrel"}getLookTarget(e){const t=this.interactionState.get(e);if(!t||t.interactionId===null||t.partnerId===null||t.currentAnimation==="approaching")return null;const s=this.robotSystem.robotEntities.get(t.partnerId);if(!s?.object3D)return null;const i=performance.now();if(i>=t.nextLookSwitchTime){const d=t.lookTargetType;let u,h=0;do u=this._pickRandomLookTarget(),h++;while(u===d&&h<5);t.lookTargetType=u,t.nextLookSwitchTime=i+this._randomLookSwitchDelay()}const r=s.object3D.position,o=this.lookTargetOffsets[t.lookTargetType]||this.lookTargetOffsets.face;let a=0,l=0;if(o.xz!==0){const d=this.robotSystem.robotEntities.get(e);if(d?.object3D){const u=r.x-d.object3D.position.x,h=r.z-d.object3D.position.z,f=Math.sqrt(u*u+h*h);if(f>.01){const A=-h/f,p=u/f;a=A*o.xz,l=p*o.xz}}}const c={x:r.x+a,y:r.y+o.y,z:r.z+l};return this._lookDebugCounter||(this._lookDebugCounter=0),this._lookDebugCounter++,this._lookDebugCounter%60===0&&this.logger.log(`Robot ${e} looking at partner ${t.partnerId} (${t.lookTargetType}): (${c.x.toFixed(2)}, ${c.y.toFixed(2)}, ${c.z.toFixed(2)})`),c}_pickRandomLookTarget(){return this.lookTargetTypes[Math.floor(Math.random()*this.lookTargetTypes.length)]}_randomLookSwitchDelay(){const{min:e,max:t}=this.lookSwitchInterval;return(e+Math.random()*(t-e))*1e3}removeRobot(e){const t=this.interactionState.get(e);t?.interactionId!==null&&this.activeInteractions.delete(t.interactionId),this.interactionState.delete(e)}cancelAllInteractions(){for(const[e,t]of this.activeInteractions){const s=this.getState(t.robotA),i=this.getState(t.robotB);s&&i&&this._cancelInteraction(t,s,i,e)}this.activeInteractions.clear(),this.dataLinkVFX&&this.dataLinkVFX.removeAllLinks(),this.logger.log("All interactions canceled")}}const CY=n=>{const e=[];switch(n.type){case Ki.Triangles:{const t=n,s=new Qt;s.setAttribute("position",new rs(new Float32Array(t.positions),3)),s.setAttribute("color",new rs(new Float32Array(t.colors),3)),t.indices&&t.indices.length>0&&s.setIndex(new rs(new Uint32Array(t.indices),1));const i=new Nt({vertexColors:!0,transparent:t.transparent||!1,opacity:t.opacity||1,side:t.doubleSided?js:In}),r=new it(s,i);return e.push(()=>{s.dispose(),i.dispose()}),{object:r,dispose:()=>{for(const o of e)o()}}}case Ki.Lines:{const t=n,s=new Qt;s.setAttribute("position",new rs(new Float32Array(t.positions),3)),s.setAttribute("color",new rs(new Float32Array(t.colors),3));const i=new To({vertexColors:!0,transparent:t.transparent||!1,opacity:t.opacity||1,linewidth:t.lineWidth||1}),r=new eu(s,i);return e.push(()=>{s.dispose(),i.dispose()}),{object:r,dispose:()=>{for(const o of e)o()}}}case Ki.Points:{const t=n,s=new Tt,i=t.positions.length/3;if(i>0){const r=new Un(1,8,6),o=new Nt({vertexColors:!0,transparent:t.transparent||!1,opacity:t.opacity||1}),a=new Gl(r,o,i),l=new Je,c=t.size||1;for(let d=0;d<i;d++){const u=t.positions[d*3],h=t.positions[d*3+1],f=t.positions[d*3+2],A=c;l.makeScale(A,A,A),l.setPosition(u,h,f),a.setMatrixAt(d,l);const p=new st(t.colors[d*3],t.colors[d*3+1],t.colors[d*3+2]);a.setColorAt(d,p)}a.instanceMatrix.needsUpdate=!0,a.instanceColor&&(a.instanceColor.needsUpdate=!0),s.add(a),e.push(()=>{r.dispose(),o.dispose(),a.dispose()})}return{object:s,dispose:()=>{for(const r of e)r()}}}case Ki.Boxes:{const t=n,s=new Tt,i=new ei(1,1,1),r=t.positions.length/3;if(r>0){const o=new Nt({vertexColors:!0,transparent:t.transparent||!1,opacity:t.opacity||1}),a=new Gl(i,o,r),l=new Je;for(let c=0;c<r;c++){const d=t.positions[c*3],u=t.positions[c*3+1],h=t.positions[c*3+2],f=t.scales?t.scales[c*3]:1,A=t.scales?t.scales[c*3+1]:1,p=t.scales?t.scales[c*3+2]:1;l.makeScale(f,A,p),l.setPosition(d,u,h),a.setMatrixAt(c,l);const g=new st(t.colors[c*3],t.colors[c*3+1],t.colors[c*3+2]);a.setColorAt(c,g)}a.instanceMatrix.needsUpdate=!0,a.instanceColor&&(a.instanceColor.needsUpdate=!0),s.add(a),e.push(()=>{i.dispose(),o.dispose(),a.dispose()})}return{object:s,dispose:()=>{for(const o of e)o()}}}default:return console.warn("Unknown debug primitive type:",n.type),{object:new Tt,dispose:()=>{}}}};function FM(n){const e=new Tt,t=[];for(const s of n){const{object:i,dispose:r}=CY(s);e.add(i),t.push(r)}return{object:e,dispose:()=>{for(const s of t)s()}}}const bY=n=>{const e=RW(n);return FM(e)},wY=n=>{const e=QW(n);return FM(e)};R.create();R.create();R.create();R.create();R.create();R.create();R.create();R.create();R.create();R.create();R.create();R.create();R.create();R.create();R.create();R.create();var ow;(function(n){n[n.INVALID=0]="INVALID",n[n.WALKING=1]="WALKING",n[n.OFFMESH=2]="OFFMESH"})(ow||(ow={}));var aw;(function(n){n[n.NONE=0]="NONE",n[n.FAILED=1]="FAILED",n[n.VALID=2]="VALID",n[n.REQUESTING=3]="REQUESTING",n[n.WAITING_FOR_QUEUE=4]="WAITING_FOR_QUEUE",n[n.WAITING_FOR_PATH=5]="WAITING_FOR_PATH",n[n.VELOCITY=6]="VELOCITY"})(aw||(aw={}));var lw;(function(n){n[n.ANTICIPATE_TURNS=1]="ANTICIPATE_TURNS",n[n.OBSTACLE_AVOIDANCE=2]="OBSTACLE_AVOIDANCE",n[n.SEPARATION=4]="SEPARATION",n[n.OPTIMIZE_VIS=8]="OPTIMIZE_VIS",n[n.OPTIMIZE_TOPO=16]="OPTIMIZE_TOPO"})(lw||(lw={}));R.create();R.create();R.create();R.create();mt.create();mt.create();R.create();R.create();R.create();R.create();const BY=n=>{const e=[],t=[],s={};let i=0;for(const{positions:r,indices:o}of n)for(let a=0;a<o.length;a++){const l=o[a]*3,c=r[l],d=r[l+1],u=r[l+2],h=`${c}_${d}_${u}`;let f=s[h];f||(s[h]=f=i,e.push(c,d,u),i++),t.push(f)}return[e,t]},NY=new w,SY=n=>{const e=[];for(const t of n){const s=t.geometry.attributes.position;if(!s||s.itemSize!==3)continue;t.updateMatrixWorld();const i=new Float32Array(s.array);for(let o=0;o<i.length;o+=3){const a=NY.set(i[o],i[o+1],i[o+2]);t.localToWorld(a),i[o]=a.x,i[o+1]=a.y,i[o+2]=a.z}let r=t.geometry.getIndex()?.array;if(r===void 0){const o=[];for(let a=0;a<s.count;a++)o.push(a);r=o}e.push({positions:i,indices:r})}return BY(e)};class MY{constructor(e){this.robotSystem=e,this.logger=new wt("RobotNavMeshManager",!1),this.navMesh=null,this.navMeshInitialized=!1,this.lastNavMeshRebuildTime=0,this.navMeshHelper=null,this.offMeshHelper=null,this.config={cellSize:.1,cellHeight:.1,walkableRadiusWorld:.1,walkableClimbWorld:.2,walkableHeightWorld:.5,walkableSlopeAngleDegrees:45,borderSize:0,minRegionArea:0,mergeRegionArea:0,maxSimplificationError:1.3,maxEdgeLength:12,maxVerticesPerPoly:6,detailSampleDistanceVoxels:6,detailSampleMaxErrorVoxels:1}}rebuild(){const e=this.robotSystem,t=e.world.navSurfacesSystem;if(!t)return this.logger.warn("NavSurfacesSystem not available"),!1;const s=t.getAllSurfaces(),i=s.map(m=>m.mesh),r=e.world.blockPlacerSystem;if(r){const m=r.getBlockMeshes();i.push(...m)}if(i.length===0)return!1;i.forEach(m=>m.updateMatrixWorld(!0));const[o,a]=SY(i),l=this.config,c=l.cellSize,d=l.cellHeight,u=Math.ceil(l.walkableRadiusWorld/c),h=Math.ceil(l.walkableClimbWorld/d),f=Math.ceil(l.walkableHeightWorld/d),A=l.detailSampleDistanceVoxels<.9?0:c*l.detailSampleDistanceVoxels,p=d*l.detailSampleMaxErrorVoxels,g={cellSize:c,cellHeight:d,walkableRadiusWorld:l.walkableRadiusWorld,walkableRadiusVoxels:u,walkableHeightWorld:l.walkableHeightWorld,walkableHeightVoxels:f,walkableSlopeAngleDegrees:l.walkableSlopeAngleDegrees,walkableClimbWorld:l.walkableClimbWorld,walkableClimbVoxels:h,borderSize:l.borderSize,minRegionArea:l.minRegionArea,mergeRegionArea:l.mergeRegionArea,maxSimplificationError:l.maxSimplificationError,maxEdgeLength:l.maxEdgeLength,maxVerticesPerPoly:l.maxVerticesPerPoly,detailSampleDistance:A,detailSampleMaxError:p};try{const m=hY({positions:o,indices:a},g);this.navMesh=m.navMesh,e.showDebugVisuals&&this.createVisualizations()}catch(m){return this.logger.error("Navmesh generation error:",m),!1}this.createOffMeshConnections(),this.lastNavMeshRebuildTime=performance.now(),e.goalPosition&&e.evaluateGoalAccessibility();for(const[m,y]of e.robotAgentIds.entries()){const _=e.agents?.agents?.[y];if(_){const I=_.position,v=Ns(Ms(),this.navMesh,I,[1,1,1],vs);v.success&&(e.goalAccessible&&e.goalNodeRef?ys.requestMoveTarget(e.agents,y,e.goalNodeRef,e.goalPosition):ys.requestMoveTarget(e.agents,y,v.nodeRef,v.position))}}return this.logger.log("Navmesh rebuilt with",s.length,"surfaces"),!e.agents&&this.navMesh&&(e.agents=ys.create(e.maxRobots),this.logger.log("Crowd created with maxAgents:",e.maxRobots)),this.navMeshInitialized=!0,this.logger.log("NavMesh ready for robot spawning"),!0}createOffMeshConnections(){const e=this.robotSystem,t=e.world.navSurfacesSystem;if(!t)return;const s=t.getAllSurfaces();if(s.length<2)return;const i=t.getFloorSurface(),r=s.filter(o=>o!==i);if(i)for(const o of r){const a=Math.abs(o.center[1]-i.center[1]);if(a>1.5)continue;const l=o.center,c=i.center[1],d=i.center[0]-l[0],u=i.center[2]-l[2],h=Math.sqrt(d*d+u*u)||1,f=d/h,A=u/h,p=o.dimensions.width/2,g=o.dimensions.depth/2,m=Math.abs(f)*p+Math.abs(A)*g,y=.15,_=[l[0]+f*(m-y),l[1],l[2]+A*(m-y)],I=[_[0]+f*.3,c,_[2]+A*.3],v=Ns(Ms(),this.navMesh,I,[.5,1,.5],vs),E=Ns(Ms(),this.navMesh,_,[.5,.5,.5],vs);v.success&&E.success&&(O1(this.navMesh,{start:I,end:_,direction:$l.BIDIRECTIONAL,radius:.3,flags:16777215,area:0}),this.logger.log(`Floor-table connection: floor(${I[0].toFixed(2)}, ${I[2].toFixed(2)}) -> table(${_[0].toFixed(2)}, ${_[2].toFixed(2)}) height=${a.toFixed(2)}m`))}for(let o=0;o<r.length;o++)for(let a=o+1;a<r.length;a++){const l=r[o],c=r[a];if(this.calculateEdgeDistance(l,c)<=2){const{start:u,end:h}=this.calculateEdgeJumpPoints(l,c),f=Ns(Ms(),this.navMesh,u,[.5,.5,.5],vs),A=Ns(Ms(),this.navMesh,h,[.5,.5,.5],vs);f.success&&A.success&&(O1(this.navMesh,{start:[u[0],u[1],u[2]],end:[h[0],h[1],h[2]],direction:$l.BIDIRECTIONAL,radius:.3,flags:16777215,area:0}),this.logger.log(`Table-table connection: (${u[0].toFixed(2)}, ${u[2].toFixed(2)}) -> (${h[0].toFixed(2)}, ${h[2].toFixed(2)})`))}}e.showDebugVisuals&&this.createOffMeshVisualization()}calculateEdgeDistance(e,t){const s=e.center,i=t.center,r=i[0]-s[0],o=i[2]-s[2],a=Math.sqrt(r*r+o*o),l=e.dimensions.width/2,c=e.dimensions.depth/2,d=t.dimensions.width/2,u=t.dimensions.depth/2,h=Math.sqrt(r*r+o*o)||1,f=r/h,A=o/h,p=Math.abs(f)*l+Math.abs(A)*c,g=Math.abs(f)*d+Math.abs(A)*u;return Math.max(0,a-p-g)}calculateEdgeJumpPoints(e,t){const s=e.center,i=t.center,r=i[0]-s[0],o=i[2]-s[2],a=Math.sqrt(r*r+o*o)||1,l=r/a,c=o/a,d=e.dimensions.width/2,u=e.dimensions.depth/2,h=Math.abs(l)*d+Math.abs(c)*u,f=t.dimensions.width/2,A=t.dimensions.depth/2,p=Math.abs(l)*f+Math.abs(c)*A,g=.1,m=[s[0]+l*(h-g),s[1],s[2]+c*(h-g)],y=[i[0]-l*(p-g),i[1],i[2]-c*(p-g)];return{start:m,end:y}}createVisualizations(){const e=this.robotSystem;this.navMeshHelper&&e.world.scene.remove(this.navMeshHelper),this.navMesh&&(this.navMeshHelper=bY({navMesh:this.navMesh}),this.navMeshHelper.position.y+=.01,e.world.scene.add(this.navMeshHelper))}createOffMeshVisualization(){const e=this.robotSystem;this.offMeshHelper&&e.world.scene.remove(this.offMeshHelper),this.navMesh&&(this.offMeshHelper=wY({navMesh:this.navMesh}),this.offMeshHelper.position.y+=.02,e.world.scene.add(this.offMeshHelper))}removeVisualizations(){const e=this.robotSystem;this.navMeshHelper&&(e.world.scene.remove(this.navMeshHelper),this.navMeshHelper=null),this.offMeshHelper&&(e.world.scene.remove(this.offMeshHelper),this.offMeshHelper=null)}findNearestPoly(e,t=[1,1,1]){return this.navMesh?Ns(Ms(),this.navMesh,e,t,vs):null}getNavMesh(){return this.navMesh}isInitialized(){return this.navMeshInitialized}}class TY{constructor(e){this.robotSystem=e,this.logger=new wt("RobotJumpManager",!1),this.jumpState=new Map,this.config={minDuration:.75,maxDuration:1.4,durationPerMeter:.3,minAnticipation:.2,maxAnticipation:.4,landingTransitionDuration:.5},this.leanConfig={baseLeanForward:.25,baseLeanBack:.45,windUpLean:-.2,leanSmoothing:10},this.squashConfig={anticipationSquash:.6,launchStretch:1,apexStretch:.3,descentStretch:.5,landingSquash:-.4}}getJumpState(e){let t=this.jumpState.get(e);return t||(t={isActive:!1,startTime:0,duration:0,anticipationEnd:0,startPosition:null,endPosition:null,targetAngle:null,startAngle:null,currentFacing:null,currentLean:0,progress:0,phase:"none"},this.jumpState.set(e,t)),t}isJumping(e){return this.jumpState.get(e)?.isActive||!1}getJumpProgress(e){return this.jumpState.get(e)?.progress||0}getAnticipationEnd(e){return this.jumpState.get(e)?.anticipationEnd||0}getCurrentFacing(e){return this.jumpState.get(e)?.currentFacing}getCurrentLean(e){return this.jumpState.get(e)?.currentLean||0}startJump(e,t,s,i,r=1){const o=this.getJumpState(e),a=s[0]-t[0],l=s[2]-t[2],c=Math.sqrt(a*a+l*l),d=Math.abs(s[1]-t[1]),u=c+d,f=Math.min(this.config.maxDuration,this.config.minDuration+u*this.config.durationPerMeter)*r,A=Math.min(1,u/2),g=(this.config.minAnticipation+(this.config.maxAnticipation-this.config.minAnticipation)*A)/f,m=Math.atan2(a,l);o.isActive=!0,o.startTime=performance.now(),o.duration=f,o.anticipationEnd=g,o.startPosition=[...t],o.endPosition=[...s],o.targetAngle=m,o.startAngle=i,o.currentFacing=i,o.currentLean=0,o.progress=0,o.phase="anticipation";const y=this.robotSystem.audioManager?.getVoice(e);y&&y.effort(),this.robotSystem.setRobotFaceEmotion(e,"awe"),this.logger.log(`Robot ${e} started jump: dist=${u.toFixed(2)}m, duration=${f.toFixed(2)}s`)}completeJump(e,t){const s=this.jumpState.get(e);s&&(s.isActive=!1,s.phase="none",this.robotSystem.agents&&ys.completeOffMeshConnection(this.robotSystem.agents,t),this.robotSystem.setRobotFaceEmotion(e,"content"),this.logger.log(`Robot ${e} completed jump`))}updateJump(e,t,s,i){const r=this.getJumpState(e),o=t.offMeshAnimation;if(!r.isActive||!o)return null;o.t+=i;const a=Math.min(1,o.t/r.duration);if(r.progress=a,o.t>=r.duration)return s.landingFacing=r.currentFacing,s.landingTilt=r.currentLean,s.landingTransitionTimer=0,s.landingTransitionDuration=this.config.landingTransitionDuration,s.jumpProgress=1,s.jumpAnticipationEnd=0,{position:[...r.endPosition],facing:r.currentFacing,lean:r.currentLean,squash:this.squashConfig.landingSquash,isComplete:!0,phase:"landing"};s.jumpProgress=a,s.jumpAnticipationEnd=r.anticipationEnd;const l=this._calculatePosition(r,a),c=this._calculateFacing(r,a,i);r.currentFacing=c;const d=this._calculateLean(r,a,i);r.currentLean=d;const u=this._calculateSquash(r,a);return t.position[0]=l[0],t.position[1]=l[1],t.position[2]=l[2],{position:l,facing:c,lean:d,squash:u,isComplete:!1,phase:r.phase}}_calculatePosition(e,t){const s=e.anticipationEnd;let i=0;if(t>=s){const I=(t-s)/(1-s);I<.5?i=2*I*I:i=1-Math.pow(-2*I+2,2)/2}const r=e.startPosition[0]+(e.endPosition[0]-e.startPosition[0])*i,o=e.startPosition[2]+(e.endPosition[2]-e.startPosition[2])*i,a=e.startPosition[1],l=e.endPosition[1],c=Math.abs(l-a);e.endPosition[0]-e.startPosition[0],e.endPosition[2]-e.startPosition[2];const d=Math.max(.3,.3+c*.4),u=Math.max(a,l)+d,h=u-a,f=u-l,A=h+f,p=A>.01?h/A:.5;let g;if(i<p)g=i/p*.5;else{const _=(i-p)/(1-p);g=.5+Math.pow(_,.2)*.5}const m=-4*d*Math.pow(g-.5,2)+d,y=a+(l-a)*g+(g>0?m:0);return t<s?e.phase="anticipation":i<p?e.phase="ascent":i<p+.1?e.phase="apex":i<.95?e.phase="descent":e.phase="landing",[r,y,o]}_calculateFacing(e,t,s){if(e.targetAngle===null)return e.currentFacing;let i=e.targetAngle-e.currentFacing;for(;i>Math.PI;)i-=Math.PI*2;for(;i<-Math.PI;)i+=Math.PI*2;const r=t<e.anticipationEnd?12:6,o=1-Math.exp(-r*s);return e.currentFacing+i*o}_calculateLean(e,t,s){const i=e.anticipationEnd,r=this.leanConfig,o=e.endPosition[0]-e.startPosition[0],a=e.endPosition[2]-e.startPosition[2],l=Math.sqrt(o*o+a*a),c=e.startPosition[1],d=e.endPosition[1],u=Math.abs(d-c),h=Math.max(.3,.3+u*.4),f=Math.max(c,d)+h,A=f-c,p=f-d,g=Math.pow(l,1.3),m=Math.min(2.2,Math.max(.25,g*.8+A*.3)),y=Math.min(2.2,Math.max(.25,g*.9+p*.2)),_=r.baseLeanForward*m,I=r.baseLeanBack*y,v=r.windUpLean*m;let E=0;if(t<i){const N=t/i;if(N<.7){const C=Math.sin(N/.7*Math.PI*.5);E=v*C}else{const C=(N-.7)/.3;E=v*(1-C*1.3)}}else{const N=(t-i)/(1-i);if(N<.2){const C=Math.sin(N/.3*Math.PI*.5);E=_*C}else{const C=(N-.3)/.7;E=_-C*(_+I)}}const b=1-Math.exp(-r.leanSmoothing*s);return e.currentLean+(E-e.currentLean)*b}_calculateSquash(e,t){const s=e.anticipationEnd,i=this.squashConfig,r=e.endPosition[0]-e.startPosition[0],o=e.endPosition[2]-e.startPosition[2],a=Math.sqrt(r*r+o*o),l=e.startPosition[1],c=e.endPosition[1],d=Math.abs(c-l),u=Math.max(.3,.3+d*.4),f=Math.max(l,c)+u-l,A=Math.min(1.5,Math.max(.6,(f+a*.5)/.8));if(t<s)return-Math.sin(t/s*Math.PI)*i.anticipationSquash*A;const p=(t-s)/(1-s);if(p<.25)return Math.sin(p/.25*Math.PI)*i.launchStretch;if(p<.55)return i.apexStretch;if(p<.85){const g=(p-.55)/.3;return i.apexStretch+g*i.descentStretch}else return .8-(p-.85)/.15*1.5}updateLandingRecovery(e,t,s){if(e.landingTimer>=s.landingRecovery)return 0;e.landingTimer+=t;const i=e.landingTimer/s.landingRecovery;if(i<s.bouncePeak){const r=i/s.bouncePeak,o=r*r*(3-2*r);return-.4+(.4+s.bounceOvershoot)*o}else{const r=(i-s.bouncePeak)/(1-s.bouncePeak),o=1-Math.pow(1-r,2);return s.bounceOvershoot*(1-o)}}decayJumpLean(e,t){if(!e.jumpLean)return;const s=1-Math.exp(-10*t);e.jumpLean*=1-s,Math.abs(e.jumpLean)<.001&&(e.jumpLean=0)}clear(e){this.jumpState.delete(e)}clearAll(){this.jumpState.clear()}}class PY{constructor(e){this.robotSystem=e,this.logger=new wt("RobotCharacterManager",!1),this.characters=new Map,this.nameTags=new Map,this._fadingNameTags=new Map,this._nextCharacterIndex=0,this.nameTagOffset=new w(0,.6,0),this._tempVec3=new w,this._fadeInDuration=.4}assignCharacter(e){let t=this.characters.get(e);return t||(t=wy(this._nextCharacterIndex++),this.characters.set(e,t),this.logger.log(`Assigned character "${t.name}" to robot ${e}`),t)}getCharacter(e){return this.characters.get(e)||null}getByName(e){const t=e.toLowerCase();for(const[s,i]of this.characters.entries())if(i.name.toLowerCase()===t)return{character:i,entityIndex:s};return null}getAllCharacters(){return this.characters}createNameTag(e,t){this.disposeNameTag(e);const s=document.createElement("canvas");s.width=256,s.height=64;const i=s.getContext("2d"),r=t.appearance?.accentColor||65535,o=r>>16&255,a=r>>8&255,l=r&255;i.fillStyle=`rgba(${Math.floor(o*.2)}, ${Math.floor(a*.2)}, ${Math.floor(l*.2)}, 0.85)`,i.roundRect(4,4,s.width-8,s.height-8,8),i.fill(),i.strokeStyle=`rgb(${o}, ${a}, ${l})`,i.lineWidth=2,i.roundRect(4,4,s.width-8,s.height-8,8),i.stroke(),i.fillStyle="#ffffff",i.font="bold 32px 'Segoe UI', Arial, sans-serif",i.textAlign="center",i.textBaseline="middle",i.fillText(t.name.toUpperCase(),s.width/2,s.height/2);const c=new vn(s);c.colorSpace=cs,c.minFilter=Ot,c.magFilter=Ot;const d=new Us(.25,.065),u=new Nt({map:c,transparent:!0,opacity:0,side:js,depthWrite:!1}),h=new it(d,u);h.renderOrder=-100,h.frustumCulled=!1,h.visible=!1,h.userData.targetOpacity=.95;const f=this.robotSystem.world?.scene;return f&&f.add(h),this.nameTags.set(e,h),h}showNameTag(e){const t=this.nameTags.get(e);t&&(t.visible=!0,this._fadingNameTags.set(e,{progress:0}),this.logger.log(`Showing nametag for entity ${e}`))}showNameTagByName(e){for(const[t,s]of this.characters)if(s.name.toLowerCase()===e.toLowerCase())return this.showNameTag(t),!0;return!1}update(e){if(this._fadingNameTags.size!==0)for(const[t,s]of this._fadingNameTags){const i=this.nameTags.get(t);if(!i){this._fadingNameTags.delete(t);continue}if(s.progress+=e/this._fadeInDuration,s.progress>=1)i.material.opacity=i.userData.targetOpacity,this._fadingNameTags.delete(t);else{const r=1-Math.pow(1-s.progress,3);i.material.opacity=i.userData.targetOpacity*r}}}updateNameTag(e,t,s=0){const i=this.nameTags.get(e);if(!i)return;const r=Array.isArray(t)?t[0]:t.x,o=Array.isArray(t)?t[1]:t.y,a=Array.isArray(t)?t[2]:t.z,c=this.characters.get(e)?.appearance?.nameTagHeight??this.nameTagOffset.y;i.position.set(r+this.nameTagOffset.x,o+c+s,a+this.nameTagOffset.z);const d=this.robotSystem.world?.camera;d&&(d.getWorldPosition(this._tempVec3),i.lookAt(this._tempVec3.x,this._tempVec3.y,this._tempVec3.z))}getNameTag(e){return this.nameTags.get(e)||null}disposeNameTag(e){const t=this.nameTags.get(e);t&&(t.parent&&t.parent.remove(t),t.material?.map&&t.material.map.dispose(),t.material&&t.material.dispose(),t.geometry&&t.geometry.dispose(),this.nameTags.delete(e))}removeCharacter(e){this.characters.delete(e),this.disposeNameTag(e)}disposeAll(){for(const[e]of this.nameTags)this.disposeNameTag(e);this.characters.clear(),this._nextCharacterIndex=0}testVoice(e,t){const s=this.getByName(e);if(!s){this.logger.warn(`No robot found with character name: ${e}`),this.logger.log("Available characters:",[...this.characters.values()].map(r=>r.name));return}const i=this.robotSystem.audioManager?.getVoice(s.entityIndex);if(!i){this.logger.warn(`Robot ${e} has no voice initialized yet`);return}if(typeof i[t]!="function"){this.logger.warn(`Invalid mood: ${t}`),this.logger.log("Available moods: content, excited, happy, sad, angry, curious, inquisitive, acknowledge");return}this.logger.log(`Testing ${e}'s ${t} mood...`),i[t]()}}class cw{constructor(e,t={}){this.world=e,this.logger=new wt("RoomCaptureUI",!1),this.isVisible=!1,this.panelEntity=null,this.panelDocument=null,this.mountGroup=null,this.onConfirm=t.onConfirm||null,this.panelMaxWidth=.35,this.panelMaxHeight=.35,this._targetPosition=new w,this._targetQuaternion=new Ge,this._currentPosition=new w,this._currentQuaternion=new Ge,this._positionInitialized=!1,this._positionLerpFactor=.06,this._rotationLerpFactor=.05,this._centerOffset=new w(0,-.1,-.6),this._tempGroup=new Tt,this._pendingDocument=!1,this._documentAttempts=0,this._maxDocumentAttempts=300,this.inputMode="controllers",this.thumbTap=new Ug({size:.038,position:{x:.115,y:-.08,z:.01}}),this._thumbTapCreated=!1,this._boundOnStateChange=null}async initialize(){this._createMountGroup(),await this._createPanel(),this._boundOnStateChange=(t,s)=>{t.inputMode!==s.inputMode&&this.updateInputModeUI(t.inputMode)},Oe.on("state:changed",this._boundOnStateChange);const e=Oe.getState();this.updateInputModeUI(e.inputMode),this.logger.log("RoomCaptureUI initialized")}_createMountGroup(){this.mountGroup=new Tt,this.mountGroup.name="roomCapture-mount",this.world.scene.add(this.mountGroup),this.mountGroup.visible=!1,this.mountGroup.frustumCulled=!1}async _createPanel(){const e=this.world.createEntity(),t=new Tt;t.name="roomCapture-panel",e.object3D=t,this.mountGroup.add(t),e.addComponent(nn,{config:"./ui/roomCapture.json",maxWidth:this.panelMaxWidth,maxHeight:this.panelMaxHeight}),t.frustumCulled=!1,t.visible=!0,this.panelEntity=e,this.panelGroup=t,this._pendingDocument=!0,this._documentAttempts=0}_pollDocument(){if(!this._pendingDocument){this._pendingFailureUpdate&&this.panelDocument&&this._updateToFailureState();return}this._documentAttempts++;const e=Sn?.data?.document?.[this.panelEntity.index];e?(this.panelDocument=e,this._setupInteractions(e),this._pendingDocument=!1,this.logger.log(`Panel document ready after ${this._documentAttempts} frames`),this._pendingFailureUpdate&&this._updateToFailureState()):this._documentAttempts>=this._maxDocumentAttempts&&(this._pendingDocument=!1,this.logger.warn("Panel document timeout"))}_setupInteractions(e){const t=e.getElementById("confirm-btn");t&&t.addEventListener("click",()=>{this.logger.log("Confirm button clicked"),fs.confirm(),hs.pulseBoth(.7,60),this.onConfirm&&this.onConfirm()})}show(){this.isVisible||(this.isVisible=!0,this.isFailureState=!1,this.mountGroup.visible=!0,fs.notification(),hs.pulseBoth(.5,50),this.mountGroup.traverse(e=>{e.frustumCulled=!1,e.layers&&e.layers.enableAll()}),this.inputMode==="hands"&&(this._ensureThumbTapCreated(),this.thumbTap.show()),this.logger.log("RoomCaptureUI shown"))}showFailure(){this.isVisible=!0,this.isFailureState=!0,this.mountGroup.visible=!0,fs.error(),hs.pulseBoth(.8,100),this.mountGroup.traverse(e=>{e.frustumCulled=!1,e.layers&&e.layers.enableAll()}),this.thumbTap.hide(),this._updateToFailureState(),this.logger.log("RoomCaptureUI showing FAILURE state")}_updateToFailureState(){if(!this.panelDocument){this._pendingFailureUpdate=!0;return}const e=this.panelDocument.getElementById("title-text"),t=this.panelDocument.getElementById("message-text"),s=this.panelDocument.getElementById("message-highlight"),i=this.panelDocument.getElementById("confirm-btn");e&&e.setProperties&&e.setProperties({text:" ROOM SETUP FAILED"}),t&&t.setProperties&&t.setProperties({text:"Room capture failed. Meta Quest only allows one room capture attempt per browser session."}),s&&s.setProperties&&s.setProperties({text:"Refresh the browser to try again, or set up your Space in Quest Settings > Physical Space > Space Setup."}),i&&i.setProperties&&i.setProperties({display:"none"}),this._pendingFailureUpdate=!1,this.logger.log("Updated panel to failure state")}hide(){this.isVisible&&(this.isVisible=!1,this.mountGroup.visible=!1,this.thumbTap.hide(),this.logger.log("RoomCaptureUI hidden"))}handleButtonPress(e){return this.isFailureState||!this.isVisible?!1:e==="a"||e==="trigger"?(this.logger.log("A/trigger pressed - confirming"),fs.confirm(),hs.pulseBoth(.7,60),this.onConfirm&&this.onConfirm(),!0):!1}updateInputModeUI(e){if(this.inputMode=e,!this.panelDocument)return;const t=this.panelDocument.getElementById("button-hint"),s=this.panelDocument.getElementById("confirm-text");this._ensureThumbTapCreated(),e==="hands"?(t&&t.setProperties({display:"none"}),this.isVisible&&!this.isFailureState&&this.thumbTap.show(),s&&s.setProperties({text:"THUMBTAP TO START"})):(t&&t.setProperties({display:"flex"}),this.thumbTap.hide(),s&&s.setProperties({text:"PRESS TO START"}))}_ensureThumbTapCreated(){this._thumbTapCreated||this.panelGroup&&(this.thumbTap.create(this.panelGroup),this._thumbTapCreated=!0)}update(){(this._pendingDocument||this._pendingFailureUpdate)&&this._pollDocument(),!(!this.isVisible||!this.mountGroup)&&(!this._thumbTapCreated&&this.inputMode==="hands"&&this._ensureThumbTapCreated(),this.inputMode==="hands"&&!this.isFailureState&&this.thumbTap.ready&&this.thumbTap.mesh&&!this.thumbTap.mesh.visible&&this.thumbTap.show(),this.thumbTap.update(),this._calculateTarget(),this._applySmoothFollow())}_calculateTarget(){const e=this.world.camera;if(!e)return;const t=new w,s=new Ge;e.getWorldPosition(t),e.getWorldQuaternion(s);const i=this._centerOffset.clone();i.applyQuaternion(s),this._targetPosition.copy(t).add(i),this._tempGroup.position.copy(this._targetPosition),this._tempGroup.lookAt(t),this._targetQuaternion.copy(this._tempGroup.quaternion)}_applySmoothFollow(){this._positionInitialized?(this._currentPosition.lerp(this._targetPosition,this._positionLerpFactor),this._currentQuaternion.slerp(this._targetQuaternion,this._rotationLerpFactor)):(this._currentPosition.copy(this._targetPosition),this._currentQuaternion.copy(this._targetQuaternion),this._positionInitialized=!0),this.mountGroup.position.copy(this._currentPosition),this.mountGroup.quaternion.copy(this._currentQuaternion)}destroy(){this._boundOnStateChange&&(Oe.off("state:changed",this._boundOnStateChange),this._boundOnStateChange=null),this.panelGroup&&this.panelGroup.parent&&this.panelGroup.parent.remove(this.panelGroup),this.panelEntity&&this.world&&this.world.removeEntity(this.panelEntity),this.mountGroup&&this.world.scene.remove(this.mountGroup),this.thumbTap.dispose(),this.panelEntity=null,this.panelDocument=null,this.mountGroup=null}}class RY{constructor(e){this.robotSystem=e,this.logger=new wt("RobotRoomSetupManager",!0),this.minSurfacesForInit=1,this.lastInitAttemptLog=0,this.initLogInterval=3e3,this.roomCaptureAttempted=!1,this.roomCaptureWaitTime=2e3,this.xrActiveStartTime=null,this.roomCaptureUI=null,this.roomCaptureUIShown=!1,this._roomCaptureInProgress=!1,this._roomCaptureStartTime=null,this._sessionWaitLoggedOnce=!1}isRoomReady(){return this.robotSystem.navMeshInitialized}update(){this.roomCaptureUI&&this.roomCaptureUI.update(),this._verifyRoomCaptureResult();const e=Oe.getState();if(e.roomSetupRequired===!0&&!this.roomCaptureUIShown){this.attemptRoomCapture();return}this.robotSystem.navMeshInitialized||this.tryInitializeNavMesh(),this.roomCaptureUIShown&&this.robotSystem.navMeshInitialized&&e.roomSetupRequired!==!0&&(this._hideRoomCaptureUI(),this.roomCaptureUIShown=!1)}tryInitializeNavMesh(){if(this.robotSystem.navMeshInitialized)return;const e=this.robotSystem.world;if(Oe.getState().roomSetupRequired===!0){this.roomCaptureUIShown||(this.logger.log("roomSetupRequired=true (forced) - showing room capture UI"),this.attemptRoomCapture());return}if(!e.renderer?.xr?.getSession?.()){this._sessionWaitLoggedOnce||(this._sessionWaitLoggedOnce=!0,this.logger.log("tryInitializeNavMesh: No XR session yet, waiting..."));return}const i=performance.now(),r=i-this.lastInitAttemptLog>this.initLogInterval;this.xrActiveStartTime||(this.xrActiveStartTime=i,this.logger.log("XR session found - starting room data wait timer"));const o=e.navSurfacesSystem;if(!o){r&&(this.logger.log("NavSurfacesSystem not available yet"),this.lastInitAttemptLog=i);return}const a=i-this.xrActiveStartTime,l=o.getAllSurfaces(),c=500;if(l.length<this.minSurfacesForInit){r&&(this.logger.log(`Waiting for more surfaces. Have ${l.length}, need ${this.minSurfacesForInit}`),this.lastInitAttemptLog=i);const h=Oe.getDebugSpawnState?.()?.roomSetupRequired===!1;!this.roomCaptureAttempted&&a>this.roomCaptureWaitTime&&!h?this.attemptRoomCapture():h&&a>this.roomCaptureWaitTime&&!this._debugWaitLoggedOnce&&(this._debugWaitLoggedOnce=!0,this.logger.log("Debug mode: roomSetupRequired=false, waiting longer for emulator surfaces..."));return}if(!o.getFirstSurface()){r&&(this.logger.log("No surfaces available yet"),this.lastInitAttemptLog=i);return}a<c||(Oe.setState({roomSetupRequired:!1}),this.logger.log(`Initializing navmesh with ${l.length} surfaces`),this.robotSystem.initializeNavMesh())}attemptRoomCapture(){if(this.logger.log("attemptRoomCapture called, roomCaptureUIShown:",this.roomCaptureUIShown),this.roomCaptureUIShown)return;const e=this.robotSystem.world.renderer?.xr?.getSession?.();if(this.logger.log("attemptRoomCapture session check:",!!e),!e){this.logger.log("attemptRoomCapture: No XR session yet, waiting...");return}this.roomCaptureUIShown=!0,this.logger.log("attemptRoomCapture: session found, showing UI");const t=typeof e.initiateRoomCapture=="function";this.logger.log(`No room data found after ${this.roomCaptureWaitTime}ms - showing room capture UI (initiateRoomCapture available: ${t})`),this._showRoomCaptureUI()}async _showRoomCaptureUI(){if(!this.roomCaptureUI){this.roomCaptureUI=new cw(this.robotSystem.world,{onConfirm:()=>this._confirmRoomCapture()}),await this.roomCaptureUI.initialize();const e=this.robotSystem.world.aiManager?.uiStateManager;e&&e.registerRoomCaptureUI(this.roomCaptureUI)}Oe.setState({roomSetupRequired:!0}),this.roomCaptureUI.show()}_hideRoomCaptureUI(){this.roomCaptureUI&&this.roomCaptureUI.hide(),Oe.getState().roomSetupRequired!==!1&&(Oe.setState({roomSetupRequired:!1}),this.logger.log("Room setup complete - UIStateManager will show next UI"))}handleButtonPress(e){return this.roomCaptureUI&&this.roomCaptureUI.isVisible?this.roomCaptureUI.handleButtonPress(e):!1}_confirmRoomCapture(){if(this.roomCaptureAttempted)return;this.roomCaptureAttempted=!0,this.roomCaptureUI&&this.roomCaptureUI.hide();const e=this.robotSystem.world.renderer?.xr?.getSession?.();if(!e){this.logger.warn("Cannot initiate room capture - no XR session"),this._handleRoomCaptureFailed();return}if(typeof e.initiateRoomCapture!="function"){this.logger.warn("initiateRoomCapture not available on session - user may need to set up Space manually"),this._handleRoomCaptureFailed();return}this.logger.log("User confirmed - initiating room capture..."),this._roomCaptureInProgress=!0,e.initiateRoomCapture().then(()=>{this.logger.log("Room capture initiated - waiting for user to complete setup..."),this._roomCaptureStartTime=performance.now()}).catch(t=>{this.logger.warn("Failed to initiate room capture:",t.message),this._roomCaptureInProgress=!1,this._handleRoomCaptureFailed()})}_verifyRoomCaptureResult(){if(!this._roomCaptureInProgress||!this._roomCaptureStartTime)return;const e=performance.now()-this._roomCaptureStartTime;if(e<2e3)return;const s=this.robotSystem.world.navSurfacesSystem?.getAllSurfaces()||[];s.length>=this.minSurfacesForInit?(this.logger.log(`Room capture successful - ${s.length} surfaces detected`),this._roomCaptureInProgress=!1,Oe.setState({roomSetupRequired:!1,roomCaptureFailed:!1})):e>5e3&&(this.logger.warn("Room capture appears to have failed - no surfaces after timeout"),this._roomCaptureInProgress=!1,this._handleRoomCaptureFailed())}_handleRoomCaptureFailed(){this.logger.warn("Room capture failed - showing failure UI"),Oe.setState({roomSetupRequired:!1,roomCaptureFailed:!0}),this._showRoomCaptureFailedUI()}async _showRoomCaptureFailedUI(){this.roomCaptureUI||(this.roomCaptureUI=new cw(this.robotSystem.world,{}),await this.roomCaptureUI.initialize()),this.roomCaptureUI.showFailure()}dispose(){this.roomCaptureUI&&(this.roomCaptureUI.hide(),this.roomCaptureUI=null)}}const $e=Object.freeze({IDLE:"idle",WANDERING:"wandering",JUMPING:"jumping",SCANNING:"scanning",CHATTING:"chatting",REACTING:"reacting",APPROACHING:"approaching",MOVING_TO_GOAL:"moving_to_goal",STATIONARY:"stationary",ATTENDING_PLAYER:"attending_player",FOLLOWING_PLAYER:"following_player",FLYING_FOLLOW:"flying_follow",PANICKING:"panicking"}),dw=Object.freeze({[$e.IDLE]:0,[$e.WANDERING]:1,[$e.MOVING_TO_GOAL]:2,[$e.APPROACHING]:3,[$e.SCANNING]:4,[$e.CHATTING]:5,[$e.REACTING]:6,[$e.JUMPING]:7,[$e.STATIONARY]:8,[$e.ATTENDING_PLAYER]:9,[$e.FOLLOWING_PLAYER]:10,[$e.FLYING_FOLLOW]:10,[$e.PANICKING]:11});function uw(n,e){const t=dw[n]??0;return(dw[e]??0)>=t}const hw=Object.freeze({[$e.IDLE]:{movement:!1,selectsTargets:!1,managers:["movement","audio","face","arms","antenna","tie","thrust"],canTransitionTo:[$e.WANDERING,$e.SCANNING,$e.CHATTING,$e.MOVING_TO_GOAL,$e.STATIONARY,$e.ATTENDING_PLAYER,$e.PANICKING],interruptible:!0},[$e.WANDERING]:{movement:!0,selectsTargets:!0,managers:["movement","audio","face","arms","antenna","tie","thrust"],canTransitionTo:[$e.IDLE,$e.JUMPING,$e.SCANNING,$e.CHATTING,$e.APPROACHING,$e.MOVING_TO_GOAL,$e.STATIONARY,$e.ATTENDING_PLAYER,$e.PANICKING],interruptible:!0},[$e.JUMPING]:{movement:!1,selectsTargets:!1,managers:["jump","audio","face","arms","antenna","thrust"],canTransitionTo:[$e.WANDERING,$e.MOVING_TO_GOAL],autoCompletes:!0,interruptible:!1},[$e.SCANNING]:{movement:!1,selectsTargets:!1,managers:["scan","audio","face","arms","antenna","thrust"],canTransitionTo:[$e.WANDERING,$e.CHATTING],autoCompletes:!0,interruptible:!1},[$e.CHATTING]:{movement:!1,selectsTargets:!1,managers:["interaction","audio","face","arms","antenna","tie","thrust"],canTransitionTo:[$e.REACTING,$e.WANDERING,$e.STATIONARY],interruptible:!1},[$e.REACTING]:{movement:!1,selectsTargets:!1,managers:["interaction","audio","face","arms","antenna","tie","thrust"],canTransitionTo:[$e.CHATTING,$e.WANDERING],autoCompletes:!0,interruptible:!1},[$e.APPROACHING]:{movement:!0,selectsTargets:!1,managers:["movement","interaction","audio","face","arms","antenna","tie","thrust"],canTransitionTo:[$e.CHATTING,$e.WANDERING],interruptible:!0},[$e.MOVING_TO_GOAL]:{movement:!0,selectsTargets:!1,managers:["movement","audio","face","arms","antenna","tie","thrust"],canTransitionTo:[$e.JUMPING,$e.SCANNING,$e.STATIONARY,$e.WANDERING,$e.ATTENDING_PLAYER,$e.PANICKING],interruptible:!0},[$e.STATIONARY]:{movement:!1,selectsTargets:!1,managers:["audio","face","arms","antenna","tie","thrust"],canTransitionTo:[$e.WANDERING,$e.MOVING_TO_GOAL,$e.CHATTING],interruptible:!0},[$e.ATTENDING_PLAYER]:{movement:!0,selectsTargets:!1,managers:["movement","playerInteraction","audio","face","arms","antenna","tie","thrust"],canTransitionTo:[$e.FOLLOWING_PLAYER,$e.WANDERING,$e.STATIONARY],interruptible:!1},[$e.FOLLOWING_PLAYER]:{movement:!0,selectsTargets:!1,managers:["movement","playerInteraction","audio","face","arms","antenna","tie","thrust"],canTransitionTo:[$e.FLYING_FOLLOW,$e.ATTENDING_PLAYER,$e.WANDERING],interruptible:!0},[$e.FLYING_FOLLOW]:{movement:!1,selectsTargets:!1,managers:["playerInteraction","audio","face","arms","antenna","tie","thrust"],canTransitionTo:[$e.FOLLOWING_PLAYER,$e.WANDERING],interruptible:!0},[$e.PANICKING]:{movement:!1,selectsTargets:!1,managers:["movement","playerInteraction","audio","face","arms","antenna","tie","thrust"],canTransitionTo:[$e.WANDERING,$e.JUMPING],interruptible:!1}});function Jd(n){return hw[n]||hw[$e.IDLE]}function QY(n){return Jd(n).managers||[]}function DY(n,e){return Jd(n).canTransitionTo?.includes(e)??!1}function fw(n){return Jd(n).interruptible!==!1}function Aw(n){return Jd(n).autoCompletes===!0}class LY{constructor(e){this.robotSystem=e,this.logger=new wt("RobotStateMachine",!1),this.states=new Map}_getStateEntry(e){let t=this.states.get(e);return t||(t={currentState:$e.IDLE,previousState:null,entryTime:performance.now(),metadata:null},this.states.set(e,t)),t}getState(e){return this._getStateEntry(e).currentState}getPreviousState(e){return this._getStateEntry(e).previousState}getMetadata(e){return this._getStateEntry(e).metadata}getStateTime(e){const t=this._getStateEntry(e);return performance.now()-t.entryTime}canTransition(e,t){const i=this._getStateEntry(e).currentState;return i===t||!fw(i)&&!uw(i,t)?!1:DY(i,t)}setState(e,t,s=null){const i=this._getStateEntry(e),r=i.currentState;return r===t?(s!==null&&(i.metadata=s),!0):!fw(r)&&!uw(r,t)?(this.logger.log(`Robot ${e}: Cannot transition from ${r} to ${t} (not interruptible)`),!1):(Aw(t)&&(i.previousState=r),i.currentState=t,i.entryTime=performance.now(),i.metadata=s,this.logger.log(`Robot ${e}: ${r} -> ${t}`),!0)}forceState(e,t,s=null){const i=this._getStateEntry(e);i.previousState=i.currentState,i.currentState=t,i.entryTime=performance.now(),i.metadata=s}onStateComplete(e){const t=this._getStateEntry(e),s=t.currentState;if(!Aw(s))return;const i=t.previousState||$e.WANDERING;this.logger.log(`Robot ${e}: ${s} complete, returning to ${i}`),t.previousState=null,t.currentState=i,t.entryTime=performance.now(),t.metadata=null}getActiveManagers(e){const t=this.getState(e);return QY(t)}isManagerActive(e,t){return this.getActiveManagers(e).includes(t)}isMovementAllowed(e){const t=this.getState(e),s=Jd(t);return t===$e.PANICKING&&(e===4||e===5)?!0:s.movement===!0}shouldSelectTargets(e){const t=this.getState(e),s=Jd(t);return t===$e.PANICKING&&(e===4||e===5)?!0:s.selectsTargets===!0}clear(e){this.states.delete(e)}clearAll(){this.states.clear()}getRobotsInState(e){const t=[];for(const[s,i]of this.states)i.currentState===e&&t.push(s);return t}getStateSummary(){const e={};for(const[t,s]of this.states)e[t]={state:s.currentState,time:Math.floor(performance.now()-s.entryTime),previous:s.previousState};return e}}class kY{constructor(e){this.rs=e,this.logger=new wt("RobotNavigationManager",!0),this.goalPosition=null,this.goalNodeRef=null,this.goalAccessible=!1,this.robotsAtGoal=null,this.goalReachedCallback=null,this.goalReachThreshold=.8,this.goalReachThresholdSq=.64}setGoal(e){this.goalPosition=e,this.goalNodeRef=null,this.goalAccessible=!1,this.robotsAtGoal=new Set,this.goalReachedCallback=null,this.logger.log(`Goal set at (${e[0].toFixed(2)}, ${e[1].toFixed(2)}, ${e[2].toFixed(2)})`),this.rs.navMesh&&this.evaluateGoalAccessibility()}setGoalFromPosition(e){if(!e)return;const t=Array.isArray(e)?e:[e.x,e.y,e.z];this.setGoal(t)}clearGoal(){this.goalPosition=null,this.goalNodeRef=null,this.goalAccessible=!1,this.robotsAtGoal=null,this.logger.log("Goal cleared - robots returning to wander");for(const[e,t]of this.rs.robotAgentIds.entries()){const s=this.rs.robotEntities.get(e);s&&this.selectRandomWanderTarget(s,t)}}onGoalReached(e){this.goalReachedCallback=e}evaluateGoalAccessibility(){if(!this.rs.navMesh||!this.goalPosition){this.goalAccessible=!1;return}const e=Ns(Ms(),this.rs.navMesh,this.goalPosition,[1,1,1],vs);if(!e.success){this.goalAccessible=!1;return}this.goalNodeRef=e.nodeRef;let t=!1;for(const[s,i]of this.rs.robotAgentIds.entries()){const r=this.rs.agents.agents[i];if(!r)continue;const o=Oy(this.rs.navMesh,r.position,this.goalPosition,[2,2,2],vs);if(o.success&&o.path.length>0){t=!0;break}}this.goalAccessible=t,this.goalAccessible&&this._sendAllRobotsToGoal()}_sendAllRobotsToGoal(){for(const[e,t]of this.rs.robotAgentIds.entries()){const s=this.rs.agents.agents[t];if(!s)continue;const i=Oy(this.rs.navMesh,s.position,this.goalPosition,[2,2,2],vs);i.success&&i.path.length>0&&ys.requestMoveTarget(this.rs.agents,t,this.goalNodeRef,this.goalPosition)}}checkRobotAtGoal(e,t){if(!this.goalPosition||!this.robotsAtGoal)return!1;const s=t[0]-this.goalPosition[0],i=t[2]-this.goalPosition[2],r=s*s+i*i;return r<this.goalReachThresholdSq&&!this.robotsAtGoal.has(e)?(this.robotsAtGoal.add(e),this.logger.log(`Robot ${e} reached goal (${this.robotsAtGoal.size}/${this.rs.robotAgentIds.size}) dist=${Math.sqrt(r).toFixed(2)}m`),this.robotsAtGoal.size>=this.rs.robotAgentIds.size&&(this.logger.log("All robots reached goal!"),this.goalReachedCallback&&this.goalReachedCallback()),!0):!1}setInitialWanderTarget(e,t){if(!this.rs.navMesh){this.logger.warn("setInitialWanderTarget: No navmesh");return}if(t==null){this.logger.warn("setInitialWanderTarget: No robot agent ID");return}if(!this.rs.agents.agents[t]){const o=Object.keys(this.rs.agents.agents);this.logger.warn(`setInitialWanderTarget: Agent not found for ID "${t}". Available IDs: [${o.join(", ")}]`);return}const i=W1(this.rs.navMesh,vs,Math.random);if(!i.success){this.logger.warn("setInitialWanderTarget: findRandomPoint failed");return}const r=Ns(Ms(),this.rs.navMesh,i.position,[1,1,1],vs);if(!r.success){this.logger.warn("setInitialWanderTarget: Could not find nearest poly to random point");return}this.logger.log(`Setting initial wander target to (${i.position[0].toFixed(2)}, ${i.position[1].toFixed(2)}, ${i.position[2].toFixed(2)})`),ys.requestMoveTarget(this.rs.agents,t,r.nodeRef,i.position)}selectRandomWanderTarget(e,t){if(!this.rs.navMesh||t===null||t===void 0){this.logger.log(`selectRandomWanderTarget SKIPPED - navMesh: ${!!this.rs.navMesh}, agentId: ${t}`);return}if(!this.rs.agents.agents[t]){this.logger.log(`selectRandomWanderTarget SKIPPED - no agent for agentId: ${t}`);return}const i=W1(this.rs.navMesh,vs,Math.random);if(i.success){const r=Ns(Ms(),this.rs.navMesh,i.position,[1,1,1],vs);if(r.success){const o=i.position;this.logger.log(`Robot ${t} -> wander target: (${o[0].toFixed(2)}, ${o[1].toFixed(2)}, ${o[2].toFixed(2)})`),ys.requestMoveTarget(this.rs.agents,t,r.nodeRef,i.position)}else this.logger.log(`selectRandomWanderTarget FAILED nearestPoly for agent ${t}`)}else this.logger.log(`selectRandomWanderTarget FAILED findRandomPoint for agent ${t}`)}selectRandomTableTarget(e,t){if(!this.rs.navMesh||t===null||t===void 0||!this.rs.agents.agents[t])return;const i=this.rs.world.navSurfacesSystem;if(!i)return;const r=i.getAllSurfaces();if(r.length===0)return;const a=r[Math.floor(Math.random()*r.length)].center,l=Ns(Ms(),this.rs.navMesh,a,[.5,.5,.5],vs);l.success&&ys.requestMoveTarget(this.rs.agents,t,l.nodeRef,l.position)}setRobotNavigationTarget(e,t,s,i){if(!this.rs.navMesh)return;const r=this.rs.robotAgentIds.get(e);if(r==null||!this.rs.agents.agents[r])return;const a=Ns(Ms(),this.rs.navMesh,[t,s,i],[1,1,1],vs);a.success&&ys.requestMoveTarget(this.rs.agents,r,a.nodeRef,a.position)}stopRobotMovement(e){if(e===4||e===5)return;const t=this.rs.robotAgentIds.get(e);if(t==null)return;const s=this.rs.agents.agents[t];if(s&&(s.velocity=[0,0,0],s.desiredVelocity=[0,0,0],this.rs.navMesh)){const i=Ns(Ms(),this.rs.navMesh,s.position,[.5,.5,.5],vs);i.success&&ys.requestMoveTarget(this.rs.agents,t,i.nodeRef,s.position)}}returnToSpawn(e){const t=this.rs.getSpawnPosition(e);if(!t||!this.rs.navMesh||!this.rs.agents)return!1;const s=this.rs.robotAgentIds.get(e);if(s==null)return!1;const i=Ns(Ms(),this.rs.navMesh,t,[1,1,1],vs);return i.success?(ys.requestMoveTarget(this.rs.agents,s,i.nodeRef,i.position),!0):!1}returnAllToSpawn(){for(const[e]of this.rs.robotAgentIds.entries())this.returnToSpawn(e)}checkAllAtSpawn(){for(const[e,t]of this.rs.robotAgentIds.entries()){const s=this.rs.agents?.agents?.[t],i=this.rs.getSpawnPosition(e);if(!s||!i)continue;if(Math.sqrt(Math.pow(s.position[0]-i[0],2)+Math.pow(s.position[2]-i[2],2))>.3)return!1}return!0}tryGoalOrWander(e,t){this.goalAccessible&&this.goalNodeRef?ys.requestMoveTarget(this.rs.agents,t,this.goalNodeRef,this.goalPosition):this.rs.useWandering?this.selectRandomWanderTarget(e,t):this.selectRandomTableTarget(e,t)}}const wx=[0,2,4,7,9,12],FY=220;function oa(n,e=0){const t=wx[n%wx.length]+Math.floor(n/wx.length)*12+e*12;return FY*Math.pow(2,t/12)}class UY{constructor(){this.isActive=!1,this.masterGain=null,this.buildupOsc=null,this.buildupGain=null,this.buildupFilter=null,this.sparkleNoise=null,this.sparkleFilter=null,this.sparkleGain=null,this.harmonicOscs=[],this.harmonicGains=[],this.lastProgress=0,this._cleanupTimeoutId=null}_createNoiseBuffer(e=2){const t=De.sampleRate,s=t*e,i=De.createBuffer(1,s,t),r=i.getChannelData(0);for(let o=0;o<s;o++)r[o]=Math.random()*2-1;return i}start(){if(this.isActive||Ea())return;this._cleanupTimeoutId&&(clearTimeout(this._cleanupTimeoutId),this._cleanupTimeoutId=null,this._cleanup()),this.isActive=!0,this.lastProgress=0;const e=De.currentTime,t=_n();this.masterGain=De.createGain(),this.masterGain.gain.setValueAtTime(0,e),this.masterGain.connect(De.destination),this.buildupOsc=De.createOscillator(),this.buildupOsc.type="sine",this.buildupOsc.frequency.setValueAtTime(oa(0,0),e),this.buildupFilter=De.createBiquadFilter(),this.buildupFilter.type="lowpass",this.buildupFilter.frequency.setValueAtTime(400,e),this.buildupFilter.Q.setValueAtTime(2,e),this.buildupGain=De.createGain(),this.buildupGain.gain.setValueAtTime(0,e),this.buildupOsc.connect(this.buildupFilter),this.buildupFilter.connect(this.buildupGain),this.buildupGain.connect(this.masterGain),this.buildupOsc.start(e),[1.5,2,3].forEach((i,r)=>{const o=De.createOscillator();o.type="sine",o.frequency.setValueAtTime(oa(0,0)*i,e);const a=De.createGain();a.gain.setValueAtTime(0,e),o.connect(a),a.connect(this.masterGain),o.start(e),this.harmonicOscs.push(o),this.harmonicGains.push(a)});const s=this._createNoiseBuffer(2);this.sparkleNoise=De.createBufferSource(),this.sparkleNoise.buffer=s,this.sparkleNoise.loop=!0,this.sparkleFilter=De.createBiquadFilter(),this.sparkleFilter.type="bandpass",this.sparkleFilter.frequency.setValueAtTime(3e3,e),this.sparkleFilter.Q.setValueAtTime(5,e),this.sparkleGain=De.createGain(),this.sparkleGain.gain.setValueAtTime(0,e),this.sparkleNoise.connect(this.sparkleFilter),this.sparkleFilter.connect(this.sparkleGain),this.sparkleGain.connect(this.masterGain),this.sparkleNoise.start(e),this.masterGain.gain.linearRampToValueAtTime(.7*t,e+.1)}update(e){if(!this.isActive||Ea()||!Number.isFinite(e))return;const t=De.currentTime,s=_n();e=Math.max(0,Math.min(1,e));const r=oa(0,0)*(1+e*1.5);if(Number.isFinite(r)){if(this.buildupOsc&&this.buildupOsc.frequency.setTargetAtTime(r,t,.05),this.buildupGain&&this.buildupGain.gain.setTargetAtTime(.08*e*s,t,.05),this.buildupFilter&&this.buildupFilter.frequency.setTargetAtTime(400+e*2e3,t,.05),this.harmonicGains.forEach((o,a)=>{const l=.3+a*.2,c=Math.max(0,(e-l)/(1-l));if(o.gain.setTargetAtTime(.04*c*s,t,.05),this.harmonicOscs[a]){const d=[1.5,2,3][a];this.harmonicOscs[a].frequency.setTargetAtTime(r*d,t,.05)}}),this.sparkleGain){const o=Math.pow(e,2);this.sparkleGain.gain.setTargetAtTime(.025*o*s,t,.05)}this.sparkleFilter&&this.sparkleFilter.frequency.setTargetAtTime(3e3+e*5e3,t,.05),this.lastProgress=e}}playConnection(){if(Ea())return;const e=De.currentTime,t=.15*_n(),s=[0,2,4,5,7];s.forEach((l,c)=>{const d=oa(l,1),u=De.createOscillator();u.type="sine";const h=De.createGain(),f=c*.05,A=.15+(s.length-c)*.03;u.frequency.setValueAtTime(d,e+f),u.frequency.linearRampToValueAtTime(d*1.02,e+f+A),h.gain.setValueAtTime(0,e+f),h.gain.linearRampToValueAtTime(t*(1-c*.1),e+f+.01),h.gain.setValueAtTime(t*(1-c*.1),e+f+A*.6),h.gain.exponentialRampToValueAtTime(.001,e+f+A),u.connect(h),h.connect(De.destination),u.start(e+f),u.stop(e+f+A+.05)});const i=De.createOscillator();i.type="triangle",i.frequency.setValueAtTime(oa(7,2),e),i.frequency.exponentialRampToValueAtTime(oa(4,3),e+.3);const r=De.createGain();r.gain.setValueAtTime(0,e),r.gain.linearRampToValueAtTime(t*.6,e+.02),r.gain.exponentialRampToValueAtTime(.001,e+.35),i.connect(r),r.connect(De.destination),i.start(e),i.stop(e+.4);const o=De.createOscillator();o.type="sine",o.frequency.setValueAtTime(oa(0,-1),e),o.frequency.exponentialRampToValueAtTime(oa(0,-2),e+.15);const a=De.createGain();a.gain.setValueAtTime(t*1.2,e),a.gain.exponentialRampToValueAtTime(.001,e+.2),o.connect(a),a.connect(De.destination),o.start(e),o.stop(e+.25)}stop(){if(!this.isActive)return;this.isActive=!1;const e=De.currentTime;this.masterGain&&this.masterGain.gain.setTargetAtTime(0,e,.05),this._cleanupTimeoutId&&clearTimeout(this._cleanupTimeoutId),this._cleanupTimeoutId=setTimeout(()=>{this._cleanupTimeoutId=null,this._cleanup()},200)}_cleanup(){try{this.buildupOsc&&(this.buildupOsc.stop(),this.buildupOsc=null),this.buildupGain=null,this.buildupFilter=null,this.harmonicOscs.forEach(e=>{try{e.stop()}catch{}}),this.harmonicOscs=[],this.harmonicGains=[],this.sparkleNoise&&(this.sparkleNoise.stop(),this.sparkleNoise=null),this.sparkleFilter=null,this.sparkleGain=null,this.masterGain=null}catch{}}dispose(){this.stop()}}function OY(){const e=document.createElement("canvas");e.width=32,e.height=32;const t=e.getContext("2d"),s=t.createRadialGradient(32/2,32/2,0,32/2,32/2,32/2);return s.addColorStop(0,"rgba(255,255,255,1)"),s.addColorStop(.3,"rgba(255,255,255,0.8)"),s.addColorStop(.7,"rgba(255,255,255,0.3)"),s.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=s,t.fillRect(0,0,32,32),new vn(e)}let Bx=null;function GY(){return Bx||(Bx=OY()),Bx}class pw{constructor(e,t,s){this.progress=e?0:1,this.fromAntenna=e,this.speed=t,this.color=s,this.active=!0}update(e){this.fromAntenna?(this.progress+=e*this.speed,this.progress>=1&&(this.active=!1)):(this.progress-=e*this.speed,this.progress<=0&&(this.active=!1))}}class HY{constructor(e={}){this.group=new Tt,this.isActive=!1,this.time=0,this.config={maxDistance:e.maxDistance||.78,midDistance:e.midDistance||.325,contactDistance:e.contactDistance||.27,numStrands:e.numStrands||7,primaryColor:new st(e.primaryColor||65484),secondaryColor:new st(e.secondaryColor||65382),pulseSpeed:e.pulseSpeed||8,curveArcHeight:e.curveArcHeight||.06,maxParticles:e.maxParticles||10,particleSpawnRate:e.particleSpawnRate||8,rotationSpeed:e.rotationSpeed||1.2},this.progress=0,this.antennaPosition=new w,this.handPosition=new w,this.onContact=e.onContact||null,this.contactTriggered=!1,this.curve=null,this.strands=[],this.particles=[],this.lineMeshes=[],this.pointsMesh=null,this.antennaEmitter=null,this.handEmitter=null,this._spawnTimer=0,this.audio=new UY,this._audioStarted=!1,this._createEmitters(),this._createStrands(),this._createParticleSystem(),this.group.visible=!1,this._midPoint=new w,this._direction=new w,this._perpendicular=new w,this._tempVec=new w}_createEmitters(){const e=new Un(.012,12,12),t=new Nt({color:this.config.primaryColor,transparent:!0,opacity:.9,blending:Ts,depthWrite:!1});this.antennaEmitter=new it(e.clone(),t),this.antennaEmitter.frustumCulled=!1,this.group.add(this.antennaEmitter);const s=new Nt({color:this.config.secondaryColor,transparent:!0,opacity:.9,blending:Ts,depthWrite:!1});this.handEmitter=new it(e.clone(),s),this.handEmitter.frustumCulled=!1,this.group.add(this.handEmitter)}_createStrands(){for(let e=0;e<this.config.numStrands;e++){const s=e===0?.8:.5,i=new Qt,r=new Float32Array(96);i.setAttribute("position",new yt(r,3));const o=new Nt({color:this.config.primaryColor,transparent:!0,opacity:s,blending:Ts,depthWrite:!1}),a=new br(i,o);a.frustumCulled=!1,a.visible=!1,this.group.add(a);const l=new Qt,c=new Float32Array(96);l.setAttribute("position",new yt(c,3));const d=new Nt({color:this.config.secondaryColor,transparent:!0,opacity:s,blending:Ts,depthWrite:!1}),u=new br(l,d);u.frustumCulled=!1,u.visible=!1,this.group.add(u);const h=e/this.config.numStrands*Math.PI*2,f=.3+Math.abs(Math.sin(h*2))*.7;this.strands.push({antennaLine:a,antennaGeometry:i,antennaMaterial:o,handLine:u,handGeometry:l,handMaterial:d,baseOpacity:s,radialAngle:h,arcMultiplier:f,phaseOffset:e*.8}),this.lineMeshes.push(a,u)}}_createParticleSystem(){const e=this.config.maxParticles*this.config.numStrands,t=new Float32Array(e*3),s=new Float32Array(e*3),i=new Float32Array(e),r=new Qt;r.setAttribute("position",new yt(t,3)),r.setAttribute("color",new yt(s,3)),r.setAttribute("size",new yt(i,1));const o=new pi({size:.015,map:GY(),transparent:!0,opacity:.9,blending:Ts,depthWrite:!1,vertexColors:!0,sizeAttenuation:!0});this.pointsMesh=new bi(r,o),this.pointsMesh.frustumCulled=!1,this.group.add(this.pointsMesh)}_buildCurve(e=0){const t=this.strands[e],s=t?.radialAngle||0,i=t?.arcMultiplier||1,r=t?.phaseOffset||0;this._direction.copy(this.handPosition).sub(this.antennaPosition).normalize();const o=new w(0,1,0);Math.abs(this._direction.y)>.9&&o.set(1,0,0);const a=new w().crossVectors(o,this._direction).normalize(),l=new w().crossVectors(this._direction,a).normalize(),c=s+this.time*this.config.rotationSpeed;this._perpendicular.copy(a).multiplyScalar(Math.cos(c)).addScaledVector(l,Math.sin(c));const d=Math.sin(this.time*4+r)*.005,u=(this.config.curveArcHeight+d)*i,h=this.antennaPosition.clone(),f=this.handPosition.clone(),A=new w().lerpVectors(h,f,.35);A.addScaledVector(this._perpendicular,u*1.1);const p=new w().lerpVectors(h,f,.65);return p.addScaledVector(this._perpendicular,u*1.1),new zl([h,A,p,f],!1,"catmullrom",.5)}start(){this.isActive=!0,this.time=0,this.contactTriggered=!1,this.particles=[],this._spawnTimer=0,this._audioStarted=!1,this.group.visible=!0}stop(){this.isActive=!1,this.group.visible=!1,this.progress=0,this.contactTriggered=!1,this.particles=[],this._audioStarted=!1,this.audio.stop();for(const e of this.strands)e.antennaLine.visible=!1,e.handLine.visible=!1}updatePositions(e,t,s){if(!this.isActive||!e||!t||!Number.isFinite(e.x)||!Number.isFinite(t.x))return!1;this.time+=s,this.antennaPosition.copy(e),this.handPosition.copy(t);const i=this.antennaPosition.distanceTo(this.handPosition);if(i>this.config.maxDistance)return this.group.visible=!1,this.progress=0,this._audioStarted&&(this.audio.stop(),this._audioStarted=!1),!1;this.group.visible=!0,this._audioStarted||(this.audio.start(),this._audioStarted=!0);const r=this.config.maxDistance-this.config.contactDistance;return r<=0?this.progress=i<=this.config.contactDistance?1:0:this.progress=Math.max(0,Math.min(1,(this.config.maxDistance-i)/r)),this._updateEmitters(),this._updateCurvedLines(),this._updateParticles(s),this.audio.update(this.progress),i<=this.config.contactDistance&&!this.contactTriggered?(this.contactTriggered=!0,this.audio.playConnection(),this.audio.stop(),this._audioStarted=!1,this.onContact&&this.onContact(),this.stop(),!0):!1}_updateEmitters(){this.antennaEmitter.position.copy(this.antennaPosition),this.handEmitter.position.copy(this.handPosition);const e=1+Math.sin(this.time*this.config.pulseSpeed)*.3,t=.8+this.progress*.5;this.antennaEmitter.scale.setScalar(t*e),this.handEmitter.scale.setScalar(t*e),this.antennaEmitter.material.opacity=.5+this.progress*.5,this.handEmitter.material.opacity=.5+this.progress*.5}_updateCurvedLines(){const e=Math.min(1,this.progress*1.5),t=Math.max(0,(this.progress-.2)/.8);for(let s=0;s<this.strands.length;s++){const i=this.strands[s],r=this._buildCurve(s),o=24,a=.5+this.progress*.5;if(e>.01){i.antennaLine.visible=!0;const l=i.antennaGeometry.attributes.position.array;let c=0;for(let d=0;d<o;d++){const u=d/(o-1)*e,h=r.getPointAt(Math.min(1,u));l[c++]=h.x,l[c++]=h.y,l[c++]=h.z}i.antennaGeometry.attributes.position.needsUpdate=!0,i.antennaGeometry.setDrawRange(0,o),i.antennaMaterial.opacity=i.baseOpacity*a}else i.antennaLine.visible=!1;if(t>.01){i.handLine.visible=!0;const l=i.handGeometry.attributes.position.array;let c=0;for(let d=0;d<o;d++){const u=1-d/(o-1)*t,h=r.getPointAt(Math.max(0,u));l[c++]=h.x,l[c++]=h.y,l[c++]=h.z}i.handGeometry.attributes.position.needsUpdate=!0,i.handGeometry.setDrawRange(0,o),i.handMaterial.opacity=i.baseOpacity*a}else i.handLine.visible=!1;s===0&&(this.curve=r)}}_updateParticles(e){if(!this.curve)return;this._spawnTimer+=e;const t=1/this.config.particleSpawnRate;for(;this._spawnTimer>=t&&this.particles.length<this.config.maxParticles*2;){if(this._spawnTimer-=t,this.progress>.2){const a=.6+Math.random()*.4;this.particles.push(new pw(!0,a,this.config.primaryColor))}if(this.progress>.4){const a=.6+Math.random()*.4;this.particles.push(new pw(!1,a,this.config.secondaryColor))}}for(const a of this.particles)a.update(e);this.particles=this.particles.filter(a=>a.active);const s=this.pointsMesh.geometry.attributes.position.array,i=this.pointsMesh.geometry.attributes.color.array,r=this.pointsMesh.geometry.attributes.size.array;let o=0;for(const a of this.particles){const l=this.curve.getPointAt(Math.max(0,Math.min(1,a.progress)));s[o*3]=l.x,s[o*3+1]=l.y,s[o*3+2]=l.z,i[o*3]=a.color.r,i[o*3+1]=a.color.g,i[o*3+2]=a.color.b;const c=1+Math.sin(this.time*10+a.progress*5)*.3;r[o]=.012*c,o++}for(let a=o;a<s.length/3;a++)s[a*3]=0,s[a*3+1]=0,s[a*3+2]=0,r[a]=0;this.pointsMesh.geometry.attributes.position.needsUpdate=!0,this.pointsMesh.geometry.attributes.color.needsUpdate=!0,this.pointsMesh.geometry.attributes.size.needsUpdate=!0,this.pointsMesh.geometry.setDrawRange(0,this.particles.length)}resetContact(){this.contactTriggered=!1}getProgress(){return this.progress}isVisible(){return this.group.visible}dispose(){this.antennaEmitter&&(this.antennaEmitter.geometry.dispose(),this.antennaEmitter.material.dispose()),this.handEmitter&&(this.handEmitter.geometry.dispose(),this.handEmitter.material.dispose());for(const e of this.strands)e.antennaGeometry.dispose(),e.antennaMaterial.dispose(),e.handGeometry.dispose(),e.handMaterial.dispose();this.pointsMesh&&(this.pointsMesh.geometry.dispose(),this.pointsMesh.material.dispose()),this.audio.dispose(),this.group.clear()}}class zY{constructor(e){this.robotSystem=e,this.logger=new wt("RobotPlayerInteraction",!0),this._lastDistanceLogTime=0,this.robotState=new Map,this.breadcrumbs=[],this.maxBreadcrumbs=20,this.breadcrumbInterval=.5,this._lastBreadcrumbTime=0,this.patConfig={detectionRadius:.08,minDownwardVelocity:-.05,cooldown:1},this.minigameActive=!1,this.minigameCalmCount=0,this.minigameCalmGoal=5,this.minigamePanicCount=0,this.onMinigameComplete=null,this.onScoreUpdate=null,this.onPanicStart=null,this.panicCooldownUntil=0,this._tempVec3=new w,this._tempVec3B=new w,this._prevHandPositions={left:new w,right:new w},this._antennaTips=new Map,this._dataLinkVFX={left:null,right:null},this._dataLinkTargets={left:null,right:null}}_getAntennaTip(e,t){if(this._antennaTips.has(e))return this._antennaTips.get(e);const s=t?.object3D;if(!s)return null;let i=null;return s.traverse(r=>{r.name&&r.name.includes("AntennaTip")&&(i=r)}),i&&(this._antennaTips.set(e,i),this.logger.log(`Found antenna tip for robot ${e}: ${i.name}`)),i}getState(e){let t=this.robotState.get(e);return t||(t={isSummoned:!1,isFollowing:!1,isFlying:!1,isPanicking:!1,needsReassurance:!1,lastWorriedFaceTime:0,lastPatTime:0,currentBreadcrumbIndex:0,summonedBy:null,patSquashAmount:0,patSquashVelocity:0,questionPlayed:!1,flightTargetY:0,panicRotation:0,panicRotationSpeed:0,panicCooldownUntil:0,panicRotationTransition:null},this.robotState.set(e,t)),t}summonRobot(e){const t=this.getState(e);if(!this.robotSystem.robotEntities.get(e))return this.logger.warn(`Cannot summon robot ${e} - not found`),!1;if(this.minigameActive||t.isPanicking)return this.logger.log(`Cannot summon robot ${e} - panic minigame active`),!1;this._cancelCurrentBehavior(e),t.isSummoned=!0,t.summonedBy="name",t.questionPlayed=!1;const i=this.robotSystem.stateMachine;i&&i.forceState(e,$e.ATTENDING_PLAYER);const r=this.robotSystem.characterManager?.getCharacter(e);return r?.nameReactionAnimation&&this.robotSystem.interactionManager?.triggerSoloAnimation(e,r.nameReactionAnimation),this._navigateToPlayer(e),this.logger.log(`Robot ${e} summoned by name`),!0}setNeedsReassurance(e){const t=this.getState(e);t.needsReassurance=!0,t.lastWorriedFaceTime=0,this.robotSystem.setRobotFaceEmotion(e,Rt.SAD),this.logger.log(`Robot ${e} now needs reassurance`)}clearReassurance(e){const t=this.getState(e);t.needsReassurance=!1,t.isSummoned=!1;const s=this.robotSystem.stateMachine;s&&s.forceState(e,$e.WANDERING),this.logger.log(`Robot ${e} reassurance cleared, resuming normal behavior`)}startPanicMinigame(){this.minigameActive||(this.minigameActive=!0,this.minigameCalmCount=0,this.minigamePanicCount=0,this.panicCooldownUntil=0,Oe.setState({minigameActive:!0}),this.robotSystem.interactionManager?.cancelAllInteractions(),this.panicOutbreakInterval=[3e3,8e3],this.nextPanicTime=performance.now()+this._randomPanicDelay(),this._initDataLinkVFX(),this.logger.log("Panic minigame started - robots will randomly start panicking"),this.onScoreUpdate&&this.onScoreUpdate(this.minigameCalmCount,this.minigameCalmGoal))}_initDataLinkVFX(){const e=this.robotSystem.world?.scene;if(!e){this.logger.log("[DataLink] No scene available, cannot init VFX");return}this.logger.log("[DataLink] Initializing DataLinkVFX for both hands...");for(const t of["left","right"])this._dataLinkVFX[t]&&(this._dataLinkVFX[t].dispose(),e.remove(this._dataLinkVFX[t].group)),this._dataLinkVFX[t]=new HY({maxDistance:.78,midDistance:.325,contactDistance:.27,onContact:()=>this._handleDataLinkContact(t)}),this._dataLinkVFX[t].start(),e.add(this._dataLinkVFX[t].group),this.logger.log(`[DataLink] Created VFX for ${t} hand, added to scene`)}_handleDataLinkContact(e){const t=this._dataLinkTargets[e];this.logger.log(`[DataLink] CONTACT on ${e} hand! targetEntity=${t}`),t!==null&&(this._handlePat(t,!0),this._dataLinkVFX[e]?.resetContact())}_randomPanicDelay(){const[e,t]=this.panicOutbreakInterval;return e+Math.random()*(t-e)}triggerPanicOnRobot(e){const t=this.getState(e);if(t.isPanicking){this.logger.log(`[Panic] Robot ${e} already panicking, skipping`);return}const s=performance.now();if(s<t.panicCooldownUntil){const l=((t.panicCooldownUntil-s)/1e3).toFixed(1);this.logger.log(`[Panic] Robot ${e} on cooldown, ${l}s remaining`);return}this.minigamePanicCount++;const i=this.minigamePanicCount;t.isPanicking=!0,t.panicNumber=i,t.lastPatTime=0,t.lastPanicSoundTime=0,t.panicRotation=0,t.panicRotationSpeed=1.5+Math.random()*1;const r=this.robotSystem.stateMachine;if(r&&r.forceState(e,$e.PANICKING),!(i>=4))this.robotSystem.navigationManager?.stopRobotMovement(e);else{const l=this.robotSystem.robotEntities?.get(e),c=this.robotSystem.robotAgentIds?.get(e);this.logger.log(`[Panic] Panic #${i}: Robot ${e} (agentId=${c}) will MOVE while panicking`),l&&c!==null&&c!==void 0&&this.robotSystem.navigationManager?.selectRandomWanderTarget(l,c)}this.robotSystem.setRobotFaceEmotion(e,Rt.FEAR),this.robotSystem.setRobotFaceColor(e,"#ff3333"),this.robotSystem.setRobotTieColor(e,"#ff3333"),this.robotSystem.scanManager?.startPanicVFX(e);const a=this.robotSystem.audioManager?.getVoice(e);if(a){const l=["angry","sad"],c=l[Math.floor(Math.random()*l.length)];a[c]?.()}this.logger.log(`[Panic] Robot ${e} ENTERED panic state!`),this.onPanicStart&&this.onPanicStart()}isAnyRobotPanicking(){for(const[e]of this.robotSystem.robotEntities)if(this.getState(e).isPanicking)return!0;return!1}updatePanicMinigame(e=.016){if(!this.minigameActive)return;this._updateDataLinkVFX(e);const t=performance.now();if(this._lastPanicStateLogTime||(this._lastPanicStateLogTime=0),t-this._lastPanicStateLogTime>3e3){this._lastPanicStateLogTime=t;const r=[];for(const[o]of this.robotSystem.robotEntities){const a=this.getState(o),l=Math.max(0,(a.panicCooldownUntil-t)/1e3).toFixed(1),c=a.isPanicking?"P":a.panicCooldownUntil>t?`C${l}`:"N";r.push(`${o}:${c}`)}this.logger.log(`[PanicStatus] ${r.join(", ")} (P=panicking, C=cooldown, N=normal)`)}if(t<this.nextPanicTime)return;if(t<this.panicCooldownUntil){const r=((this.panicCooldownUntil-t)/1e3).toFixed(1);this.logger.log(`[Panic] Global cooldown active, ${r}s remaining before next panic`);return}let s=!1;const i=[];for(const[r]of this.robotSystem.robotEntities){const o=this.getState(r);if(o.isPanicking){s=!0;break}o.happyReactionUntil&&t<o.happyReactionUntil||i.push(r)}if(!s){if(i.length>0){const r=Math.floor(Math.random()*i.length),o=i[r];this.triggerPanicOnRobot(o)}this.nextPanicTime=t+this._randomPanicDelay()}}_updateDataLinkVFX(e){const t=this.robotSystem.world?.xrInputSystem;if(!t)return;const s=performance.now(),i=s-this._lastDistanceLogTime>1e3,r={},o={};let a="none";const l=t.xrInput,c=t.fingertipColliders;if(c&&c.size>0)for(const p of["left","right"]){const g=c.get(`${p}_index`);if(g?.joint){const m=new w;if(g.joint.getWorldPosition(m),Number.isNaN(m.x))continue;r[p]=m;const y=c.get(`${p}_wrist`);if(y?.joint){const _=new Ge;y.joint.getWorldQuaternion(_),o[p]=_}a="fingertip"}}if(l?.gamepads){for(const p of["left","right"])if(!r[p]){const g=l.gamepads[p],m=g?.grip||g?.object3D;if(m){const y=new w;if(m.getWorldPosition(y),Number.isNaN(y.x))continue;r[p]=y;const _=new Ge;m.getWorldQuaternion(_),o[p]=_,a="controller-grip"}}}if(l?.xrOrigin?.raySpaces){const p=l.xrOrigin.raySpaces;for(const g of["left","right"])if(!r[g]&&p[g]){const m=new w;if(p[g].getWorldPosition(m),Number.isNaN(m.x))continue;r[g]=m;const y=new Ge;p[g].getWorldQuaternion(y),o[g]=y,a="controller-ray"}}const d=this.robotSystem.world?.navSurfacesSystem;d&&r.left&&d.updateDebugOcclusionPosition(r.left,o.left);const u=[];for(const[p,g]of this.robotSystem.robotEntities)if(this.getState(p).isPanicking){const y=this._getAntennaTip(p,g);if(y){const _=new w;y.getWorldPosition(_),u.push({entityIndex:p,antennaPos:_})}}if(i){this._lastDistanceLogTime=s;const p=!!r.left,g=!!r.right,m=!!this._dataLinkVFX.left,y=!!this._dataLinkVFX.right,_=l?.gamepads?`L=${!!l.gamepads.left?.grip} R=${!!l.gamepads.right?.grip}`:"none",I=l?.xrOrigin?.raySpaces?`L=${!!l.xrOrigin.raySpaces.left} R=${!!l.xrOrigin.raySpaces.right}`:"none",v=c?.size||0;if(this.logger.log(`[DataLink] inputType=${a}, hands: L=${p} R=${g}, VFX: L=${m} R=${y}, panickingRobots=${u.length}`),this.logger.log(`[DataLink] xrInput: gamepads(grip)=${_}, raySpaces=${I}, fingertips=${v}`),r.right&&this.logger.log(`[DataLink] Right hand pos: (${r.right.x.toFixed(2)}, ${r.right.y.toFixed(2)}, ${r.right.z.toFixed(2)})`),r.right&&u.length>0){let E=1/0,b=-1,N=null;for(const{entityIndex:C,antennaPos:B}of u){const S=r.right.distanceTo(B);S<E&&(E=S,b=C,N=B)}N&&(this.logger.log(`[DataLink] Nearest antenna (robot ${b}) pos: (${N.x.toFixed(2)}, ${N.y.toFixed(2)}, ${N.z.toFixed(2)})`),this.logger.log(`[DataLink] Distance to nearest: ${E.toFixed(3)}m (VFX maxDist=${this._dataLinkVFX.right?.config?.maxDistance||.6}m)`))}}const h=Oe.getState().handedness||"right",f=h==="right"?"left":"right",A=this._dataLinkVFX[f];A?.isActive&&(A.stop(),this._dataLinkTargets[f]=null);for(const p of[h]){const g=this._dataLinkVFX[p];if(!g)continue;const m=r[p];if(!m){g.stop(),this._dataLinkTargets[p]=null;continue}let y=null,_=1/0;for(const{entityIndex:I,antennaPos:v}of u){const E=m.distanceTo(v);E<_&&(_=E,y={entityIndex:I,antennaPos:v})}if(y&&_<g.config.maxDistance){g.isActive||(g.start(),this.logger.log(`[DataLink] VFX ${p} started - robot ${y.entityIndex} at ${_.toFixed(3)}m`)),this._dataLinkTargets[p]=y.entityIndex,g.updatePositions(y.antennaPos,m,e);const I=g.getProgress();if(I>0){const v=Math.round(255),E=Math.round(51+204*I),b=Math.round(51+204*I),N=`rgb(${v},${E},${b})`;this.robotSystem.setRobotFaceColor(y.entityIndex,N),this.robotSystem.setRobotTieColor(y.entityIndex,N)}}else{if(g.isActive){this.logger.log(`[DataLink] VFX ${p} stopped - nearest was ${_.toFixed(3)}m`);const I=this._dataLinkTargets[p];I!==null&&this.getState(I)?.isPanicking&&(this.robotSystem.setRobotFaceColor(I,"#ff3333"),this.robotSystem.setRobotTieColor(I,"#ff3333"))}g.stop(),this._dataLinkTargets[p]=null}}}getPanicRotation(e){const t=this.robotState.get(e);return t?.isPanicking?t.panicRotation:0}getPanicRotationTransition(e,t){const s=this.robotState.get(e);if(!s?.panicRotationTransition)return 0;const i=s.panicRotationTransition,o=(performance.now()-i.startTime)/1e3;if(o>=i.duration)return s.panicRotationTransition=null,0;const a=A=>{for(;A>Math.PI;)A-=2*Math.PI;for(;A<-Math.PI;)A+=2*Math.PI;return A},l=a(i.startAngle),c=a(t);let d=c-l;d>Math.PI&&(d-=2*Math.PI),d<-Math.PI&&(d+=2*Math.PI);const u=o/i.duration,h=1-Math.pow(1-u,3),f=l+d*h;return a(f-c)}updatePanicRotation(e,t){const s=this.robotState.get(e);s?.isPanicking&&(s.panicRotation+=s.panicRotationSpeed*t)}endPanicMinigame(){if(this.minigameActive){this.minigameActive=!1,Oe.setState({minigameActive:!1});for(const[e]of this.robotSystem.robotEntities){const t=this.getState(e);t.isPanicking=!1;const s=this.robotSystem.stateMachine;s&&s.forceState(e,$e.WANDERING),this.robotSystem.scanManager?.stopPanicVFX(e),this.robotSystem.setRobotFaceEmotion(e,Rt.NEUTRAL)}this._disposeDataLinkVFX(),this.logger.log("Panic minigame ended!"),this.onMinigameComplete&&this.onMinigameComplete()}}_disposeDataLinkVFX(){const e=this.robotSystem.world?.scene;for(const t of["left","right"]){const s=this._dataLinkVFX[t];s&&(s.dispose(),e&&e.remove(s.group),this._dataLinkVFX[t]=null),this._dataLinkTargets[t]=null}}_handlePat(e,t=!1){const s=this.getState(e),i=performance.now()/1e3;if(!(i-s.lastPatTime<this.patConfig.cooldown))if(s.lastPatTime=i,this.logger.log(`[Pat] Robot ${e} patted! isPanicking=${s.isPanicking}, fromDataLink=${t}`),s.isPanicking){s.panicRotation,s.isPanicking=!1,s.panicRotation=0,s.panicCooldownUntil=performance.now()+1e4;const r=this.robotSystem.robotEntities.get(e);if(r){const d=r.getVectorView(this.robotSystem.Transform,"orientation");if(d){const u=new Ge(d[0],d[1],d[2],d[3]),h=new gs;h.setFromQuaternion(u,"YXZ");const f=h.y;s.panicRotationTransition={startAngle:f,startTime:performance.now(),duration:.5}}}const o=4e3+Math.random()*6e3;this.panicCooldownUntil=performance.now()+o,this.minigameCalmCount++,this.minigameCalmCount===1?Oe.setState({firstCalmCompleted:!0}):this.minigameCalmCount===2?Oe.setState({secondCalmCompleted:!0}):this.minigameCalmCount===3&&Oe.setState({thirdCalmCompleted:!0}),this.robotSystem.scanManager?.stopPanicVFX(e),this.robotSystem.setRobotFaceColor(e,"#ffffff"),this.robotSystem.setRobotTieColor(e,"#ffffff"),this.robotSystem.setRobotFaceEmotion(e,Rt.EXCITED);const a=this.robotSystem.audioManager?.getVoice(e);a&&a.happy?.(),t&&this._triggerHappyReaction(e),fs.scoreUp();const l=this.robotSystem.robotAgentIds.get(e);if(r){const d=r.getVectorView(this.robotSystem.Transform,"position"),u=new w(d[0],d[1]+.15,d[2]);this.robotSystem.world?.vfxManager?.createCalmBurst(u)}const c=this.robotSystem.stateMachine;t||(c&&c.forceState(e,$e.WANDERING),r&&l!==void 0&&this.robotSystem.navigationManager?.selectRandomWanderTarget(r,l)),this.logger.log(`Robot calmed! (${this.minigameCalmCount}/${this.minigameCalmGoal}) - cooldown 10s`),this.onScoreUpdate&&this.onScoreUpdate(this.minigameCalmCount,this.minigameCalmGoal),this.minigameCalmCount>=this.minigameCalmGoal&&this.endPanicMinigame()}else if(s.isSummoned&&!s.questionPlayed)s.questionPlayed=!0,this._triggerQuestionDialog(e);else{this.robotSystem.setRobotFaceEmotion(e,Rt.EXCITED);const r=this.robotSystem.audioManager?.getVoice(e);r&&r.happy?.()}}_triggerHappyReaction(e){const t=this.robotSystem.robotEntities.get(e);if(!t)return;const s=this.getState(e);s.happyReactionUntil=performance.now()+3e3,s.lookAtPlayerUntil=performance.now()+3e3,this.robotSystem.navigationManager?.stopRobotMovement(e);const i=this.robotSystem.stateMachine;i&&i.forceState(e,$e.STATIONARY);const o=this.robotSystem.world?.player;if(o?.head){o.head.getWorldPosition(this._tempVec3);const a=t.object3D?.position;if(a){const c=this._tempVec3.x-a.x,d=this._tempVec3.z-a.z,u=Math.atan2(c,d);t.object3D&&(t.object3D.rotation.y=u)}const l=this.robotSystem.getFaceManager(e);l&&l.lookAtPosition(this._tempVec3)}this.robotSystem.interactionManager?.triggerSoloAnimation(e,"happy"),setTimeout(()=>{const a=this.robotSystem.audioManager?.getVoice(e);a&&a.happy?.()},300),setTimeout(()=>{const a=this.robotSystem.robotAgentIds.get(e),l=this.getState(e);l.happyReactionUntil=0,t&&a!==void 0&&(i&&i.forceState(e,$e.WANDERING),this.robotSystem.navigationManager?.selectRandomWanderTarget(t,a),this.logger.log(`[DataLink] Robot ${e} resuming navigation after happy reaction`))},3e3),this.logger.log(`[DataLink] Robot ${e} happy reaction triggered`)}_triggerQuestionDialog(e){const t=this.robotSystem.characterManager?.getCharacter(e);if(!t){this.logger.warn(`No character for robot ${e}`);return}setTimeout(()=>{const l=this.robotSystem.audioManager?.getVoice(e);l&&l.inquisitive?.()},1e3);const i=this.robotSystem.world?.aiManager,r=i?.dialogManager,o=i?.wristUI;if(!r){this.logger.warn("DialogManager not available");return}o&&o.setState?.("active_call");const a=`robotQuestion_${t.id}`;setTimeout(()=>{if(r.playDialog(a),r.onDialogComplete){const l=r.onDialogComplete;r.onDialogComplete=c=>{l?.(c),c?.id===a&&(this._startFollowing(e),r.onDialogComplete=l)}}else r.onDialogComplete=l=>{l?.id===a&&(this._startFollowing(e),r.onDialogComplete=null)}},2e3)}_startFollowing(e){const t=this.getState(e);t.isFollowing=!0,t.currentBreadcrumbIndex=0;const s=this.robotSystem.stateMachine;s&&s.forceState(e,$e.FOLLOWING_PLAYER),this.logger.log(`Robot ${e} now following player`)}_navigateToPlayer(e){const s=this.robotSystem.world?.player;if(!s?.head)return;s.head.getWorldPosition(this._tempVec3);const i=this.robotSystem.navMesh;if(!i)return;const r=[this._tempVec3.x,this._tempVec3.y-1.5,this._tempVec3.z],o=Ns(Ms(),i,r,[2,2,2],vs);if(!o.success){this.logger.warn("Could not find navmesh point near player");return}const a=this.robotSystem.robotAgentIds.get(e);a!=null&&ys.requestMoveTarget(this.robotSystem.agents,a,o.nodeRef,o.position)}_cancelCurrentBehavior(e){const t=this.getState(e);t.isSummoned=!1,t.isFollowing=!1,t.isFlying=!1,this.robotSystem.navigationManager?.stopRobotMovement(e)}_updateBreadcrumbs(e){const t=performance.now()/1e3;if(t-this._lastBreadcrumbTime<this.breadcrumbInterval)return;this._lastBreadcrumbTime=t;const i=this.robotSystem.world?.player;if(i?.head)for(i.head.getWorldPosition(this._tempVec3),this.breadcrumbs.push({position:this._tempVec3.clone(),time:t,onNavmesh:this._isPositionOnNavmesh(this._tempVec3)});this.breadcrumbs.length>this.maxBreadcrumbs;)this.breadcrumbs.shift()}_isPositionOnNavmesh(e){const t=this.robotSystem.navMesh;if(!t)return!1;const s=[e.x,e.y,e.z],i=Ns(Ms(),t,s,[.5,2,.5],vs);if(!i.success)return!1;const r=i.position[0]-e.x,o=i.position[1]-e.y,a=i.position[2]-e.z;return Math.sqrt(r*r+o*o+a*a)<.5}_updateFollowing(e,t,s){const i=this.getState(e);if(!i.isFollowing||this.breadcrumbs.length===0)return;const r=t.object3D?.position;if(!r)return;const o=this.breadcrumbs[0];if(!o)return;const a=r.x-o.position.x,l=r.z-o.position.z;if(Math.sqrt(a*a+l*l)<.5){this.breadcrumbs.shift(),this.breadcrumbs.length>0&&this._navigateToBreadcrumb(e,this.breadcrumbs[0]);return}!o.onNavmesh&&!i.isFlying?this._startFlightMode(e,o.position):o.onNavmesh&&i.isFlying&&this._endFlightMode(e)}_navigateToBreadcrumb(e,t){const s=this.robotSystem.navMesh;if(!s)return;const i=[t.position.x,t.position.y-1.5,t.position.z],r=Ns(Ms(),s,i,[2,3,2],vs);if(!r.success)return;const o=this.robotSystem.robotAgentIds.get(e);o!=null&&ys.requestMoveTarget(this.robotSystem.agents,o,r.nodeRef,r.position)}_startFlightMode(e,t){const s=this.getState(e);s.isFlying=!0,s.flightTargetY=t.y-1;const i=this.robotSystem.stateMachine;i&&i.forceState(e,$e.FLYING_FOLLOW),this.robotSystem.navigationManager?.stopRobotMovement(e),this.logger.log(`Robot ${e} entering flight mode`)}_endFlightMode(e){const t=this.getState(e);t.isFlying=!1;const s=this.robotSystem.stateMachine;s&&s.forceState(e,$e.FOLLOWING_PLAYER),this.logger.log(`Robot ${e} returning to navmesh following`)}_updateFlight(e,t,s){const i=this.getState(e);if(!i.isFlying||this.breadcrumbs.length===0)return;const r=t.object3D?.position;if(!r)return;const o=this.breadcrumbs[0];if(!o)return;const a=2*s;r.x+=(o.position.x-r.x)*a,r.y+=(i.flightTargetY-r.y)*a,r.z+=(o.position.z-r.z)*a;const l=Math.sin(performance.now()/300)*.02;r.y+=l;const c=r.x-o.position.x,d=r.z-o.position.z;Math.sqrt(c*c+d*d)<.5&&this.breadcrumbs.shift()}_checkPatDetection(e,t,s){const i=this.getState(e);if(performance.now()/1e3-i.lastPatTime<this.patConfig.cooldown)return;const o=this._getAntennaTip(e,t);if(!o)return;o.getWorldPosition(this._tempVec3B);const a=this.robotSystem.world?.xrInputSystem;if(!a)return;const l=[],c=a.fingertipColliders;if(c&&c.size>0)for(const d of["left","right"]){const u=c.get(`${d}_index`);u?.joint&&l.push({side:d,source:u.joint,type:"fingertip"})}if(l.length===0){const d=a.xrInput;if(d?.gamepads)for(const u of["left","right"]){const h=d.gamepads[u],f=h?.grip||h?.object3D;f&&l.push({side:u,source:f,type:"controller-grip"})}if(l.length===0&&d?.xrOrigin?.raySpaces){const u=d.xrOrigin.raySpaces;for(const h of["left","right"])u[h]&&l.push({side:h,source:u[h],type:"controller-ray"})}}if(l.length!==0){for(const{side:d,source:u,type:h}of l){u.getWorldPosition(this._tempVec3);const f=this._tempVec3.x-this._tempVec3B.x,A=this._tempVec3.y-this._tempVec3B.y,p=this._tempVec3.z-this._tempVec3B.z,g=Math.sqrt(f*f+A*A+p*p),m=h.startsWith("controller"),y=m?this.patConfig.detectionRadius*1.5:this.patConfig.detectionRadius;if(g<y){const _=this._prevHandPositions[d],I=(this._tempVec3.y-_.y)/s,v=Math.max(0,y-g);i.patSquashAmount=-v*3;const E=m?this.patConfig.minDownwardVelocity*.5:this.patConfig.minDownwardVelocity;I<E&&this._handlePat(e)}this._prevHandPositions[d].copy(this._tempVec3)}if(Math.abs(i.patSquashAmount)>.001){const d=-i.patSquashAmount*20;i.patSquashVelocity+=d*s,i.patSquashVelocity*=.85,i.patSquashAmount+=i.patSquashVelocity*s}}}_updateAttending(e,t,s){const i=this.getState(e);if(!i.isSummoned)return;const o=this.robotSystem.world?.player;if(!o?.head)return;const a=t.object3D?.position;if(!a)return;o.head.getWorldPosition(this._tempVec3);const l=this._tempVec3.x-a.x,c=this._tempVec3.z-a.z;if(Math.sqrt(l*l+c*c)<1){if(this.robotSystem.navigationManager?.stopRobotMovement(e),i.needsReassurance){const u=performance.now()/1e3,h=2.5+Math.random()*1.5;if(u-i.lastWorriedFaceTime>h){i.lastWorriedFaceTime=u;const f=[Rt.SAD,Rt.FEAR,Rt.ANGRY],A=f[Math.floor(Math.random()*f.length)];if(this.robotSystem.setRobotFaceEmotion(e,A),Math.random()<.3){const p=this.robotSystem.audioManager?.getVoice(e);if(p){const g=["sad","angry"],m=g[Math.floor(Math.random()*g.length)];p[m]?.()}}}}}else this._navigateToPlayer(e)}getPatSquash(e){return this.robotState.get(e)?.patSquashAmount||0}update(e,t,s,i){const r=this.getState(e),o=this.robotSystem.stateMachine?.getState(e);switch(r.isFollowing&&this._updateBreadcrumbs(i),r.lookAtPlayerUntil&&performance.now()<r.lookAtPlayerUntil&&this._updateLookAtPlayer(e,t),o){case $e.ATTENDING_PLAYER:this._updateAttending(e,t,i),this._checkPatDetection(e,t,i);break;case $e.FOLLOWING_PLAYER:this._updateFollowing(e,t,i);break;case $e.FLYING_FOLLOW:this._updateFlight(e,t,i);break;case $e.PANICKING:this._updatePanic(e,t,i),this._checkPatDetection(e,t,i);break}}_updateLookAtPlayer(e,t){const i=this.robotSystem.world?.player;if(!i?.head)return;i.head.getWorldPosition(this._tempVec3);const r=this.robotSystem.getFaceManager(e);if(r){const o=t.object3D?.position;if(o){this._tempVec3B.set(o.x,o.y,o.z);const a=t.object3D?.rotation?.y||0;r.lookAtWithBodyOverflow(this._tempVec3,this._tempVec3B,a)}}}_updatePanic(e,t,s){const i=this.getState(e);if(!i.isPanicking)return;const r=performance.now()/1e3,o=3+Math.random()*2;if(i.lastPanicSoundTime||(i.lastPanicSoundTime=r),r-i.lastPanicSoundTime>o){i.lastPanicSoundTime=r;const l=this.robotSystem.audioManager?.getVoice(e);if(l){const u=["angry","sad"],h=u[Math.floor(Math.random()*u.length)];l[h]?.()}const c=[Rt.FEAR,Rt.ANGRY],d=c[Math.floor(Math.random()*c.length)];this.robotSystem.setRobotFaceEmotion(e,d)}if(i.panicNumber>=4){const l=this.robotSystem.robotAgentIds?.get(e);if(l!=null){const c=this.robotSystem.agents?.agents?.[l];if(c){const d=c.desiredVelocity||[0,0,0],u=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);u<.1&&(this.logger.log(`[Panic] Robot ${e} stopped (speed=${u.toFixed(3)}), setting new target`),this.robotSystem.navigationManager?.selectRandomWanderTarget(t,l))}}}const a=this.robotSystem.scanManager?.robotScanVFX?.get(e);a&&a.update(s)}removeRobot(e){this.robotState.delete(e),this._antennaTips.delete(e)}reset(){this.robotState.clear(),this.breadcrumbs=[],this.minigameActive=!1,this.minigameCalmCount=0,this.minigamePanicCount=0,this._antennaTips.clear(),this._disposeDataLinkVFX()}}class VY extends Ss({}){constructor(e){super(e),this.world.robotSystem=this,this.logger=new wt("RobotSystem",!0),this.logger.log("RobotSystem constructor called")}init(){this.logger.log("RobotSystem init() called"),this.vec3=new w,this.spawnVec3=new w,this.navMeshInitialized=!1,this.navMesh=null,this.agents=null,this.robotState=new Map,this.robotEntities=new Map,this.robotAgentIds=new Map,this.targetInterval=500,this.wanderInterval=3e3,this.useWandering=!0,this.prevTime=performance.now(),this.navMeshHelper=null,this.offMeshConnectionsHelper=null,this.spawnPosition=null,this.spawnTimer=0,this.spawnInterval=3e3,this.pendingRobotEntities=[],this.maxRobots=3,this.originalRobotEntity=null,this.goalPosition=null,this.goalNodeRef=null,this.goalAccessible=!1,this.lastNavMeshRebuildTime=0,this.isStationary=!1,this.lookAtPlayer=!1,this.gatheredMode=!0,this.goalReachThreshold=.8,this._debugDisableMovement=!1,this.movementManager=new yY(this),this.interactionManager=new EY(this),this.navMeshManager=new MY(this),this.jumpManager=new TY(this),this.faceFlashConfig={flashDurationMin:250,flashDurationMax:500,intervalMin:2e3,intervalMax:5e3,emotions:pl.POSITIVE},this.faceLookConfig={lookDurationMin:800,lookDurationMax:2e3,lookIntervalMin:500,lookIntervalMax:1500},this._quatY=new Ge,this._quatX=new Ge,this._quatZ=new Ge,this._quatCombined=new Ge,this._sinTable=this.movementManager._sinTable,this._twoPi=Math.PI*2,this._audioForward=new w,this._tempVec3=new w,this._tempQuat=new Ge,this._tempEuler=new gs,this.audioManager=new xY(this),this.characterManager=new PY(this),this.robotCharacters=this.characterManager.characters,this.robotNameTags=this.characterManager.nameTags,this.envMapLoader=new J6(this.world),this._envMapLoaded=!1,this.scanManager=new AY(this),this.Transform=$n,this._setupGameStateListener(),this.roomSetupManager=new RY(this),this.stateMachine=new LY(this),this.navigationManager=new kY(this),this.playerInteractionManager=new zY(this),this._frameCounter=0,this._lastFaceTieUpdate=0;const e=new URLSearchParams(window.location.search);this.showDebugVisuals=e.get("navmeshDebug")==="true",this.showDebugVisuals&&this.logger.log("NavMesh debug visuals enabled via URL parameter"),this.logger.log("RobotSystem ready - robots will be registered via registerRobot()")}registerRobot(e,t={}){this.originalRobotEntity||(this.originalRobotEntity=e),e._spawnOptions=t,this.pendingRobotEntities.push(e),this.logger.log(`Robot registered: entity ${e.index}`)}getRobotState(e){return this.robotState.get(e)||null}getFaceManager(e){return this.robotState.get(e)?.faceManager||null}getSpawnPosition(e){return this.robotState.get(e)?.spawnPosition||null}getRobotBehaviorState(e){return this.stateMachine.getState(e)}setRobotBehaviorState(e,t,s=null){return this.stateMachine.setState(e,t,s)}setDebugVisuals(e){if(this.showDebugVisuals=e,this.logger.log(`NavMesh debug visuals ${e?"enabled":"disabled"}`),e&&this.navMeshManager.getNavMesh())this.navMeshManager.createVisualizations(),this.navMeshManager.createOffMeshVisualization();else if(!e){this.navMeshManager.removeVisualizations();for(const[,t]of this.robotState)t.agentHelper&&(this.world.scene.remove(t.agentHelper),t.agentHelper.geometry.dispose(),t.agentHelper.material.dispose(),t.agentHelper=null)}}setAudioEnabled(e){this.audioManager.setAudioEnabled(e)}stopAllAudio(){this.audioManager.stopAll(),this.scanManager.stopAll();for(const[e,t]of this.robotState)t.faceManager&&t.faceManager.dispose(),t.tieManager&&t.tieManager.dispose(),t.armManager&&t.armManager.dispose?.(),t.thrustVFX&&t.thrustVFX.dispose(),t.blobShadow&&t.blobShadow.dispose();this.robotState.clear(),this.robotEntities.clear(),this.robotAgentIds.clear(),this.envMapLoader&&(this.envMapLoader.dispose(),this._envMapLoaded=!1),this.characterManager&&this.characterManager.disposeAll()}robotSpeak(e,t){this.audioManager.robotSpeak(e,t),this.setRobotFaceEmotion(e,t)}allRobotsSpeak(e){for(const[t]of this.audioManager.robotVoices)setTimeout(()=>{this.audioManager.robotSpeak(t,e),this.setRobotFaceEmotion(t,e)},Math.random()*500)}setRobotFaceEmotion(e,t){if(this.playerInteractionManager?.getState(e)?.isPanicking&&t!==Rt.FEAR&&t!==Rt.ANGRY)return;const r=this.getRobotState(e)?.faceManager;r&&r.setEmotion(t)}setRobotFaceColor(e,t){const i=this.getRobotState(e)?.faceManager;i&&i.setFaceColor(t)}setRobotTieColor(e,t){const i=this.getRobotState(e)?.tieManager;i&&i.setTieColor(t)}setAllRobotFaceEmotions(e){for(const[,t]of this.robotState)t.faceManager&&t.faceManager.setEmotion(e)}showNameTagByName(e){this.characterManager.showNameTagByName(e)}triggerNamedRobotReaction(e,t){const s=this.characterManager.getByName(e);if(!s){this.logger.warn(`Robot not found: ${e}`);return}const{entityIndex:i,character:r}=s,o=this.getRobotState(i);if(!o)return;const a=t||r.nameReactionAnimation||"excited";this.logger.log(`${r.name} reacting: ${a}`);const l=this.audioManager.getVoice(i);l&&l.excited();const c=pl.POSITIVE;let d=0;const u=setInterval(()=>{d<c.length?(this.setRobotFaceEmotion(i,c[d]),d++):(clearInterval(u),this.setRobotFaceEmotion(i,Rt.CONTENT))},200);a==="happy"||a==="happyLoop"||a==="happyBarrel"||a==="happyBounce"?this.interactionManager.triggerSoloAnimation(i,a):o&&(o.hopStartTime=performance.now(),o.hopDuration=350,o.hopHeight=.15,o.blobShadow&&o.blobShadow.setJumping(!0))}summonRobotByName(e){const t=this.characterManager?.getByName(e);if(!t)return this.logger.warn(`Cannot summon robot - not found: ${e}`),!1;const{entityIndex:s}=t;return this.playerInteractionManager?.summonRobot(s)??!1}rebuildNavMesh(){if(this.navMeshManager.rebuild()){this.navMesh=this.navMeshManager.getNavMesh(),this.navMeshInitialized=this.navMeshManager.isInitialized(),this.lastNavMeshRebuildTime=this.navMeshManager.lastNavMeshRebuildTime;const t=Oe.getState();this.navMeshInitialized&&t.roomSetupRequired!==!1&&t.roomSetupRequired!==!0&&(this.logger.log("NavMesh rebuilt - room setup complete"),Oe.setState({roomSetupRequired:!1}))}}createAgentVisualization(e,t){const s=this.robotState.get(e.index);s?.agentHelper&&(this.world.scene.remove(s.agentHelper),s.agentHelper.geometry.dispose(),s.agentHelper.material.dispose());const i=new Un(.1,16,16),r=new Nt({color:16711680,transparent:!0,opacity:.7,depthTest:!0,depthWrite:!1}),o=new it(i,r);o.renderOrder=1e3,this.world.scene.add(o),s&&(s.agentHelper=o),this.logger.log("Agent visualization added to scene for robot",e.index)}handleRoomCaptureButton(e){return this.roomSetupManager.handleButtonPress(e)}initializeNavMesh(){if(this.navMeshInitialized)return;const e=this.world.navSurfacesSystem;if(!e){this.logger.warn("NavSurfacesSystem not available");return}const t=e.getFirstSurface();if(!t){this.logger.log("No surfaces available yet, waiting...");return}if(this.spawnPosition=t.center,this.logger.log("Rebuilding navmesh with",e.getAllSurfaces().length,"surfaces"),this.rebuildNavMesh(),!this.navMesh){this.logger.warn("Navmesh generation failed");return}this.agents||(this.agents=ys.create(this.maxRobots),this.logger.log("Crowd created with maxAgents:",this.maxRobots)),this.navMeshInitialized=!0,this.logger.log("NavMesh initialization complete!"),Oe.getState().roomSetupRequired!==!0?(Oe.setState({roomSetupRequired:!1}),this.logger.log("Room setup confirmed complete (roomSetupRequired: false)")):this.logger.log("Room setup kept as required (debug forced state)")}spawnRobot(e){if(!this.navMesh||!this.agents)return this.logger.warn("Cannot spawn robot: navmesh not ready"),!1;if(this.robotEntities.has(e.index))return!1;const t=e.object3D;if(!t)return this.logger.warn("Robot entity has no object3D"),!1;let s,i,r;if(t.position.lengthSq()>.01)s=t.position.x,i=t.position.y,r=t.position.z,this.logger.log(`Using robot's existing position: ${s.toFixed(2)}, ${i.toFixed(2)}, ${r.toFixed(2)}`);else if(this.spawnPosition){const C=(Math.random()-.5)*.3,B=(Math.random()-.5)*.3;s=this.spawnPosition[0]+C,i=this.spawnPosition[1]+.1,r=this.spawnPosition[2]+B,t.position.set(s,i,r)}else return this.logger.warn("Cannot spawn robot: no spawn position available"),!1;t.scale.set(.4,.4,.4),t.visible=!0;const a=Ns(Ms(),this.navMesh,[s,i,r],[2,2,2],vs);let l=[s,i,r],c=!1;const d=[s,i,r];if(a.success){l=a.position;const C=Math.abs(l[1]-i),B=Math.sqrt(Math.pow(l[0]-s,2)+Math.pow(l[2]-r,2));C>.02||B>.05?(c=!0,this.logger.log(`Spawn transition needed: visual at (${s.toFixed(2)}, ${i.toFixed(2)}, ${r.toFixed(2)}) -> navmesh at (${l[0].toFixed(2)}, ${l[1].toFixed(2)}, ${l[2].toFixed(2)})`)):(t.position.set(l[0],l[1],l[2]),this.logger.log(`Snapped spawn to navmesh (small diff): ${l[0].toFixed(2)}, ${l[1].toFixed(2)}, ${l[2].toFixed(2)}`))}else this.logger.warn("Could not find navmesh poly near spawn position, agent may not move correctly");const u=t.userData?.characterId||"",h=eg(u),f=h?.physics||{},A={radius:f.agentRadius??.1,height:.4,maxAcceleration:f.maxAcceleration??10,maxSpeed:f.maxSpeed??1.4,collisionQueryRange:1.5,separationWeight:0,updateFlags:ys.CrowdUpdateFlags.ANTICIPATE_TURNS|ys.CrowdUpdateFlags.OBSTACLE_AVOIDANCE|ys.CrowdUpdateFlags.OPTIMIZE_VIS|ys.CrowdUpdateFlags.OPTIMIZE_TOPO,queryFilter:vs,obstacleAvoidance:ys.DEFAULT_OBSTACLE_AVOIDANCE_PARAMS,autoTraverseOffMeshConnections:!1},p=ys.addAgent(this.agents,this.navMesh,l,A),g=this.agents?.agents?Object.keys(this.agents.agents).length:0;if(this.logger.log(`Agent added with ID: "${p}" (type: ${typeof p}), agents count: ${g}`),p==null)return this.logger.error(`Failed to add agent to crowd! agentId=${p}`),!1;let m=this.getEarlyFaceManager(t);if(!m){m=new mA(t);const C=pl.POSITIVE[Math.floor(Math.random()*pl.POSITIVE.length)];m.setEmotion(C)}this._earlyFaceManagers?.delete(t.uuid);const y=new tH(t),_=new $6(t);let v=(e._spawnOptions||{}).thrustVFX;v||(v=this.createThrustVFXForRobot(t));let E=null;this.world.vfxManager&&(E=this.world.vfxManager.createBlobShadow({target:t,size:h?.appearance?.shadowSize}));const b={entity:e,agentId:p,agentHelper:null,lastTargetTime:performance.now(),spawnPosition:[...l],faceManager:m,tieManager:y,armManager:_,thrustVFX:v,blobShadow:E,character:null,nameTag:null,faceFlashState:null,faceLookState:null,spawnTransition:c?{active:!0,startTime:performance.now(),duration:1.2,startPosition:[...d],targetPosition:[...l],progress:0}:null};this.robotState.set(e.index,b),this.gatheredMode?(this.stateMachine.forceState(e.index,$e.STATIONARY),this.isStationary=!0,this.lookAtPlayer=!0):(this.stateMachine.forceState(e.index,$e.WANDERING),this.isStationary=!1,this.lookAtPlayer=!1),this.robotEntities.set(e.index,e),this.robotAgentIds.set(e.index,p),t.traverse(C=>{C.isMesh&&C.material&&(C.renderOrder=10,C.material.depthTest=!0,C.material.depthWrite=!0,C.material.needsUpdate=!0)}),this.applyEnvMapToRobot(t),this.showDebugVisuals&&this.createAgentVisualization(e,p),this.setInitialWanderTarget(e,p);const N=this.agents.agents[p];return N&&this.logger.log(`Agent ${p} state after setup: pos=(${N.position[0].toFixed(2)}, ${N.position[1].toFixed(2)}, ${N.position[2].toFixed(2)}), target=${N.targetPosition?`(${N.targetPosition[0]?.toFixed(2)}, ${N.targetPosition[1]?.toFixed(2)}, ${N.targetPosition[2]?.toFixed(2)})`:"none"}, state=${N.state}`),!0}cloneRobotEntity(e){const t=e.object3D;if(!t)return this.logger.warn("Cannot clone: original entity has no object3D"),null;const s=t.clone(!0);s.traverse(r=>{r.isMesh&&(r.geometry=r.geometry.clone(),r.material&&(r.material=r.material.clone())),r.userData&&r.userData.audio&&delete r.userData.audio,(r.type==="Audio"||r.isAudio)&&(r.disconnect(),r.stop())}),s.visible=!1;const i=this.world.createTransformEntity(s);return i.addComponent(by),i}async applyEnvMapToRobot(e){this._envMapLoaded||(await this.envMapLoader.loadEnvMap(),this._envMapLoaded=!0),this.envMapLoader.applyToMesh(e,{intensity:1})}applyFaceToRobot(e){this._earlyFaceManagers||(this._earlyFaceManagers=new Map);const t=e.uuid;if(this._earlyFaceManagers.has(t))return this._earlyFaceManagers.get(t);const s=new mA(e),i=pl.POSITIVE[Math.floor(Math.random()*pl.POSITIVE.length)];return s.setEmotion(i),this._earlyFaceManagers.set(t,s),s}getEarlyFaceManager(e){return this._earlyFaceManagers?.get(e.uuid)||null}createThrustVFXForRobot(e){const t=e.userData?.characterId||"",s=eg(t),i=s?.appearance?.thrusterSize??1,r=s?.appearance?.thrusterYOffset??0,o=s?.appearance?.thrusterMaxScale??1,a=s?.appearance?.primaryColor,l=.03,c=.006,d=.05,u=.07,h=new sH({primaryColor:65535,secondaryColor:35071,characterColor:a,ringCount:4,minBaseRadius:l*i,maxBaseRadius:l*2*i,minMaxRadius:l*1.33*i,maxMaxRadius:l*2.33*i,ringThickness:c*i,minEmitDistance:d*i,maxEmitDistance:u*i});return h.attachTo(e,.3,r,o),h.animationSpeedScale=i,h.setIntensity(0,1.4,!1,0,!1),h.intensity=.35,h}setInitialWanderTarget(e,t){this.navigationManager.setInitialWanderTarget(e,t)}selectRandomTableTarget(e,t){this.navigationManager.selectRandomTableTarget(e,t)}setRobotNavigationTarget(e,t,s,i){this.navigationManager.setRobotNavigationTarget(e,t,s,i)}stopRobotMovement(e){this.navigationManager.stopRobotMovement(e)}_fastSin(e){const t=(e%this._twoPi+this._twoPi)%this._twoPi,s=Math.floor(t/this._twoPi*256)&255;return this._sinTable[s]}_fastCos(e){const t=((e+Math.PI/2)%this._twoPi+this._twoPi)%this._twoPi,s=Math.floor(t/this._twoPi*256)&255;return this._sinTable[s]}_setupGameStateListener(){Oe.getState()?.robotBehavior==="wandering"&&(this.logger.log("Initial state: wandering mode - starting with movement"),this.gatheredMode=!1,this.useWandering=!0,this.isStationary=!1,this.lookAtPlayer=!1),Oe.on("state:changed",(t,s)=>{if(t.robotBehavior==="gathered"&&s.robotBehavior!=="gathered"&&(this.logger.log("Game state: gathered mode - robots stationary looking at player"),this.gatheredMode=!0,this.setStationary(!0,!0)),t.robotBehavior==="wandering"&&s.robotBehavior!=="wandering"){this.logger.log("=== WANDERING MODE TRIGGERED ==="),this.logger.log(`Before clear: gatheredMode=${this.gatheredMode}, useWandering=${this.useWandering}, isStationary=${this.isStationary}, lookAtPlayer=${this.lookAtPlayer}`),this.logger.log(`Before clear: _awaitingInterpretation=${this._awaitingInterpretation}, _greetingReturnPending=${this._greetingReturnPending}, _robotsLookAtEachOther=${this._robotsLookAtEachOther}`),this.gatheredMode=!1,this.useWandering=!0,this.isStationary=!1,this.lookAtPlayer=!1,this._awaitingInterpretation=!1,this._greetingReturnPending=!1,this._robotsLookAtEachOther=!1,this._postGreetingAction=null,this.navigationManager.clearGoal(),this.logger.log("Goal cleared - robots will wander to individual targets"),this._wanderingDebugUntil=performance.now()+5e3;for(const[i]of this.robotAgentIds.entries()){const r=this.stateMachine.getState(i);this.logger.log(`Robot ${i} state before setStationary: ${r}`)}this.setStationary(!1)}if(t.robotBehavior==="moving_to_goal"&&s.robotBehavior!=="moving_to_goal"){const i=t.portalSpawnPosition;i&&(this.logger.log("Game state: friendly greeting - moving to portal"),this.setGoalFromPosition(i),this.onGoalReached(()=>{this.logger.log("All robots at goal - switching to stationary"),this.setStationary(!0,!0),Oe.setState({robotsMovingToGoal:!1,robotsAtGoal:!0,robotBehavior:"stationary"})}))}if(t.robotBehavior==="panicking"&&s.robotBehavior!=="panicking"){this.logger.log("Game state: panicking mode - starting panic minigame");const i=this.world.aiManager?.wristUI;this.startPanicMinigame(i)}t.modemApproaching&&!s.modemApproaching&&(this.logger.log("Modem approaching player"),this._triggerModemApproach()),t.robotBehavior==="exiting"&&s.robotBehavior!=="exiting"&&(this.logger.log("Game ending - robots exiting through portal"),this.logger.log(`  modemStays=${t.modemStays}, portalSpawnPosition=${JSON.stringify(t.portalSpawnPosition)}`),this._triggerRobotExit(t.modemStays)),t.gameEnding!==s.gameEnding&&this.logger.log(`gameEnding changed: ${s.gameEnding} -> ${t.gameEnding}`)})}setGoal(e){this.navigationManager.setGoal(e),this.goalPosition=this.navigationManager.goalPosition,this.goalAccessible=this.navigationManager.goalAccessible,this.robotsAtGoal=this.navigationManager.robotsAtGoal}clearGoal(){this.navigationManager.clearGoal(),this.goalPosition=null,this.goalAccessible=!1,this.robotsAtGoal=null}onGoalReached(e){this.navigationManager.onGoalReached(e)}_triggerModemApproach(){const e=this.characterManager?.getByName("Modem");if(!e){this.logger.warn("Cannot find Modem for approach");return}const{entityIndex:t}=e,s=this.robotStates?.get(t);this.interactionManager?.setExcluded(t,!0),this.logger.log("Modem excluded from robot interactions during approach");const i=this.world?.player,r=i?.head?.getWorldPosition?.(new w);r&&s&&(s.lookAtTarget=r.clone(),s.lookAtStartTime=performance.now(),s.lookAtDuration=2e3),this.setRobotFaceEmotion(t,"curious");const o=this.audioManager?.getVoice(t);o&&o.inquisitive?.(),setTimeout(()=>{this.playerInteractionManager?.summonRobot(t),this._modemEntityIndex=t;let a=!1;const l=d=>{if(a)return;a=!0,clearInterval(c),this.logger.log(`Modem arrival triggered: ${d}`),o&&o.inquisitive?.(),this.setRobotFaceEmotion(t,"curious");const u=i?.head?.getWorldPosition?.(new w),h=this.robotStates?.get(t);h&&u&&(h.lookAtTarget=u.clone(),h.lookAtDuration=6e4),Oe.setState({modemApproaching:!1,modemArrived:!0})},c=setInterval(()=>{const d=this.robotAgentIds?.get(t),u=d!==void 0?this.agents?.agents?.[d]:null;if(u&&u.state===0){l("reached target");return}const f=this.robotEntities.get(t)?.object3D?.position,A=i?.head?.getWorldPosition?.(new w);if(f&&A){const p=f.x-A.x,g=f.z-A.z;p*p+g*g<.64&&l("proximity check")}},500);setTimeout(()=>{a||(this.logger.warn("Modem approach timeout - forcing arrival to continue game"),l("timeout fallback"))},15e3)},2e3)}_handleModemStayResponse(e){const t=this._modemEntityIndex;if(t===void 0)return;const s=this.audioManager?.getVoice(t);e?(this.setRobotFaceEmotion(t,"excited"),s&&s.happy?.(),this.interactionManager?.triggerSoloAnimation(t,"happyBounce")):(this.setRobotFaceEmotion(t,"sad"),s&&s.sad?.());const i=this.robotStates?.get(t);i&&(i.lookAtTarget=null),setTimeout(()=>{this.setRobotFaceEmotion(t,"content")},3e3)}_triggerRobotExit(e){this.logger.log(`_triggerRobotExit called with modemStays=${e}`);let s=Oe.getState().portalSpawnPosition;if(!s){this.logger.warn("No portal spawn position - using first robot position as fallback");for(const[d]of this.robotAgentIds.entries()){const u=this.robotEntities.get(d);if(u?.object3D){const h=u.object3D.position;s={x:h.x,y:h.y,z:h.z},this.logger.log(`Using robot ${d} position: ${JSON.stringify(s)}`);break}}}if(!s){this.logger.warn("No portal spawn position and no robots found - cannot proceed!");return}this.logger.log(`Exit portal position: ${JSON.stringify(s)}`);const i=new w(s.x,s.y,s.z),r=[],o=this.characterManager?.getByName("Modem"),a=this.characterManager?.getByName("Blit"),l=this.characterManager?.getByName("Baud");a&&r.push(a.entityIndex),l&&r.push(l.entityIndex),!e&&o&&r.push(o.entityIndex),this.logger.log(`Exit sequence: ${r.length} robots exiting, modemStays=${e}`);for(const d of r){this.setRobotFaceEmotion(d,"excited");const u=this.audioManager?.getVoice(d);u&&setTimeout(()=>u.happy?.(),Math.random()*500)}this._exitingRobots=new Set(r),this._exitPosition=i,this._modemStays=e,this.navigationManager.setGoal(i);const c=setInterval(()=>{let d=!0;for(const u of r){const h=this.robotAgentIds?.get(u);if(h===void 0)continue;const f=this.agents?.agents?.[h];if(!f||f.state!==0){d=!1;break}}d&&(clearInterval(c),this.logger.log("Exiting robots reached portal position"),this._createExitPortal(i,r))},500);if(setTimeout(()=>clearInterval(c),3e4),e&&o){const d=o.entityIndex;this.setRobotFaceEmotion(d,"excited");const u=this.audioManager?.getVoice(d);u&&u.happy?.(),this.interactionManager?.triggerSoloAnimation(d,"happyBounce"),setTimeout(()=>{this.setRobotFaceEmotion(d,"content");const h=this.robotEntities?.get(d),f=this.robotAgentIds?.get(d);h&&f!==void 0&&this.navigationManager?.selectRandomWanderTarget(h,f)},2e3)}}_createExitPortal(e,t){this.logger.log(`_createExitPortal called at ${JSON.stringify(e)} for ${t.length} robots`);const s=this.world.vfxManager?.createPortal({position:e,config:{maxRadius:.6,primaryColor:65535,secondaryColor:35071,glowIntensity:1.2}}),i=new tg;i.setPosition(e.x,e.y,e.z),i.startEntrance();let r=1e3;for(const o of t)setTimeout(()=>{this._animateRobotExit(o,e)},r),r+=800;setTimeout(()=>{s&&s.dispose(),i?.stop(),this._exitingRobots=null,this._exitPosition=null,this._modemStays||Oe.setState({robotsActive:!1})},r+2e3)}_animateRobotExit(e,t){const s=this.robotStates?.get(e),i=this.robotEntities?.get(e);if(!s||!i)return;const r=this.audioManager?.getVoice(e);r&&r.happy?.(),this.interactionManager?.triggerSoloAnimation(e,"happyBounce");const o=s.group?.position?.y||.5,a=performance.now(),l=1e3,c=()=>{const d=performance.now()-a,u=Math.min(d/l,1);if(s.group){const h=u*u;s.group.position.y=o*(1-h)-.5*h;const f=1-h*.8;s.group.scale.setScalar(f)}if(u<1)requestAnimationFrame(c);else{s.group&&(s.group.visible=!1);const h=this.robotAgentIds?.get(e);h!==void 0&&this.agents&&this.agents.removeAgent(h),this.characterManager?.hideNameTag(e),this.logger.log(`Robot ${e} exited through portal`)}};c()}setGatheredMode(e){this.gatheredMode=e,e?(this.navigationManager.returnAllToSpawn(),this._greetingReturnPending=!0,this._greetingReturnStartTime=performance.now(),this.logger.log("Gathered mode enabled - robots returning to spawn")):(this.setStationary(!1),this.logger.log("Gathered mode disabled - robots resuming movement"))}setStationary(e,t=!1){if(this.isStationary=e,this.lookAtPlayer=t,e){for(const[s,i]of this.robotAgentIds.entries()){const r=this.stateMachine.getState(s),o=this.pim?.getState(s);if(r===$e.PANICKING&&(!o||o.panicNumber<4))continue;this.stateMachine.setState(s,$e.STATIONARY);const a=this.agents.agents[i];if(a){const l=a.position,c=Ns(Ms(),this.navMesh,l,[1,1,1],vs);c.success&&ys.requestMoveTarget(this.agents,i,c.nodeRef,l)}}this.logger.log(`Robots now stationary${t?" (looking at player)":""}`)}else{this.logger.log("=== setStationary(false) - RESUMING WANDERING ===");let s=0;for(const[i,r]of this.robotAgentIds.entries()){const o=this.stateMachine.getState(i),a=this.pim?.getState(i);if(o===$e.PANICKING&&(!a||a.panicNumber<4)){this.logger.log(`Robot ${i}: skipping (PANICKING)`);continue}this.logger.log(`Robot ${i}: ${o} -> WANDERING (forceState)`),this.stateMachine.forceState(i,$e.WANDERING);const l=this.robotEntities.get(i);if(l&&r!==void 0){const c=s;this.logger.log(`Robot ${i}: scheduling wander target in ${c}ms`),setTimeout(()=>{this.logger.log(`Robot ${i}: selectRandomWanderTarget NOW`),this.navigationManager?.selectRandomWanderTarget(l,r)},c),s+=200+Math.random()*300}else this.logger.log(`Robot ${i}: no entity or agentId, skipping wander target`)}this.logger.log("Robots resuming movement (forced WANDERING state)")}}onTranscription(){if(this.playerInteractionManager?.minigameActive){this.logger.log("Transcription ignored - panic minigame active");return}this.logger.log("Transcription received - robots gathering in inquisitive state"),this.scanManager.stopAll(),this.interactionManager.cancelAllInteractions(),this.navigationManager.goalPosition=null,this.navigationManager.goalAccessible=!1,this.navigationManager.goalNodeRef=null,this.gatheredMode=!0,this.useWandering=!1,this._awaitingInterpretation=!0,this._gatheringStartTime=performance.now(),this.navigationManager.returnAllToSpawn();for(const[t]of this.robotAgentIds.entries())this.stateMachine.forceState(t,$e.MOVING_TO_GOAL);let e=0;for(const[t]of this.robotAgentIds.entries()){const s=this.audioManager.getVoice(t);s&&(setTimeout(()=>{s.inquisitive();const r=[Rt.CURIOUS,Rt.THINKING],o=r[Math.floor(Math.random()*r.length)];this.setRobotFaceEmotion(t,o)},e),e+=1e3+Math.random()*1e3)}this._robotsLookAtEachOther=!0}onInterpretResponse(e){if(this.playerInteractionManager?.minigameActive){this.logger.log("Interpret response ignored - panic minigame active");return}const t=e.is_greeting||e.robot_directive?.stop_navigation,s=e.sentiment||{},i=s.is_rude||!1,r=t&&!i;this._awaitingInterpretation=!1,this._robotsLookAtEachOther=!1,r?this._handleFriendlyGreeting():i||s.sentiment==="hostile"||s.sentiment==="unfriendly"?this._handleUnfriendlyResponse(s):this._handleNeutralResponse()}_handleFriendlyGreeting(){this.logger.log("Friendly greeting - happy response!"),this._greetingReturnPending=!1,this._postGreetingAction=null,this.setStationary(!0,!0);for(const[e]of this.robotAgentIds.entries()){const t=this.audioManager.getVoice(e);t&&setTimeout(()=>{t.happy(),this.setRobotFaceEmotion(e,Rt.EXCITED)},Math.random()*200),setTimeout(()=>{this.interactionManager?.triggerSoloAnimation(e,"happyBounce")},300+Math.random()*400)}setTimeout(()=>{this._resumeNormalBehavior()},4e3)}_handleUnfriendlyResponse(e){this.logger.log("Unfriendly response - negative reaction"),this._greetingReturnPending=!1,this._postGreetingAction=null,this.setStationary(!0,!0);const t=e.sentiment==="hostile";for(const[s]of this.robotAgentIds.entries()){const i=this.audioManager.getVoice(s);i&&setTimeout(()=>{t?(i.angry(),this.setRobotFaceEmotion(s,Rt.ANGRY)):(i.sad(),this.setRobotFaceEmotion(s,Rt.SAD))},Math.random()*300)}setTimeout(()=>{this._resumeNormalBehavior()},2e3)}_handleNeutralResponse(){this.logger.log("Non-greeting response - inquisitive, then resume"),this._greetingReturnPending=!1,this._postGreetingAction=null,this.setStationary(!0,!0);for(const[e]of this.robotAgentIds.entries()){const t=this.audioManager.getVoice(e);t&&setTimeout(()=>{t.inquisitive(),this.setRobotFaceEmotion(e,Rt.CURIOUS)},Math.random()*300)}setTimeout(()=>{this._resumeNormalBehavior()},2e3)}onGreeting(){this.onInterpretResponse({is_greeting:!0,sentiment:{sentiment:"friendly",is_rude:!1}})}_checkGreetingReturn(){if(!this._greetingReturnPending)return;const e=performance.now()-this._greetingReturnStartTime;if(this.navigationManager.checkAllAtSpawn()||e>8e3){if(this._greetingReturnPending=!1,(this._postGreetingAction||"happy")==="happy"){this.setStationary(!0,!0),this.logger.log("Robots at spawn - happy response, looking at player");const i=pl.CALM;for(const[r]of this.robotAgentIds.entries()){const o=this.audioManager.getVoice(r);o&&setTimeout(()=>{o.content();const a=i[Math.floor(Math.random()*i.length)];this.setRobotFaceEmotion(r,a)},200+Math.random()*800)}setTimeout(()=>{this._resumeNormalBehavior()},4e3)}else this._resumeNormalBehavior();this._postGreetingAction=null}}_resumeNormalBehavior(){if(!this.playerInteractionManager?.minigameActive){this.logger.log("Resuming normal navigation behavior"),this.setStationary(!1,!1),this.gatheredMode=!1,this.useWandering=!0,this._robotsLookAtEachOther=!1,this._awaitingInterpretation=!1,this._interRobotLookTargets?.clear(),this.navigationManager.clearGoal();for(const[e]of this.robotAgentIds.entries()){const t=this.stateMachine.getState(e),s=this.pim?.getState(e);t===$e.PANICKING&&(!s||s.panicNumber<4)||(this.setRobotFaceEmotion(e,Rt.CONTENT),this.stateMachine.forceState(e,$e.WANDERING))}}}_getInterRobotLookTarget(e,t){this._interRobotLookTargets||(this._interRobotLookTargets=new Map);const s=performance.now();let i=this._interRobotLookTargets.get(e);const r=1e3+Math.random()*2e3;if(!i||s-i.lastSwitch>r){const l=[];for(const[d]of this.robotEntities.entries())d!==e&&l.push(d);if(l.length===0)return null;i={targetIndex:l[Math.floor(Math.random()*l.length)],lastSwitch:s},this._interRobotLookTargets.set(e,i)}const o=this.robotAgentIds.get(i.targetIndex);if(o==null)return null;const a=this.agents.agents[o];return a?{x:a.position[0],y:a.position[1]+.25,z:a.position[2]}:null}_getPanicLookTarget(e,t,s){if(this.playerInteractionManager?.getState(e)?.isPanicking)return null;this._panicLookStates||(this._panicLookStates=new Map);const r=performance.now();let o=this._panicLookStates.get(e),a=null,l=1/0;const c=5,d=c*c;for(const[f,A]of this.robotEntities.entries()){if(f===e||!this.playerInteractionManager?.getState(f)?.isPanicking)continue;const g=this.robotAgentIds.get(f);if(g==null)continue;const m=this.agents.agents[g];if(!m)continue;const y=m.position[0]-t.position[0],_=m.position[2]-t.position[2],I=y*y+_*_;I<l&&I<d&&(l=I,a={entityIndex:f,position:{x:m.position[0],y:m.position[1]+.25,z:m.position[2]},distSq:I})}if(!a)return o&&(o.lastLookTime=0,o.lookDuration=0),null;o||(o={lastLookTime:0,lookDuration:0,lookInterval:3e3+Math.random()*3e3,minLookDuration:200+Math.random()*200,maxLookDuration:400+Math.random()*200},this._panicLookStates.set(e,o));const u=r-o.lastLookTime;return o.lookDuration>0||u>o.lookInterval?(o.lookDuration===0&&(o.lastLookTime=r,o.lookDuration=o.minLookDuration+Math.random()*(o.maxLookDuration-o.minLookDuration),o.lookInterval=3e3+Math.random()*3e3),r-o.lastLookTime<o.lookDuration?a.position:(o.lookDuration=0,null)):null}_checkPanicAvoidance(e,t,s){if(this.playerInteractionManager?.getState(e)?.isPanicking)return!1;let r=null,o=1/0;const a=.75,l=a*a;for(const[_]of this.robotEntities.entries()){if(_===e||!this.playerInteractionManager?.getState(_)?.isPanicking)continue;const v=this.robotAgentIds.get(_);if(v==null)continue;const E=this.agents.agents[v];if(!E)continue;const b=E.position[0]-t.position[0],N=E.position[2]-t.position[2],C=b*b+N*N;C<o&&C<l&&(o=C,r={otherAgent:E,distSq:C})}if(!r)return!1;const c=t.position[0]-r.otherAgent.position[0],d=t.position[2]-r.otherAgent.position[2],u=Math.sqrt(r.distSq);if(u<.1)return!1;const h=1-r.distSq/l,f=u+(a-u)+.2,A=1*h,p=Math.max(f,A),g=c/u*p,m=d/u*p,y=[t.position[0]+g,t.position[1],t.position[2]+m];if(this.navMesh){const _=Ns(Ms(),this.navMesh,y,[1,1,1],vs);if(_.success)return ys.requestMoveTarget(this.agents,s,_.nodeRef,_.position),!0}return!1}_checkPlayerAvoidance(e,t,s){const i=this.world?.player;if(!i?.head)return!1;i.head.getWorldPosition(this._tempVec3);const r=this._tempVec3.x,o=this._tempVec3.z,a=t.position[1],l=.15,c=l*l,d=t.position[0]-r,u=t.position[2]-o,h=d*d+u*u;if(h>=c)return!1;const f=Math.sqrt(h);if(f<.01)return!1;const A=1-h/c,p=f+(l-f)+.1,g=.3*A,m=Math.max(p,g),y=d/f*m,_=u/f*m,I=[t.position[0]+y,a,t.position[2]+_];if(this.navMesh){const v=Ns(Ms(),this.navMesh,I,[.5,.5,.5],vs);if(v.success)return ys.requestMoveTarget(this.agents,s,v.nodeRef,v.position),!0}return!1}setGoalFromPosition(e){this.navigationManager.setGoalFromPosition(e),this.goalPosition=this.navigationManager.goalPosition,this.goalAccessible=this.navigationManager.goalAccessible,this.robotsAtGoal=this.navigationManager.robotsAtGoal}startPanicMinigame(e=null){const t=this.playerInteractionManager;if(!t){this.logger.warn("PlayerInteractionManager not available");return}e&&(t.onScoreUpdate=(s,i)=>{e.updateScoreDisplay(s,i),e.scoreUI?.flashCalmed(()=>t.isAnyRobotPanicking())},t.onMinigameComplete=()=>{e.hideScorePanel(),this.logger.log("Panic minigame complete!"),Oe.setState({panicMinigameCompleted:!0})},t.onPanicStart=()=>{e.scoreUI?.setPanicking(()=>t.isAnyRobotPanicking());const s=t.minigamePanicCount,i=this.world?.aiManager?.dialogManager;i&&(s===1?(this.logger.log("Playing first panic dialog: panicWorkedUp"),i.playDialog("panicWorkedUp")):s===4&&(this.logger.log("Playing fourth panic dialog: panicFourth"),i.playDialog("panicFourth")))},e.showScorePanel(),e.switchToHUDCallPanel()),t.startPanicMinigame(),this.logger.log("Panic minigame started")}endPanicMinigame(){this.playerInteractionManager?.endPanicMinigame()}isPanicMinigameActive(){return this.playerInteractionManager?.minigameActive||!1}evaluateGoalAccessibility(){this.navigationManager.evaluateGoalAccessibility(),this.goalAccessible=this.navigationManager.goalAccessible}selectRandomWanderTarget(e,t){this.navigationManager.selectRandomWanderTarget(e,t)}update(){const e=performance.now(),t=(e-this.prevTime)/1e3,s=Math.min(t,.1);this.prevTime=e,this._frameCounter++;const i=Oe.getState().sfxVolume??1;if(P8(i),this.characterManager.update(s),this.roomSetupManager.update(),!this.navMeshInitialized||!this.agents||!this.navMesh)return;if(this.world.camera&&this.audioManager.updateListenerPosition(this.world.camera,this._audioForward),this._checkGreetingReturn(),this.pendingRobotEntities.length>0&&this.robotEntities.size<this.maxRobots){const a=this.pendingRobotEntities.shift();a&&(this.spawnRobot(a)||this.pendingRobotEntities.unshift(a))}if(this.spawnPosition&&this.originalRobotEntity&&(this.spawnTimer+=t*1e3,this.spawnTimer>=this.spawnInterval&&(this.spawnTimer=0,this.robotEntities.size<this.maxRobots&&this.pendingRobotEntities.length===0))){const a=this.cloneRobotEntity(this.originalRobotEntity);a&&this.spawnRobot(a)}ys.update(this.agents,this.navMesh,s),this.interactionManager.update(s,e),this.playerInteractionManager?.updatePanicMinigame(s);let r=!1;this.logger.debug&&(this._lastDebugLog||(this._lastDebugLog=0),r=e-this._lastDebugLog>2e3,r&&(this._lastDebugLog=e));const o=e-this._lastFaceTieUpdate>333;o&&(this._lastFaceTieUpdate=e);for(const[a,l]of this.robotEntities.entries()){const c=this.robotState.get(a),d=c?.agentId;if(d==null)continue;const u=this.agents.agents[d];if(!u)continue;if(this._debugDisableMovement){const le=l.object3D;le&&le.position.set(u.position[0],u.position[1],u.position[2]);continue}if(r){const le=u.velocity||[0,0,0],K=Math.sqrt(le[0]*le[0]+le[1]*le[1]+le[2]*le[2]),oe=u.desiredVelocity||[0,0,0],Te=Math.sqrt(oe[0]*oe[0]+oe[1]*oe[1]+oe[2]*oe[2]),Ve=u.corridor?.path?.length||0,tt=u.corners?.length||0;this.logger.log(`Agent ${d}: state=${u.state}, targetState=${u.targetState}, vel=${K.toFixed(3)}, desVel=${Te.toFixed(3)}, corridor=${Ve}, corners=${tt}, isAtTarget=${ys.isAgentAtTarget(this.agents,d,u.radius)}`)}const h=u.velocity||[0,0,0],f=Math.sqrt(h[0]*h[0]+h[2]*h[2]),A=l.object3D?l.object3D.scale.x:.5,p=this.movementManager.getAllStates(a,A,0),g=p.squash,m=p.tilt,y=p.facing;let _=0;if(u.state===ys.AgentState.OFFMESH&&u.offMeshAnimation){const le=u.offMeshAnimation;if(!g.isJumping){const oe=c?.character?.physics?.jumpDurationMultiplier??1;this.jumpManager.startJump(a,le.startPosition,le.endPosition,p.facing.currentFacing,oe),g.isJumping=!0,c.blobShadow&&c.blobShadow.setJumping(!0),this.stateMachine.setState(a,$e.JUMPING)}const K=this.jumpManager.updateJump(a,u,g,s);K&&(_=K.squash,g.jumpLean=K.lean,g.currentJumpFacing=K.facing,K.isComplete&&(this.jumpManager.completeJump(a,d),g.isJumping=!1,g.landingTimer=0,c.blobShadow&&(c.blobShadow.setLandingPosition(u.position[0],u.position[1],u.position[2]),c.blobShadow.setJumping(!1)),this.stateMachine.onStateComplete(a)))}else g.landingTimer<this.movementManager.squashConfig.landingRecovery?_=this.jumpManager.updateLandingRecovery(g,s,this.movementManager.squashConfig):this.jumpManager.decayJumpLean(g,s);const I=this.interactionManager.getInteractionValues(a),v=this.interactionManager.interactionState.get(a);I?.squash&&(_=_*.3+I.squash*.7);const E=this.playerInteractionManager.getPatSquash(a);E!==0&&(_+=E);const b=Math.min(1,this.movementManager.squashConfig.lerpSpeed*s);g.currentSquash+=(_-g.currentSquash)*b,g.currentSquash=Math.max(-1,Math.min(1,g.currentSquash));const N=l.object3D;if(!N)continue;const C=c?.character?.appearance?.heightOffset||0,B=I?.yOffset||0,S=I?.xOffset||0,T=I?.zOffset||0,D=this.movementManager.updateHover(a,e/1e3,s,f,g.isJumping);let L=0;if(c?.hopStartTime){const le=e-c.hopStartTime,K=Math.min(le/(c.hopDuration||350),1);K<1?L=4*K*(1-K)*(c.hopHeight||.15):(c.hopStartTime=null,c.blobShadow&&B<.05&&c.blobShadow.setJumping(!1))}if(c?.blobShadow&&!c.hopStartTime&&!g.isJumping){const le=B>.05;c.blobShadow.setJumping(le)}let z=u.position[0],V=u.position[1],se=u.position[2];if(c?.spawnTransition?.active){const le=c.spawnTransition,K=(e-le.startTime)/1e3;if(le.progress=Math.min(1,K/le.duration),le.progress>=1)u.position[0]=le.targetPosition[0],u.position[1]=le.targetPosition[1],u.position[2]=le.targetPosition[2],u.targetPosition&&(u.targetPosition[0]=le.targetPosition[0],u.targetPosition[1]=le.targetPosition[1],u.targetPosition[2]=le.targetPosition[2]),le.active=!1,this.logger.log(`Robot ${a} spawn transition complete`);else{u.targetPosition&&(u.targetPosition[0]=le.targetPosition[0],u.targetPosition[1]=le.targetPosition[1],u.targetPosition[2]=le.targetPosition[2]);const oe=le.progress,Te=1-Math.pow(1-oe,3);z=le.startPosition[0]+(le.targetPosition[0]-le.startPosition[0])*Te,se=le.startPosition[2]+(le.targetPosition[2]-le.startPosition[2])*Te;const Ve=le.targetPosition[1]-le.startPosition[1],dt=4*oe*(1-oe)*.15;if(V=le.startPosition[1]+Ve*Te+dt,oe>.8){const Mt=(oe-.8)/.2;g.currentSquash=-.15*Mt}}}N.position.set(z+S+D.offsetX,V+C+B+D.offsetY+L,se+T+D.offsetZ);const q=this.movementManager.computeScale(g.currentSquash,g.baseScale);N.scale.set(q.scaleX,q.scaleY,q.scaleZ);const Ae=f,{smoothedSpeed:pe,acceleration:Ye}=this.movementManager.updateTilt(a,Ae,s);let Me=null;const We=this.interactionManager.getLookTarget(a);if(We&&I?.shouldPause){const le=We.x-u.position[0],K=We.z-u.position[2];Me=Math.atan2(le,K)}else if(this._robotsLookAtEachOther){const le=this._getInterRobotLookTarget(a,u);if(le){const K=le.x-u.position[0],oe=le.z-u.position[2];Me=Math.atan2(K,oe);const Te=c?.faceManager;Te&&(this._tempVec3.set(u.position[0],u.position[1],u.position[2]),Te.lookAtWithBodyOverflow(le,this._tempVec3,y.currentFacing))}}else if(this.lookAtPlayer&&this.world.camera){const le=this.world.camera.position,K=c?.faceManager,oe=le.x-u.position[0],Te=le.z-u.position[2],Ve=Math.atan2(oe,Te);if(K){this._tempVec3.set(u.position[0],u.position[1],u.position[2]);const tt=K.lookAtWithBodyOverflow(le,this._tempVec3,y.currentFacing);Math.abs(tt)>.02&&(Me=y.currentFacing+tt)}else Me=Ve}else{const le=this._getPanicLookTarget(a,u,y.currentFacing);if(le){const K=c?.faceManager;K&&K.lookAtPosition(le,y.currentFacing);let oe=h,Te=Ae;Te<.01&&u.desiredVelocity&&(oe=u.desiredVelocity,Te=u.desiredSpeed||0),Te>.01&&(Me=Math.atan2(oe[0],oe[2]))}else{let K=h,oe=Ae;oe<.01&&u.desiredVelocity&&(K=u.desiredVelocity,oe=u.desiredSpeed||0),oe>.01&&(Me=Math.atan2(K[0],K[2]))}}const ce=c?.character?.physics?.turnSpeedMultiplier??1,{turnRate:j}=this.movementManager.updateFacing(a,Me,s,ce);this.movementManager.updateBank(a,j,pe,s);let O={squash:0,tilt:0},U={tilt:0};this._frameCounter%2===0?(O=this.movementManager.updateAnticipation(a,Ae,j,s*2),U=this.movementManager.updateFollowThrough(a,s*2),c._cachedAnticipation=O,c._cachedFollowThrough=U):(O=c._cachedAnticipation||O,U=c._cachedFollowThrough||U);const $=Ae<.05&&!this.scanManager.isScanning(a),me=this.movementManager.updateIdle(a,$,s),ue=m.currentTilt+O.tilt+U.tilt+me.tilt,Se=m.currentBank+me.bank;let{combinedTilt:we,combinedBank:qe}=this.movementManager.combineTiltBank(g,m,ue,Se,s);we+=D.tiltX,qe+=D.tiltZ;let ve=this.movementManager.blendFacing(g,y,s);const H=this.playerInteractionManager?.getPanicRotationTransition(a,ve)||0;ve+=H;const rt=ve/2;this._quatY.set(0,Math.sin(rt),0,Math.cos(rt));const Ke=I?.xRotation||0,Y=(we+Ke)/2;this._quatX.set(Math.sin(Y),0,0,Math.cos(Y));const lt=I?.zRotation||0,It=(qe+lt)/2;this._quatZ.set(0,0,Math.sin(It),Math.cos(It)),this._quatCombined.copy(this._quatY).multiply(this._quatX).multiply(this._quatZ);const Ft=l.getVectorView($n,"orientation");if(Ft[0]=this._quatCombined.x,Ft[1]=this._quatCombined.y,Ft[2]=this._quatCombined.z,Ft[3]=this._quatCombined.w,Math.abs(O.squash)>.01){const le=this.movementManager.applyAnticipationSquash(O.squash,{scaleX:N.scale.x,scaleY:N.scale.y,scaleZ:N.scale.z});N.scale.set(le.scaleX,le.scaleY,le.scaleZ)}const St=c?.character?.physics?.maxSpeed??1.4;if(this.audioManager.audioEnabled){let le=this.audioManager.getEngine(a);le||(le=this.audioManager.createEngineForRobot(a));const K=g.isJumping;le.setSpeedAndAcceleration(Ae,St,K),le.setPosition(u.position[0],u.position[1],u.position[2])}const os=c?.thrustVFX;if(os&&os.updateFromContext(Ae,St,g,v,u,s),this.audioManager.voiceEnabled){let le=this.audioManager.getVoice(a);if(!le){let oe=c?.character;oe||(oe=this.characterManager.assignCharacter(a),c&&(c.character=oe),this.characterManager.createNameTag(a,oe)),le=this.audioManager.createVoiceForRobot(a,oe)}le.setPosition(u.position[0],u.position[1],u.position[2]);const K=C+B+D.offsetY+L;this.characterManager.updateNameTag(a,u.position,K),this.audioManager.updateChatter(a),c?.faceManager&&le?.isSpeaking?c.faceManager.updateTalkingMouth(s):c?.faceManager?.isTalking()&&c.faceManager.stopTalking()}const ds=c?.faceManager;if(ds){const le=this.scanManager.isScanning(a);if(o){if(!c.faceFlashState&&(c.faceFlashState=mA.createFlashState(this.faceFlashConfig),c.faceFlashState.isFlashing)){const oe=this.faceFlashConfig.emotions[Math.floor(Math.random()*this.faceFlashConfig.emotions.length)];this.setRobotFaceEmotion(a,oe)}ds.updateEmotionFlash(c.faceFlashState,this.faceFlashConfig,le,oe=>this.setRobotFaceEmotion(a,oe))}const K=Math.atan2(2*(this._quatCombined.w*this._quatCombined.y+this._quatCombined.x*this._quatCombined.z),1-2*(this._quatCombined.y*this._quatCombined.y+this._quatCombined.z*this._quatCombined.z));if(ds.updateTurnRate(K,s,pe),ds.updateRotation(s),this._frameCounter%2===0){c.faceLookState||(c.faceLookState=mA.createLookState(this.faceLookConfig));const oe=this.interactionManager.getLookTarget(a);ds.updateLookTarget(c.faceLookState,this.faceLookConfig,le,this.isStationary,oe,y?.currentFacing??0)}}const ms=c?.tieManager;ms&&o&&ms.update(j,pe,Ye,.333);const J=c?.armManager;if(J){const le=J.determineStateFromContext(v,g,pe);if(le===Ht.CHATTING&&v?.partnerId!==null){const K=this.robotEntities.get(v.partnerId),oe=J.calculatePointingAngle(N,K?.object3D);oe!==null&&J.setPointingAngle(oe)}J.setState(le),J.update(s,pe,j,h[0],h[2])}if(ds)if(g.isJumping){const K=this.jumpManager.getJumpState?.(a)?.phase||"none";ds.updateEyesForJump(K,g.jumpProgress||0)}else g.landingTimer>0&&g.landingTimer<.15?ds.updateEyesForJump("landing",1):(ds.updateEyesForMotion(j,pe,s),pe<.1&&Math.random()<.001&&ds.randomEyeVariation());const k=c?.agentHelper;k&&(k.position.set(u.position[0],u.position[1]+.05,u.position[2]),k.renderOrder=1e3);const _e=c?.lastTargetTime??0,Fe=ys.isAgentAtTarget(this.agents,d,u.radius);this.navigationManager.goalPosition&&e-this.lastNavMeshRebuildTime<100&&this.navigationManager.evaluateGoalAccessibility();const Ue=this.stateMachine.getState(a)===$e.SCANNING,Ie=this.scanManager.update(a,l,u,s);Ie&&!Ue?this.stateMachine.setState(a,$e.SCANNING):!Ie&&Ue&&this.stateMachine.onStateComplete(a),this.playerInteractionManager.update(a,l,u,s);const ct=this.stateMachine.isMovementAllowed(a),et=this.interactionManager.shouldPauseMovement(a);if(!ct||et){if(this._wanderingDebugUntil&&performance.now()<this._wanderingDebugUntil){const le=this.stateMachine.getState(a);this.logger.log(`Robot ${a}: SKIPPING movement - movementAllowed=${ct}, pauseMovement=${et}, smState=${le}`)}continue}const At=this.stateMachine.getState(a),_t=this.pim?.getState(a);if(At===$e.PANICKING&&_t?.panicNumber>=4&&e-_e>this.wanderInterval){this.selectRandomWanderTarget(l,d),c&&(c.lastTargetTime=e);continue}if(Fe){this.navigationManager.checkRobotAtGoal(a,u.position);const le=e-_e;if(this._awaitingInterpretation||this._greetingReturnPending){this._wanderingDebugUntil&&performance.now()<this._wanderingDebugUntil&&this.logger.log(`Robot ${a}: SKIPPING nav (isAtTarget) - _awaitingInterpretation=${this._awaitingInterpretation}, _greetingReturnPending=${this._greetingReturnPending}`);continue}if(this._wanderingDebugUntil&&performance.now()<this._wanderingDebugUntil&&this.logger.log(`Robot ${a}: isAtTarget=true, timeSinceTarget=${le.toFixed(0)}, targetInterval=${this.targetInterval}`),le>this.targetInterval){if(this.scanManager.onGoalReached(a,u.position))continue;this.navigationManager.tryGoalOrWander(l,d),c&&(c.lastTargetTime=e)}}else if(!this.isStationary&&!this._awaitingInterpretation){if(this._checkPlayerAvoidance(a,u,d)){c&&(c.lastTargetTime=e);continue}if(this._checkPanicAvoidance(a,u,d)){c&&(c.lastTargetTime=e);continue}const le=this.navigationManager;if(le.goalAccessible&&le.goalNodeRef){const K=Oy(this.navMesh,u.position,le.goalPosition,[2,2,2],vs);K.success&&K.path.length>0&&(ys.requestMoveTarget(this.agents,d,le.goalNodeRef,le.goalPosition),c&&(c.lastTargetTime=e))}else e-_e>this.wanderInterval&&this.useWandering&&(this.selectRandomWanderTarget(l,d),c&&(c.lastTargetTime=e));u.velocity?.[0]===0&&u.velocity?.[1]===0&&u.velocity?.[2]===0&&e-_e>2e3&&(this.navigationManager.tryGoalOrWander(l,d),c&&(c.lastTargetTime=e))}}this.world.vfxManager&&this.world.vfxManager.update(s),this.world.entropodMinigame&&this.world.entropodMinigame.update(s)}}function qY(n=64){const e=document.createElement("canvas");e.width=n,e.height=n;const t=e.getContext("2d"),s=n/2,i=t.createRadialGradient(s,s,0,s,s,s);return i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.2,"rgba(255, 255, 255, 0.8)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.3)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=i,t.fillRect(0,0,n,n),new vn(e)}function gw(n,e,t,s,i){const r=new Qt;r.setAttribute("position",new yt(n,3)),r.setAttribute("color",new yt(e,3));const o=new pi({size:s,map:t,vertexColors:!0,transparent:!0,opacity:i,sizeAttenuation:!0,alphaTest:.01,depthWrite:!1});return{points:new bi(r,o),geometry:r,material:o}}function WY(n,e={}){const{starCount:t=3e3,sparkleCount:s=800,zNear:i=50,zFar:r=4e3,spread:o=200,size:a=2,sparkleSize:l=3,color:c=16777215,opacity:d=.9,speed:u=50}=e,h=new wt("Starfield",!1),f=new st(c),A=new st(16755268),p=new st(4500223),g=new st(16737962);function m(Me){const We=new Float32Array(Me*3),ce=new Float32Array(Me*3);for(let j=0;j<Me;j++){const O=j*3;We[O]=(Math.random()-.5)*o,We[O+1]=(Math.random()-.5)*o,We[O+2]=-r+Math.random()*(r-i);const U=Math.random();let $;U<.15?$=A:U<.3?$=p:U<.4?$=g:$=f;const me=.6+Math.random()*.4;ce[O]=$.r*me,ce[O+1]=$.g*me,ce[O+2]=$.b*me}return{positions:We,colors:ce}}const y=new Tt;y.name="starfield";const _=qY(64),I=m(t);let v=1/0,E=-1/0;for(let Me=0;Me<t;Me++){const We=I.positions[Me*3+2];v=Math.min(v,We),E=Math.max(E,We)}h.log(`Glow layer - particles: ${t}, Z range: ${v.toFixed(1)} to ${E.toFixed(1)}`),h.log(`Sample positions: (${I.positions[0].toFixed(1)}, ${I.positions[1].toFixed(1)}, ${I.positions[2].toFixed(1)}), (${I.positions[3].toFixed(1)}, ${I.positions[4].toFixed(1)}, ${I.positions[5].toFixed(1)})`);const b=gw(I.positions,I.colors,_,a,d);b.points.name="starfield-glow",y.add(b.points);const C=new nr().load("./images/star-particle.png"),B=m(s),S=gw(B.positions,B.colors,C,l,d*.8);S.points.name="starfield-sparkle",y.add(S.points),n.add(y),h.log(`Created - zNear: ${i}, zFar: ${r}, spread: ${o}, speed: ${u}`),h.log(`StarGroup visible: ${y.visible}, children: ${y.children.length}`);const T=Math.sqrt(o*o+o*o)/2;function D(Me,We){const ce=Math.sqrt(Me*Me+We*We),O=1-Math.min(ce/T,1);return .2+O*O*3.8}function L(Me){const We=Me.length/3,ce=new Float32Array(We);for(let j=0;j<We;j++){const O=j*3;ce[j]=D(Me[O],Me[O+1])}return ce}const z=L(I.positions),V=L(B.positions);h.log(`Speed multipliers - min: ${Math.min(...Array.from(z)).toFixed(2)}, max: ${Math.max(...Array.from(z)).toFixed(2)}`);const se={speed:u,disposed:!1,frameCount:0};function q(Me,We,ce){const j=We*3;Me[j]=(Math.random()-.5)*o,Me[j+1]=(Math.random()-.5)*o,Me[j+2]=-r+Math.random()*(r-i),ce[We]=D(Me[j],Me[j+1])}function Ae(Me,We,ce,j){const O=Me.attributes.position.array,U=O.length/3;let $=1/0,me=-1/0,ue=0;for(let Se=0;Se<U;Se++){const we=Se*3,qe=ce[Se],ve=se.speed*qe*We;O[we+2]+=ve,$=Math.min($,O[we+2]),me=Math.max(me,O[we+2]),O[we+2]>0&&(q(O,Se,ce),ue++)}se.frameCount%60===0&&h.log(`${j} - Z range: ${$.toFixed(1)} to ${me.toFixed(1)}, resets: ${ue}, delta: ${We.toFixed(4)}`),Me.attributes.position.needsUpdate=!0}function pe(Me){if(se.disposed)return;const We=Me!==void 0?Me:.016;se.frameCount++,se.frameCount===1&&h.log(`First animate call - speed: ${se.speed}, delta: ${We}`),Ae(b.geometry,We,z,"glow"),Ae(S.geometry,We,V,"sparkle")}function Ye(){se.disposed=!0,n.remove(y),b.geometry.dispose(),b.material.dispose(),S.geometry.dispose(),S.material.dispose()}return{stars:y,animate:pe,dispose:Ye,setSpeed:Me=>{se.speed=Me},setVisible:Me=>{y.visible=Me}}}const XY=`
vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}
vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}

float cnoise(vec3 P){
  vec3 Pi0 = floor(P);
  vec3 Pi1 = Pi0 + vec3(1.0);
  Pi0 = mod(Pi0, 289.0);
  Pi1 = mod(Pi1, 289.0);
  vec3 Pf0 = fract(P);
  vec3 Pf1 = Pf0 - vec3(1.0);
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 / 7.0;
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 / 7.0;
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
  return 2.2 * n_xyz;
}
`,YY=`
varying vec2 vUv;
varying vec3 vPosition;

void main() {
  vUv = uv;
  vPosition = position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,JY=`
${XY}

uniform float uTime;
uniform float uRadius;
uniform float uProgress; // 0 = closed, 1 = fully open
uniform vec3 uPrimaryColor;
uniform vec3 uSecondaryColor;
uniform float uGlowIntensity;
uniform float uScanLineSpeed;

varying vec2 vUv;
varying vec3 vPosition;

#define PI 3.14159265359

void main() {
  vec2 center = vec2(0.5, 0.5);
  vec2 uv = vUv;
  
  // Distance from center (0 at center, 1 at edge)
  float dist = length(uv - center) * 2.0;
  
  // Animated radius based on progress
  float animatedRadius = uProgress;
  
  // Discard pixels outside the animated radius
  if (dist > animatedRadius) {
    discard;
  }
  
  // Normalized distance within the portal (0 at edge, 1 at center)
  float normDist = 1.0 - (dist / max(animatedRadius, 0.001));
  
  // === CORE DARKNESS ===
  // Deep black/blue core that fades toward center
  float coreDarkness = smoothstep(0.0, 0.6, normDist);
  vec3 coreColor = vec3(0.0, 0.02, 0.05) * coreDarkness;
  
  // === CONCENTRIC SCAN RINGS ===
  // Multiple rings moving inward
  float ringFreq = 12.0;
  float ringSpeed = uScanLineSpeed * 2.0;
  float rings = sin((dist * ringFreq - uTime * ringSpeed) * PI);
  rings = smoothstep(0.3, 1.0, rings);
  
  // Fade rings toward center and edge
  float ringMask = smoothstep(0.0, 0.3, normDist) * smoothstep(1.0, 0.7, normDist);
  rings *= ringMask * 0.6;
  
  // === GRID PATTERN ===
  // Hexagonal-ish tech grid
  float gridScale = 20.0;
  vec2 gridUv = (uv - center) * gridScale;
  
  // Rotate grid over time
  float gridAngle = uTime * 0.1;
  float cs = cos(gridAngle);
  float sn = sin(gridAngle);
  gridUv = vec2(gridUv.x * cs - gridUv.y * sn, gridUv.x * sn + gridUv.y * cs);
  
  // Create grid lines
  vec2 gridLines = abs(fract(gridUv) - 0.5);
  float grid = smoothstep(0.02, 0.05, min(gridLines.x, gridLines.y));
  grid = 1.0 - grid;
  
  // Fade grid toward center
  grid *= smoothstep(0.0, 0.5, normDist) * 0.3;
  
  // === ENERGY SWIRL ===
  // Rotating energy pattern using noise
  float angle = atan(uv.y - 0.5, uv.x - 0.5);
  float swirlSpeed = 1.5;
  float swirlAngle = angle + uTime * swirlSpeed + dist * 3.0;
  
  vec3 noisePos = vec3(cos(swirlAngle) * dist * 2.0, sin(swirlAngle) * dist * 2.0, uTime * 0.5);
  float swirl = cnoise(noisePos * 3.0) * 0.5 + 0.5;
  swirl *= smoothstep(1.0, 0.3, normDist) * 0.4;
  
  // === EDGE GLOW ===
  // Bright edge effect
  float edgeGlow = smoothstep(animatedRadius, animatedRadius - 0.15, dist);
  edgeGlow = 1.0 - edgeGlow;
  edgeGlow = pow(edgeGlow, 2.0) * uGlowIntensity;
  
  // Pulsing edge
  float pulse = sin(uTime * 4.0) * 0.3 + 0.7;
  edgeGlow *= pulse;
  
  // === DATA STREAMS ===
  // Radial lines streaming toward center
  float numStreams = 16.0;
  float streamAngle = fract(angle / (2.0 * PI) * numStreams);
  float stream = smoothstep(0.4, 0.5, streamAngle) * smoothstep(0.6, 0.5, streamAngle);
  
  // Animate streams inward
  float streamMove = fract(dist * 3.0 - uTime * 2.0);
  stream *= smoothstep(0.0, 0.3, streamMove) * smoothstep(1.0, 0.7, streamMove);
  stream *= smoothstep(0.2, 0.6, normDist) * 0.5;
  
  // === COMBINE EFFECTS ===
  vec3 color = coreColor;
  
  // Add grid (primary color)
  color += uPrimaryColor * grid;
  
  // Add rings (mix of colors)
  color += mix(uPrimaryColor, uSecondaryColor, 0.5) * rings;
  
  // Add swirl (secondary color)
  color += uSecondaryColor * swirl;
  
  // Add data streams (primary color)
  color += uPrimaryColor * stream;
  
  // Add edge glow (bright primary)
  color += uPrimaryColor * edgeGlow * 1.5;
  
  // === ALPHA ===
  // Solid in the middle, soft edge
  float alpha = smoothstep(animatedRadius, animatedRadius - 0.1, dist);
  
  // Boost alpha for edge glow
  alpha = max(alpha, edgeGlow * 0.8);
  
  // Apply opening animation
  alpha *= smoothstep(0.0, 0.1, uProgress);
  
  gl_FragColor = vec4(color, alpha);
}
`;class KY{constructor(e={}){this.logger=new wt("PortalVFX",!1),this.config={maxRadius:e.maxRadius||.3,tubeDepth:e.tubeDepth||.4,bevelAmount:e.bevelAmount||1.3,primaryColor:new st(e.primaryColor||65535),secondaryColor:new st(e.secondaryColor||35071),glowIntensity:e.glowIntensity||1.2,scanLineSpeed:e.scanLineSpeed||2,particleCount:e.particleCount||40,particleSpeed:e.particleSpeed||1.5,particleSize:e.particleSize||.015},this.progress=0,this.isActive=!1,this.time=0,this.group=new Tt,this.floorOccluder=null,this.portalBottom=null,this.tubeInner=null,this.tubeWalls=null,this.tubeMask=null,this.particleSystem=null,this.glowRing=null,this.particleAngles=[],this.particleRadii=[],this.particleSpeeds=[],this.particleHeights=[],this._createFloorOccluder(),this._createTube(),this._createPortalBottom(),this._createParticleSystem(),this._createGlowRing(),this.logger.log("PortalVFX created")}_createFloorOccluder(){const t=new Us(4,4),s=new Ds({vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        uniform float uHoleRadius;
        varying vec2 vUv;
        void main() {
          vec2 center = vec2(0.5, 0.5);
          float dist = length(vUv - center) * 4.0; // Scale to match geometry size
          if (dist < uHoleRadius) discard;
          gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
        }
      `,uniforms:{uHoleRadius:{value:.01}}});s.colorWrite=!1,s.depthWrite=!0,this.floorOccluder=new it(t,s),this.floorOccluder.rotation.x=-Math.PI/2,this.floorOccluder.position.y=.001,this.floorOccluder.renderOrder=-900,this.group.add(this.floorOccluder)}_createTube(){const e=this.config.maxRadius*this.config.bevelAmount,t=this.config.maxRadius*.7,s=this.config.tubeDepth,i=24,r=new Zi(e,t,s,i,1,!0),o=new Nt({color:776,side:Ls,transparent:!1,depthWrite:!0});this.tubeInner=new it(r,o),this.tubeInner.position.y=-s/2,this.tubeInner.scale.set(.01,1,.01),this.tubeInner.renderOrder=-890,this.group.add(this.tubeInner);const a=new Zi(e*.99,t*.99,s,i,1,!0),l=new Ds({vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        uniform float uTime;
        uniform float uProgress;
        uniform vec3 uPrimaryColor;
        uniform vec3 uSecondaryColor;
        varying vec2 vUv;

        void main() {
          float rings = sin((vUv.y * 25.0 - uTime * 2.0)) * 0.5 + 0.5;
          rings = smoothstep(0.35, 0.65, rings);

          float streaks = sin(vUv.x * 3.14159 * 10.0 + uTime * 0.3) * 0.5 + 0.5;
          streaks = smoothstep(0.7, 1.0, streaks) * 0.6;

          float pattern = rings * 0.8 + streaks * 0.4;
          vec3 energyColor = mix(uSecondaryColor, uPrimaryColor, vUv.y * 0.7 + pattern * 0.3);

          float bottomFade = smoothstep(0.0, 0.3, vUv.y);
          float topFade = smoothstep(1.0, 0.85, vUv.y);
          float rimGlow = smoothstep(0.8, 1.0, vUv.y) * 1.2;

          float alpha = pattern * 0.7 * bottomFade * topFade * uProgress;
          alpha += rimGlow * uProgress * 0.4;

          gl_FragColor = vec4(energyColor, alpha);
        }
      `,uniforms:{uTime:{value:0},uProgress:{value:0},uPrimaryColor:{value:this.config.primaryColor},uSecondaryColor:{value:this.config.secondaryColor}},transparent:!0,side:Ls,depthWrite:!1,blending:Ts});this.tubeWalls=new it(a,l),this.tubeWalls.position.y=-s/2,this.tubeWalls.scale.set(.01,1,.01),this.tubeWalls.renderOrder=-880,this.group.add(this.tubeWalls);const c=new Zi(e*1.02,t*1.02,s,i,1,!0),d=new Nt({colorWrite:!1,depthWrite:!1,side:Ls,stencilWrite:!0,stencilRef:1,stencilFunc:519,stencilZPass:7681});this.tubeMask=new it(c,d),this.tubeMask.position.y=-s/2,this.tubeMask.scale.set(.01,1,.01),this.tubeMask.renderOrder=-895,this.group.add(this.tubeMask)}_updateTubeGeometry(){const e=Math.max(.01,this.progress);this.tubeInner&&this.tubeInner.scale.set(e,1,e),this.tubeWalls&&this.tubeWalls.scale.set(e,1,e),this.tubeMask&&this.tubeMask.scale.set(e,1,e)}_createPortalBottom(){const e=new Us(1,1,1,1),t=new Ds({vertexShader:YY,fragmentShader:JY,uniforms:{uTime:{value:0},uRadius:{value:this.config.maxRadius},uProgress:{value:0},uPrimaryColor:{value:this.config.primaryColor},uSecondaryColor:{value:this.config.secondaryColor},uGlowIntensity:{value:this.config.glowIntensity},uScanLineSpeed:{value:this.config.scanLineSpeed}},transparent:!0,side:js,depthWrite:!1});this.portalBottom=new it(e,t),this.portalBottom.rotation.x=-Math.PI/2,this.portalBottom.position.y=-.001,this.portalBottom.scale.set(this.config.maxRadius*2.5,this.config.maxRadius*2.5,1),this.portalBottom.renderOrder=-885,this.group.add(this.portalBottom)}_createParticleSystem(){const e=this.config.particleCount,t=new Float32Array(e*3),s=new Float32Array(e*3),i=new Float32Array(e);this.particleAngles=new Float32Array(e),this.particleRadii=new Float32Array(e),this.particleSpeeds=new Float32Array(e),this.particleHeights=new Float32Array(e);const r=this.config.primaryColor,o=this.config.secondaryColor;for(let u=0;u<e;u++){this.particleAngles[u]=Math.random()*Math.PI*2,this.particleRadii[u]=.9+Math.random()*.15,this.particleSpeeds[u]=.5+Math.random()*1,this.particleHeights[u]=-Math.random()*this.config.tubeDepth*.7,t[u*3]=0,t[u*3+1]=0,t[u*3+2]=0;const h=Math.random();s[u*3]=r.r*(1-h)+o.r*h,s[u*3+1]=r.g*(1-h)+o.g*h,s[u*3+2]=r.b*(1-h)+o.b*h,i[u]=this.config.particleSize*(.5+Math.random()*1)}const a=new Qt;a.setAttribute("position",new yt(t,3)),a.setAttribute("color",new yt(s,3)),a.setAttribute("size",new yt(i,1));const c=new nr().load("./images/star-particle.png"),d=new pi({size:this.config.particleSize,map:c,vertexColors:!0,transparent:!0,opacity:.8,blending:Ts,depthWrite:!1,sizeAttenuation:!0});this.particleSystem=new bi(a,d),this.particleSystem.renderOrder=-870,this.group.add(this.particleSystem)}_createGlowRing(){const e=new Us(1.4,1.4),t=new Ds({vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        uniform float uProgress;
        uniform vec3 uColor;
        uniform float uTime;
        uniform float uBevelAmount;
        varying vec2 vUv;

        void main() {
          vec2 center = vec2(0.5, 0.5);
          float dist = length(vUv - center) * 2.0;

          if (dist > 1.0) discard;

          // Account for bevel - glow follows the larger top opening
          float ringRadius = uProgress * uBevelAmount;
          float innerRadius = ringRadius * 0.85;
          float outerRadius = ringRadius * 1.05;

          float ringInner = smoothstep(innerRadius - 0.1, innerRadius + 0.02, dist);
          float ringOuter = smoothstep(outerRadius + 0.12, outerRadius - 0.02, dist);
          float ring = ringInner * ringOuter;

          float pulse = sin(uTime * 3.0) * 0.15 + 0.85;
          ring *= pulse;

          float angle = atan(vUv.y - 0.5, vUv.x - 0.5);
          float highlight = sin(angle * 6.0 + uTime * 2.5) * 0.2 + 0.8;
          ring *= highlight;

          float glow = smoothstep(outerRadius + 0.25, outerRadius, dist) *
                       smoothstep(innerRadius - 0.15, innerRadius + 0.05, dist);
          glow *= 0.35 * (1.0 - dist * 0.4);

          float alpha = (ring * 0.7 + glow) * smoothstep(0.0, 0.3, uProgress);
          alpha *= smoothstep(1.0, 0.85, dist);

          vec3 color = uColor * (1.0 + ring * 0.3);
          gl_FragColor = vec4(color, alpha);
        }
      `,uniforms:{uProgress:{value:0},uColor:{value:this.config.primaryColor},uTime:{value:0},uBevelAmount:{value:this.config.bevelAmount}},transparent:!0,side:js,depthWrite:!1,blending:Ts});this.glowRing=new it(e,t),this.glowRing.rotation.x=-Math.PI/2,this.glowRing.position.y=.003,this.glowRing.scale.set(this.config.maxRadius*2.8,this.config.maxRadius*2.8,1),this.glowRing.renderOrder=-875,this.group.add(this.glowRing)}setPosition(e){this.group.position.copy(e)}setQuaternion(e){this.group.quaternion.copy(e)}setProgress(e){this.progress=Math.max(0,Math.min(1,e)),this.portalBottom&&(this.portalBottom.material.uniforms.uProgress.value=this.progress),this.tubeWalls&&(this.tubeWalls.material.uniforms.uProgress.value=this.progress),this.glowRing&&(this.glowRing.material.uniforms.uProgress.value=this.progress),this.particleSystem&&(this.particleSystem.material.opacity=this.progress*.8),this._updateFloorOccluder(),this._updateTubeGeometry()}_updateFloorOccluder(){if(!this.floorOccluder?.material?.uniforms)return;const e=Math.max(.01,this.config.maxRadius*this.progress*this.config.bevelAmount);this.floorOccluder.material.uniforms.uHoleRadius.value=e}update(e){this.time+=e,this.portalBottom&&(this.portalBottom.material.uniforms.uTime.value=this.time),this.tubeWalls&&(this.tubeWalls.material.uniforms.uTime.value=this.time),this.glowRing&&(this.glowRing.material.uniforms.uTime.value=this.time),this.particleSystem&&this.progress>0&&this._updateParticles(e)}_updateParticles(e){const t=this.particleSystem.geometry.attributes.position.array,s=this.config.particleCount,i=this.config.maxRadius*this.progress*this.config.bevelAmount;for(let r=0;r<s;r++){this.particleAngles[r]+=e*this.particleSpeeds[r]*this.config.particleSpeed,this.particleHeights[r]-=e*.2,this.particleHeights[r]<-this.config.tubeDepth*.8&&(this.particleHeights[r]=.02,this.particleRadii[r]=.95+Math.random()*.1);const o=this.particleAngles[r],a=1+this.particleHeights[r]/this.config.tubeDepth,l=i*this.particleRadii[r]*Math.max(.5,a);t[r*3]=Math.cos(o)*l,t[r*3+1]=this.particleHeights[r],t[r*3+2]=Math.sin(o)*l}this.particleSystem.geometry.attributes.position.needsUpdate=!0}getStencilRef(){return 1}addToScene(e){e.add(this.group)}removeFromScene(e){e.remove(this.group)}dispose(){this.floorOccluder&&(this.floorOccluder.geometry.dispose(),this.floorOccluder.material.dispose()),this.portalBottom&&(this.portalBottom.geometry.dispose(),this.portalBottom.material.dispose()),this.tubeInner&&(this.tubeInner.geometry.dispose(),this.tubeInner.material.dispose()),this.tubeWalls&&(this.tubeWalls.geometry.dispose(),this.tubeWalls.material.dispose()),this.tubeMask&&(this.tubeMask.geometry.dispose(),this.tubeMask.material.dispose()),this.particleSystem&&(this.particleSystem.geometry.dispose(),this.particleSystem.material.dispose(),this.particleSystem.material.map&&this.particleSystem.material.map.dispose()),this.glowRing&&(this.glowRing.geometry.dispose(),this.glowRing.material.dispose()),this.group.clear(),this.logger.log("PortalVFX disposed")}}const jY=.35,Uu=.75,ZY=4,$Y=6,eJ=12,mw=.05,tJ=3;class sJ{constructor(e,t,s,i,r=jY){this.scene=t,this.target=s,this.world=i,this._targetPos=new w,this._shadowTargetPos=new w,this._currentPos=new w,this._opacity=Uu,this._targetOpacity=Uu,this._hasValidPosition=!1,this._isJumping=!1,this._frozenPosition=new w,this.raycaster=new kh,this.raycaster.near=0,this.raycaster.far=tJ,this.raycaster.firstHitOnly=!0,this._rayDir=new w(0,-1,0);const o=document.createElement("canvas");o.width=64,o.height=64;const a=o.getContext("2d"),l=a.createRadialGradient(32,32,0,32,32,32);l.addColorStop(0,`rgba(0, 0, 0, ${Uu*.5})`),l.addColorStop(.4,`rgba(0, 0, 0, ${Uu*.3})`),l.addColorStop(1,"rgba(0, 0, 0, 0)"),a.fillStyle=l,a.fillRect(0,0,64,64);const c=new vn(o),d=new Us(r,r);d.rotateX(-Math.PI/2);const u=new Nt({map:c,transparent:!0,depthWrite:!1});this.mesh=new it(d,u),this.mesh.renderOrder=-1,this.baseScale=1,t.add(this.mesh)}update(e=.016,t=!1,s=null){if(this.target){if(this.target.getWorldPosition(this._targetPos),this._isJumping||this.mesh.position.set(this._targetPos.x,this._targetPos.y-mw,this._targetPos.z),this.mesh.scale.setScalar(this.baseScale),this._opacity!==this._targetOpacity){const i=this._targetOpacity-this._opacity,r=i>0;let o=ZY;this._isJumping||this._targetOpacity===0?o=$Y:r&&(o=eJ);const a=o*e;Math.abs(i)<a?this._opacity=this._targetOpacity:this._opacity+=Math.sign(i)*a,this.mesh.material.opacity=this._opacity}this.mesh.visible=this._opacity>.01}}setJumping(e){this._isJumping=e,this._targetOpacity=e?0:Uu}setLandingPosition(e,t,s){this.mesh.position.set(e,t-mw,s)}setOpacity(e){this._opacity=e,this._targetOpacity=e,this.mesh.material.opacity=e}dispose(){this.mesh.parent&&this.mesh.parent.remove(this.mesh),this.mesh.geometry.dispose(),this.mesh.material.map.dispose(),this.mesh.material.dispose()}}class nJ{constructor(e={}){this.config={particleCount:e.particleCount||24,burstSpeed:e.burstSpeed||2,particleSize:e.particleSize||.025,duration:e.duration||.6,primaryColor:new st(e.primaryColor||65484),secondaryColor:new st(e.secondaryColor||16776960),gravity:e.gravity||-2},this.group=new Tt,this.time=0,this.isComplete=!1,this.onComplete=e.onComplete||null,this.velocities=[],this.positions=null,this._createParticles()}_createParticles(){const e=this.config.particleCount,t=new Float32Array(e*3),s=new Float32Array(e*3),{primaryColor:i,secondaryColor:r,burstSpeed:o,particleSize:a}=this.config;this.velocities=[];for(let h=0;h<e;h++){t[h*3]=0,t[h*3+1]=0,t[h*3+2]=0;const f=Math.random()*Math.PI*2,A=Math.random()*Math.PI*.6,p=o*(.5+Math.random()*.8);this.velocities.push({x:Math.sin(A)*Math.cos(f)*p,y:Math.cos(A)*p*.8+.5,z:Math.sin(A)*Math.sin(f)*p});const g=Math.random();s[h*3]=i.r*(1-g)+r.r*g,s[h*3+1]=i.g*(1-g)+r.g*g,s[h*3+2]=i.b*(1-g)+r.b*g}const l=new Qt;l.setAttribute("position",new yt(t,3)),l.setAttribute("color",new yt(s,3)),this.positions=l.attributes.position.array;const d=new nr().load("./images/star-particle.png"),u=new pi({size:this.config.particleSize,map:d,vertexColors:!0,transparent:!0,opacity:.9,blending:Ts,depthWrite:!1,sizeAttenuation:!0});this.particleSystem=new bi(l,u),this.particleSystem.renderOrder=100,this.group.add(this.particleSystem)}setPosition(e){this.group.position.copy(e)}update(e){if(this.isComplete)return;this.time+=e;const t=this.config.particleCount,s=this.config.gravity;for(let r=0;r<t;r++){const o=this.velocities[r];this.positions[r*3]+=o.x*e,this.positions[r*3+1]+=o.y*e,this.positions[r*3+2]+=o.z*e,o.y+=s*e,o.x*=.98,o.z*=.98}this.particleSystem.geometry.attributes.position.needsUpdate=!0;const i=this.time/this.config.duration;this.particleSystem.material.opacity=.9*Math.max(0,1-i*i),this.time>=this.config.duration&&(this.isComplete=!0,this.onComplete&&this.onComplete())}addToScene(e){e.add(this.group)}removeFromScene(e){e.remove(this.group)}dispose(){this.particleSystem&&(this.particleSystem.geometry.dispose(),this.particleSystem.material.dispose(),this.particleSystem.material.map&&this.particleSystem.material.map.dispose()),this.group.clear()}}class iJ{constructor(e){this.world=e,this.scene=e.scene,this.renderer=e.renderer,this.logger=new wt("VFXManager",!1),this.activeEffects=new Map,this.effectIdCounter=0,this.blobShadows=new Map,this._shadowFrameCounter=0,this._cachedRaycastMeshes=[],this._lastMeshCacheTime=0,e.vfxManager=this,this.logger.log("VFXManager initialized")}createPortal(e={}){const{position:t,quaternion:s,config:i={}}=e,r=new KY({maxRadius:i.maxRadius||.3,primaryColor:i.primaryColor||65535,secondaryColor:i.secondaryColor||35071,glowIntensity:i.glowIntensity||1.2,scanLineSpeed:i.scanLineSpeed||2,particleCount:i.particleCount||60,particleSpeed:i.particleSpeed||1.5,...i});t&&r.setPosition(t),s&&r.setQuaternion(s),r.addToScene(this.scene);const o=`portal_${this.effectIdCounter++}`,a={id:o,vfx:r,setProgress:l=>r.setProgress(l),update:l=>r.update(l),getStencilRef:()=>r.getStencilRef(),dispose:()=>this.disposeEffect(o)};return this.activeEffects.set(o,{type:"portal",vfx:r,handle:a}),this.logger.log(`Portal created: ${o}`),a}createBlobShadow(e={}){const{target:t,size:s}=e;if(!t)return this.logger.warn("createBlobShadow: no target provided"),null;const i=new sJ(this.renderer,this.scene,t,this.world,s),r=`blobShadow_${this.effectIdCounter++}`,o={id:r,vfx:i,target:t,render:a=>i.update(a),setOpacity:a=>i.setOpacity(a),setJumping:a=>i.setJumping(a),setLandingPosition:(a,l,c)=>i.setLandingPosition(a,l,c),dispose:()=>this.disposeEffect(r)};return this.activeEffects.set(r,{type:"blobShadow",vfx:i,handle:o,target:t}),this.blobShadows.set(r,{vfx:i,target:t,handle:o}),this.logger.log(`Blob shadow created: ${r}`),o}createCalmBurst(e,t={}){const s=`calmBurst_${this.effectIdCounter++}`,i=new nJ({...t,onComplete:()=>{this.disposeEffect(s)}});return i.setPosition(e),i.addToScene(this.scene),this.activeEffects.set(s,{type:"calmBurst",vfx:i}),s}disposeEffect(e){const t=this.activeEffects.get(e);t&&(t.type==="blobShadow"||t.vfx.removeFromScene(this.scene),t.vfx.dispose(),this.activeEffects.delete(e),this.blobShadows.delete(e),this.logger.log(`Effect disposed: ${e}`))}update(e){const t=performance.now();if(t-this._lastMeshCacheTime>500){this._lastMeshCacheTime=t;const a=this.world?.navSurfacesSystem;a&&(this._cachedRaycastMeshes=a.getRaycastMeshes(!0))}const i=Array.from(this.blobShadows.values()).length,r=i>0?this._shadowFrameCounter%i:-1;this._shadowFrameCounter++;let o=0;for(const[a,l]of this.activeEffects)if(l.type==="blobShadow"){const c=o===r;l.vfx.update(e,c,this._cachedRaycastMeshes),o++}else l.vfx.update&&l.vfx.update(e)}dispose(){for(const[e,t]of this.activeEffects)t.vfx.removeFromScene(this.scene),t.vfx.dispose();this.activeEffects.clear(),this.blobShadows.clear(),this.logger.log("VFXManager disposed")}}class rJ{constructor(e){this.scene=e,this._time=0,this._placedVisuals=[],this._particleTexture=new nr().load("./images/star-particle.png"),this.reticle=this._createReticle()}_createReticle(){const e=new Tt;e.visible=!1,e.matrixAutoUpdate=!1;const t=new st(65416),s=new st(65484),i=.12,r=new Us(i*3,i*3),o=new Ds({vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        uniform float uTime;
        uniform vec3 uPrimaryColor;
        uniform vec3 uSecondaryColor;
        uniform float uRadius;
        
        varying vec2 vUv;
        
        #define PI 3.14159265359
        
        void main() {
          vec2 center = vec2(0.5, 0.5);
          vec2 uv = vUv;
          float dist = length(uv - center) * 2.0;
          
          if (dist > 1.0) discard;
          
          float normDist = 1.0 - dist;
          
          // === GRID PATTERN ===
          float gridScale = 15.0;
          vec2 gridUv = (uv - center) * gridScale;
          
          float gridAngle = uTime * 0.15;
          float cs = cos(gridAngle);
          float sn = sin(gridAngle);
          gridUv = vec2(gridUv.x * cs - gridUv.y * sn, gridUv.x * sn + gridUv.y * cs);
          
          vec2 gridLines = abs(fract(gridUv) - 0.5);
          float grid = smoothstep(0.02, 0.06, min(gridLines.x, gridLines.y));
          grid = 1.0 - grid;
          grid *= smoothstep(0.0, 0.4, normDist) * 0.5;
          
          // === RADAR SWEEP ===
          float angle = atan(uv.y - 0.5, uv.x - 0.5);
          float sweepAngle = mod(-uTime * 2.5, PI * 2.0);
          float angleDiff = mod(angle - sweepAngle + PI * 2.0, PI * 2.0);
          
          float sweep = smoothstep(PI * 0.5, 0.0, angleDiff);
          sweep *= smoothstep(0.15, 0.3, dist) * smoothstep(1.0, 0.7, dist);
          sweep *= 0.6;
          
          // === CONCENTRIC RINGS ===
          float ringFreq = 8.0;
          float rings = sin((dist * ringFreq - uTime * 1.5) * PI);
          rings = smoothstep(0.5, 1.0, rings);
          rings *= smoothstep(0.0, 0.3, normDist) * smoothstep(1.0, 0.6, normDist) * 0.3;
          
          // === OUTER RING ===
          float outerRing = smoothstep(0.88, 0.92, dist) * smoothstep(1.0, 0.96, dist);
          float pulse = sin(uTime * 3.0) * 0.2 + 0.8;
          outerRing *= pulse;
          
          // === INNER RING ===
          float innerRing = smoothstep(0.28, 0.32, dist) * smoothstep(0.38, 0.34, dist) * 0.6;
          
          // === CENTER DOT ===
          float centerDot = smoothstep(0.12, 0.08, dist);
          centerDot *= 0.9 + sin(uTime * 4.0) * 0.1;
          
          // === COMBINE ===
          vec3 color = vec3(0.0);
          color += uPrimaryColor * grid;
          color += uSecondaryColor * sweep;
          color += mix(uPrimaryColor, uSecondaryColor, 0.5) * rings;
          color += uPrimaryColor * outerRing * 1.2;
          color += uPrimaryColor * innerRing;
          color += uSecondaryColor * centerDot;
          
          float edgeGlow = smoothstep(1.0, 0.85, dist) * smoothstep(0.7, 0.9, dist) * 0.4;
          color += uPrimaryColor * edgeGlow * pulse;
          
          float alpha = grid * 0.8 + sweep * 0.9 + rings * 0.6 + outerRing * 0.9 + innerRing * 0.7 + centerDot + edgeGlow * 0.5;
          alpha = clamp(alpha, 0.0, 1.0);
          alpha *= smoothstep(1.0, 0.95, dist);
          
          gl_FragColor = vec4(color, alpha);
        }
      `,uniforms:{uTime:{value:0},uPrimaryColor:{value:t},uSecondaryColor:{value:s},uRadius:{value:i}},transparent:!0,side:js,depthTest:!1,depthWrite:!1,blending:Ts}),a=new it(r,o);a.rotation.x=-Math.PI/2,a.position.y=.003,a.renderOrder=500,e.add(a);const l=24,c=new Float32Array(l*3),d=new Float32Array(l*3),u=new Float32Array(l),h=new Float32Array(l),f=new Float32Array(l);for(let m=0;m<l;m++){u[m]=Math.random()*Math.PI*2,h[m]=.8+Math.random()*.8,f[m]=.08+Math.random()*.04,c[m*3]=0,c[m*3+1]=.01,c[m*3+2]=0;const y=Math.random();d[m*3]=t.r*(1-y)+s.r*y,d[m*3+1]=t.g*(1-y)+s.g*y,d[m*3+2]=t.b*(1-y)+s.b*y}const A=new Qt;A.setAttribute("position",new yt(c,3)),A.setAttribute("color",new yt(d,3));const p=new pi({size:.012,map:this._particleTexture,vertexColors:!0,transparent:!0,opacity:.7,blending:Ts,depthWrite:!1,depthTest:!1,sizeAttenuation:!0}),g=new bi(A,p);return g.renderOrder=501,e.add(g),e.userData.disc=a,e.userData.particles=g,e.userData.particleAngles=u,e.userData.particleSpeeds=h,e.userData.particleRadii=f,e.userData.primaryColor=t,e.userData.secondaryColor=s,this.scene.add(e),e}setReticleVisible(e){this.reticle&&(this.reticle.visible=e)}setReticleMatrix(e){this.reticle&&this.reticle.matrix.fromArray(e)}setReticleColor(e){const t=this.reticle?.userData?.disc?.material?.uniforms;if(t){t.uPrimaryColor.value.set(e);const i=new st(e),r=new st(Math.min(1,i.r+.2),Math.min(1,i.g+.2),Math.min(1,i.b+.2));t.uSecondaryColor.value.copy(r)}this.reticle?.userData?.primaryColor&&this.reticle.userData.primaryColor.set(e);const s=this.reticle?.userData?.particles;if(s){const i=new st(e),r=new st(Math.min(1,i.r+.2),Math.min(1,i.g+.2),Math.min(1,i.b+.2)),o=s.geometry.attributes.color.array,a=o.length/3;for(let l=0;l<a;l++){const c=l/a;o[l*3]=i.r*(1-c)+r.r*c,o[l*3+1]=i.g*(1-c)+r.g*c,o[l*3+2]=i.b*(1-c)+r.b*c}s.geometry.attributes.color.needsUpdate=!0}}update(e){this._time+=e,this._updateReticleAnimation(e),this._updatePlacedVisuals(e)}_updateReticleAnimation(e){if(!this.reticle?.visible)return;const{disc:t,particles:s,particleAngles:i,particleSpeeds:r,particleRadii:o}=this.reticle.userData;if(t?.material?.uniforms?.uTime&&(t.material.uniforms.uTime.value=this._time),s&&i){const a=s.geometry.attributes.position.array,l=i.length;for(let c=0;c<l;c++){i[c]+=e*r[c];const d=i[c],u=o[c];a[c*3]=Math.cos(d)*u,a[c*3+1]=.008+Math.sin(d*2+this._time*3)*.004,a[c*3+2]=Math.sin(d)*u}s.geometry.attributes.position.needsUpdate=!0}}createPlacedVisual(e){const t=new Tt;t.position.copy(e),t.position.y+=.002;const s=new st(8965375),i=new st(11197951),r=.18,o=new Us(r*3,r*3),a=new Ds({vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,fragmentShader:`
        uniform float uTime;
        uniform float uProgress;
        uniform vec3 uPrimaryColor;
        uniform vec3 uSecondaryColor;
        uniform float uRadius;
        
        varying vec2 vUv;
        
        #define PI 3.14159265359
        
        void main() {
          vec2 center = vec2(0.5, 0.5);
          vec2 uv = vUv;
          float dist = length(uv - center) * 2.0;
          
          if (dist > 1.0) discard;
          
          float normDist = 1.0 - dist;
          
          float gridScale = 15.0;
          vec2 gridUv = (uv - center) * gridScale;
          
          float gridAngle = uTime * 0.15;
          float cs = cos(gridAngle);
          float sn = sin(gridAngle);
          gridUv = vec2(gridUv.x * cs - gridUv.y * sn, gridUv.x * sn + gridUv.y * cs);
          
          vec2 gridLines = abs(fract(gridUv) - 0.5);
          float grid = smoothstep(0.02, 0.06, min(gridLines.x, gridLines.y));
          grid = 1.0 - grid;
          grid *= smoothstep(0.0, 0.4, normDist) * 0.5;
          
          float angle = atan(uv.y - 0.5, uv.x - 0.5);
          float sweepAngle = mod(-uTime * 2.5, PI * 2.0);
          float angleDiff = mod(angle - sweepAngle + PI * 2.0, PI * 2.0);
          
          float sweep = smoothstep(PI * 0.5, 0.0, angleDiff);
          sweep *= smoothstep(0.15, 0.3, dist) * smoothstep(1.0, 0.7, dist);
          sweep *= 0.6;
          
          float ringFreq = 8.0;
          float rings = sin((dist * ringFreq - uTime * 1.5) * PI);
          rings = smoothstep(0.5, 1.0, rings);
          rings *= smoothstep(0.0, 0.3, normDist) * smoothstep(1.0, 0.6, normDist) * 0.3;
          
          float outerRing = smoothstep(0.88, 0.92, dist) * smoothstep(1.0, 0.96, dist);
          float pulse = sin(uTime * 3.0) * 0.2 + 0.8;
          outerRing *= pulse;
          
          float innerRing = smoothstep(0.28, 0.32, dist) * smoothstep(0.38, 0.34, dist) * 0.6;
          
          float centerDot = smoothstep(0.12, 0.08, dist);
          centerDot *= 0.9 + sin(uTime * 4.0) * 0.1;
          
          vec3 color = vec3(0.0);
          color += uPrimaryColor * grid;
          color += uSecondaryColor * sweep;
          color += mix(uPrimaryColor, uSecondaryColor, 0.5) * rings;
          color += uPrimaryColor * outerRing * 1.2;
          color += uPrimaryColor * innerRing;
          color += uSecondaryColor * centerDot;
          
          float edgeGlow = smoothstep(1.0, 0.85, dist) * smoothstep(0.7, 0.9, dist) * 0.4;
          color += uPrimaryColor * edgeGlow * pulse;
          
          float alpha = grid * 0.8 + sweep * 0.9 + rings * 0.6 + outerRing * 0.9 + innerRing * 0.7 + centerDot + edgeGlow * 0.5;
          alpha = clamp(alpha, 0.0, 1.0);
          alpha *= smoothstep(1.0, 0.95, dist);
          alpha *= uProgress;
          
          gl_FragColor = vec4(color, alpha);
        }
      `,uniforms:{uTime:{value:0},uProgress:{value:1},uPrimaryColor:{value:s},uSecondaryColor:{value:i},uRadius:{value:r}},transparent:!0,side:js,depthTest:!1,depthWrite:!1,blending:Ts}),l=new it(o,a);l.rotation.x=-Math.PI/2,l.position.y=.003,l.renderOrder=510,t.add(l);const c=24,d=new Float32Array(c*3),u=new Float32Array(c*3),h=new Float32Array(c),f=new Float32Array(c),A=new Float32Array(c);for(let _=0;_<c;_++){h[_]=Math.random()*Math.PI*2,f[_]=.8+Math.random()*.8,A[_]=.12+Math.random()*.06,d[_*3]=0,d[_*3+1]=.01,d[_*3+2]=0;const I=Math.random();u[_*3]=s.r*(1-I)+i.r*I,u[_*3+1]=s.g*(1-I)+i.g*I,u[_*3+2]=s.b*(1-I)+i.b*I}const p=new Qt;p.setAttribute("position",new yt(d,3)),p.setAttribute("color",new yt(u,3));const g=new pi({size:.012,map:this._particleTexture,vertexColors:!0,transparent:!0,opacity:.7,blending:Ts,depthWrite:!1,depthTest:!1,sizeAttenuation:!0}),m=new bi(p,g);m.renderOrder=501,t.add(m),t.userData.disc=l,t.userData.particles=m,t.userData.particleAngles=h,t.userData.particleSpeeds=f,t.userData.particleRadii=A,this.scene.add(t);const y={group:t,startTime:performance.now()};return this._placedVisuals.push(y),y}_updatePlacedVisuals(e){const t=performance.now();for(let s=this._placedVisuals.length-1;s>=0;s--){const i=this._placedVisuals[s],r=(t-i.startTime)/1e3;let o=1.5;if(i.scalingOut&&(o=i.scaleOutDuration||.5),r>=o){this._disposePlacedVisual(i),this._placedVisuals.splice(s,1);continue}const a=r/o,{disc:l,particles:c,particleAngles:d,particleSpeeds:u,particleRadii:h}=i.group.userData;if(i.scalingOut){const A=1+Math.min(1,a*2)*2;i.group.scale.set(A,A,A)}if(l?.material?.uniforms&&(l.material.uniforms.uTime.value=r,l.material.uniforms.uProgress.value=1-a),c&&d){const f=c.geometry.attributes.position.array,A=d.length;for(let p=0;p<A;p++){d[p]+=e*u[p];const g=d[p],m=h[p];f[p*3]=Math.cos(g)*m,f[p*3+1]=.008+Math.sin(g*2+r*3)*.004,f[p*3+2]=Math.sin(g)*m}c.geometry.attributes.position.needsUpdate=!0,c.material.opacity=(1-a)*.7}}}scaleOutAllPlacedVisuals(){const e=performance.now();for(const t of this._placedVisuals)t.scalingOut||(t.scalingOut=!0,t.startTime=e,t.scaleOutDuration=.5)}disposeAllPlacedVisuals(){for(const e of this._placedVisuals)this._disposePlacedVisual(e);this._placedVisuals=[]}_disposePlacedVisual(e){const{disc:t,particles:s}=e.group.userData;t&&(t.geometry?.dispose(),t.material?.dispose()),s&&(s.geometry?.dispose(),s.material?.dispose()),this.scene.remove(e.group)}dispose(){if(this.reticle){this.scene.remove(this.reticle);const{disc:e,particles:t}=this.reticle.userData||{};e&&(e.geometry?.dispose(),e.material?.dispose()),t&&(t.geometry?.dispose(),t.material?.dispose()),this.reticle=null}this.disposeAllPlacedVisuals(),this._particleTexture&&(this._particleTexture.dispose(),this._particleTexture=null)}}class oJ{constructor(e,t=null){this.world=e,this.xrInput=t,this.logger=new wt("HitTestManager",!1),this.hitTestSources={left:null,right:null,none:null},this.hitTestInitialized=!1,this.xrSession=null,this.lastHitPose={left:null,right:null},this.activeHand=null,this._surfaceValid=!1,this._maxSlopeAngle=15*(Math.PI/180),this._upVector=new w(0,1,0),this._surfaceNormal=new w,this.vfx=new rJ(e.scene),this._validColor=65416,this._invalidColor=6710886,this.onEnvironmentSelect=null,this._uiWasHitThisFrame=!1,this.enabled=!1,this.logger.log("HitTestManager initialized")}setEnabled(e){this.enabled!==e&&(this.enabled=e,e?(this.xrSession&&!this.hitTestInitialized&&this.initializeHitTestSources(this.xrSession),this.xrSession&&this._hasNoHitTestSources()&&this._setupControllerHitTestSources(this.xrSession)):(this.vfx.setReticleVisible(!1),this.vfx.disposeAllPlacedVisuals(),this._cancelAllHitTestSources()),this.logger.log(`HitTestManager enabled: ${e}`))}_hasNoHitTestSources(){return!this.hitTestSources.left&&!this.hitTestSources.right&&!this.hitTestSources.none}_cancelAllHitTestSources(){for(const e of["left","right","none"])if(this.hitTestSources[e]){try{this.hitTestSources[e].cancel?.()}catch{}this.hitTestSources[e]=null}this.hitTestInitialized=!1}setXRInput(e){this.xrInput=e}markUIHit(){this._uiWasHitThisFrame=!0}async initializeHitTestSources(e){this.hitTestInitialized||!e||(this.xrSession=e,e.addEventListener("inputsourceschange",t=>{this._handleInputSourcesChange(t)}),e.inputSources?.length>0&&this._setupControllerHitTestSources(e),this.hitTestInitialized=!0,this.logger.log("Hit test manager initialized, waiting for controller input sources"))}_handleInputSourcesChange(e){if(this.enabled)for(const t of e.added)t.targetRayMode==="tracked-pointer"&&this._setupHitTestForInputSource(t,this.xrSession)}async _setupControllerHitTestSources(e){if(this.enabled)for(const t of e.inputSources)t.targetRayMode==="tracked-pointer"&&await this._setupHitTestForInputSource(t,e)}async _setupHitTestForInputSource(e,t){if(!this.enabled)return;const s=e.handedness;if(this.hitTestSources[s]){try{this.hitTestSources[s].cancel?.()}catch{}this.hitTestSources[s]=null}try{const i=await t.requestHitTestSource({space:e.targetRaySpace,entityTypes:["plane","point"]});this.hitTestSources[s]=i,this.logger.log(`Controller hit test source created for ${s} hand`)}catch(i){this.logger.warn(`Failed to create hit test source for ${s}:`,i)}}update(e,t=.016){if(!e)return;if(Oe.getState().roomSetupRequired===!0){this.vfx.setReticleVisible(!1),this._uiWasHitThisFrame=!1;return}if(!this.enabled){this.vfx.setReticleVisible(!1),this._uiWasHitThisFrame=!1;return}this._updateHitTest(e),this.vfx.update(t),this._handleTriggerInput(),this._uiWasHitThisFrame=!1}_updateHitTest(e){for(const t of["right","left","none"]){const s=this.hitTestSources[t];if(s)try{const i=this.world.renderer?.xr?.getReferenceSpace?.();if(!i)continue;const r=e.getHitTestResults(s);if(r.length>0){const o=r[0].getPose(i);if(o){this.lastHitPose.right=o,this.activeHand=t;const a=o.transform.matrix;this._surfaceNormal.set(a[4],a[5],a[6]).normalize();const l=this._surfaceNormal.dot(this._upVector),c=Math.acos(Math.min(1,Math.abs(l)));this._surfaceValid=c<=this._maxSlopeAngle,this.vfx.setReticleVisible(!0),this.vfx.setReticleMatrix(o.transform.matrix),this.vfx.setReticleColor(this._surfaceValid?this._validColor:this._invalidColor);return}}}catch{this.hitTestSources[t]=null}}this.vfx.setReticleVisible(!1),this.lastHitPose.right=null,this._surfaceValid=!1}_handleTriggerInput(){let e=!1;const s=Oe.getState().inputMode==="hands",i=this.world.renderer?.xr?.getSession?.();let r=!1;if(i?.inputSources){for(const a of i.inputSources)if(a.gamepad?.buttons?.length>=10){r=!0;break}}if(s||r){if(i?.inputSources)for(const a of i.inputSources){if(!a.gamepad)continue;const l=a.gamepad.buttons;if(l.length>=10){const c=l[9],d=c?.pressed||c?.value>.5,u=this._tapWasPressed||!1;if(this._tapWasPressed=d,d&&!u){e=!0;break}}}}else this.xrInput?.gamepads?.right?.getSelectStart?.()&&(e=!0);if(e){if(this._uiWasHitThisFrame){this.logger.log("Select pressed - UI was hit, skipping environment placement");return}if(!this._surfaceValid){this.logger.log("Select pressed - surface too steep, placement blocked");return}if(this.vfx.reticle?.visible&&this.lastHitPose.right){const a=new Je().fromArray(this.lastHitPose.right.transform.matrix),l=new w,c=new Ge,d=new w;a.decompose(l,c,d),this.vfx.createPlacedVisual(l),this.onEnvironmentSelect&&this.onEnvironmentSelect(this.lastHitPose.right)}}}setReticleVisible(e){this.vfx.setReticleVisible(e&&this.lastHitPose.right!==null)}setReticleColor(e){this.vfx.setReticleColor(e)}scaleOutAllPlacedVisuals(){this.vfx.scaleOutAllPlacedVisuals()}get reticle(){return this.vfx.reticle}dispose(){this.vfx.dispose();for(const e of["left","right","none"])this.hitTestSources[e]&&(this.hitTestSources[e].cancel?.(),this.hitTestSources[e]=null);this.xrSession=null,this.logger.log("HitTestManager disposed")}}class aJ{constructor(e){this.world=e,this.logger=new wt("EntropodMinigame",!0),this.isActive=!1,this.group=new Tt,this.group.name="entropod-minigame",this.curve=null,this.pathLine=null,this.pathLength=0,this.sphere=null,this.segments=[],this.segmentCount=6,this.segmentSpacing=.12,this.headRadius=.08,this.distanceTraveled=0,this.speed=1,this.captureCount=0,this.captureGoal=3,this.isEntropyActive=!1,this.entropyStartTime=0,this.nextEntropyTime=0,this.onScoreUpdate=null,this.onMinigameComplete=null,this._firstEntropyPlayed=!1,this.config={margin:.6,minHeight:.8,maxHeight:1.8,numControlPoints:12,pathSegments:100},this._pathVariation={pattern:0,scale:.6,rotation:0,heightAmp:.5,tension:.3,startOffset:0},this.portal=null,this.portalOpenDuration=1,this.portalHoldDuration=3,this.portalCloseDuration=.8,this.vacuumRadius=4,this.vacuumHeight=6,this.captureRadius=.15,this.vacuumStrength=3,this._savedOnEnvironmentSelect=null,this._placementLine=null,this._placementLineParticles=null,this._lineActiveColor=new st(65416),this._lineInactiveColor=new st(4473924),this._lineParticleTexture=null,this._lineTime=0,this._lineExtent=0,this._lineExtentTarget=0,this._lineExtentSpeed=4,e?.scene&&e.scene.add(this.group),this._onStateChange=this._onStateChange.bind(this),Oe.on("state:changed",this._onStateChange),e&&(e.entropodMinigame=this)}_onStateChange(e,t){e.entropodMinigame&&!t.entropodMinigame&&(this._pendingStart=!0,this.logger.log("Entropod minigame requested"))}start(){if(this.isActive)return;const e=this.world?.aiManager?.wristUI;e&&e.switchToHUDCallPanel(),this._bounds=this._getEnvironmentBounds(),this._bounds||this.logger.warn("No environment bounds available - using defaults"),this.captureCount=0,this.isEntropyActive=!1,this._firstEntropyPlayed=!1,this._scheduleNextEntropy(),this._setupScorePanel(),this._setupHitTesting(),this.isActive=!0,this.group.visible=!0,this.logger.log("Entropod minigame started")}_setupHitTesting(){const e=this.world?.hitTestManager;e&&(this._savedOnEnvironmentSelect=e.onEnvironmentSelect,this._savedValidColor=e._validColor,this._savedInvalidColor=e._invalidColor,e.onEnvironmentSelect=t=>{this._onPortalPlacement(t)},e.setEnabled(!0),this._setReticleActive(!1),this._createPlacementLineVFX(),this.logger.log("Hit testing enabled for portal placement"))}_setReticleActive(e){const t=this.world?.hitTestManager;t&&(e?(t._validColor=this._savedValidColor||65416,t._invalidColor=this._savedInvalidColor||6710886):(t._validColor=4473924,t._invalidColor=4473924))}_createPlacementLineVFX(){if(this._placementLine)return;if(!this._lineParticleTexture){const d=document.createElement("canvas");d.width=32,d.height=32;const u=d.getContext("2d"),h=u.createRadialGradient(32/2,32/2,0,32/2,32/2,32/2);h.addColorStop(0,"rgba(255,255,255,1)"),h.addColorStop(.3,"rgba(255,255,255,0.8)"),h.addColorStop(1,"rgba(255,255,255,0)"),u.fillStyle=h,u.fillRect(0,0,32,32),this._lineParticleTexture=new vn(d)}const e=new Qt,t=new Float32Array(6);e.setAttribute("position",new yt(t,3));const s=new To({color:this._lineActiveColor,transparent:!0,opacity:.8,depthTest:!1,depthWrite:!1});this._placementLine=new br(e,s),this._placementLine.renderOrder=500,this._placementLine.visible=!1,this.world.scene.add(this._placementLine);const i=12,r=new Qt,o=new Float32Array(i*3),a=new Float32Array(i*3);r.setAttribute("position",new yt(o,3)),r.setAttribute("color",new yt(a,3));const l=new pi({size:.015,map:this._lineParticleTexture,vertexColors:!0,transparent:!0,opacity:.9,depthTest:!1,depthWrite:!1,blending:2,sizeAttenuation:!0});this._placementLineParticles=new bi(r,l),this._placementLineParticles.renderOrder=501,this._placementLineParticles.visible=!1,this.world.scene.add(this._placementLineParticles)}_updatePlacementLineVFX(e){const t=this.world?.hitTestManager;if(!t||!this._placementLine)return;const s=t.lastHitPose?.right,r=this.world?.xrInputSystem?.getPreferredControllerRay?.();if(!r){this._placementLine.visible=!1,this._placementLineParticles.visible=!1;return}const o=r.position;let a;if(s){const g=new Je().fromArray(s.transform.matrix);a=new w,a.setFromMatrixPosition(g)}else a=o.clone().add(r.direction.clone().multiplyScalar(3));const l=this.isEntropyActive&&!this.portal;this._lineExtentTarget=l?1:0;const c=this._lineExtentTarget-this._lineExtent;Math.abs(c)>.001?this._lineExtent+=c*Math.min(1,this._lineExtentSpeed*e):this._lineExtent=this._lineExtentTarget;const d=new w().lerpVectors(o,a,this._lineExtent),u=this._placementLine.geometry.attributes.position.array;u[0]=o.x,u[1]=o.y,u[2]=o.z,u[3]=d.x,u[4]=d.y,u[5]=d.z,this._placementLine.geometry.attributes.position.needsUpdate=!0;const h=l?this._lineActiveColor:this._lineInactiveColor;this._placementLine.material.color.copy(h),this._placementLine.visible=this._lineExtent>.01,this._lineTime+=e;const f=this._placementLineParticles.geometry.attributes.position.array,A=this._placementLineParticles.geometry.attributes.color.array,p=f.length/3;for(let g=0;g<p;g++){const y=(g/p+this._lineTime*.8)%1*this._lineExtent;f[g*3]=o.x+(a.x-o.x)*y,f[g*3+1]=o.y+(a.y-o.y)*y,f[g*3+2]=o.z+(a.z-o.z)*y,A[g*3]=h.r,A[g*3+1]=h.g,A[g*3+2]=h.b}this._placementLineParticles.geometry.attributes.position.needsUpdate=!0,this._placementLineParticles.geometry.attributes.color.needsUpdate=!0,this._placementLineParticles.visible=this._lineExtent>.01}_disposePlacementLineVFX(){this._placementLine&&(this._placementLine.geometry?.dispose(),this._placementLine.material?.dispose(),this.world.scene?.remove(this._placementLine),this._placementLine=null),this._placementLineParticles&&(this._placementLineParticles.geometry?.dispose(),this._placementLineParticles.material?.dispose(),this.world.scene?.remove(this._placementLineParticles),this._placementLineParticles=null)}_onPortalPlacement(e){if(this.portal){this.logger.log("Portal already active - ignoring placement");return}if(!this.isEntropyActive){this.logger.log("No entropy active - ignoring placement");return}const t=new Je;t.fromArray(e.transform.matrix);const s=new w,i=new Ge,r=new w;t.decompose(s,i,r);const o=s.clone();o.y+=.15,this._spawnPortal(o),this._setReticleActive(!1),this.world?.hitTestManager?.scaleOutAllPlacedVisuals?.()}_spawnPortal(e){const t=this.world.vfxManager?.createPortal({position:e,config:{maxRadius:.4,primaryColor:16711935,secondaryColor:8913151,glowIntensity:1.5,scanLineSpeed:3,particleCount:40,particleSpeed:2}}),s=new tg;s.setPosition(e.x,e.y,e.z),s.startEntrance(),this.portal={handle:t,audio:s,position:e.clone(),phase:"opening",startTime:performance.now(),closeStartTime:0},this.logger.log(`Portal spawned at ${e.x.toFixed(2)}, ${e.y.toFixed(2)}, ${e.z.toFixed(2)}`)}async _setupScorePanel(){const e=this.world?.spatialUIManager;e&&(this.onScoreUpdate=(t,s)=>{e.updateScoreDisplay(t,s),e.scoreUI?.flashCalmed(()=>this.isEntropyActive)},this.onMinigameComplete=()=>{e.hideScorePanel(),this.logger.log("Entropod minigame complete!"),Oe.setState({entropodMinigameCompleted:!0})},await e.showScorePanel(),e.scoreUI?.setMode("entropy"),e.updateScoreDisplay(this.captureCount,this.captureGoal))}_scheduleNextEntropy(){const e=3e3+Math.random()*5e3;this.nextEntropyTime=performance.now()+e}_randomizePathVariation(){const e=this._pathVariation;e.pattern=Math.floor(Math.random()*3),e.scale=.35+Math.random()*.25,e.rotation=Math.random()*Math.PI*2,e.heightAmp=.3+Math.random()*.5,e.tension=.2+Math.random()*.3,e.startOffset=Math.random();const t=["figure-8","oval","trefoil"];this.logger.log(`Path variation: ${t[e.pattern]}, scale=${e.scale.toFixed(2)}, rot=${(e.rotation*180/Math.PI).toFixed(0)}`)}_startEntropy(){if(this.isEntropyActive)return;this.portal&&this._disposePortal(),this._randomizePathVariation(),this._disposePath(),this._bounds?this._createFlightPath(this._bounds):this._createDefaultPath(),this._createSphere(),this.distanceTraveled=this._pathVariation.startOffset*this.pathLength,this.isEntropyActive=!0,this.entropyStartTime=performance.now();for(const t of this.segments)t.visible=!0;this._setReticleActive(!0),this.world?.spatialUIManager?.scoreUI?.setPanicking(()=>this.isEntropyActive),this._firstEntropyPlayed||(this._firstEntropyPlayed=!0,Oe.setState({firstEntropodSpawned:!0})),this.logger.log("Entropy started - place a portal to capture!")}_endEntropy(e){if(this.isEntropyActive){this.isEntropyActive=!1;for(const t of this.segments)t.visible=!1;if(this._setReticleActive(!1),e&&(this.captureCount++,this.logger.log(`Captured! (${this.captureCount}/${this.captureGoal})`),this.onScoreUpdate&&this.onScoreUpdate(this.captureCount,this.captureGoal),this.captureCount>=this.captureGoal)){this._completeMinigame();return}this._scheduleNextEntropy()}}_completeMinigame(){this.logger.log("Minigame complete!"),this._triggerRobotCelebration(),this.onMinigameComplete&&this.onMinigameComplete(),this.stop()}_triggerRobotCelebration(){const e=this.world?.robotSystem;if(!e)return;const s=this.world?.player?.head?.getWorldPosition?.(new w),i=e.robotEntities;if(i){for(const[r]of i){if(s){const a=e.robotStates?.get(r);a&&(a.lookAtTarget=s.clone(),a.lookAtStartTime=performance.now(),a.lookAtDuration=4e3)}e.setRobotFaceEmotion?.(r,"excited");const o=e.audioManager?.getVoice(r);o&&setTimeout(()=>o.happy?.(),Math.random()*300),setTimeout(()=>{e.interactionManager?.triggerSoloAnimation(r,"happyBounce")},200+Math.random()*500)}setTimeout(()=>{for(const[r]of i){e.setRobotFaceEmotion?.(r,"content");const o=e.robotStates?.get(r);o&&(o.lookAtTarget=null)}},4e3)}}stop(){if(!this.isActive)return;this.logger.log("Stopping Entropod minigame"),this.isActive=!1,this.group.visible=!1,this.isEntropyActive=!1,this.world?.spatialUIManager?.scoreUI?.setMode("panic"),this._disposePortal();const t=this.world?.hitTestManager;t&&(t.onEnvironmentSelect=this._savedOnEnvironmentSelect,t._validColor=this._savedValidColor||65416,t._invalidColor=this._savedInvalidColor||6710886,t.setEnabled(!1)),this._disposePlacementLineVFX(),this._disposePath()}_disposePortal(){this.portal&&(this.portal.handle&&this.portal.handle.dispose(),this.portal.audio&&this.portal.audio.stop(),this.portal=null)}_getEnvironmentBounds(){const e=this.world?.navSurfacesSystem;if(!e?.environmentBounds)return null;const t=e.environmentBounds,s=t.min,i=t.max;return this.logger.log(`Environment bounds: (${s.x.toFixed(2)}, ${s.y.toFixed(2)}, ${s.z.toFixed(2)}) to (${i.x.toFixed(2)}, ${i.y.toFixed(2)}, ${i.z.toFixed(2)})`),{min:s,max:i}}_createFlightPath(e){const{min:t,max:s}=e,i=this.config.margin,r=new w((t.x+s.x)/2,0,(t.z+s.z)/2),o=s.x-t.x-i*2,a=s.z-t.z-i*2,l=o/2,c=a/2,d=Math.max(t.y+this.config.minHeight,this.config.minHeight),u=Math.min(s.y-.3,this.config.maxHeight),h=(d+u)/2,f=(u-d)/2;this.logger.log(`Room: ${o.toFixed(1)}x${a.toFixed(1)}m, Y: ${d.toFixed(1)}-${u.toFixed(1)}`);const A=[],p=this.config.numControlPoints,g=this._pathVariation,m=Math.cos(g.rotation),y=Math.sin(g.rotation);for(let _=0;_<p;_++){const v=_/p*Math.PI*2;let E,b;if(g.pattern===0){const D=1+Math.sin(v)*Math.sin(v);E=Math.sin(v)/D,b=Math.sin(v)*Math.cos(v)/D}else if(g.pattern===1)E=Math.cos(v)*.7,b=Math.sin(v);else{const D=.5+.5*Math.cos(3*v);E=D*Math.cos(v),b=D*Math.sin(v)}const N=E*m-b*y,C=E*y+b*m,B=r.x+N*l*g.scale,S=r.z+C*c*g.scale,T=h+Math.sin(v*2)*f*g.heightAmp;A.push(new w(B,Math.max(d,Math.min(u,T)),S))}this.curve=new zl(A,!0,"catmullrom",g.tension),this.pathLength=this.curve.getLength(),this.logger.log(`Flight path: ${this.pathLength.toFixed(1)}m`),this._createPathLine()}_createDefaultPath(){const e=this.world?.player;let t=new w(0,1.2,-2);e?.head&&(e.head.getWorldPosition(t),t.y=1.2,t.z-=2);const s=[],i=1.5,r=8;for(let o=0;o<r;o++){const l=o/r*Math.PI*2,c=t.x+Math.sin(l)*i,d=t.z+Math.cos(l)*i,u=t.y+Math.sin(l*2)*.4;s.push(new w(c,u,d))}this.curve=new zl(s,!0,"catmullrom",.5),this.pathLength=this.curve.getLength(),this.logger.log(`Default path created: ${this.pathLength.toFixed(2)}m`),this._createPathLine()}_createPathLine(){if(!this.curve)return;const e=this.curve.getPoints(this.config.pathSegments),t=new Qt().setFromPoints(e),s=new To({color:16777215,linewidth:2,transparent:!0,opacity:.8});this.pathLine=new br(t,s),this.pathLine.frustumCulled=!1,this.group.add(this.pathLine),this.logger.log("Path visualization created (white line)")}_createSphere(){const e=this.world?.robotSystem?.envMapLoader?.envMap||null,t=new Wl({color:16777215,metalness:1,roughness:0,envMap:e,envMapIntensity:1.5});this.segments=[];for(let i=0;i<this.segmentCount;i++){const r=1-i/this.segmentCount*.6,o=this.headRadius*r,a=new Un(o,16,16),l=new it(a,t.clone());l.frustumCulled=!1,this.group.add(l),this.segments.push(l)}this.sphere=this.segments[0];const s=this.curve.getPointAt(0);for(const i of this.segments)i.position.copy(s);this.distanceTraveled=0}_disposePath(){this.pathLine&&(this.pathLine.geometry?.dispose(),this.pathLine.material?.dispose(),this.group.remove(this.pathLine),this.pathLine=null);for(const e of this.segments)e.geometry?.dispose(),e.material?.dispose(),this.group.remove(e);this.segments=[],this.sphere=null,this.curve=null,this.pathLength=0,this.distanceTraveled=0}getPointAtDistance(e){if(!this.curve||this.pathLength===0)return null;const t=e%this.pathLength/this.pathLength;return this.curve.getPointAt(t)}getTangentAtDistance(e){if(!this.curve||this.pathLength===0)return null;const t=e%this.pathLength/this.pathLength;return this.curve.getTangentAt(t)}update(e){if(this._pendingStart&&!this.isActive){const r=Oe.getState().currentState>=ut.XR_ACTIVE,o=this.world?.navSurfacesSystem?.environmentBounds!=null;r&&o&&(this._pendingStart=!1,this.start())}if(!this.isActive)return;const t=this.world?.hitTestManager;t&&!t.enabled&&(t.setEnabled(!0),this._setReticleActive(this.isEntropyActive&&!this.portal)),this._updatePlacementLineVFX(e);const s=performance.now();if(!this.isEntropyActive&&s>=this.nextEntropyTime&&this._startEntropy(),this._updatePortal(e,s),this.sphere&&this.sphere.visible&&this.curve&&this.pathLength>0){this.distanceTraveled+=this.speed*e;for(let o=0;o<this.segments.length;o++){const a=this.segments[o],c=((this.distanceTraveled-o*this.segmentSpacing)%this.pathLength+this.pathLength)%this.pathLength/this.pathLength,d=this.curve.getPointAt(c);if(this.portal&&this.portal.phase==="open"){const u=new w().subVectors(this.portal.position,a.position),h=Math.sqrt(u.x*u.x+u.z*u.z),f=Math.abs(u.y);if(h<this.vacuumRadius&&f<this.vacuumHeight/2){const A=1-h/this.vacuumRadius,p=1-f/(this.vacuumHeight/2),g=Math.min(A,p),m=g*g,y=new w().lerpVectors(d,this.portal.position,m),_=this.vacuumStrength*(.5+m*2);a.position.lerp(y,Math.min(1,_*e))}else a.position.copy(d)}else a.position.copy(d)}const i=this.distanceTraveled%this.pathLength/this.pathLength,r=this.curve.getTangentAt(i);if(r){new w(0,1,0);const o=this.sphere.position.clone().add(r);this.sphere.lookAt(o)}if(this.portal&&this.portal.phase==="open"&&this.sphere.position.distanceTo(this.portal.position)<this.captureRadius){this._captureEntropod();return}}}_updatePortal(e,t){if(!this.portal)return;const s=(t-this.portal.startTime)/1e3;if(this.portal.handle&&this.portal.handle.update(e),this.portal.phase==="opening"){const i=Math.min(1,s/this.portalOpenDuration),r=this._easeOutBack(i);this.portal.handle&&this.portal.handle.setProgress(r),this.portal.audio&&this.portal.audio.updateEntrance(i,r),i>=1&&(this.portal.phase="open",this.portal.openTime=t,this.logger.log("Portal fully open"))}else if(this.portal.phase==="open")(t-this.portal.openTime)/1e3>=this.portalHoldDuration&&(this.portal.phase="closing",this.portal.closeStartTime=t,this.logger.log("Portal closing"));else if(this.portal.phase==="closing"){const i=(t-this.portal.closeStartTime)/1e3,r=Math.min(1,i/this.portalCloseDuration);this.portal.handle&&this.portal.handle.setProgress(1-this._easeInCubic(r)),r>=1&&(this._disposePortal(),this.isEntropyActive?(this._setReticleActive(!0),this.entropyStartTime=performance.now(),this.logger.log("Portal closed without capture - try again!")):this.logger.log("Portal closed"))}}_captureEntropod(){this.logger.log("Entropod captured by portal!");for(const e of this.segments)e.visible=!1;this.portal&&(this.portal.phase="closing",this.portal.closeStartTime=performance.now()),this._endEntropy(!0)}_easeOutBack(e){return 1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2)}_easeInCubic(e){return e*e*e}dispose(){Oe.off("state:changed",this._onStateChange),this.stop(),this.world?.scene&&this.world.scene.remove(this.group),this.group.clear()}}console.log("[Build] 2025-12-09T17:41:51.086Z");const xw=console.error;let yw=!1;console.error=(...n)=>{if(typeof n[0]=="string"&&n[0].includes("back-facing")){yw||(yw=!0,xw.apply(console,n));return}xw.apply(console,n)};const Rs=new wt("App",!0),lJ=new URLSearchParams(window.location.search),UM=lJ.get("semanticLabels")==="true",cJ=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";pa.enableVoicePanel=!0;pa.enableDebugVisualizer=UM;pa.enableVoiceRecording=!0;Rs.log("Starting platform detection...");const dJ=pI();C8(Oe);if(!dJ.isSupported)throw Rs.log("Unsupported platform detected, showing blocking screen"),new w8,new Error("Unsupported platform - Meta Quest required");Rs.log("Platform supported, continuing initialization...");Oe.setState({currentState:ut.LOADING});const Pd=new b8({onComplete:()=>{Rs.log("Loading complete, transitioning to start screen")}});Pd.registerTask("world");Pd.registerTask("systems");window.loadingScreen=Pd;const uJ={};Rs.log("Creating IWSDK World...");hI.create(document.getElementById("scene-container"),{assets:uJ,xr:{sessionMode:$r.ImmersiveAR,offer:"none",features:{handTracking:!0,anchors:{required:!0},hitTest:!0,planeDetection:{required:!0},meshDetection:{required:!0},layers:!0}},features:{locomotion:!1,grabbing:!0,physics:!0,sceneUnderstanding:!0,camera:!Mh,spatialUI:{kits:[p8,{MicIcon:zG}]}}}).then(async n=>{Rs.log("IWSDK World created"),Oe.setWorld(n);const{camera:e}=n;e.position.set(0,1,.5);const t=n.activeLevel.value;t&&(t.hasComponent(pn)&&t.removeComponent(pn),t.addComponent(pn,{sky:[.008,.012,.03,1],equator:[.02,.02,.04,1],ground:[.005,.005,.01,1],intensity:1}));const s=WY(n.scene);let i=!0,r=performance.now();function o(){if(!i)return;const m=performance.now(),y=(m-r)/1e3;r=m,s.animate(y),requestAnimationFrame(o)}o();function a(m){m&&!i?(i=!0,s.setVisible(!0),r=performance.now(),o(),t&&!t.hasComponent(pn)&&t.addComponent(pn,{sky:[.008,.012,.03,1],equator:[.02,.02,.04,1],ground:[.005,.005,.01,1],intensity:1}),Rs.log("Starfield enabled")):!m&&i&&(i=!1,s.setVisible(!1),t&&t.hasComponent(pn)&&t.removeComponent(pn),Rs.log("Starfield disabled"))}if(Oe.on("state:changed",(m,y)=>{m.currentState===ut.ENTERING_XR?a(!1):m.currentState===ut.XR_PAUSED&&m.xrPauseReason==="blurred"||m.currentState===ut.START_SCREEN&&y.currentState!==ut.LOADING?a(!0):y.currentState===ut.XR_PAUSED&&m.currentState>=ut.XR_ACTIVE&&a(!1)}),Pd.completeTask("world"),Mh)Rs.log("Emulator mode: camera initialization skipped");else{const m=n.createEntity();m.addComponent(Vt,{facing:"back",width:1920,height:1080,frameRate:30}),n.globals.cameraEntity=m,jl.getDevices().then(()=>Rs.log("Cameras ready")).catch(y=>Rs.warn("Camera unavailable:",y))}n.registerSystem(S8).registerSystem(D8).registerSystem(k8).registerSystem(F8),UM&&(n.registerSystem(U8),Rs.log("Semantic labels enabled via URL parameter")),n.registerComponent(Gs).registerSystem(uI,{configData:{showWireFrame:!1}}),n.registerSystem(V6).registerSystem(q6).registerSystem(X6).registerSystem(VY).registerSystem(W6),Rs.log("Systems registered"),new iJ(n),Rs.log("VFXManager initialized"),new aJ(n),Rs.log("EntropodMinigame initialized");let l=!1;const c=()=>{l||n.hitTestManager||(n.hitTestManager=new oJ(n,null),l=!0,h())},d=()=>{if(!n.hitTestManager)return;const m=n.renderer?.xr?.getSession?.();m&&n.hitTestManager.initializeHitTestSources(m)};let u=!1;const h=()=>{if(u)return;const m=n.robotSpawnerSystem,y=n.robotSystem;n.hitTestManager&&m&&(n.hitTestManager.onEnvironmentSelect=_=>{m.spawnAtPose(_)},y&&y.onGoalReached(()=>{m.clearGoal(),Rs.log("Goal reached - marker cleared")}),m.enabled&&n.hitTestManager.setEnabled(!0),u=!0,Rs.log("Robot spawner connected to HitTestManager"))};Oe.on("state:changed",(m,y)=>{m.currentState>=ut.XR_ACTIVE&&y.currentState<ut.XR_ACTIVE&&(c(),m.introPlayed&&(d(),h())),m.introPlayed&&!y.introPlayed&&(d(),h())}),Oe.hasDebugSpawn()&&Rs.log("Debug spawn detected, will be merged when XR starts:",Oe.getDebugSpawnState());let f=null,A=null;const p=async()=>{Rs.log("Initializing start screen and options menu..."),A=new N8({onBack:()=>{Rs.log("Returning from options to start screen"),f&&f.show()}}),await A.initialize(),f=new B8({onStart:()=>{Rs.log("User clicked START, launching XR..."),hJ(n)},onOptions:()=>{Rs.log("Opening options menu..."),A&&A.show()}}),await f.initialize(),window.startScreen=f,window.optionsMenu=A};let g=!1;Oe.on("state:changed",async(m,y)=>{if(m.currentState===ut.START_SCREEN&&!g){g=!0,await p();return}m.currentState===ut.XR_PAUSED&&m.xrPauseReason==="blurred"&&f&&(f.setMode("paused"),f.show()),m.currentState===ut.START_SCREEN&&y.currentState!==ut.START_SCREEN&&y.currentState!==ut.LOADING&&f&&(f.setMode("reenter"),f.show()),y.currentState===ut.XR_PAUSED&&m.currentState>=ut.XR_ACTIVE&&f&&f.hide()}),Pd.completeTask("systems"),window.world=n,cJ&&Rd(async()=>{const{default:m}=await import("./stats.module-BL02l9NC.js");return{default:m}},[]).then(({default:m})=>{Rd(async()=>{const{StatsSystem:_}=await import("./StatsSystem-BksOSHA4.js");return{StatsSystem:_}},[]).then(({StatsSystem:_})=>{n.registerSystem(_)});const y=new m;y.showPanel(0),y.dom.style.cssText="position:fixed;top:0;left:0;z-index:10000;",document.body.appendChild(y.dom),window.stats=y})}).catch(n=>{Rs.error("Failed to create World:",n),Pd.hide()});async function hJ(n){try{Oe.setState({currentState:ut.ENTERING_XR}),Rs.log("Calling world.launchXR()..."),await n.launchXR(),Rs.log("world.launchXR() called successfully")}catch(e){Rs.error("Failed to launch XR:",e),Oe.setState({currentState:ut.START_SCREEN})}}export{Ss as c};
